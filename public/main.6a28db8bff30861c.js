"use strict";var M7=Object.defineProperty,k7=Object.defineProperties,O7=Object.getOwnPropertyDescriptors,LB=Object.getOwnPropertySymbols,R7=Object.prototype.hasOwnProperty,P7=Object.prototype.propertyIsEnumerable,VB=(Xe,we,F)=>we in Xe?M7(Xe,we,{enumerable:!0,configurable:!0,writable:!0,value:F}):Xe[we]=F,BB=(Xe,we)=>{for(var F in we||(we={}))R7.call(we,F)&&VB(Xe,F,we[F]);if(LB)for(var F of LB(we))P7.call(we,F)&&VB(Xe,F,we[F]);return Xe},UB=(Xe,we)=>k7(Xe,O7(we));(self.webpackChunkpranavam=self.webpackChunkpranavam||[]).push([[179],{2011:(Xe,we,F)=>{F.d(we,{Dh:()=>le,GT:()=>_e,cc:()=>ke,hO:()=>$e,on:()=>q,pX:()=>se,xv:()=>pe});var s=F(5e3),ee=F(127),L=F(5813);Xe=F.hmd(Xe);const he=["ngOnDestroy"],se=(Se,Ze,Qe,De={})=>new Proxy(Se,{get:(Ee,Ie)=>Qe.runOutsideAngular(()=>{var ze;if(Se[Ie])return(null===(ze=null==De?void 0:De.spy)||void 0===ze?void 0:ze.get)&&De.spy.get(Ie,Se[Ie]),Se[Ie];if(he.indexOf(Ie)>-1)return()=>{};const Ge=Ze.toPromise().then(G=>{const Ce=G&&G[Ie];return"function"==typeof Ce?Ce.bind(G):Ce&&Ce.then?Ce.then(Y=>Qe.run(()=>Y)):Qe.run(()=>Ce)});return new Proxy(()=>{},{get:(G,Ce)=>Ge[Ce],apply:(G,Ce,Y)=>Ge.then(oe=>{var ne;const ve=oe&&oe(...Y);return(null===(ne=null==De?void 0:De.spy)||void 0===ne?void 0:ne.apply)&&De.spy.apply(Ie,Y,ve),ve})})})}),_e=(Se,Ze)=>{Ze.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(De=>{Object.defineProperty(Se.prototype,De,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,De))})})};class de{constructor(Ze){return Ze}}const le=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function q(Se,Ze,Qe){const Ee="object"==typeof Qe&&Qe||{};Ee.name=Ee.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const ze=ee.Z.apps.filter(Ge=>Ge&&Ge.name===Ee.name)[0]||Ze.runOutsideAngular(()=>ee.Z.initializeApp(Se,Ee));try{JSON.stringify(Se)!==JSON.stringify(ze.options)&&z("error",`${ze.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new de(ze)}const z=(Se,...Ze)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)},ie={provide:de,useFactory:q,deps:[le,s.R0b,[new s.FiY,pe]]};let $e=(()=>{class Se{constructor(Qe){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",s.q4F.full,Qe.toString())}static initializeApp(Qe,De){return{ngModule:Se,providers:[{provide:le,useValue:Qe},{provide:pe,useValue:De}]}}}return Se.\u0275fac=function(Qe){return new(Qe||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[ie]}),Se})();function ke(Se,Ze,Qe,De,Ee){const[,Ie,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Se)||[];if(Ie)return function Ne(Se,Ze){try{return Se.toString()===Ze.toString()}catch(Qe){return Se===Ze}}(Ee,ze)||(ge("error",`${Ze} was already initialized on the ${Qe} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ee,was:ze})),Ie;{const Ge=De();return globalThis.\u0275AngularfireInstanceCache.push([Se,Ge,Ee]),Ge}}const He=!!Xe.hot,ge=(Se,...Ze)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,we,F)=>{F.d(we,{q4:()=>Ei,iC:()=>Mc,HU:()=>Lu,vb:()=>Zp,JM:()=>za});var s=F(5e3),ee=F(5867),L=F(5861),he=F(9681),se=F(2090),_e=F(4859),de=F(1877),le=F(8766);const pe="@firebase/installations",q="0.5.9",ie=`w:${q}`,$e="FIS_v2",Ze=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function De({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ee(S){return{token:S.token,requestStatus:2,expiresIn:oe(S.expiresIn),creationTime:Date.now()}}function Ie(S,x){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(S,x){const U=(yield x.json()).error;return Ze.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ge({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function G(S,{refreshToken:x}){const R=Ge(S);return R.append("Authorization",function ne(S){return`${$e} ${S}`}(x)),R}function Ce(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function oe(S){return Number(S.replace("s","000"))}function ve(S,x){return ce.apply(this,arguments)}function ce(){return(ce=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:R}){const U=De(S),J=Ge(S),ae=x.getImmediate({optional:!0});if(ae){const dt=yield ae.getHeartbeatsHeader();dt&&J.append("x-firebase-client",dt)}const st={method:"POST",headers:J,body:JSON.stringify({fid:R,authVersion:$e,appId:S.appId,sdkVersion:ie})},lt=yield Ce(()=>fetch(U,st));if(lt.ok){const dt=yield lt.json();return{fid:dt.fid||R,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Ee(dt.authToken)}}throw yield Ie("Create Installation",lt)})).apply(this,arguments)}function Fe(S){return new Promise(x=>{setTimeout(x,S)})}const Kt=/^[cdef][\w-]{21}$/;function Ye(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function cn(S){return function ft(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Kt.test(R)?R:""}catch(S){return""}}function Pn(S){return`${S.appName}!${S.appId}`}const dn=new Map;function sn(S,x){const R=Pn(S);zt(R,x),function ls(S,x){const R=function Di(){return!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=S=>{zt(S.data.key,S.data.fid)}),Cr}();R&&R.postMessage({key:S,fid:x}),function Qi(){0===dn.size&&Cr&&(Cr.close(),Cr=null)}()}(R,x)}function zt(S,x){const R=dn.get(S);if(R)for(const U of R)U(x)}let Cr=null;const ur="firebase-installations-store";let Zr=null;function vt(){return Zr||(Zr=(0,le.X3)("firebase-installations-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(ur)}})),Zr}function Er(S,x){return An.apply(this,arguments)}function An(){return(An=(0,L.Z)(function*(S,x){const R=Pn(S),J=(yield vt()).transaction(ur,"readwrite"),ae=J.objectStore(ur),Oe=yield ae.get(R);return yield ae.put(x,R),yield J.done,(!Oe||Oe.fid!==x.fid)&&sn(S,x.fid),x})).apply(this,arguments)}function Nn(S){return co.apply(this,arguments)}function co(){return(co=(0,L.Z)(function*(S){const x=Pn(S),U=(yield vt()).transaction(ur,"readwrite");yield U.objectStore(ur).delete(x),yield U.done})).apply(this,arguments)}function dr(S,x){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(S,x){const R=Pn(S),J=(yield vt()).transaction(ur,"readwrite"),ae=J.objectStore(ur),Oe=yield ae.get(R),st=x(Oe);return void 0===st?yield ae.delete(R):yield ae.put(st,R),yield J.done,st&&(!Oe||Oe.fid!==st.fid)&&sn(S,st.fid),st})).apply(this,arguments)}function Fn(S){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,L.Z)(function*(S){let x;const R=yield dr(S.appConfig,U=>{const J=Vo(U),ae=Yt(S,J);return x=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield x}:{installationEntry:R,registrationPromise:x}})).apply(this,arguments)}function Vo(S){return Bo(S||{fid:Ye(),registrationStatus:0})}function Yt(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ze.create("app-offline"))};const R={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},U=function ut(S,x){return Et.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:U}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Ai(S)}:{installationEntry:x}}function Et(){return(Et=(0,L.Z)(function*(S,x){try{const R=yield ve(S,x);return Er(S.appConfig,R)}catch(R){throw Qe(R)&&409===R.customData.serverCode?yield Nn(S.appConfig):yield Er(S.appConfig,{fid:x.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Ai(S){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,L.Z)(function*(S){let x=yield qt(S.appConfig);for(;1===x.registrationStatus;)yield Fe(100),x=yield qt(S.appConfig);if(0===x.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Fn(S);return U||R}return x})).apply(this,arguments)}function qt(S){return dr(S,x=>{if(!x)throw Ze.create("installation-not-found");return Bo(x)})}function Bo(S){return function Mi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function ki(S,x){return H.apply(this,arguments)}function H(){return(H=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},R){const U=Z(S,R),J=G(S,R),ae=x.getImmediate({optional:!0});if(ae){const dt=yield ae.getHeartbeatsHeader();dt&&J.append("x-firebase-client",dt)}const st={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ie,appId:S.appId}})},lt=yield Ce(()=>fetch(U,st));if(lt.ok)return Ee(yield lt.json());throw yield Ie("Generate Auth Token",lt)})).apply(this,arguments)}function Z(S,{fid:x}){return`${De(S)}/${x}/authTokens:generate`}function W(S){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(S,x=!1){let R;const U=yield dr(S.appConfig,ae=>{if(!Dt(ae))throw Ze.create("not-registered");const Oe=ae.authToken;if(!x&&yn(Oe))return ae;if(1===Oe.requestStatus)return R=$(S,x),ae;{if(!navigator.onLine)throw Ze.create("app-offline");const st=ei(ae);return R=et(S,st),st}});return R?yield R:U.authToken})).apply(this,arguments)}function $(S,x){return te.apply(this,arguments)}function te(){return(te=(0,L.Z)(function*(S,x){let R=yield Pe(S.appConfig);for(;1===R.authToken.requestStatus;)yield Fe(100),R=yield Pe(S.appConfig);const U=R.authToken;return 0===U.requestStatus?W(S,x):U})).apply(this,arguments)}function Pe(S){return dr(S,x=>{if(!Dt(x))throw Ze.create("not-registered");return function Ji(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function et(S,x){return _t.apply(this,arguments)}function _t(){return(_t=(0,L.Z)(function*(S,x){try{const R=yield ki(S,x),U=Object.assign(Object.assign({},x),{authToken:R});return yield Er(S.appConfig,U),R}catch(R){if(!Qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Er(S.appConfig,U)}else yield Nn(S.appConfig);throw R}})).apply(this,arguments)}function Dt(S){return void 0!==S&&2===S.registrationStatus}function yn(S){return 2===S.requestStatus&&!function It(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+36e5}(S)}function ei(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}function ul(){return(ul=(0,L.Z)(function*(S){const x=S,{installationEntry:R,registrationPromise:U}=yield Fn(x);return U?U.catch(console.error):W(x).catch(console.error),R.fid})).apply(this,arguments)}function dl(){return(dl=(0,L.Z)(function*(S,x=!1){const R=S;return yield ti(R),(yield W(R,x)).token})).apply(this,arguments)}function ti(S){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,L.Z)(function*(S){const{registrationPromise:x}=yield Fn(S);x&&(yield x)})).apply(this,arguments)}function Ia(S){return Ze.create("missing-app-config-values",{valueName:S})}const pr="installations",pt=S=>{const x=S.getProvider("app").getImmediate(),R=function yi(S){if(!S||!S.options)throw Ia("App Configuration");if(!S.name)throw Ia("App Name");const x=["projectId","apiKey","appId"];for(const R of x)if(!S.options[R])throw Ia(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:R,heartbeatServiceProvider:(0,he._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},hn=S=>{const x=S.getProvider("app").getImmediate(),R=(0,he._getProvider)(x,pr).getImmediate();return{getId:()=>function Jl(S){return ul.apply(this,arguments)}(R),getToken:J=>function Xl(S){return dl.apply(this,arguments)}(R,J)}};(function fr(){(0,he._registerComponent)(new _e.wA(pr,pt,"PUBLIC")),(0,he._registerComponent)(new _e.wA("installations-internal",hn,"PRIVATE"))})(),(0,he.registerVersion)(pe,q),(0,he.registerVersion)(pe,q,"esm2017");const us="@firebase/remote-config",Ln=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gs{constructor(x,R,U,J){this.client=x,this.storage=R,this.storageCache=U,this.logger=J}isCachedDataFresh(x,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,J=U<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${J}.`),J}fetch(x){var R=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(J&&R.isCachedDataFresh(x.cacheMaxAgeMillis,U))return J;x.eTag=J&&J.eTag;const ae=yield R.client.fetch(x),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Oe),ae})()}}function kd(S=navigator){return S.languages&&S.languages[0]||S.language}class Ri{constructor(x,R,U,J,ae,Oe){this.firebaseInstallations=x,this.sdkVersion=R,this.namespace=U,this.projectId=J,this.apiKey=ae,this.appId=Oe}fetch(x){var R=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},lt={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:R.appId,language_code:kd()},dt={method:"POST",headers:st,body:JSON.stringify(lt)},Vt=fetch(Oe,dt),Tt=new Promise((kr,Xr)=>{x.signal.addEventListener(()=>{const $a=new Error("The operation was aborted.");$a.name="AbortError",Xr($a)})});let ri;try{yield Promise.race([Vt,Tt]),ri=yield Vt}catch(kr){let Xr="fetch-client-network";throw"AbortError"===kr.name&&(Xr="fetch-timeout"),Ln.create(Xr,{originalErrorMessage:kr.message})}let Kn=ri.status;const oa=ri.headers.get("ETag")||void 0;let Gs,mr;if(200===ri.status){let kr;try{kr=yield ri.json()}catch(Xr){throw Ln.create("fetch-client-parse",{originalErrorMessage:Xr.message})}Gs=kr.entries,mr=kr.state}if("INSTANCE_STATE_UNSPECIFIED"===mr?Kn=500:"NO_CHANGE"===mr?Kn=304:("NO_TEMPLATE"===mr||"EMPTY_CONFIG"===mr)&&(Gs={}),304!==Kn&&200!==Kn)throw Ln.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:oa,config:Gs}})()}}class _m{constructor(x,R){this.client=x,this.storage=R}fetch(x){var R=this;return(0,L.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(x,U)})()}attemptFetch(x,{throttleEndTimeMillis:R,backoffCount:U}){var J=this;return(0,L.Z)(function*(){yield function fo(S,x){return new Promise((R,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(R,J);S.addEventListener(()=>{clearTimeout(ae),U(Ln.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,R);try{const ae=yield J.client.fetch(x);return yield J.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Od(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ae))throw ae;const Oe={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Oe),J.attemptFetch(x,Oe)}})()}}class Rd{constructor(x,R,U,J,ae){this.app=x,this._client=R,this._storageCache=U,this._storage=J,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yu(S,x){const R=S.target.error||void 0;return Ln.create(x,{originalErrorMessage:R&&R.message})}const go="app_namespace_store";class bm{constructor(x,R,U,J=function wm(){return new Promise((S,x)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{x(yu(U,"storage-open"))},R.onsuccess=U=>{S(U.target.result)},R.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(R){x(Ln.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=x,this.appName=R,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([go],"readonly").objectStore(go),lt=R.createCompositeKey(x);try{const dt=st.get(lt);dt.onerror=Vt=>{ae(yu(Vt,"storage-get"))},dt.onsuccess=Vt=>{const Tt=Vt.target.result;J(Tt?Tt.value:void 0)}}catch(dt){ae(Ln.create("storage-get",{originalErrorMessage:dt&&dt.message}))}})})()}set(x,R){var U=this;return(0,L.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ae,Oe)=>{const lt=J.transaction([go],"readwrite").objectStore(go),dt=U.createCompositeKey(x);try{const Vt=lt.put({compositeKey:dt,value:R});Vt.onerror=Tt=>{Oe(yu(Tt,"storage-set"))},Vt.onsuccess=()=>{ae()}}catch(Vt){Oe(Ln.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(x){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([go],"readwrite").objectStore(go),lt=R.createCompositeKey(x);try{const dt=st.delete(lt);dt.onerror=Vt=>{ae(yu(Vt,"storage-delete"))},dt.onsuccess=()=>{J()}}catch(dt){ae(Ln.create("storage-delete",{originalErrorMessage:dt&&dt.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Nd{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,L.Z)(function*(){const R=x.storage.getLastFetchStatus(),U=x.storage.getLastSuccessfulFetchTimestampMillis(),J=x.storage.getActiveConfig(),ae=yield R;ae&&(x.lastFetchStatus=ae);const Oe=yield U;Oe&&(x.lastSuccessfulFetchTimestampMillis=Oe);const st=yield J;st&&(x.activeConfig=st)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ic(){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,L.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}!function xa(){(0,he._registerComponent)(new _e.wA("remote-config",function S(x,{instanceIdentifier:R}){const U=x.getProvider("app").getImmediate(),J=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,se.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:ae,apiKey:Oe,appId:st}=U.options;if(!ae)throw Ln.create("registration-project-id");if(!Oe)throw Ln.create("registration-api-key");if(!st)throw Ln.create("registration-app-id");const lt=new bm(st,U.name,R=R||"firebase"),dt=new Nd(lt),Vt=new de.Yd(us);Vt.logLevel=de.in.ERROR;const Tt=new Ri(J,he.SDK_VERSION,R,ae,Oe,st),ri=new _m(Tt,lt),Kn=new gs(ri,lt,dt,Vt),oa=new Rd(U,Kn,dt,lt,Vt);return function gn(S){const x=(0,se.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(oa),oa},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(us,"0.3.8"),(0,he.registerVersion)(us,"0.3.8","esm2017")}();const Ld="/firebase-messaging-sw.js",Pi="/firebase-cloud-messaging-push-scope",jo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Da="google.c.a.c_id",Vd="google.c.a.c_l",Up="google.c.a.ts",Gn="google.c.a.e";var Aa=(()=>{return(S=Aa||(Aa={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Aa;var S})();function er(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bd(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),J=new Uint8Array(U.length);for(let ae=0;ae<U.length;++ae)J[ae]=U.charCodeAt(ae);return J}const Ni="fcm_token_details_db",Sr="fcm_token_object_Store";function vu(S){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Ni))return null;let x=null;return(yield(0,le.X3)(Ni,5,{upgrade:(U=(0,L.Z)(function*(J,ae,Oe,st){var lt;if(ae<2||!J.objectStoreNames.contains(Sr))return;const dt=st.objectStore(Sr),Vt=yield dt.index("fcmSenderId").get(S);if(yield dt.clear(),Vt)if(2===ae){const Tt=Vt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;x={token:Tt.fcmToken,createTime:null!==(lt=Tt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:er(Tt.vapidKey)}}}else if(3===ae){const Tt=Vt;x={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:er(Tt.auth),p256dh:er(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:er(Tt.vapidKey)}}}else if(4===ae){const Tt=Vt;x={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:er(Tt.auth),p256dh:er(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:er(Tt.vapidKey)}}}}),function(ae,Oe,st,lt){return U.apply(this,arguments)})})).close(),yield(0,le.Lj)(Ni),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),wu(x)?x:null;var U}),Ud.apply(this,arguments)}function wu(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const _s="firebase-messaging-store";let Hp=null;function pn(){return Hp||(Hp=(0,le.X3)("firebase-messaging-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(_s)}})),Hp}function gl(S){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(S){const x=vi(S),U=yield(yield pn()).transaction(_s).objectStore(_s).get(x);if(U)return U;{const J=yield vu(S.appConfig.senderId);if(J)return yield an(S,J),J}})).apply(this,arguments)}function an(S,x){return ml.apply(this,arguments)}function ml(){return(ml=(0,L.Z)(function*(S,x){const R=vi(S),J=(yield pn()).transaction(_s,"readwrite");return yield J.objectStore(_s).put(x,R),yield J.done,x})).apply(this,arguments)}function rc(S){return mo.apply(this,arguments)}function mo(){return(mo=(0,L.Z)(function*(S){const x=vi(S),U=(yield pn()).transaction(_s,"readwrite");yield U.objectStore(_s).delete(x),yield U.done})).apply(this,arguments)}function vi({appConfig:S}){return S.appId}const In=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ys(S,x){return wi.apply(this,arguments)}function wi(){return(wi=(0,L.Z)(function*(S,x){const R=yield Oa(S),U=_o(x),J={method:"POST",headers:R,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(vs(S.appConfig),J)).json()}catch(Oe){throw In.create("token-subscribe-failed",{errorInfo:Oe})}if(ae.error)throw In.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw In.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function qo(S,x){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,L.Z)(function*(S,x){const R=yield Oa(S),U=_o(x.subscriptionOptions),J={method:"PATCH",headers:R,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(`${vs(S.appConfig)}/${x.token}`,J)).json()}catch(Oe){throw In.create("token-update-failed",{errorInfo:Oe})}if(ae.error)throw In.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw In.create("token-update-no-token");return ae.token})).apply(this,arguments)}function _l(S,x){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,L.Z)(function*(S,x){const U={method:"DELETE",headers:yield Oa(S)};try{const ae=yield(yield fetch(`${vs(S.appConfig)}/${x}`,U)).json();if(ae.error)throw In.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(J){throw In.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function vs({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Oa(S){return wt.apply(this,arguments)}function wt(){return(wt=(0,L.Z)(function*({appConfig:S,installations:x}){const R=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function _o({p256dh:S,auth:x,endpoint:R,vapidKey:U}){const J={web:{endpoint:R,auth:x,p256dh:S}};return U!==jo&&(J.web.applicationPubKey=U),J}const Eu=6048e5;function yl(S){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,L.Z)(function*(S){const x=yield $o(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:er(x.getKey("auth")),p256dh:er(x.getKey("p256dh"))},U=yield gl(S.firebaseDependencies);if(U){if(ac(U.subscriptionOptions,R))return Date.now()>=U.createTime+Eu?Iu(S,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield _l(S.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Ae(S.firebaseDependencies,R)}return Ae(S.firebaseDependencies,R)})).apply(this,arguments)}function sc(S){return oc.apply(this,arguments)}function oc(){return(oc=(0,L.Z)(function*(S){const x=yield gl(S.firebaseDependencies);x&&(yield _l(S.firebaseDependencies,x.token),yield rc(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Iu(S,x){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,L.Z)(function*(S,x){try{const R=yield qo(S.firebaseDependencies,x),U=Object.assign(Object.assign({},x),{token:R,createTime:Date.now()});return yield an(S.firebaseDependencies,U),R}catch(R){throw yield sc(S),R}})).apply(this,arguments)}function Ae(S,x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,L.Z)(function*(S,x){const U={token:yield ys(S,x),createTime:Date.now(),subscriptionOptions:x};return yield an(S,U),U.token})).apply(this,arguments)}function $o(S,x){return En.apply(this,arguments)}function En(){return(En=(0,L.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bd(x)})})).apply(this,arguments)}function ac(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}function Zo(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function xr(S,x){if(!x.notification)return;S.notification={};const R=x.notification.title;R&&(S.notification.title=R);const U=x.notification.body;U&&(S.notification.body=U);const J=x.notification.image;J&&(S.notification.image=J)}(x,S),function Su(S,x){!x.data||(S.data=x.data)}(x,S),function xu(S,x){if(!x.fcmOptions)return;S.fcmOptions={};const R=x.fcmOptions.link;R&&(S.fcmOptions.link=R);const U=x.fcmOptions.analytics_label;U&&(S.fcmOptions.analyticsLabel=U)}(x,S),x}function Du(S){return"object"==typeof S&&!!S&&Da in S}function Hd(S,x){const R=[];for(let U=0;U<S.length;U++)R.push(S.charAt(U)),U<x.length&&R.push(x.charAt(U));return R.join("")}function Fs(S){return In.create("missing-app-config-values",{valueName:S})}Hd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fi{constructor(x,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Cm(S){if(!S||!S.options)throw Fs("App Configuration Object");if(!S.name)throw Fs("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const U of x)if(!R[U])throw Fs(U);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:J,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Dr(S){return lc.apply(this,arguments)}function lc(){return(lc=(0,L.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ld,{scope:Pi}),S.swRegistration.update().catch(()=>{})}catch(x){throw In.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function yo(S,x){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,L.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield Dr(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function Au(S,x){return cc.apply(this,arguments)}function cc(){return(cc=(0,L.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=jo)})).apply(this,arguments)}function Mu(){return(Mu=(0,L.Z)(function*(S,x){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield Au(S,null==x?void 0:x.vapidKey),yield yo(S,null==x?void 0:x.serviceWorkerRegistration),yl(S)})).apply(this,arguments)}function Pa(S,x,R){return dc.apply(this,arguments)}function dc(){return(dc=(0,L.Z)(function*(S,x,R){const U=hc(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Da],message_name:R[Vd],message_time:R[Up],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hc(S){switch(S){case Aa.NOTIFICATION_CLICKED:return"notification_open";case Aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zd(){return(zd=(0,L.Z)(function*(S,x){const R=x.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===Aa.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Zo(R)):S.onMessageHandler.next(Zo(R)));const U=R.data;Du(U)&&"1"===U[Gn]&&(yield Pa(S,R.messageType,U))})).apply(this,arguments)}const pc="@firebase/messaging",Gd=S=>{const x=new Fi(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function jd(S,x){return zd.apply(this,arguments)}(x,R)),x},Na=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:U=>function uc(S,x){return Mu.apply(this,arguments)}(x,U)}};function fc(){return gr.apply(this,arguments)}function gr(){return(gr=(0,L.Z)(function*(){try{yield(0,se.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qd(){(0,he._registerComponent)(new _e.wA("messaging",Gd,"PUBLIC")),(0,he._registerComponent)(new _e.wA("messaging-internal",Na,"PRIVATE")),(0,he.registerVersion)(pc,"0.9.13"),(0,he.registerVersion)(pc,"0.9.13","esm2017")}();const $d="analytics",Em="firebase_id",Ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yo="https://www.googletagmanager.com/gtag/js",ii=new de.Yd("@firebase/analytics");function Zd(S){return Promise.all(S.map(x=>x.catch(R=>R)))}function Tm(S,x){const R=document.createElement("script");R.src=`${Yo}?l=${S}&id=${x}`,R.async=!0,document.head.appendChild(R)}function Fa(S,x,R,U,J,ae){return gc.apply(this,arguments)}function gc(){return(gc=(0,L.Z)(function*(S,x,R,U,J,ae){const Oe=U[J];try{if(Oe)yield x[Oe];else{const lt=(yield Zd(R)).find(dt=>dt.measurementId===J);lt&&(yield x[lt.appId])}}catch(st){ii.error(st)}S("config",J,ae)})).apply(this,arguments)}function Im(S,x,R,U,J){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,L.Z)(function*(S,x,R,U,J){try{let ae=[];if(J&&J.send_to){let Oe=J.send_to;Array.isArray(Oe)||(Oe=[Oe]);const st=yield Zd(R);for(const lt of Oe){const dt=st.find(Tt=>Tt.measurementId===lt),Vt=dt&&x[dt.appId];if(!Vt){ae=[];break}ae.push(Vt)}}0===ae.length&&(ae=Object.values(x)),yield Promise.all(ae),S("event",U,J||{})}catch(ae){ii.error(ae)}})).apply(this,arguments)}function Wd(){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(Yo))return x;return null}const $n=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),La=new class Bs{constructor(x={},R=1e3){this.throttleMetadata=x,this.intervalMillis=R}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,R){this.throttleMetadata[x]=R}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Zn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Jo(S){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,L.Z)(function*(S){var x;const{appId:R,apiKey:U}=S,J={method:"GET",headers:Zn(U)},ae=Ls.replace("{app-id}",R),Oe=yield fetch(ae,J);if(200!==Oe.status&&304!==Oe.status){let st="";try{const lt=yield Oe.json();(null===(x=lt.error)||void 0===x?void 0:x.message)&&(st=lt.error.message)}catch(lt){}throw $n.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:st})}return Oe.json()})).apply(this,arguments)}function nn(S){return Us.apply(this,arguments)}function Us(){return(Us=(0,L.Z)(function*(S,x=La,R){const{appId:U,apiKey:J,measurementId:ae}=S.options;if(!U)throw $n.create("no-app-id");if(!J){if(ae)return{measurementId:ae,appId:U};throw $n.create("no-api-key")}const Oe=x.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new Ou;return setTimeout((0,L.Z)(function*(){st.abort()}),void 0!==R?R:6e4),Va({appId:U,apiKey:J,measurementId:ae},Oe,st,x)})).apply(this,arguments)}function Va(S,x,R){return ea.apply(this,arguments)}function ea(){return(ea=(0,L.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:R},U,J=La){const{appId:ae,measurementId:Oe}=S;try{yield Kd(U,x)}catch(st){if(Oe)return ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Oe};throw st}try{const st=yield Jo(S);return J.deleteThrottleMetadata(ae),st}catch(st){if(!Gp(st)){if(J.deleteThrottleMetadata(ae),Oe)return ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Oe};throw st}const lt=503===Number(st.customData.httpStatus)?(0,se.$s)(R,J.intervalMillis,30):(0,se.$s)(R,J.intervalMillis),dt={throttleEndTimeMillis:Date.now()+lt,backoffCount:R+1};return J.setThrottleMetadata(ae,dt),ii.debug(`Calling attemptFetch again in ${lt} millis`),Va(S,dt,U,J)}})).apply(this,arguments)}function Kd(S,x){return new Promise((R,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(R,J);S.addEventListener(()=>{clearTimeout(ae),U($n.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Gp(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Ou{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function Ba(){return _c.apply(this,arguments)}function _c(){return(_c=(0,L.Z)(function*(){if(!(0,se.hl)())return ii.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return ii.warn($n.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function Pt(){return(Pt=(0,L.Z)(function*(S,x,R,U,J,ae,Oe){var st;const lt=nn(S);lt.then(Kn=>{R[Kn.measurementId]=Kn.appId,S.options.measurementId&&Kn.measurementId!==S.options.measurementId&&ii.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>ii.error(Kn)),x.push(lt);const dt=Ba().then(Kn=>{if(Kn)return U.getId()}),[Vt,Tt]=yield Promise.all([lt,dt]);Wd()||Tm(ae,Vt.measurementId),J("js",new Date);const ri=null!==(st=null==Oe?void 0:Oe.config)&&void 0!==st?st:{};return ri.origin="firebase",ri.update=!0,null!=Tt&&(ri[Em]=Tt),J("config",Vt.measurementId,ri),Vt.measurementId})).apply(this,arguments)}class bs{constructor(x){this.app=x}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},wl=[];const yc={};let Ru,vo,Ua="dataLayer",vc=!1;function bc(S,x,R){!function wc(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((U,J)=>`(${J+1}) ${U}`).join(" "),R=$n.create("invalid-analytics-context",{errorInfo:x});ii.warn(R.message)}}();const U=S.options.appId;if(!U)throw $n.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw $n.create("no-api-key");ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bi[U])throw $n.create("already-exists",{id:U});if(!vc){!function Qo(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(Ua);const{wrappedGtag:ae,gtagCore:Oe}=function Sm(S,x,R,U,J){let ae=function(...Oe){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ae=window[J]),window[J]=function mc(S,x,R,U){function ae(){return(ae=(0,L.Z)(function*(Oe,st,lt){try{"event"===Oe?yield Im(S,x,R,st,lt):"config"===Oe?yield Fa(S,x,R,U,st,lt):S("set",st)}catch(dt){ii.error(dt)}})).apply(this,arguments)}return function J(Oe,st,lt){return ae.apply(this,arguments)}}(ae,S,x,R),{gtagCore:ae,wrappedGtag:window[J]}}(bi,wl,yc,Ua,"gtag");vo=ae,Ru=Oe,vc=!0}return bi[U]=function ws(S,x,R,U,J,ae,Oe){return Pt.apply(this,arguments)}(S,wl,yc,x,Ru,Ua,R),new bs(S)}function Cc(){return(Cc=(0,L.Z)(function*(S,x,R,U,J){if(J&&J.global)S("event",R,U);else{const ae=yield x;S("event",R,Object.assign(Object.assign({},U),{send_to:ae}))}})).apply(this,arguments)}function ja(){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,L.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}const qp="@firebase/analytics";!function km(){(0,he._registerComponent)(new _e.wA($d,(x,{options:R})=>bc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,he._registerComponent)(new _e.wA("analytics-internal",function S(x){try{const R=x.getProvider($d).getImmediate();return{logEvent:(U,J,ae)=>function Mm(S,x,R,U){S=(0,se.m9)(S),function Cl(S,x,R,U,J){return Cc.apply(this,arguments)}(vo,bi[S.app.options.appId],x,R,U).catch(J=>ii.error(J))}(R,U,J,ae)}}catch(R){throw $n.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,he.registerVersion)(qp,"0.7.9"),(0,he.registerVersion)(qp,"0.7.9","esm2017")}();var Om=F(4408),eh=F(7565);const ta=new class Wn extends eh.v{}(class Sc extends Om.o{constructor(x,R){super(x,R),this.scheduler=x,this.work=R}schedule(x,R=0){return R>0?super.schedule(x,R):(this.delay=R,this.state=x,this.scheduler.flush(this),this)}execute(x,R){return R>0||this.closed?super.execute(x,R):this._execute(x,R)}requestAsyncId(x,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(x,R,U):x.flush(this)}});var Nu=F(4986),Fu=F(8505),Ci=F(9468),Li=F(5363);const Ei=new s.GfV("7.3.0"),na="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",js="__angularfire_symbol__remoteConfigIsSupportedValue",Cs="__angularfire_symbol__remoteConfigIsSupported",ia="__angularfire_symbol__messagingIsSupportedValue",$p="__angularfire_symbol__messagingIsSupported";function za(S,x,R){if(x){if(1===x.length)return x[0];const ae=x.filter(Oe=>Oe.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=ja().then(S=>globalThis[na]=S).catch(()=>globalThis[na]=!1)),globalThis[$p]||(globalThis[$p]=fc().then(S=>globalThis[ia]=S).catch(()=>globalThis[ia]=!1)),globalThis[Cs]||(globalThis[Cs]=ic().then(S=>globalThis[js]=S).catch(()=>globalThis[js]=!1));const Zp=(S,x)=>{const R=x?[x]:(0,ee.C6)(),U=[];return R.forEach(J=>{J.container.getProvider(S).instances.forEach(Oe=>{U.includes(Oe)||U.push(Oe)})}),U};function Es(){}class Wp{constructor(x,R=ta){this.zone=x,this.delegate=R}now(){return this.delegate.now()}schedule(x,R,U){const J=this.zone;return this.delegate.schedule(function(Oe){J.runGuarded(()=>{x.apply(this,[Oe])})},R,U)}}class Dc{constructor(x){this.zone=x,this.task=null}call(x,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),R.pipe((0,Fu.b)({next:U,complete:U,error:U})).subscribe(x).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lu=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Wp(Zone.current)),this.insideAngular=R.run(()=>new Wp(Zone.current,Nu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function zs(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Mc(S){return zs(),function Ts(S){return function(R){return(R=R.lift(new Dc(S.ngZone))).pipe((0,Ci.R)(S.outsideAngular),(0,Li.Q)(S.insideAngular))}}(zs())(S)}},2090:(Xe,we,F)=>{F.d(we,{$s:()=>qt,BH:()=>$e,DV:()=>en,Dv:()=>co,G6:()=>Ge,GJ:()=>sn,L:()=>le,LL:()=>ce,Mn:()=>Ie,Pz:()=>jt,Sg:()=>ke,UG:()=>ge,UI:()=>ls,US:()=>_e,Wj:()=>Fn,Yr:()=>ze,ZB:()=>z,ZR:()=>ve,b$:()=>Qe,cI:()=>Kt,d:()=>De,dS:()=>Vo,eu:()=>Ce,g5:()=>L,gK:()=>dr,gQ:()=>ur,h$:()=>de,hl:()=>G,hu:()=>ee,jU:()=>Se,lb:()=>Tr,m9:()=>ki,ne:()=>Zr,p$:()=>q,pd:()=>lo,r3:()=>Yi,ru:()=>Ze,tV:()=>pe,uI:()=>He,ug:()=>Yt,vZ:()=>Cr,w1:()=>Ee,w9:()=>dn,xO:()=>Qi,xb:()=>zt,z$:()=>Ne,zI:()=>Y,zd:()=>cs});const ee=function(H,Z){if(!H)throw L(Z)},L=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},he=function(H){const Z=[];let W=0;for(let xe=0;xe<H.length;xe++){let $=H.charCodeAt(xe);$<128?Z[W++]=$:$<2048?(Z[W++]=$>>6|192,Z[W++]=63&$|128):55296==(64512&$)&&xe+1<H.length&&56320==(64512&H.charCodeAt(xe+1))?($=65536+((1023&$)<<10)+(1023&H.charCodeAt(++xe)),Z[W++]=$>>18|240,Z[W++]=$>>12&63|128,Z[W++]=$>>6&63|128,Z[W++]=63&$|128):(Z[W++]=$>>12|224,Z[W++]=$>>6&63|128,Z[W++]=63&$|128)}return Z},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,Z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let $=0;$<H.length;$+=3){const te=H[$],Pe=$+1<H.length,et=Pe?H[$+1]:0,_t=$+2<H.length,Dt=_t?H[$+2]:0;let ei=(15&et)<<2|Dt>>6,Ji=63&Dt;_t||(Ji=64,Pe||(ei=64)),xe.push(W[te>>2],W[(3&te)<<4|et>>4],W[ei],W[Ji])}return xe.join("")},encodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(H):this.encodeByteArray(he(H),Z)},decodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(H):function(H){const Z=[];let W=0,xe=0;for(;W<H.length;){const $=H[W++];if($<128)Z[xe++]=String.fromCharCode($);else if($>191&&$<224){const te=H[W++];Z[xe++]=String.fromCharCode((31&$)<<6|63&te)}else if($>239&&$<365){const _t=((7&$)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;Z[xe++]=String.fromCharCode(55296+(_t>>10)),Z[xe++]=String.fromCharCode(56320+(1023&_t))}else{const te=H[W++],Pe=H[W++];Z[xe++]=String.fromCharCode((15&$)<<12|(63&te)<<6|63&Pe)}}return Z.join("")}(this.decodeStringToByteArray(H,Z))},decodeStringToByteArray(H,Z){this.init_();const W=Z?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let $=0;$<H.length;){const te=W[H.charAt($++)],et=$<H.length?W[H.charAt($)]:0;++$;const Dt=$<H.length?W[H.charAt($)]:64;++$;const It=$<H.length?W[H.charAt($)]:64;if(++$,null==te||null==et||null==Dt||null==It)throw Error();xe.push(te<<2|et>>4),64!==Dt&&(xe.push(et<<4&240|Dt>>2),64!==It&&xe.push(Dt<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},de=function(H){const Z=he(H);return _e.encodeByteArray(Z,!0)},le=function(H){return de(H).replace(/\./g,"")},pe=function(H){try{return _e.decodeString(H,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function q(H){return z(void 0,H)}function z(H,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return Z}for(const W in Z)!Z.hasOwnProperty(W)||!ie(W)||(H[W]=z(H[W],Z[W]));return H}function ie(H){return"__proto__"!==H}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,W)=>{this.resolve=Z,this.reject=W})}wrapCallback(Z){return(W,xe)=>{W?this.reject(W):this.resolve(xe),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(W):Z(W,xe))}}}function ke(H,Z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=Z||"demo-project",$=H.iat||0,te=H.sub||H.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:$,exp:$+3600,auth_time:$,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},H);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Pe)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Ne().indexOf("Electron/")>=0}function Ee(){const H=Ne();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ie(){return Ne().indexOf("MSAppHost/")>=0}function ze(){return!1}function Ge(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function Ce(){return new Promise((H,Z)=>{try{let W=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(xe);$.onsuccess=()=>{$.result.close(),W||self.indexedDB.deleteDatabase(xe),H(!0)},$.onupgradeneeded=()=>{W=!1},$.onerror=()=>{var te;Z((null===(te=$.error)||void 0===te?void 0:te.message)||"")}}catch(W){Z(W)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(Z,W,xe){super(W),this.code=Z,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(Z,W,xe){this.service=Z,this.serviceName=W,this.errors=xe}create(Z,...W){const xe=W[0]||{},$=`${this.service}/${Z}`,te=this.errors[Z],Pe=te?function Fe(H,Z){return H.replace(ft,(W,xe)=>{const $=Z[xe];return null!=$?String($):`<${xe}?>`})}(te,xe):"Error";return new ve($,`${this.serviceName}: ${Pe} (${$}).`,xe)}}const ft=/\{\$([^}]+)}/g;function Kt(H){return JSON.parse(H)}function jt(H){return JSON.stringify(H)}const Ye=function(H){let Z={},W={},xe={},$="";try{const te=H.split(".");Z=Kt(pe(te[0])||""),W=Kt(pe(te[1])||""),$=te[2],xe=W.d||{},delete W.d}catch(te){}return{header:Z,claims:W,data:xe,signature:$}},dn=function(H){const W=Ye(H).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},sn=function(H){const Z=Ye(H).claims;return"object"==typeof Z&&!0===Z.admin};function Yi(H,Z){return Object.prototype.hasOwnProperty.call(H,Z)}function en(H,Z){if(Object.prototype.hasOwnProperty.call(H,Z))return H[Z]}function zt(H){for(const Z in H)if(Object.prototype.hasOwnProperty.call(H,Z))return!1;return!0}function ls(H,Z,W){const xe={};for(const $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(xe[$]=Z.call(W,H[$],$,H));return xe}function Cr(H,Z){if(H===Z)return!0;const W=Object.keys(H),xe=Object.keys(Z);for(const $ of W){if(!xe.includes($))return!1;const te=H[$],Pe=Z[$];if(Di(te)&&Di(Pe)){if(!Cr(te,Pe))return!1}else if(te!==Pe)return!1}for(const $ of xe)if(!W.includes($))return!1;return!0}function Di(H){return null!==H&&"object"==typeof H}function Qi(H){const Z=[];for(const[W,xe]of Object.entries(H))Array.isArray(xe)?xe.forEach($=>{Z.push(encodeURIComponent(W)+"="+encodeURIComponent($))}):Z.push(encodeURIComponent(W)+"="+encodeURIComponent(xe));return Z.length?"&"+Z.join("&"):""}function cs(H){const Z={};return H.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[$,te]=xe.split("=");Z[decodeURIComponent($)]=decodeURIComponent(te)}}),Z}function lo(H){const Z=H.indexOf("?");if(!Z)return"";const W=H.indexOf("#",Z);return H.substring(Z,W>0?W:void 0)}class ur{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,W){W||(W=0);const xe=this.W_;if("string"==typeof Z)for(let It=0;It<16;It++)xe[It]=Z.charCodeAt(W)<<24|Z.charCodeAt(W+1)<<16|Z.charCodeAt(W+2)<<8|Z.charCodeAt(W+3),W+=4;else for(let It=0;It<16;It++)xe[It]=Z[W]<<24|Z[W+1]<<16|Z[W+2]<<8|Z[W+3],W+=4;for(let It=16;It<80;It++){const ei=xe[It-3]^xe[It-8]^xe[It-14]^xe[It-16];xe[It]=4294967295&(ei<<1|ei>>>31)}let Dt,yn,$=this.chain_[0],te=this.chain_[1],Pe=this.chain_[2],et=this.chain_[3],_t=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(Dt=et^te&(Pe^et),yn=1518500249):(Dt=te^Pe^et,yn=1859775393):It<60?(Dt=te&Pe|et&(te|Pe),yn=2400959708):(Dt=te^Pe^et,yn=3395469782);const ei=($<<5|$>>>27)+Dt+_t+yn+xe[It]&4294967295;_t=et,et=Pe,Pe=4294967295&(te<<30|te>>>2),te=$,$=ei}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+Pe&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(Z,W){if(null==Z)return;void 0===W&&(W=Z.length);const xe=W-this.blockSize;let $=0;const te=this.buf_;let Pe=this.inbuf_;for(;$<W;){if(0===Pe)for(;$<=xe;)this.compress_(Z,$),$+=this.blockSize;if("string"==typeof Z){for(;$<W;)if(te[Pe]=Z.charCodeAt($),++Pe,++$,Pe===this.blockSize){this.compress_(te),Pe=0;break}}else for(;$<W;)if(te[Pe]=Z[$],++Pe,++$,Pe===this.blockSize){this.compress_(te),Pe=0;break}}this.inbuf_=Pe,this.total_+=W}digest(){const Z=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&W,W/=256;this.compress_(this.buf_);let xe=0;for(let $=0;$<5;$++)for(let te=24;te>=0;te-=8)Z[xe]=this.chain_[$]>>te&255,++xe;return Z}}function Zr(H,Z){const W=new vt(H,Z);return W.subscribe.bind(W)}class vt{constructor(Z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{Z(this)}).catch(xe=>{this.error(xe)})}next(Z){this.forEachObserver(W=>{W.next(Z)})}error(Z){this.forEachObserver(W=>{W.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,W,xe){let $;if(void 0===Z&&void 0===W&&void 0===xe)throw new Error("Missing Observer.");$=function An(H,Z){if("object"!=typeof H||null===H)return!1;for(const W of Z)if(W in H&&"function"==typeof H[W])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:W,complete:xe},void 0===$.next&&($.next=Nn),void 0===$.error&&($.error=Nn),void 0===$.complete&&($.complete=Nn);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Pe){}}),this.observers.push($),te}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,Z)}sendOne(Z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{W(this.observers[Z])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}const co=function(H,Z,W,xe){let $;if(xe<Z?$="at least "+Z:xe>W&&($=0===W?"none":"no more than "+W),$)throw new Error(H+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+$+".")};function dr(H,Z){return`${H} failed: ${Z} argument `}function Fn(H,Z,W,xe){if((!xe||W)&&"function"!=typeof W)throw new Error(dr(H,Z)+"must be a valid function.")}function Tr(H,Z,W,xe){if((!xe||W)&&("object"!=typeof W||null===W))throw new Error(dr(H,Z)+"must be a valid context object.")}const Vo=function(H){const Z=[];let W=0;for(let xe=0;xe<H.length;xe++){let $=H.charCodeAt(xe);if($>=55296&&$<=56319){const te=$-55296;xe++,ee(xe<H.length,"Surrogate pair missing trail surrogate."),$=65536+(te<<10)+(H.charCodeAt(xe)-56320)}$<128?Z[W++]=$:$<2048?(Z[W++]=$>>6|192,Z[W++]=63&$|128):$<65536?(Z[W++]=$>>12|224,Z[W++]=$>>6&63|128,Z[W++]=63&$|128):(Z[W++]=$>>18|240,Z[W++]=$>>12&63|128,Z[W++]=$>>6&63|128,Z[W++]=63&$|128)}return Z},Yt=function(H){let Z=0;for(let W=0;W<H.length;W++){const xe=H.charCodeAt(W);xe<128?Z++:xe<2048?Z+=2:xe>=55296&&xe<=56319?(Z+=4,W++):Z+=3}return Z};function qt(H,Z=1e3,W=2){const xe=Z*Math.pow(W,H),$=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+$)}function ki(H){return H&&H._delegate?H._delegate:H}},5895:(Xe,we,F)=>{var s=F(5e3);let ee=null;function L(){return ee}const de=new s.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(z)}()},providedIn:"platform"}),n})();const q=new s.OlP("Location Initialized");let z=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function $e(){return new z((0,s.LFG)(de))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(n){const t=(0,s.LFG)(de).location;return new Qe((0,s.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ze=new s.OlP("appBaseHref");let Qe=(()=>{class n extends ge{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+He(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+He(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(Ze,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends ge{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+He(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+He(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(Ze,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(Ge(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function ze(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ge(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(e){return new(e||n)(s.LFG(ge),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ie(){return new Ee((0,s.LFG)(ge),(0,s.LFG)(le))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}function Sa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Tn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ho{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ho(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),Ho(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ho(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ho(n,t){n.context.$implicit=t.item}let Ft=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function tc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let wn=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Oi=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),gs=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})(),Gn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const zo="browser";function Ma(n){return"server"===n}let wu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new ka((0,s.LFG)(de),window)}),n})();class ka{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function _s(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=bu(this.window.history)||bu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function bu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pn{}class Go extends class gl extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new Go)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ml(){return an=an||document.querySelector("base"),an?an.getAttribute("href"):null}();return null==e?null:function mo(n){rc=rc||document.createElement("a"),rc.setAttribute("href",n);const t=rc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){an=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Sa(document.cookie,t)}}let rc,an=null;const vi=new s.OlP("TRANSITION_ID"),In=[{provide:s.ip1,useFactory:function Cu(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[vi,de,s.zs3],multi:!0}];class ys{static init(){(0,s.VLi)(new ys)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(f){c=c||f,o--,0==o&&i(c)};r.forEach(function(f){f.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let wi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const qo=new s.OlP("EventManagerPlugins");let Ns=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class _l{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Kr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n extends Kr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Oa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Oa))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Oa(n){L().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_o=/%COMP%/g;function Ra(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ra(n,r,e):(r=r.replace(_o,n),e.push(r))}return e}function Ae(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $o=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new En(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new xr(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Su(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ra(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ns),s.LFG(vs),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class En{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wt[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ae(i)):this.eventManager.addEventListener(t,e,Ae(i))}}class xr extends En{constructor(t,e,i,r){super(t),this.component=i;const o=Ra(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function oc(n){return"_ngcontent-%COMP%".replace(_o,n)}(r+"-"+i.id),this.hostAttr=function Iu(n){return"_nghost-%COMP%".replace(_o,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Su extends En{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ra(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xu=(()=>{class n extends _l{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Du=["alt","control","meta","shift"],Cm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dr=(()=>{class n extends _l{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(Du.forEach(f=>{const y=i.indexOf(f);y>-1&&(i.splice(y,1),c+=f+".")}),c+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(e){let i="",r=function lc(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Fs.hasOwnProperty(t)&&(t=Fs[t]))}return Cm[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Du.forEach(o=>{o!=r&&Fi[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const uc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:zo},{provide:s.g9A,useValue:function yo(){Go.makeCurrent(),ys.init()},multi:!0},{provide:de,useFactory:function Au(){return(0,s.RDi)(document),document},deps:[]}]),Mu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Yr(){return new s.qLn},deps:[]},{provide:qo,useClass:xu,multi:!0,deps:[de,s.R0b,s.Lbi]},{provide:qo,useClass:Dr,multi:!0,deps:[de]},{provide:$o,useClass:$o,deps:[Ns,vs,s.AFp]},{provide:s.FYo,useExisting:$o},{provide:Kr,useExisting:vs},{provide:vs,useClass:vs,deps:[de]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Ns,useClass:Ns,deps:[qo,s.R0b]},{provide:pn,useClass:wi,deps:[]}];let Pa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:vi,useExisting:s.AFp},In]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Mu,imports:[Gn,s.hGG]}),n})();"undefined"!=typeof window&&window;class Wd{}const $n="*";function Ar(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mr(n,t=null){return{type:4,styles:t,timings:n}}function La(n,t=null){return{type:2,steps:n,options:t}}function Zn(n){return{type:6,styles:n,offset:null}}function Jo(n,t,e){return{type:0,name:n,styles:t,options:e}}function nn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Us(n,t=null){return{type:8,animation:n,options:t}}function Va(n=null){return{type:9,options:n}}function ea(n,t=null){return{type:10,animation:n,options:t}}function Kd(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Ou(n){Promise.resolve(null).then(n)}class Ba{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ou(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _c{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Ou(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Pt=!1;function bi(n){return new s.vHH(3e3,Pt)}function Wn(){return"undefined"!=typeof window&&void 0!==window.document}function ta(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qr(n){switch(n.length){case 0:return new Ba;case 1:return n[0];default:return new _c(n)}}function Nu(n,t,e,i,r={},o={}){const c=[],h=[];let f=-1,y=null;if(i.forEach(E=>{const I=E.offset,M=I==f,P=M&&y||{};Object.keys(E).forEach(V=>{let Q=V,ye=E[V];if("offset"!==V)switch(Q=t.normalizePropertyName(Q,c),ye){case"!":ye=r[V];break;case $n:ye=o[V];break;default:ye=t.normalizeStyleValue(V,Q,ye,c)}P[Q]=ye}),M||h.push(P),y=P,f=I}),c.length)throw function Qd(n){return new s.vHH(3502,Pt)}();return h}function Fu(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Ci(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Ci(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Ci(e,"destroy",n)))}}function Ci(n,t,e){const i=e.totalTime,o=Li(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function Li(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Ei(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function na(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Jr=(n,t)=>!1,js=(n,t,e)=>[],Cs=null;function ia(n){const t=n.parentNode||n.host;return t===Cs?null:t}(ta()||"undefined"!=typeof Element)&&(Wn()?(Cs=(()=>document.documentElement)(),Jr=(n,t)=>{for(;t;){if(t===n)return!0;t=ia(t)}return!1}):Jr=(n,t)=>n.contains(t),js=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let ra=null,Vi=!1;function xc(n){ra||(ra=function za(){return"undefined"!=typeof document?document.body:null}()||{},Vi=!!ra.style&&"WebkitAppearance"in ra.style);let t=!0;return ra.style&&!function th(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ra.style,!t&&Vi&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ra.style)),t}const Zp=Jr,Es=js;let Dc=(()=>{class n{validateStyleProperty(e){return xc(e)}matchesElement(e,i){return!1}containsElement(e,i){return Zp(e,i)}getParentElement(e){return ia(e)}query(e,i,r){return Es(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,h=[],f){return new Ba(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Lu=(()=>{class n{}return n.NOOP=new Dc,n})();const Eo="ng-enter",Ga="ng-leave",Mc="ng-trigger",Ts=".ng-trigger",qa="ng-animating",sa=".ng-animating";function S(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:x(parseFloat(t[1]),t[2])}function x(n,t){return"s"===t?1e3*n:n}function R(n,t,e){return n.hasOwnProperty("duration")?n:function U(n,t,e){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(bi()),{duration:0,delay:0,easing:""};r=x(parseFloat(h[1]),h[2]);const f=h[3];null!=f&&(o=x(parseFloat(f),h[4]));const y=h[5];y&&(c=y)}else r=n;if(!e){let h=!1,f=t.length;r<0&&(t.push(function wl(){return new s.vHH(3100,Pt)}()),h=!0),o<0&&(t.push(function yc(){return new s.vHH(3101,Pt)}()),h=!0),h&&t.splice(f,0,bi())}return{duration:r,delay:o,easing:c}}(n,t,e)}function J(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Oe(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else J(n,e);return e}function st(n,t,e){return e?t+":"+e+";":""}function lt(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=st(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=st(0,$a(e),n.style[e]));n.setAttribute("style",t)}function dt(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Xr(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),ta()&&lt(n))}function Vt(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Xr(e);n.style[i]=""}),ta()&&lt(n))}function Tt(n){return Array.isArray(n)?1==n.length?n[0]:La(n):n}const Kn=new RegExp("{{\\s*(.+?)\\s*}}","g");function oa(n){let t=[];if("string"==typeof n){let e;for(;e=Kn.exec(n);)t.push(e[1]);Kn.lastIndex=0}return t}function Gs(n,t,e){const i=n.toString(),r=i.replace(Kn,(o,c)=>{let h=t[c];return t.hasOwnProperty(c)||(e.push(function bl(n){return new s.vHH(3003,Pt)}()),h=""),h.toString()});return r==i?n:r}function mr(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const kr=/-+([a-z0-9])/g;function Xr(n){return n.replace(kr,(...t)=>t[1].toUpperCase())}function $a(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Ru(n){return new s.vHH(3004,Pt)}()}}function Vu(n,t){return window.getComputedStyle(n)[t]}function Nm(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function m0(n,t,e){if(":"==n[0]){const f=function nh(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function bo(n){return new s.vHH(3016,Pt)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Ha(n){return new s.vHH(3015,Pt)}()),t;const r=i[1],o=i[2],c=i[3];t.push(Hu(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(Hu(c,r))}(i,e,t)):e.push(n),e}const ih=new Set(["true","1"]),rh=new Set(["false","0"]);function Hu(n,t){const e=ih.has(n)||rh.has(n),i=ih.has(t)||rh.has(t);return(r,o)=>{let c="*"==n||n==r,h="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?ih.has(n):rh.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?ih.has(t):rh.has(t)),c&&h}}const Pc=new RegExp("s*:selfs*,?","g");function Yp(n,t,e,i){return new _0(n).build(t,e,i)}class _0{constructor(t){this._driver=t}build(t,e,i){const r=new Lm(e);this._resetContextStyleTimingState(r);const o=tr(this,Tt(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function vc(){return new s.vHH(3006,Pt)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const f=h,y=f.name;y.toString().split(/\s*,\s*/).forEach(E=>{f.name=E,o.push(this.visitState(f,e))}),f.name=y}else if(1==h.type){const f=this.visitTransition(h,e);i+=f.queryCount,r+=f.depCount,c.push(f)}else e.errors.push(function Dm(){return new s.vHH(3007,Pt)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{if(ju(h)){const f=h;Object.keys(f).forEach(y=>{oa(f[y]).forEach(E=>{c.hasOwnProperty(E)||o.add(E)})})}}),o.size&&(mr(o.values()),e.errors.push(function wc(n,t){return new s.vHH(3008,Pt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=tr(this,Tt(t.animation),e);return{type:1,matchers:Nm(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Za(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>tr(this,i,e)),options:Za(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const h=tr(this,c,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Za(t.options)}}visitAnimate(t,e){const i=function Bm(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Jp(R(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Jp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=R(e,t);return Jp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Zn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,h=!1;if(!c){h=!0;const y={};i.easing&&(y.easing=i.easing),c=Zn(y)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,e);f.isEmptyStep=h,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==$n?i.push(c):e.errors.push(function bc(n){return new s.vHH(3002,Pt)}()):i.push(c)}):i.push(t.styles);let r=!1,o=null;return i.forEach(c=>{if(ju(c)){const h=c,f=h.easing;if(f&&(o=f,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void e.unsupportedCSSPropertiesFound.add(h);const f=e.collectedStyles[e.currentQuerySelector],y=f[h];let E=!0;y&&(o!=r&&o>=y.startTime&&r<=y.endTime&&(e.errors.push(function Cc(n,t,e,i,r){return new s.vHH(3010,Pt)}()),E=!1),o=y.startTime),E&&(f[h]={startTime:o,endTime:r}),e.options&&function ri(n,t,e){const i=t.params||{},r=oa(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Ua(n){return new s.vHH(3001,Pt)}())})}(c[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Yd(){return new s.vHH(3011,Pt)}()),i;let o=0;const c=[];let h=!1,f=!1,y=0;const E=t.steps.map(je=>{const Je=this._makeStyleAst(je,e);let it=null!=Je.offset?Je.offset:function Vm(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(ju(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(ju(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Je.styles),rt=0;return null!=it&&(o++,rt=Je.offset=it),f=f||rt<0||rt>1,h=h||rt<y,y=rt,c.push(rt),Je});f&&e.errors.push(function wo(){return new s.vHH(3012,Pt)}()),h&&e.errors.push(function Ec(){return new s.vHH(3200,Pt)}());const I=t.steps.length;let M=0;o>0&&o<I?e.errors.push(function El(){return new s.vHH(3202,Pt)}()):0==o&&(M=1/(I-1));const P=I-1,V=e.currentTime,Q=e.currentAnimateTimings,ye=Q.duration;return E.forEach((je,Je)=>{const it=M>0?Je==P?1:M*Je:c[Je],rt=it*ye;e.currentTime=V+Q.delay+rt,Q.duration=rt,this._validateStyleAst(je,e),je.offset=it,i.styles.push(je)}),i}visitReference(t,e){return{type:8,animation:tr(this,Tt(t.animation),e),options:Za(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Za(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Za(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function Nc(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Pc,"")),n=n.replace(/@\*/g,Ts).replace(/@\w+/g,e=>Ts+"-"+e.substr(1)).replace(/:animating/g,sa),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ei(e.collectedStyles,e.currentQuerySelector,{});const h=tr(this,Tt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:Za(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Tc(){return new s.vHH(3013,Pt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:R(t.timings,e.errors,!0);return{type:12,animation:tr(this,Tt(t.animation),e),timings:i,options:null}}}class Lm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ju(n){return!Array.isArray(n)&&"object"==typeof n}function Za(n){return n?(n=J(n)).params&&(n.params=function Qp(n){return n?J(n):null}(n.params)):n={},n}function Jp(n,t,e){return{duration:n,delay:t,easing:e}}function Xp(n,t,e,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class oh{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zu=new RegExp(":enter","g"),y0=new RegExp(":leave","g");function tf(n,t,e,i,r,o={},c={},h,f,y=[]){return(new v0).buildKeyframes(n,t,e,i,r,o,c,h,f,y)}class v0{buildKeyframes(t,e,i,r,o,c,h,f,y,E=[]){y=y||new oh;const I=new Um(t,e,y,r,o,E,[]);I.options=f,I.currentTimeline.setStyles([c],null,I.errors,f),tr(this,i,I);const M=I.timelines.filter(P=>P.containsAnimation());if(Object.keys(h).length){let P;for(let V=M.length-1;V>=0;V--){const Q=M[V];if(Q.element===e){P=Q;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,I.errors,f)}return M.length?M.map(P=>P.buildKeyframes()):[Xp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?S(i.duration):null,h=null!=i.delay?S(i.delay):null;return 0!==c&&t.forEach(f=>{const y=e.appendInstructionToTimeline(f,c,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),tr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Gu);const c=S(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>tr(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?S(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),tr(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return R(e.params?Gs(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(f=>{h.forwardTime((f.offset||0)*o),h.setStyles(f.styles,f.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?S(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gu);let c=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let f=null;h.forEach((y,E)=>{e.currentQueryIndex=E;const I=e.createSubContext(t.options,y);o&&I.delayNextStep(o),y===e.element&&(f=I.currentTimeline),tr(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),h=c*(e.currentQueryTotal-1);let f=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=h-f;break;case"full":f=i.currentStaggerTime}const E=e.currentTimeline;f&&E.delayNextStep(f);const I=E.currentTime;tr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const Gu={};class Um{constructor(t,e,i,r,o,c,h,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Fc(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=S(i.duration)),null!=i.delay&&(r.delay=S(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=Gs(o[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Um(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Gu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new Hm(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(zu,"."+this._enterClassName)).replace(y0,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&c.push(function Hs(n){return new s.vHH(3014,Pt)}()),h}}class Fc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Fc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||$n,this._currentKeyframe[e]=$n}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},c=function wv(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=$n})):Oe(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const f=Gs(c[h],o,i);this._pendingStyles[h]=f,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:$n),this._updateStyle(h,f)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,f)=>{const y=Oe(h,!0);Object.keys(y).forEach(E=>{const I=y[E];"!"==I?t.add(E):I==$n&&e.add(E)}),i||(y.offset=f/this.duration),r.push(y)});const o=t.size?mr(t.values()):[],c=e.size?mr(e.values()):[];if(i){const h=r[0],f=J(h);h.offset=0,f.offset=1,r=[h,f]}return Xp(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class Hm extends Fc{constructor(t,e,i,r,o,c,h=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,h=e/c,f=Oe(t[0],!1);f.offset=0,o.push(f);const y=Oe(t[0],!1);y.offset=jm(h),o.push(y);const E=t.length-1;for(let I=1;I<=E;I++){let M=Oe(t[I],!1);M.offset=jm((e+M.offset*i)/c),o.push(M)}i=c,e=0,r="",t=o}return Xp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jm(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class bv{}class ah extends bv{normalizePropertyName(t,e){return Xr(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(zm[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function vo(n,t){return new s.vHH(3005,Pt)}())}return c+o}}const zm=(()=>function Is(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Vc(n,t,e,i,r,o,c,h,f,y,E,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:f,preStyleProps:y,postStyleProps:E,totalTime:I,errors:M}}const Bc={};class nf{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Gm(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):c}build(t,e,i,r,o,c,h,f,y,E){const I=[],M=this.ast.options&&this.ast.options.params||Bc,V=this.buildStyles(i,h&&h.params||Bc,I),Q=f&&f.params||Bc,ye=this.buildStyles(r,Q,I),je=new Set,Je=new Map,it=new Map,rt="void"===r,At={params:Object.assign(Object.assign({},M),Q)},Ot=E?[]:tf(t,e,this.ast.animation,o,c,V,ye,At,y,I);let rn=0;if(Ot.forEach(Ki=>{rn=Math.max(Ki.duration+Ki.delay,rn)}),I.length)return Vc(e,this._triggerName,i,r,rt,V,ye,[],[],Je,it,rn,I);Ot.forEach(Ki=>{const oo=Ki.element,RB=Ei(Je,oo,{});Ki.preStyleProps.forEach(fm=>RB[fm]=!0);const f0=Ei(it,oo,{});Ki.postStyleProps.forEach(fm=>f0[fm]=!0),oo!==e&&je.add(oo)});const Xn=mr(je.values());return Vc(e,this._triggerName,i,r,rt,V,ye,Ot,Xn,Je,it,rn)}}class qm{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=J(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!=c&&(r[o]=c)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const c=o;Object.keys(c).forEach(h=>{let f=c[h];f.length>1&&(f=Gs(f,r,e));const y=this.normalizer.normalizePropertyName(h,e);f=this.normalizer.normalizeStyleValue(h,y,f,e),i[y]=f})}}),i}}class C0{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new qm(r.style,r.options&&r.options.params||{},i)}),lh(this.states,"true","1"),lh(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new nf(t,r,this.states))}),this.fallbackTransition=function qu(n,t,e){return new nf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function lh(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const rf=new oh;class E0{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Yp(this._driver,e,i,[]);if(i.length)throw function Jd(n){return new s.vHH(3503,Pt)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Nu(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let c;const h=new Map;if(o?(c=tf(this._driver,e,o,Eo,Ga,{},{},i,rf,r),c.forEach(E=>{const I=Ei(h,E.element,{});E.postStyleProps.forEach(M=>I[M]=null)})):(r.push(function Mn(){return new s.vHH(3300,Pt)}()),c=[]),r.length)throw function Am(n){return new s.vHH(3504,Pt)}();h.forEach((E,I)=>{Object.keys(E).forEach(M=>{E[M]=this._driver.computeStyle(I,M,$n)})});const y=Qr(c.map(E=>{const I=h.get(E.element);return this._buildPlayer(E,{},I)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function _v(n){return new s.vHH(3301,Pt)}();return e}listen(t,e,i,r){const o=Li(e,"","","");return Fu(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Cv="ng-animate-queued",ch="ng-animate-disabled",uh=[],Tl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Or="__ng_removed";class Uc{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Dv(n){return null!=n?n:null}(i?t.value:t),i){const o=J(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Sn="void",dh=new Uc(Sn);class Sv{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,nr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Mm(n,t){return new s.vHH(3302,Pt)}();if(null==i||0==i.length)throw function qp(n){return new s.vHH(3303,Pt)}();if(!function $u(n){return"start"==n||"done"==n}(i))throw function Xd(n,t){return new s.vHH(3400,Pt)}();const o=Ei(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const h=Ei(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(nr(t,Mc),nr(t,Mc+"-"+e),h[e]=dh),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(c);f>=0&&o.splice(f,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function km(n){return new s.vHH(3401,Pt)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new ph(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(nr(t,Mc),nr(t,Mc+"-"+e),this._engine.statesByElement.set(t,h={}));let f=h[e];const y=new Uc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),h[e]=y,f||(f=dh),y.value!==Sn&&f.value===y.value){if(!function Ti(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,y.params)){const Q=[],ye=o.matchStyles(f.value,f.params,Q),je=o.matchStyles(y.value,y.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Vt(t,ye),dt(t,je)})}return}const M=Ei(this._engine.playersByElement,t,[]);M.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let P=o.matchTransition(f.value,y.value,t,y.params),V=!1;if(!P){if(!r)return;P=o.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:f,toState:y,player:c,isFallbackTransition:V}),V||(nr(t,Cv),c.onStart(()=>{si(t,Cv)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const ye=this._engine.playersByElement.get(t);if(ye){let je=ye.indexOf(c);je>=0&&ye.splice(je,1)}}),this.players.push(c),M.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ts,!0);i.forEach(r=>{if(r[Or])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const h=[];if(Object.keys(o).forEach(f=>{if(c.set(f,o[f].value),this._triggers[f]){const y=this.trigger(t,f,Sn,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Qr(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const f=this._triggers[c].fallbackTransition,y=i[c]||dh,E=new Uc(Sn),I=new ph(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:f,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Or];(!o||o===Tl)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){nr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const f=Li(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,Fu(i.player,h.phase,f,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class hh{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Sv(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const f=r.get(h);if(f){const y=i.indexOf(f);i.splice(y+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const c=i[r[o]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(fh(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!fh(e))return;const o=e[Or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),nr(t,ch)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),si(t,ch))}removeNode(t,e,i,r){if(fh(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Or]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return fh(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ts,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,sa,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qr(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Or];if(i&&i.setForRemoval){if(t[Or]=Tl,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(ch))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)nr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Qr(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Om(n){return new s.vHH(3402,Pt)}()}_flushAnimations(t,e){const i=new oh,r=[],o=new Map,c=[],h=new Map,f=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(ht=>{E.add(ht);const xt=this.driver.query(ht,".ng-animate-queued",!0);for(let Rt=0;Rt<xt.length;Rt++)E.add(xt[Rt])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=Av(M,this.collectedEnterElements),V=new Map;let Q=0;P.forEach((ht,xt)=>{const Rt=Eo+Q++;V.set(xt,Rt),ht.forEach(fn=>nr(fn,Rt))});const ye=[],je=new Set,Je=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const xt=this.collectedLeaveElements[ht],Rt=xt[Or];Rt&&Rt.setForRemoval&&(ye.push(xt),je.add(xt),Rt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(fn=>je.add(fn)):Je.add(xt))}const it=new Map,rt=Av(M,Array.from(je));rt.forEach((ht,xt)=>{const Rt=Ga+Q++;it.set(xt,Rt),ht.forEach(fn=>nr(fn,Rt))}),t.push(()=>{P.forEach((ht,xt)=>{const Rt=V.get(xt);ht.forEach(fn=>si(fn,Rt))}),rt.forEach((ht,xt)=>{const Rt=it.get(xt);ht.forEach(fn=>si(fn,Rt))}),ye.forEach(ht=>{this.processLeaveNode(ht)})});const At=[],Ot=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(e).forEach(Rt=>{const fn=Rt.player,$r=Rt.element;if(At.push(fn),this.collectedEnterElements.length){const ao=$r[Or];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(Rt.triggerName)){const gm=ao.previousTriggersValues.get(Rt.triggerName),Vp=this.statesByElement.get(Rt.element);Vp&&Vp[Rt.triggerName]&&(Vp[Rt.triggerName].value=gm)}return void fn.destroy()}}const _u=!I||!this.driver.containsElement(I,$r),Ta=it.get($r),Lp=V.get($r),_i=this._buildInstruction(Rt,i,Lp,Ta,_u);if(_i.errors&&_i.errors.length)return void Ot.push(_i);if(_u)return fn.onStart(()=>Vt($r,_i.fromStyles)),fn.onDestroy(()=>dt($r,_i.toStyles)),void r.push(fn);if(Rt.isFallbackTransition)return fn.onStart(()=>Vt($r,_i.fromStyles)),fn.onDestroy(()=>dt($r,_i.toStyles)),void r.push(fn);const FB=[];_i.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||FB.push(ao)}),_i.timelines=FB,i.append($r,_i.timelines),c.push({instruction:_i,player:fn,element:$r}),_i.queriedElements.forEach(ao=>Ei(h,ao,[]).push(fn)),_i.preStyleProps.forEach((ao,gm)=>{const Vp=Object.keys(ao);if(Vp.length){let mm=f.get(gm);mm||f.set(gm,mm=new Set),Vp.forEach(UO=>mm.add(UO))}}),_i.postStyleProps.forEach((ao,gm)=>{const Vp=Object.keys(ao);let mm=y.get(gm);mm||y.set(gm,mm=new Set),Vp.forEach(UO=>mm.add(UO))})});if(Ot.length){const ht=[];Ot.forEach(xt=>{ht.push(function eh(n,t){return new s.vHH(3505,Pt)}())}),At.forEach(xt=>xt.destroy()),this.reportError(ht)}const rn=new Map,Xn=new Map;c.forEach(ht=>{const xt=ht.element;i.has(xt)&&(Xn.set(xt,xt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,rn))}),r.forEach(ht=>{const xt=ht.element;this._getPreviousPlayers(xt,!1,ht.namespaceId,ht.triggerName,null).forEach(fn=>{Ei(rn,xt,[]).push(fn),fn.destroy()})});const Ki=ye.filter(ht=>Il(ht,f,y)),oo=new Map;Wm(oo,this.driver,Je,y,$n).forEach(ht=>{Il(ht,f,y)&&Ki.push(ht)});const f0=new Map;P.forEach((ht,xt)=>{Wm(f0,this.driver,new Set(ht),f,"!")}),Ki.forEach(ht=>{const xt=oo.get(ht),Rt=f0.get(ht);oo.set(ht,Object.assign(Object.assign({},xt),Rt))});const fm=[],PB=[],NB={};c.forEach(ht=>{const{element:xt,player:Rt,instruction:fn}=ht;if(i.has(xt)){if(E.has(xt))return Rt.onDestroy(()=>dt(xt,fn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(fn.totalTime),void r.push(Rt);let $r=NB;if(Xn.size>1){let Ta=xt;const Lp=[];for(;Ta=Ta.parentNode;){const _i=Xn.get(Ta);if(_i){$r=_i;break}Lp.push(Ta)}Lp.forEach(_i=>Xn.set(_i,$r))}const _u=this._buildAnimation(Rt.namespaceId,fn,rn,o,f0,oo);if(Rt.setRealPlayer(_u),$r===NB)fm.push(Rt);else{const Ta=this.playersByElement.get($r);Ta&&Ta.length&&(Rt.parentPlayer=Qr(Ta)),r.push(Rt)}}else Vt(xt,fn.fromStyles),Rt.onDestroy(()=>dt(xt,fn.toStyles)),PB.push(Rt),E.has(xt)&&r.push(Rt)}),PB.forEach(ht=>{const xt=o.get(ht.element);if(xt&&xt.length){const Rt=Qr(xt);ht.setRealPlayer(Rt)}}),r.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<ye.length;ht++){const xt=ye[ht],Rt=xt[Or];if(si(xt,Ga),Rt&&Rt.hasAnimation)continue;let fn=[];if(h.size){let _u=h.get(xt);_u&&_u.length&&fn.push(..._u);let Ta=this.driver.query(xt,sa,!0);for(let Lp=0;Lp<Ta.length;Lp++){let _i=h.get(Ta[Lp]);_i&&_i.length&&fn.push(..._i)}}const $r=fn.filter(_u=>!_u.destroyed);$r.length?of(this,xt,$r):this.processLeaveNode(xt)}return ye.length=0,fm.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const xt=this.players.indexOf(ht);this.players.splice(xt,1)}),ht.play()}),fm}elementContainsData(t,e){let i=!1;const r=e[Or];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const f=!o||o==Sn;h.forEach(y=>{y.queued||!f&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const y=f.element,E=y!==o,I=Ei(i,y,[]);this._getPreviousPlayers(y,E,c,h,e.toState).forEach(P=>{const V=P.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),P.destroy(),I.push(P)})}Vt(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const h=e.triggerName,f=e.element,y=[],E=new Set,I=new Set,M=e.timelines.map(V=>{const Q=V.element;E.add(Q);const ye=Q[Or];if(ye&&ye.removedBeforeQueried)return new Ba(V.duration,V.delay);const je=Q!==f,Je=function af(n){const t=[];return Zu(n,t),t}((i.get(Q)||uh).map(rn=>rn.getRealPlayer())).filter(rn=>!!rn.element&&rn.element===Q),it=o.get(Q),rt=c.get(Q),At=Nu(0,this._normalizer,0,V.keyframes,it,rt),Ot=this._buildPlayer(V,At,Je);if(V.subTimeline&&r&&I.add(Q),je){const rn=new ph(t,h,Q);rn.setRealPlayer(Ot),y.push(rn)}return Ot});y.forEach(V=>{Ei(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function xv(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),E.forEach(V=>nr(V,qa));const P=Qr(M);return P.onDestroy(()=>{E.forEach(V=>si(V,qa)),dt(f,e.toStyles)}),I.forEach(V=>{Ei(r,V,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ba(t.duration,t.delay)}}class ph{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ba,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Fu(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ei(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fh(n){return n&&1===n.nodeType}function Zm(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Wm(n,t,e,i,r){const o=[];e.forEach(f=>o.push(Zm(f)));const c=[];i.forEach((f,y)=>{const E={};f.forEach(I=>{const M=E[I]=t.computeStyle(y,I,r);(!M||0==M.length)&&(y[Or]=Iv,c.push(y))}),n.set(y,E)});let h=0;return e.forEach(f=>Zm(f,o[h++])),c}function Av(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(h){if(!h)return 1;let f=o.get(h);if(f)return f;const y=h.parentNode;return f=e.has(y)?y:r.has(y)?1:c(y),o.set(h,f),f}return t.forEach(h=>{const f=c(h);1!==f&&e.get(f).push(h)}),e}function nr(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function si(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function of(n,t,e){Qr(e).onDone(()=>n.processLeaveNode(t))}function Zu(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof _c?Zu(i.players,t):t.push(i)}}function Il(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Hc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new hh(t,e,i),this._timelineEngine=new E0(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let h=this._triggerCache[c];if(!h){const f=[],E=Yp(this._driver,o,f,[]);if(f.length)throw function ja(n,t){return new s.vHH(3404,Pt)}();h=function b0(n,t,e){return new C0(n,t,e)}(r,E,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=na(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,h]=na(i);return this._timelineEngine.listen(c,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Mv=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vt(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ir(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Wu(r)&&(t=t||{},t[r]=n[r])}return t}function Wu(n){return"display"===n||"position"===n}class gh{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Vu(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kv{validateStyleProperty(t){return xc(t)}matchesElement(t,e){return!1}containsElement(t,e){return Zp(t,e)}getParentElement(t){return ia(t)}query(t,e,i){return Es(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const y={},E=c.filter(M=>M instanceof gh);(function Rm(n,t){return 0===n||0===t})(i,r)&&E.forEach(M=>{let P=M.currentSnapshot;Object.keys(P).forEach(V=>y[V]=P[V])}),e=function Kp(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],c=[];if(i.forEach(h=>{o.hasOwnProperty(h)||c.push(h),o[h]=e[h]}),c.length)for(var r=1;r<t.length;r++){let h=t[r];c.forEach(function(f){h[f]=Vu(n,f)})}}return t}(t,e=e.map(M=>Oe(M,!1)),y);const I=function lf(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ir(t[0]),t.length>1&&(i=ir(t[t.length-1]))):t&&(e=ir(t)),e||i?new Mv(n,e,i):null}(t,e);return new gh(t,e,f,I)}}let mh=(()=>{class n extends Wd{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?La(e):e;return Ku(this._renderer,null,i,"register",[r]),new cf(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class cf extends class xm{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ov(this._id,t,e||{},this._renderer)}}class Ov{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ku(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ku(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const aa="@.disabled";let yh=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=null==c?void 0:c.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(o);return E||(E=new Km("",o,this.engine),this._rendererCache.set(o,E)),E}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const f=E=>{Array.isArray(E)?E.forEach(f):this.engine.registerTrigger(c,h,e,E.name,E)};return i.data.animation.forEach(f),new Rv(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Hc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Km{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==aa?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Rv extends Km{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==aa?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function vh(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),c="";return"@"!=o.charAt(0)&&([o,c]=function Ym(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let Rr=(()=>{class n extends Hc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(Lu),s.LFG(bv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Qm=new s.OlP("AnimationModuleType"),qs=[{provide:Wd,useClass:mh},{provide:bv,useFactory:function uf(){return new ah}},{provide:Hc,useClass:Rr},{provide:s.FYo,useFactory:function df(n,t,e){return new yh(n,t,e)},deps:[$o,Hc,s.R0b]}],jc=[{provide:Lu,useFactory:()=>new kv},{provide:Qm,useValue:"BrowserAnimations"},...qs],Jm=[{provide:Lu,useClass:Dc},{provide:Qm,useValue:"NoopAnimations"},...qs];let Xm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Jm:jc}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:jc,imports:[Pa]}),n})();var la=F(3269),Vn=F(8996);function bt(...n){const t=(0,la.yG)(n);return(0,Vn.D)(n,t)}var Bi=F(8306),Bn=F(5577),v=F(576);function g(n,t){return(0,v.m)(t)?(0,Bn.z)(n,t,1):(0,Bn.z)(n,1)}var m=F(4482),b=F(5403);function D(n,t){return(0,m.e)((e,i)=>{let r=0;e.subscribe((0,b.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var k=F(4004);class K{}class fe{}class Le{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Le;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Le?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class tt{encodeKey(t){return Pr(t)}encodeValue(t){return Pr(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gt=/%(\d[a-f0-9])/gi,oi={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Pr(n){return encodeURIComponent(n).replace(gt,(t,e)=>{var i;return null!==(i=oi[e])&&void 0!==i?i:t})}function Sl(n){return`${n}`}class Io{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mt(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(c)||[];f.push(h),e.set(c,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Io({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sl(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Sl(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class xl{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Yu(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function hf(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Qu(n){return"undefined"!=typeof FormData&&n instanceof FormData}class zc{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function wh(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Le),this.context||(this.context=new xl),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new Io,this.urlWithParams=e}serializeBody(){return null===this.body?null:Yu(this.body)||hf(this.body)||Qu(this.body)||function pf(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Io?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qu(this.body)?null:hf(this.body)?this.body.type||null:Yu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Io?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,E=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((M,P)=>M.set(P,t.setHeaders[P]),y)),t.setParams&&(E=Object.keys(t.setParams).reduce((M,P)=>M.set(P,t.setParams[P]),E)),new zc(i,r,c,{params:E,headers:y,context:I,reportProgress:f,responseType:o,withCredentials:h})}}var ai=(()=>((ai=ai||{})[ai.Sent=0]="Sent",ai[ai.UploadProgress=1]="UploadProgress",ai[ai.ResponseHeader=2]="ResponseHeader",ai[ai.DownloadProgress=3]="DownloadProgress",ai[ai.Response=4]="Response",ai[ai.User=5]="User",ai))();class Ju{constructor(t,e=200,i="OK"){this.headers=t.headers||new Le,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ff extends Ju{constructor(t={}){super(t),this.type=ai.ResponseHeader}clone(t={}){return new ff({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class e_ extends Ju{constructor(t={}){super(t),this.type=ai.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new e_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nv extends Ju{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function gf(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Fv=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof zc)o=e;else{let f,y;f=r.headers instanceof Le?r.headers:new Le(r.headers),r.params&&(y=r.params instanceof Io?r.params:new Io({fromObject:r.params})),o=new zc(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=bt(o).pipe(g(f=>this.handler.handle(f)));if(e instanceof zc||"events"===r.observe)return c;const h=c.pipe(D(f=>f instanceof e_));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,k.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return h.pipe((0,k.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return h.pipe((0,k.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return h.pipe((0,k.U)(f=>f.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Io).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,gf(r,i))}post(e,i,r={}){return this.request("POST",e,gf(r,i))}put(e,i,r={}){return this.request("PUT",e,gf(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class t_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const I0=new s.OlP("HTTP_INTERCEPTORS");let Rx=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const S0=/^\)\]\}',?\n/;let Vv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Bi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,V)=>r.setRequestHeader(P,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const P=r.statusText||"OK",V=new Le(r.getAllResponseHeaders()),Q=function x0(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new ff({headers:V,status:r.status,statusText:P,url:Q}),c},f=()=>{let{headers:P,status:V,statusText:Q,url:ye}=h(),je=null;204!==V&&(je=void 0===r.response?r.responseText:r.response),0===V&&(V=je?200:0);let Je=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof je){const it=je;je=je.replace(S0,"");try{je=""!==je?JSON.parse(je):null}catch(rt){je=it,Je&&(Je=!1,je={error:rt,text:je})}}Je?(i.next(new e_({body:je,headers:P,status:V,statusText:Q,url:ye||void 0})),i.complete()):i.error(new Nv({error:je,headers:P,status:V,statusText:Q,url:ye||void 0}))},y=P=>{const{url:V}=h(),Q=new Nv({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(Q)};let E=!1;const I=P=>{E||(i.next(h()),E=!0);let V={type:ai.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},M=P=>{let V={type:ai.UploadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),i.next(V)};return r.addEventListener("load",f),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:ai.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",f),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const mf=new s.OlP("XSRF_COOKIE_NAME"),n_=new s.OlP("XSRF_HEADER_NAME");class _f{}let i_=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sa(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(s.Lbi),s.LFG(mf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),r_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_f),s.LFG(n_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Bv=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(I0,[]);this.chain=i.reduceRight((r,o)=>new t_(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),yf=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:r_,useClass:Rx}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:mf,useValue:e.cookieName}:[],e.headerName?{provide:n_,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[r_,{provide:I0,useExisting:r_,multi:!0},{provide:_f,useClass:i_},{provide:mf,useValue:"XSRF-TOKEN"},{provide:n_,useValue:"X-XSRF-TOKEN"}]}),n})(),Bx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Fv,{provide:K,useClass:Bv},Vv,{provide:fe,useExisting:Vv}],imports:[[yf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var mn=F(7579);class $s extends mn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:Uv}=Array,{getPrototypeOf:A0,prototype:GO,keys:M0}=Object;function k0(n){if(1===n.length){const t=n[0];if(Uv(t))return{args:t,keys:null};if(function O0(n){return n&&"object"==typeof n&&A0(n)===GO}(t)){const e=M0(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ch=F(4671);const{isArray:Hx}=Array;function Hv(n){return(0,k.U)(t=>function ca(n,t){return Hx(t)?n(...t):n(t)}(n,t))}function jv(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var jx=F(9672);function R0(n,t,e){n?(0,jx.f)(e,n,t):t()}function vf(n,t){const e=(0,v.m)(n)?n:()=>n,i=r=>r.error(e());return new Bi.y(t?r=>t.schedule(i,0,r):i)}const s_=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var o_=F(8189);function a_(...n){return function Lt(){return(0,o_.J)(1)}()((0,Vn.D)(n,(0,la.yG)(n)))}var Dl=F(8421);function zv(n){return new Bi.y(t=>{(0,Dl.Xf)(n()).subscribe(t)})}var Al=F(515),Ss=F(727);function Gv(){return(0,m.e)((n,t)=>{let e=null;n._refCount++;const i=(0,b.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class $x extends Bi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,m.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ss.w0;const e=this.getSubject();t.add(this.source.subscribe((0,b.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ss.w0.EMPTY)}return t}refCount(){return Gv()(this)}}function Ui(n,t){return(0,m.e)((e,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();e.subscribe((0,b.x)(i,f=>{null==r||r.unsubscribe();let y=0;const E=o++;(0,Dl.Xf)(n(f,E)).subscribe(r=(0,b.x)(i,I=>i.next(t?t(f,I,E,y++):I),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var ua=F(5698);function Gc(...n){const t=(0,la.yG)(n);return(0,m.e)((e,i)=>{(t?a_(n,e,t):a_(n,e)).subscribe(i)})}function P0(n,t,e,i,r){return(o,c)=>{let h=e,f=t,y=0;o.subscribe((0,b.x)(c,E=>{const I=y++;f=h?n(f,E,I):(h=!0,E),i&&c.next(f)},r&&(()=>{h&&c.next(f),c.complete()})))}}function Ml(n,t){return(0,m.e)(P0(n,t,arguments.length>=2,!0))}function Xu(n){return(0,m.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,b.x)(e,void 0,void 0,c=>{o=(0,Dl.Xf)(n(c,Xu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function l_(n){return n<=0?()=>Al.E:(0,m.e)((t,e)=>{let i=[];t.subscribe((0,b.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Zx(n=c_){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function c_(){return new s_}function wf(n){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function kl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):Ch.y,(0,ua.q)(1),e?wf(t):Zx(()=>new s_))}var es=F(8505);class Ol{constructor(t,e){this.id=t,this.url=e}}class $v extends Ol{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bf extends Ol{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class N0 extends Ol{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class F0 extends Ol{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $O extends Ol{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wx extends Ol{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZO extends Ol{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class L0 extends Ol{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V0 extends Ol{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class u_{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QO{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qt="primary";class JO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Cf(n){return new JO(n)}const Yx="ngNavigationCancelingError";function U0(n){const t=Error("NavigationCancelingError: "+n);return t[Yx]=!0,t}function Zv(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function da(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!d_(n[r],t[r]))return!1;return!0}function d_(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Wv(n){return Array.prototype.concat.apply([],n)}function h_(n){return n.length>0?n[n.length-1]:null}function Un(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ha(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):bt(n)}const Kv={exact:function j0(n,t,e){if(!$c(n.segments,t.segments)||!Rl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!j0(n.children[i],t.children[i],e))return!1;return!0},subset:ed},H0={exact:function Xx(n,t){return da(n,t)},subset:function Ef(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>d_(n[e],t[e]))},ignored:()=>!0};function Yv(n,t,e){return Kv[e.paths](n.root,t.root,e.matrixParams)&&H0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ed(n,t,e){return p_(n,t,t.segments,e)}function p_(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!$c(r,e)||t.hasChildren()||!Rl(r,e,i))}if(n.segments.length===e.length){if(!$c(n.segments,e)||!Rl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ed(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!($c(n.segments,r)&&Rl(n.segments,r,i)&&n.children[Qt])&&p_(n.children[Qt],t,o,i)}}function Rl(n,t,e){return t.every((i,r)=>H0[e](n[r].parameters,i.parameters))}class pa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cf(this.queryParams)),this._queryParamMap}toString(){return g_.serialize(this)}}class Ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Un(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return m_(this)}}class Tf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Cf(this.parameters)),this._parameterMap}toString(){return $0(this)}}function $c(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class f_{}class Jv{parse(t){const e=new tw(t);return new pa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Eh(t.root,!0)}`,i=function t1(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${If(e)}=${If(r)}`).join("&"):`${If(e)}=${If(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function G0(n){return encodeURI(n)}(t.fragment)}`:""}`}}const g_=new Jv;function m_(n){return n.segments.map(t=>$0(t)).join("/")}function Eh(n,t){if(!n.hasChildren())return m_(n);if(t){const e=n.children[Qt]?Eh(n.children[Qt],!1):"",i=[];return Un(n.children,(r,o)=>{o!==Qt&&i.push(`${o}:${Eh(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Qv(n,t){let e=[];return Un(n.children,(i,r)=>{r===Qt&&(e=e.concat(t(i,r)))}),Un(n.children,(i,r)=>{r!==Qt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Qt?[Eh(n.children[Qt],!1)]:[`${r}:${Eh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${m_(n)}/${e[0]}`:`${m_(n)}/(${e.join("//")})`}}function e1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function If(n){return e1(n).replace(/%3B/gi,";")}function Xv(n){return e1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sf(n){return decodeURIComponent(n)}function q0(n){return Sf(n.replace(/\+/g,"%20"))}function $0(n){return`${Xv(n.path)}${function Zs(n){return Object.keys(n).map(t=>`;${Xv(t)}=${Xv(n[t])}`).join("")}(n.parameters)}`}const n1=/^[^\/()?;=#]+/;function ew(n){const t=n.match(n1);return t?t[0]:""}const eR=/^[^=?&#]+/,tR=/^[^&#]+/;class tw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Qt]=new Ut(t,e)),i}parseSegment(){const t=ew(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Tf(Sf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ew(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ew(this.remaining);r&&(i=r,this.capture(i))}t[Sf(e)]=Sf(i)}parseQueryParam(t){const e=function Z0(n){const t=n.match(eR);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function r1(n){const t=n.match(tR);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=q0(e),o=q0(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ew(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Qt);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Qt]:new Ut([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class nw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=iw(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=iw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return rw(t,this._root).map(e=>e.value)}}function iw(n,t){if(n===t.value)return t;for(const e of t.children){const i=iw(n,e);if(i)return i}return null}function rw(n,t){if(n===t.value)return[t];for(const e of t.children){const i=rw(n,e);if(i.length)return i.unshift(t),i}return[]}class Pl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function td(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class W0 extends nw{constructor(t,e){super(t),this.snapshot=e,xf(this,t)}toString(){return this.snapshot.toString()}}function sw(n,t){const e=function s1(n,t){const c=new __([],{},{},"",{},Qt,t,null,n.root,-1,{});return new fa("",new Pl(c,[]))}(n,t),i=new $s([new Tf("",{})]),r=new $s({}),o=new $s({}),c=new $s({}),h=new $s(""),f=new Th(i,r,c,h,o,Qt,t,e.root);return f.snapshot=e.root,new W0(new Pl(f,[]),e)}class Th{constructor(t,e,i,r,o,c,h,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,k.U)(t=>Cf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,k.U)(t=>Cf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ow(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function K0(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class __{constructor(t,e,i,r,o,c,h,f,y,E,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fa extends nw{constructor(t,e){super(e),this.url=t,xf(this,e)}toString(){return Y0(this._root)}}function xf(n,t){t.value._routerState=n,t.children.forEach(e=>xf(n,e))}function Y0(n){const t=n.children.length>0?` { ${n.children.map(Y0).join(", ")} } `:"";return`${n.value}${t}`}function aw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,da(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),da(t.params,e.params)||n.params.next(e.params),function Qx(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!da(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),da(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Q0(n,t){const e=da(n.params,t.params)&&function z0(n,t){return $c(n,t)&&n.every((e,i)=>da(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Q0(n.parent,t.parent))}function Df(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function o1(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Df(n,i,r);return Df(n,i)})}(n,t,e);return new Pl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>Df(n,h)),c}}const i=function a1(n){return new Th(new $s(n.url),new $s(n.params),new $s(n.queryParams),new $s(n.fragment),new $s(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Df(n,o));return new Pl(i,r)}}function y_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Af(n){return"object"==typeof n&&null!=n&&n.outlets}function Ih(n,t,e,i,r){let o={};if(i&&Un(i,(h,f)=>{o[f]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===t)return new pa(e,o,r);const c=v_(n,t,e);return new pa(c,o,r)}function v_(n,t,e){const i={};return Un(n.children,(r,o)=>{i[o]=r===t?e:v_(r,t,e)}),new Ut(n.segments,i)}class X0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&y_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Af);if(r&&r!==h_(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function w_(n,t,e){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return uw(n,t,e);const i=function l1(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],h=e[i];if(Af(h))break;const f=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!hw(f,y,c))return o;i+=2}else{if(!hw(f,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ut(n.segments.slice(0,i.pathIndex),{});return o.children[Qt]=new Ut(n.segments.slice(i.pathIndex),n.children),uw(o,0,r)}return i.match&&0===r.length?new Ut(n.segments,{}):i.match&&!n.hasChildren()?b_(n,t,e):i.match?uw(n,0,r):b_(n,t,e)}function uw(n,t,e){if(0===e.length)return new Ut(n.segments,{});{const i=function iR(n){return Af(n[0])?n[0].outlets:{[Qt]:n}}(e),r={};return Un(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=w_(n.children[c],t,o))}),Un(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Ut(n.segments,r)}}function b_(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Af(o)){const f=tE(o.outlets);return new Ut(i,f)}if(0===r&&y_(e[0])){i.push(new Tf(n.segments[t].path,dw(e[0]))),r++;continue}const c=Af(o)?o.outlets[Qt]:`${o}`,h=r<e.length-1?e[r+1]:null;c&&h&&y_(h)?(i.push(new Tf(c,dw(h))),r+=2):(i.push(new Tf(c,{})),r++)}return new Ut(i,{})}function tE(n){const t={};return Un(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=b_(new Ut([],{}),0,e))}),t}function dw(n){const t={};return Un(n,(e,i)=>t[i]=`${e}`),t}function hw(n,t,e){return n==e.path&&da(t,e.parameters)}class Nl{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),aw(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=td(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Un(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=td(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=td(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=td(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new QO(o.value.snapshot))}),t.children.length&&this.forwardEvent(new KO(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(aw(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),aw(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=function C_(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=f,c.outlet&&c.outlet.activateWith(r,f),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class pw{constructor(t,e){this.routes=t,this.module=e}}function Zc(n){return"function"==typeof n}function Fl(n){return n instanceof pa}const nd=Symbol("INITIAL_VALUE");function Sh(){return Ui(n=>function zx(...n){const t=(0,la.yG)(n),e=(0,la.jO)(n),{args:i,keys:r}=k0(n);if(0===i.length)return(0,Vn.D)([],t);const o=new Bi.y(function Gx(n,t,e=Ch.y){return i=>{R0(t,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let f=0;f<r;f++)R0(t,()=>{const y=(0,Vn.D)(n[f],t);let E=!1;y.subscribe((0,b.x)(i,I=>{o[f]=I,E||(E=!0,h--),h||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>jv(r,c):Ch.y));return e?o.pipe(Hv(e)):o}(n.map(t=>t.pipe((0,ua.q)(1),Gc(nd)))).pipe(Ml((t,e)=>{let i=!1;return e.reduce((r,o,c)=>r!==nd?r:(o===nd&&(i=!0),i||!1!==o&&c!==e.length-1&&!Fl(o)?r:o),t)},nd),D(t=>t!==nd),(0,k.U)(t=>Fl(t)?t:!0===t),(0,ua.q)(1)))}class rE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xh,this.attachRef=null}}class xh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new rE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let E_=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Qt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,f=new gw(e,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xh),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class gw{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Th?this.route:t===xh?this.childContexts:this.parent.get(t,e)}}let sE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[E_],encapsulation:2}),n})();function oE(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];aE(i,Dh(t,i))}}function aE(n,t){n.children&&oE(n.children,t)}function Dh(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function T_(n){const t=n.children&&n.children.map(T_),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qt&&(e.component=sE),e}function So(n){return n.outlet||Qt}function lE(n,t){const e=n.filter(i=>So(i)===t);return e.push(...n.filter(i=>So(i)!==t)),e}const id={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I_(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},id):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Zv)(e,n,t);if(!o)return Object.assign({},id);const c={};Un(o.posParams,(f,y)=>{c[y]=f.path});const h=o.consumed.length>0?Object.assign(Object.assign({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function S_(n,t,e,i,r="corrected"){if(e.length>0&&function Wa(n,t,e){return e.some(i=>Of(n,t,i)&&So(i)!==Qt)}(n,e,i)){const c=new Ut(t,function d1(n,t,e,i){const r={};r[Qt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&So(o)!==Qt){const c=new Ut([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[So(o)]=c}return r}(n,t,i,new Ut(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function mw(n,t,e){return e.some(i=>Of(n,t,i))}(n,e,i)){const c=new Ut(n.segments,function u1(n,t,e,i,r,o){const c={};for(const h of i)if(Of(n,e,h)&&!r[So(h)]){const f=new Ut([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[So(h)]=f}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new Ut(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Of(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function _w(n,t,e,i){return!!(So(n)===i||i!==Qt&&Of(t,e,n))&&("**"===n.path||I_(t,n,e).matched)}function yw(n,t,e){return 0===t.length&&!n.children[e]}class Rf{constructor(t){this.segmentGroup=t||null}}class cE{constructor(t){this.urlTree=t}}function Pf(n){return vf(new Rf(n))}function uE(n){return vf(new cE(n))}class hE{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=S_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Qt).pipe((0,k.U)(o=>this.createUrlTree(vw(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xu(o=>{if(o instanceof cE)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Rf?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qt).pipe((0,k.U)(r=>this.createUrlTree(vw(r),t.queryParams,t.fragment))).pipe(Xu(r=>{throw r instanceof Rf?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Ut([],{[Qt]:t}):t;return new pa(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,k.U)(o=>new Ut([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Vn.D)(r).pipe(g(o=>{const c=i.children[o],h=lE(e,o);return this.expandSegmentGroup(t,h,c,o).pipe((0,k.U)(f=>({segment:f,outlet:o})))}),Ml((o,c)=>(o[c.outlet]=c.segment,o),{}),function qv(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):Ch.y,l_(1),e?wf(t):Zx(()=>new s_))}())}expandSegment(t,e,i,r,o,c){return(0,Vn.D)(i).pipe(g(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,c).pipe(Xu(y=>{if(y instanceof Rf)return bt(null);throw y}))),kl(h=>!!h),Xu((h,f)=>{if(h instanceof s_||"EmptyError"===h.name)return yw(e,r,o)?bt(new Ut([],{})):Pf(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,c,h){return _w(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Pf(e):Pf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?uE(o):this.lineralizeSegments(i,o).pipe((0,Bn.z)(c=>{const h=new Ut(c,{});return this.expandSegment(t,h,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:h,consumedSegments:f,remainingSegments:y,positionalParamSegments:E}=I_(e,r,o);if(!h)return Pf(e);const I=this.applyRedirectCommands(f,r.redirectTo,E);return r.redirectTo.startsWith("/")?uE(I):this.lineralizeSegments(r,I).pipe((0,Bn.z)(M=>this.expandSegment(t,e,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?bt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,k.U)(I=>(i._loadedConfig=I,new Ut(r,{})))):bt(new Ut(r,{}));const{matched:c,consumedSegments:h,remainingSegments:f}=I_(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,Bn.z)(E=>{const I=E.module,M=E.routes,{segmentGroup:P,slicedSegments:V}=S_(e,h,f,M),Q=new Ut(P.segments,P.children);if(0===V.length&&Q.hasChildren())return this.expandChildren(I,M,Q).pipe((0,k.U)(it=>new Ut(h,it)));if(0===M.length&&0===V.length)return bt(new Ut(h,{}));const ye=So(i)===o;return this.expandSegment(I,Q,M,V,ye?Qt:o,!0).pipe((0,k.U)(Je=>new Ut(h.concat(Je.segments),Je.children)))})):Pf(e)}getChildConfig(t,e,i){return e.children?bt(new pw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?bt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Bn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,k.U)(o=>(e._loadedConfig=o,o))):function dE(n){return vf(U0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):bt(new pw([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?bt(r.map(c=>{const h=t.get(c);let f;if(function iE(n){return n&&Zc(n.canLoad)}(h))f=h.canLoad(e,i);else{if(!Zc(h))throw new Error("Invalid CanLoad guard");f=h(e,i)}return ha(f)})).pipe(Sh(),(0,es.b)(c=>{if(!Fl(c))return;const h=U0(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,k.U)(c=>!0===c)):bt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[Qt])return vf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Qt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new pa(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Un(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Un(e.children,(h,f)=>{c[f]=this.createSegmentGroup(t,h,i,r)}),new Ut(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function vw(n){const t={};for(const i of Object.keys(n.children)){const o=vw(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function p1(n){if(1===n.numberOfChildren&&n.children[Qt]){const t=n.children[Qt];return new Ut(n.segments.concat(t.segments),t.children)}return n}(new Ut(n.segments,t))}class f1{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ah{constructor(t,e){this.component=t,this.route=e}}function g1(n,t,e){const i=n._root;return ts(i,t?t._root:null,e,[i.value])}function Nf(n,t,e){const i=function aR(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ts(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=td(t);return n.children.forEach(c=>{(function lR(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function cR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$c(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$c(n.url,t.url)||!da(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q0(n,t)||!da(n.queryParams,t.queryParams);default:return!Q0(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new f1(i)):(o.data=c.data,o._resolvedData=c._resolvedData),ts(n,t,o.component?h?h.children:null:e,i,r),f&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ah(h.outlet.component,c))}else c&&Mh(t,h,r),r.canActivateChecks.push(new f1(i)),ts(n,null,o.component?h?h.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Un(o,(c,h)=>Mh(c,e.getContext(h),r)),r}function Mh(n,t,e){const i=td(n),r=n.value;Un(i,(o,c)=>{Mh(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Ah(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class y1{}function _E(n){return new Bi.y(t=>t.error(n))}class w1{constructor(t,e,i,r,o,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c}recognize(){const t=S_(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qt);if(null===e)return null;const i=new __([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pl(i,e),o=new fa(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=ow(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const c=e.children[o],h=lE(t,o),f=this.processSegmentGroup(h,c,o);if(null===f)return null;i.push(...f)}const r=rd(i);return function b1(n){n.sort((t,e)=>t.value.outlet===Qt?-1:e.value.outlet===Qt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const c=this.processSegmentAgainstRoute(o,e,i,r);if(null!==c)return c}return yw(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!_w(t,e,i,r))return null;let o,c=[],h=[];if("**"===t.path){const P=i.length>0?h_(i).parameters:{};o=new __(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vE(t),So(t),t.component,t,kh(e),yE(e)+i.length,D_(t))}else{const P=I_(e,t,i);if(!P.matched)return null;c=P.consumedSegments,h=P.remainingSegments,o=new __(c,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vE(t),So(t),t.component,t,kh(e),yE(e)+c.length,D_(t))}const f=function C1(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:y,slicedSegments:E}=S_(e,c,h,f.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===E.length&&y.hasChildren()){const P=this.processChildren(f,y);return null===P?null:[new Pl(o,P)]}if(0===f.length&&0===E.length)return[new Pl(o,[])];const I=So(t)===r,M=this.processSegment(f,y,E,I?Qt:r);return null===M?null:[new Pl(o,M)]}}function x_(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rd(n){const t=[],e=new Set;for(const i of n){if(!x_(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=rd(i.children);t.push(new Pl(i.value,r))}return t.filter(i=>!e.has(i))}function kh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function yE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function vE(n){return n.data||{}}function D_(n){return n.resolve||{}}function Lf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Vf(n){return Ui(t=>{const e=n(t);return e?(0,Vn.D)(e).pipe((0,k.U)(()=>t)):bt(t)})}class Ph extends class Rh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wc=new s.OlP("ROUTES");class od{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,k.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=o.create(t);return new pw(Wv(c.injector.get(Wc,void 0,s.XFs.Self|s.XFs.Optional)).map(T_),c)}),Xu(o=>{throw e._loader$=void 0,o}));return e._loader$=new $x(r,()=>new mn.x).pipe(Gv()),e._loader$}loadModuleFactory(t){return ha(t()).pipe((0,Bn.z)(e=>e instanceof s.YKP?bt(e):(0,Vn.D)(this.compiler.compileModuleAsync(e))))}}class Fh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Lh(n){throw n}function Vh(n,t,e){return t.parse("/")}function Cw(n,t){return bt(null)}const wE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class n{constructor(e,i,r,o,c,h,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mn.x,this.errorHandler=Lh,this.malformedUriErrorHandler=Vh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cw,afterPreactivation:Cw},this.urlHandlingStrategy=new Fh,this.routeReuseStrategy=new Ph,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const I=c.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Jx(){return new pa(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new od(c,h,M=>this.triggerEvent(new B0(M)),M=>this.triggerEvent(new u_(M))),this.routerState=sw(this.currentUrlTree,this.rootComponentType),this.transitions=new $s({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(D(r=>0!==r.id),(0,k.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ui(r=>{let o=!1,c=!1;return bt(r).pipe((0,es.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ui(h=>{const f=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ew(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe(Ui(I=>{const M=this.transitions.getValue();return i.next(new $v(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?Al.E:Promise.resolve(I)}),function oR(n,t,e,i){return Ui(r=>function sR(n,t,e,i,r){return new hE(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,k.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,es.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function Ka(n,t,e,i,r){return(0,Bn.z)(o=>function v1(n,t,e,i,r="emptyOnly",o="legacy"){try{const c=new w1(n,t,e,i,r,o).recognize();return null===c?_E(new y1):bt(c)}catch(c){return _E(c)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,k.U)(c=>Object.assign(Object.assign({},o),{targetSnapshot:c}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,es.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(P,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new $O(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:P,source:V,restoredState:Q,extras:ye}=h,je=new $v(M,this.serializeUrl(P),V,Q);i.next(je);const Je=sw(P,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},h),{targetSnapshot:Je,urlAfterRedirects:P,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Al.E}),Vf(h=>{const{targetSnapshot:f,id:y,extractedUrl:E,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:P}}=h;return this.hooks.beforePreactivation(f,{navigationId:y,appliedUrlTree:E,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!P})}),(0,es.b)(h=>{const f=new Wx(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(f)}),(0,k.U)(h=>Object.assign(Object.assign({},h),{guards:g1(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function fE(n,t){return(0,Bn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?bt(Object.assign(Object.assign({},e),{guardsResult:!0})):function gE(n,t,e,i){return(0,Vn.D)(n).pipe((0,Bn.z)(r=>function bw(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?bt(o.map(h=>{const f=Nf(h,t,r);let y;if(function c1(n){return n&&Zc(n.canDeactivate)}(f))y=ha(f.canDeactivate(n,t,e,i));else{if(!Zc(f))throw new Error("Invalid CanDeactivate guard");y=ha(f(n,t,e,i))}return y.pipe(kl())})).pipe(Sh()):bt(!0)}(r.component,r.route,e,t,i)),kl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Bn.z)(h=>h&&function rR(n){return"boolean"==typeof n}(h)?function m1(n,t,e,i){return(0,Vn.D)(t).pipe(g(r=>a_(function mE(n,t){return null!==n&&t&&t(new WO(n)),bt(!0)}(r.route.parent,i),function uR(n,t){return null!==n&&t&&t(new YO(n)),bt(!0)}(r.route,i),function _1(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function pE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>zv(()=>bt(c.guards.map(f=>{const y=Nf(f,c.node,e);let E;if(function kf(n){return n&&Zc(n.canActivateChild)}(y))E=ha(y.canActivateChild(i,n));else{if(!Zc(y))throw new Error("Invalid CanActivateChild guard");E=ha(y(i,n))}return E.pipe(kl())})).pipe(Sh())));return bt(o).pipe(Sh())}(n,r.path,e),function ww(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(o=>zv(()=>{const c=Nf(o,t,e);let h;if(function fw(n){return n&&Zc(n.canActivate)}(c))h=ha(c.canActivate(t,n));else{if(!Zc(c))throw new Error("Invalid CanActivate guard");h=ha(c(t,n))}return h.pipe(kl())}));return bt(r).pipe(Sh())}(n,r.route,e))),kl(r=>!0!==r,!0))}(i,o,n,t):bt(h)),(0,k.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,es.b)(h=>{if(Fl(h.guardsResult)){const y=U0(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const f=new ZO(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(f)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Vf(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,es.b)(f=>{const y=new L0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),Ui(f=>{let y=!1;return bt(f).pipe(function Ff(n,t){return(0,Bn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return bt(e);let o=0;return(0,Vn.D)(r).pipe(g(c=>function Nr(n,t,e,i){return function sd(n,t,e,i){const r=Lf(n);if(0===r.length)return bt({});const o={};return(0,Vn.D)(r).pipe((0,Bn.z)(c=>function xo(n,t,e,i){const r=Nf(n,t,i);return ha(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,es.b)(h=>{o[c]=h}))),l_(1),(0,Bn.z)(()=>Lf(o).length===r.length?bt(o):Al.E))}(n._resolve,n,t,i).pipe((0,k.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),ow(n,e).resolve),null)))}(c.route,i,n,t)),(0,es.b)(()=>o++),l_(1),(0,Bn.z)(c=>o===r.length?bt(e):Al.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,es.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,es.b)(f=>{const y=new V0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}))}),Vf(h=>{const{targetSnapshot:f,id:y,extractedUrl:E,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:P}}=h;return this.hooks.afterPreactivation(f,{navigationId:y,appliedUrlTree:E,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!P})}),(0,k.U)(h=>{const f=function J0(n,t,e){const i=Df(n,t._root,e?e._root:void 0);return new W0(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:f})}),(0,es.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,k.U)(i=>(new Nl(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,es.b)({next(){o=!0},complete(){o=!0}}),function qO(n){return(0,m.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var h;o||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Xu(h=>{if(c=!0,function qc(n){return n&&n[Yx]}(h)){const f=Fl(h.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const y=new N0(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),f?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ew(r.source)};this.scheduleNavigation(E,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new F0(r.id,this.serializeUrl(r.extractedUrl),h);i.next(f);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return Al.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const f=Object.assign({},c);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){oE(e),this.config=e.map(T_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:f}=i,y=r||this.routerState.root,E=f?this.currentUrlTree.fragment:c;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),function lw(n,t,e,i,r){if(0===e.length)return Ih(t.root,t.root,t.root,i,r);const o=function cw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new X0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Un(o.outlets,(f,y)=>{h[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,f)=>{0==f&&"."===h||(0==f&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new X0(e,t,i)}(e);if(o.toRoot())return Ih(t.root,t.root,new Ut([],{}),i,r);const c=function eE(n,t,e){if(n.isAbsolute)return new Mf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Mf(o,o===t.root,0)}const i=y_(n.commands[0])?0:1;return function nR(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Mf(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=c.processChildren?uw(c.segmentGroup,c.index,o.commands):w_(c.segmentGroup,c.index,o.commands);return Ih(t.root,c.segmentGroup,h,i,r)}(y,this.currentUrlTree,e,I,null!=E?E:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Fl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function CE(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},wE):!1===i?Object.assign({},bE):i,Fl(e))return Yv(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Yv(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new bf(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){var h,f;if(this.disposed)return Promise.resolve(!1);let y,E,I;c?(y=c.resolve,E=c.reject,I=c.promise):I=new Promise((V,Q)=>{y=V,E=Q});const M=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):P=0,this.setTransition({id:M,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:y,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new N0(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ew(n){return"imperative"!==n}let A_=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new mn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:ad(this.skipLocationChange),replaceUrl:ad(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ad(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(Th),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Bf=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new mn.x,this.subscription=e.events.subscribe(o=>{o instanceof bf&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){if(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:ad(this.skipLocationChange),replaceUrl:ad(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ad(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(Th),s.Y36(ge))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function ad(n){return""===n||!!n}let EE=(()=>{class n{constructor(e,i,r,o,c,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof bf&&this.update()})}ngAfterContentInit(){bt(this.links.changes,this.linksWithHrefs.changes,bt(null)).pipe((0,o_.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Vn.D)(i).pipe((0,o_.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function TE(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(A_,8),s.Y36(Bf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,A_,5),s.Suo(r,Bf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class IE{}class Tw{preload(t,e){return bt(null)}}let xE=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new od(r,i,f=>e.triggerEvent(new B0(f)),f=>e.triggerEvent(new u_(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(D(e=>e instanceof bf),g(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const c=o._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Vn.D)(r).pipe((0,o_.J)(),(0,k.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?bt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Bn.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(IE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Iw=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $v?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Kx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ld=new s.OlP("ROUTER_CONFIGURATION"),Sw=new s.OlP("ROUTER_FORROOT_GUARD"),T1=[Ee,{provide:f_,useClass:Jv},{provide:Fr,useFactory:function hR(n,t,e,i,r,o,c={},h,f){const y=new Fr(null,n,t,e,i,r,Wv(o));return h&&(y.urlHandlingStrategy=h),f&&(y.routeReuseStrategy=f),function pR(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(E=>{var I,M;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(M=console.groupEnd)||void 0===M||M.call(console)}),y},deps:[f_,xh,Ee,s.zs3,s.Sil,Wc,ld,[class Nh{},new s.FiY],[class Oh{},new s.FiY]]},xh,{provide:Th,useFactory:function fR(n){return n.routerState.root},deps:[Fr]},xE,Tw,class SE{preload(t,e){return e().pipe(Xu(()=>bt(null)))}},{provide:ld,useValue:{enableTracing:!1}}];function I1(){return new s.PXZ("Router",Fr)}let S1=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[T1,DE(e),{provide:Sw,useFactory:Dw,deps:[[Fr,new s.FiY,new s.tp0]]},{provide:ld,useValue:i||{}},{provide:ge,useFactory:xw,deps:[le,[new s.tBr(Ze),new s.FiY],ld]},{provide:Iw,useFactory:x1,deps:[Fr,wu,ld]},{provide:IE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Tw},{provide:s.PXZ,multi:!0,useFactory:I1},[Aw,{provide:s.ip1,multi:!0,useFactory:AE,deps:[Aw]},{provide:ME,useFactory:gR,deps:[Aw]},{provide:s.tb,multi:!0,useExisting:ME}]]}}static forChild(e){return{ngModule:n,providers:[DE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sw,8),s.LFG(Fr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function x1(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Iw(n,t,e)}function xw(n,t,e={}){return e.useHash?new De(n,t):new Qe(n,t)}function Dw(n){return"guarded"}function DE(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Wc,multi:!0,useValue:n}]}let Aw=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mn.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(Fr),c=this.injector.get(ld);return"disabled"===c.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(ld),r=this.injector.get(xE),o=this.injector.get(Iw),c=this.injector.get(Fr),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),o.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function AE(n){return n.appInitializer.bind(n)}function gR(n){return n.bootstrapListener.bind(n)}const ME=new s.OlP("Router Initializer");var M_=F(6451),k_=F(5363),kE=F(6063);class O_ extends mn.x{constructor(t=1/0,e=1/0,i=kE.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let h=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)h=f;h&&i.splice(0,h+1)}}}var OE=F(3099);function R_(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,OE.B)({connector:()=>new O_(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function RE(n,t){return(0,v.m)(t)?Ui(()=>n,t):Ui(()=>n)}var Mw=F(9468),kn=F(5813),ns=F(2011);F(5867);var Te=F(5861),ga=F(9681),Do=F(4859),N=F(2090),Ws=F(1877);const Rw=new Map,Pw={activated:!1,tokenObservers:[]},UE={initialized:!1,enabled:!1};function Hi(n){return Rw.get(n)||Pw}function Ks(n,t){Rw.set(n,t)}function jf(){return UE}class zE{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function GE(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const _r=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Vw(n){if(!Hi(n).activated)throw _r.create("use-before-activation",{appName:n.name})}function F_(n,t){return L_.apply(this,arguments)}function L_(){return(L_=(0,Te.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,h;try{c=yield fetch(n,o)}catch(I){throw _r.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==c.status)throw _r.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(I){throw _r.create("fetch-parse-error",{originalErrorMessage:I.message})}const f=h.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(f[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function R1(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const qf="firebase-app-check-store";let $f=null;function KE(){return $f||($f=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(_r.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(qf,{keyPath:"compositeKey"})}}catch(e){t(_r.create("storage-open",{originalErrorMessage:e.message}))}}),$f)}function Kc(){return(Kc=(0,Te.Z)(function*(n,t){const i=(yield KE()).transaction(qf,"readwrite"),o=i.objectStore(qf).put({compositeKey:n,value:t});return new Promise((c,h)=>{o.onsuccess=f=>{c()},i.onerror=f=>{var y;h(_r.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Zf=new Ws.Yd("@firebase/app-check");function V_(n,t){return(0,N.hl)()?function YE(n,t){return function Bw(n,t){return Kc.apply(this,arguments)}(function Hw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Zf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function tT(){return jf().enabled}function zw(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,Te.Z)(function*(){const n=jf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _a={error:"UNKNOWN_ERROR"};function nT(n){return N.US.encodeString(JSON.stringify(n),!1)}function Wf(n){return Gw.apply(this,arguments)}function Gw(){return(Gw=(0,Te.Z)(function*(n,t=!1){const e=n.app;Vw(e);const i=Hi(e);let o,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&B_(f)&&(r=f)}if(!t&&r&&B_(r))return{token:r.token};let h,c=!1;if(tT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=F_(R1(e,yield zw()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const f=yield i.exchangeTokenPromise;return yield V_(e,f),Ks(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Zf.warn(f.message):Zf.error(f),o=f}return r?(h={token:r.token},Ks(e,Object.assign(Object.assign({},i),{token:r})),yield V_(e,r)):h=rT(o),c&&Uh(e,h),h})).apply(this,arguments)}function $w(n,t){const e=Hi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ks(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function iT(n){const{app:t}=n,e=Hi(t);let i=e.tokenRefresher;i||(i=function Zw(n){const{app:t}=n;return new zE((0,Te.Z)(function*(){let i;if(i=Hi(t).token?yield Wf(n,!0):yield Wf(n),i.error)throw i.error}),()=>!0,()=>{const e=Hi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ks(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Uh(n,t){const e=Hi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function B_(n){return n.expireTimeMillis-Date.now()>0}function rT(n){return{token:nT(_a),error:n}}class L1{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Hi(this.app);for(const e of t)$w(this.app,e.next);return Promise.resolve()}}const mT="app-check-internal";!function H1(){(0,ga._registerComponent)(new Do.wA("app-check",n=>function sT(n,t){return new L1(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(mT).initialize()})),(0,ga._registerComponent)(new Do.wA(mT,n=>function oT(n){return{getToken:t=>Wf(n,t),addTokenListener:t=>function qw(n,t,e,i){const{app:r}=n,o=Hi(r),c={next:e,error:i,type:t};if(Ks(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&B_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),iT(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>iT(n))}(n,"INTERNAL",t),removeTokenListener:t=>$w(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ga.registerVersion)("@firebase/app-check","0.5.8")}();class z_{constructor(){return(0,kn.vb)("app-check")}}"undefined"!=typeof window&&window;var CT=F(127);const ET=new s.OlP("angularfire2.auth.use-emulator"),Kf=new s.OlP("angularfire2.auth.settings"),TT=new s.OlP("angularfire2.auth.tenant-id"),G_=new s.OlP("angularfire2.auth.langugage-code"),q_=new s.OlP("angularfire2.auth.use-device-language"),IT=new s.OlP("angularfire.auth.persistence"),Ct=(n,t,e,i,r,o,c,h)=>(0,ns.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),c)for(const[y,E]of Object.entries(c))f.settings[y]=E;return h&&f.setPersistence(h),f},[e,i,r,o,c,h]);let $_=(()=>{class n{constructor(e,i,r,o,c,h,f,y,E,I,M,P){const V=new mn.x,Q=bt(void 0).pipe((0,k_.Q)(c.outsideAngular),Ui(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8775)))),(0,k.U)(()=>(0,ns.on)(e,o,i)),(0,k.U)(ye=>Ct(ye,o,h,y,E,I,f,M)),R_({bufferSize:1,refCount:!1}));if(Ma(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Q.pipe(kl()).subscribe();const je=Q.pipe(Ui(rt=>rt.getRedirectResult().then(At=>At,()=>null)),kn.iC,R_({bufferSize:1,refCount:!1})),Je=Q.pipe(Ui(rt=>new Bi.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onAuthStateChanged(Ot=>At.next(Ot),Ot=>At.error(Ot),()=>At.complete()))})))),it=Q.pipe(Ui(rt=>new Bi.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onIdTokenChanged(Ot=>At.next(Ot),Ot=>At.error(Ot),()=>At.complete()))}))));this.authState=je.pipe(RE(Je),(0,Mw.R)(c.outsideAngular),(0,k_.Q)(c.insideAngular)),this.user=je.pipe(RE(it),(0,Mw.R)(c.outsideAngular),(0,k_.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ui(rt=>rt?(0,Vn.D)(rt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(Ui(rt=>rt?(0,Vn.D)(rt.getIdTokenResult()):bt(null))),this.credential=(0,M_.T)(je,V,this.authState.pipe(D(rt=>!rt))).pipe((0,k.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,Mw.R)(c.outsideAngular),(0,k_.Q)(c.insideAngular))}return(0,ns.pX)(this,Q,o,{spy:{apply:(ye,je,Je)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&Je.then(it=>V.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ns.Dh),s.LFG(ns.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kn.HU),s.LFG(ET,8),s.LFG(Kf,8),s.LFG(TT,8),s.LFG(G_,8),s.LFG(q_,8),s.LFG(IT,8),s.LFG(z_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yf=(()=>{class n{constructor(e,i){this.angularFireAuth=e,this._router=i,this.isAuth=!1,this.isAuthContent=new $s(this.isAuth),this.isAuthExpose=this.isAuthContent.asObservable(),this.angularFireAuth.authState.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthContent.next(!0),this._router.navigate(["pranavam/dashboard"])):(localStorage.removeItem("user"),this.isAuthContent.next(!1))})}isAuthenticated(){return null!=JSON.parse(localStorage.getItem("user"))}signIn(e,i){this.angularFireAuth.signInWithEmailAndPassword(e,i).then(r=>{}).catch(r=>{console.log("Something is wrong:",r.message)})}SignOut(){this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this._router.navigate(["login"])})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($_),s.LFG(Fr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yr=(()=>{class n{constructor(e,i){this._authService=e,this._router=i}canActivate(e,i){return!!this._authService.isAuthenticated()||(this._router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yf),s.LFG(Fr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K1(n,t){if(1&n&&s._UZ(0,"img",6),2&n){const e=s.oxw(2);s.Q6J("src",e.image,s.LSH)}}function Z_(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(3);s.Tol(e.icon),s.Q6J("ngClass","p-chip-icon")}}function W_(n,t){if(1&n&&s.YNc(0,Z_,1,3,"span",7),2&n){const e=s.oxw(2);s.Q6J("ngIf",e.icon)}}function li(n,t){if(1&n&&(s.TgZ(0,"div",9),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label)}}function xR(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).close(r)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.removeIcon),s.Q6J("ngClass","pi-chip-remove-icon")}}function ST(n,t){if(1&n&&(s.TgZ(0,"div",1),s.Hsn(1),s.YNc(2,K1,1,1,"img",2),s.YNc(3,W_,1,1,"ng-template",null,3,s.W1O),s.YNc(5,li,2,1,"div",4),s.YNc(6,xR,1,3,"span",5),s.qZA()),2&n){const e=s.MAs(4),i=s.oxw();s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.image)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.label),s.xp6(1),s.Q6J("ngIf",i.removable)}}const Y1=["*"];let Q1=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new s.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(e){this.visible=!1,this.onRemove.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove"},ngContentSelectors:Y1,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,ST,7,8,"div",0)),2&e&&s.Q6J("ngIf",i.visible)},directives:[Ft,Tn,Oi],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),xT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})(),DT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:144,vars:0,consts:[[1,"container-fluid","p-0"],[1,"h3","mb-3"],[1,"row"],[1,"col-12","col-lg-4","col-xxl-3","d-flex"],[1,"card","flex-fill","w-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body","d-flex","w-100"],[1,"align-self-center","chart","chart-lg","tile"],["label","Action","styleClass","mr-2"],["label","Comedy","styleClass","mr-2"],["label","Mystery","styleClass","mr-2"],["label","ComedyComedyComedyComedy","styleClass","mr-2"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1)(2,"strong"),s._uU(3,"Analytics"),s.qZA(),s._uU(4," Dashboard"),s.qZA(),s.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"h5",6),s._uU(10,"Monthly Sales"),s.qZA()(),s.TgZ(11,"div",7)(12,"div",8),s._UZ(13,"p-chip",9)(14,"br")(15,"p-chip",10)(16,"br")(17,"p-chip",11)(18,"br")(19,"p-chip",9)(20,"br")(21,"p-chip",10)(22,"br")(23,"p-chip",11)(24,"br")(25,"p-chip",9)(26,"br")(27,"p-chip",10)(28,"br")(29,"p-chip",11)(30,"br")(31,"p-chip",9)(32,"br")(33,"p-chip",10)(34,"br")(35,"p-chip",11)(36,"br")(37,"p-chip",9)(38,"br")(39,"p-chip",10)(40,"br")(41,"p-chip",11)(42,"br")(43,"p-chip",9)(44,"br")(45,"p-chip",10)(46,"br")(47,"p-chip",11)(48,"br")(49,"p-chip",9)(50,"br")(51,"p-chip",10)(52,"br")(53,"p-chip",11)(54,"br"),s.qZA()()()(),s.TgZ(55,"div",3)(56,"div",4)(57,"div",5)(58,"h5",6),s._uU(59,"Monthly Sales"),s.qZA()(),s.TgZ(60,"div",7)(61,"div",8),s._UZ(62,"p-chip",9)(63,"br")(64,"p-chip",10)(65,"br")(66,"p-chip",11)(67,"br")(68,"p-chip",9)(69,"br")(70,"p-chip",10)(71,"br")(72,"p-chip",11)(73,"br")(74,"p-chip",9)(75,"br")(76,"p-chip",10)(77,"br")(78,"p-chip",11)(79,"br")(80,"p-chip",9)(81,"br")(82,"p-chip",10)(83,"br")(84,"p-chip",11)(85,"br")(86,"p-chip",9)(87,"br")(88,"p-chip",10)(89,"br")(90,"p-chip",11)(91,"br")(92,"p-chip",9)(93,"br")(94,"p-chip",10)(95,"br")(96,"p-chip",11)(97,"br")(98,"p-chip",9)(99,"br")(100,"p-chip",10)(101,"br")(102,"p-chip",11)(103,"br"),s.qZA()()()(),s.TgZ(104,"div",3)(105,"div",4)(106,"div",5)(107,"h5",6),s._uU(108,"Monthly Sales"),s.qZA()(),s.TgZ(109,"div",7)(110,"div",8),s._UZ(111,"p-chip",9)(112,"p-chip",12)(113,"p-chip",11)(114,"p-chip",9)(115,"p-chip",10)(116,"p-chip",11)(117,"p-chip",9)(118,"p-chip",10)(119,"p-chip",11)(120,"p-chip",9)(121,"br")(122,"p-chip",10)(123,"br")(124,"p-chip",11)(125,"br")(126,"p-chip",9)(127,"br")(128,"p-chip",10)(129,"br")(130,"p-chip",11)(131,"br")(132,"p-chip",9)(133,"br")(134,"p-chip",10)(135,"br")(136,"p-chip",11)(137,"br")(138,"p-chip",9)(139,"br")(140,"p-chip",10)(141,"br")(142,"p-chip",11)(143,"br"),s.qZA()()()()()())},directives:[Q1],styles:[".tile[_ngcontent-%COMP%]{height:200px!important;max-height:200px;min-height:200px!important;overflow:scroll}"]}),n})();class ot{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,c,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((c=t.length)!=e.length)return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var f=t instanceof Date,y=e instanceof Date;if(f!=y)return!1;if(f&&y)return t.getTime()==e.getTime();var E=t instanceof RegExp,I=e instanceof RegExp;if(E!=I)return!1;if(E&&I)return t.toString()==e.toString();var M=Object.keys(t);if((c=M.length)!==Object.keys(e).length)return!1;for(o=c;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[h=M[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,c=i.length;o<c;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let c=0;c<i.length;c++)if(this.findIndexInList(i[c],r)>e){i.splice(c,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var tb=0;function Gh(){return"pr_id_"+ ++tb}var ji=function J1(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,c,h)=>{c&&(c.style.zIndex=String(((o,c)=>{let h=n.length>0?n[n.length-1]:{key:o,value:c},f=h.value+(h.key===o?0:c)+1;return n.push({key:o,value:f}),f})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(c=>c.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Qf=["*"];let vr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),cd=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[vr.STARTS_WITH,vr.CONTAINS,vr.NOT_CONTAINS,vr.ENDS_WITH,vr.EQUALS,vr.NOT_EQUALS],numeric:[vr.EQUALS,vr.NOT_EQUALS,vr.LESS_THAN,vr.LESS_THAN_OR_EQUAL_TO,vr.GREATER_THAN,vr.GREATER_THAN_OR_EQUAL_TO],date:[vr.DATE_IS,vr.DATE_IS_NOT,vr.DATE_BEFORE,vr.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new mn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),is=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();var ya=(()=>{return(n=ya||(ya={}))[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",ya;var n})();let ci=(()=>{class n{constructor(){this.requireConfirmationSource=new mn.x,this.acceptConfirmationSource=new mn.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),nb=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return ot.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r),c=ot.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==c.indexOf(o,c.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(ot.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,c){let h=[];if(e)for(let f of e)for(let y of i){let E=ot.resolveFieldData(f,y);if(this.filters[o](E,r,c)){h.push(f);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yn=(()=>{class n{constructor(){this.messageSource=new mn.x,this.clearSource=new mn.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Yc=(()=>{class n{constructor(){this.clickSource=new mn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AT=(()=>{class n{}return n.AND="and",n.OR="or",n})(),eD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Qf,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),zi=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Mo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();var Y_=F(4986);function Jf(){return(0,m.e)((n,t)=>{let e,i=!1;n.subscribe((0,b.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function ib(n,t=Ch.y){return n=null!=n?n:nD,(0,m.e)((e,i)=>{let r,o=!0;e.subscribe((0,b.x)(i,c=>{const h=t(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function nD(n,t){return n===t}F(8775);var at,iD=F(3942),AR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qc={},qh=qh||{},Nt=AR||self;function Q_(){}function J_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ll(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var rb="closure_uid_"+(1e9*Math.random()>>>0),sD=0;function oD(n,t,e){return n.call.apply(n.bind,arguments)}function aD(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function rr(n,t,e){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oD:aD).apply(null,arguments)}function X_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[r].apply(i,c)}}function Qs(){this.s=this.s,this.o=this.o}var MT={};Qs.prototype.s=!1,Qs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function rD(n){return Object.prototype.hasOwnProperty.call(n,rb)&&n[rb]||(n[rb]=++sD)}(this);delete MT[n]}},Qs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kT=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},sb=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function ob(n){return Array.prototype.concat.apply([],arguments)}function ab(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function $h(n){return/^[\s\xa0]*$/.test(n)}var rs,OT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Lr(n,t){return-1!=n.indexOf(t)}function ey(n,t){return n<t?-1:n>t?1:0}e:{var RT=Nt.navigator;if(RT){var PT=RT.userAgent;if(PT){rs=PT;break e}}rs=""}function Xf(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function NT(n){const t={};for(const e in n)t[e]=n[e];return t}var lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FT(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<lb.length;o++)e=lb[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function cb(n){return cb[" "](n),n}cb[" "]=Q_;var ty,n,dD=Lr(rs,"Opera"),Zh=Lr(rs,"Trident")||Lr(rs,"MSIE"),LT=Lr(rs,"Edge"),ub=LT||Zh,VT=Lr(rs,"Gecko")&&!(Lr(rs.toLowerCase(),"webkit")&&!Lr(rs,"Edge"))&&!(Lr(rs,"Trident")||Lr(rs,"MSIE"))&&!Lr(rs,"Edge"),BT=Lr(rs.toLowerCase(),"webkit")&&!Lr(rs,"Edge");function db(){var n=Nt.document;return n?n.documentMode:void 0}e:{var hb="",ny=(n=rs,VT?/rv:([^\);]+)(\)|;)/.exec(n):LT?/Edge\/([\d\.]+)/.exec(n):Zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BT?/WebKit\/(\S+)/.exec(n):dD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ny&&(hb=ny?ny[1]:""),Zh){var pb=db();if(null!=pb&&pb>parseFloat(hb)){ty=String(pb);break e}}ty=hb}var hD={};var UT=Nt.document&&Zh&&(db()||parseInt(ty,10))||void 0,fb=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",Q_,t),Nt.removeEventListener("test",Q_,t)}catch(e){}return n}();function Vr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function tg(n,t){if(Vr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(VT){e:{try{cb(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tg.Z.h.call(this)}}Vr.prototype.h=function(){this.defaultPrevented=!0},wr(tg,Vr);var gb={2:"touch",3:"pen",4:"mouse"};tg.prototype.h=function(){tg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ng="closure_listenable_"+(1e6*Math.random()|0),HT=0;function fD(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++HT,this.ca=this.fa=!1}function ig(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ry(n){this.src=n,this.g={},this.h=0}function sy(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=kT(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ig(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function jT(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}ry.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=jT(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new fD(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var mb="closure_lm_"+(1e6*Math.random()|0),Wh={};function zT(n,t,e,i,r){if(i&&i.once)return GT(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)zT(n,t[o],e,i,r);return null}return e=ay(e),n&&n[ng]?n.N(t,e,Ll(i)?!!i.capture:!!i,r):ud(n,t,e,!1,i,r)}function ud(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=Ll(r)?!!r.capture:!!r,h=_b(n);if(h||(n[mb]=h=new ry(n)),(e=h.add(t,e,i,c,o)).proxy)return e;if(i=function rg(){var t=mD;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)fb||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(qT(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function GT(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)GT(n,t[o],e,i,r);return null}return e=ay(e),n&&n[ng]?n.O(t,e,Ll(i)?!!i.capture:!!i,r):ud(n,t,e,!0,i,r)}function gD(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)gD(n,t[o],e,i,r);else i=Ll(i)?!!i.capture:!!i,e=ay(e),n&&n[ng]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=jT(o=n.g[t],e,i,r))&&(ig(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=_b(n))&&(t=n.g[t.toString()],n=-1,t&&(n=jT(t,e,i,r)),(e=-1<n?t[n]:null)&&oy(e))}function oy(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[ng])sy(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(qT(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=_b(t))?(sy(e,n),0==e.h&&(e.src=null,t[mb]=null)):ig(n)}}}function qT(n){return n in Wh?Wh[n]:Wh[n]="on"+n}function mD(n,t){if(n.ca)n=!0;else{t=new tg(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&oy(n),n=e.call(i,t)}return n}function _b(n){return(n=n[mb])instanceof ry?n:null}var yb="__closure_events_fn_"+(1e9*Math.random()>>>0);function ay(n){return"function"==typeof n?n:(n[yb]||(n[yb]=function(t){return n.handleEvent(t)}),n[yb])}function Gi(){Qs.call(this),this.i=new ry(this),this.P=this,this.I=null}function qi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Vr(t,n);else if(t instanceof Vr)t.target=t.target||n;else{var r=t;FT(t=new Vr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=dd(c,i,!0,t)&&r}if(r=dd(c=t.g=n,i,!0,t)&&r,r=dd(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=dd(c=t.g=e[o],i,!1,t)&&r}function dd(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var h=c.listener,f=c.ia||c.src;c.fa&&sy(n.i,c),r=!1!==h.call(f,i)&&r}}return r&&!i.defaultPrevented}wr(Gi,Qs),Gi.prototype[ng]=!0,Gi.prototype.removeEventListener=function(n,t,e,i){gD(this,n,t,e,i)},Gi.prototype.M=function(){if(Gi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ig(e[i]);delete n.g[t],n.h--}}this.I=null},Gi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Gi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var hd=Nt.JSON.stringify;function _D(){var n=ZT;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var wb,vb=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yD,n=>n.reset());class yD{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function vD(n){Nt.setTimeout(()=>{throw n},0)}function sg(n,t){wb||function MR(){var n=Nt.Promise.resolve(void 0);wb=function(){n.then(Kh)}}(),bb||(wb(),bb=!0),ZT.add(n,t)}var bb=!1,ZT=new class $T{constructor(){this.h=this.g=null}add(t,e){const i=vb.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Kh(){for(var n;n=_D();){try{n.h.call(n.g)}catch(e){vD(e)}var t=vb;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}bb=!1}function og(n,t){Gi.call(this),this.h=n||1,this.g=t||Nt,this.j=rr(this.kb,this),this.l=Date.now()}function Jc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function WT(n,t,e){if("function"==typeof n)e&&(n=rr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Nt.setTimeout(n,t||0)}function Cb(n){n.g=WT(()=>{n.g=null,n.i&&(n.i=!1,Cb(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}wr(og,Gi),(at=og.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qi(this,"tick"),this.da&&(Jc(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){og.Z.M.call(this),Jc(this),delete this.g};class wD extends Qs{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Cb(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ly(n){Qs.call(this),this.h=n,this.g={}}wr(ly,Qs);var Eb=[];function bD(n,t,e,i){Array.isArray(e)||(e&&(Eb[0]=e.toString()),e=Eb);for(var r=0;r<e.length;r++){var o=zT(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Tb(n){Xf(n.g,function(t,e){this.g.hasOwnProperty(e)&&oy(t)},n),n.g={}}function Yh(){this.g=!0}function pd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function JT(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return hd(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}ly.prototype.M=function(){ly.Z.M.call(this),Tb(this)},ly.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Aa=function(){this.g=!1},Yh.prototype.info=function(){};var Xc={},Ib=null;function ag(){return Ib=Ib||new Gi}function XT(n){Vr.call(this,Xc.Ma,n)}function Qh(n){const t=ag();qi(t,new XT(t,n))}function Jh(n,t){Vr.call(this,Xc.STAT_EVENT,n),this.stat=t}function Br(n){const t=ag();qi(t,new Jh(t,n))}function Sb(n,t){Vr.call(this,Xc.Na,n),this.size=t}function Xh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},t)}Xc.Ma="serverreachability",wr(XT,Vr),Xc.STAT_EVENT="statevent",wr(Jh,Vr),Xc.Na="timingevent",wr(Sb,Vr);var lg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Db(){}function tI(){}Db.prototype.h=null;var kb,cg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ab(){Vr.call(this,"d")}function Mb(){Vr.call(this,"c")}function eu(){}function ug(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new ly(this),this.P=Ya,this.W=new og(n=ub?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cy}function cy(){this.i=null,this.g="",this.h=!1}wr(Ab,Vr),wr(Mb,Vr),wr(eu,Db),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},kb=new eu;var Ya=45e3,Ob={},ep={};function fd(n,t,e){n.K=1,n.v=ip(va(t)),n.s=e,n.U=!0,nI(n,null)}function nI(n,t){n.F=Date.now(),tu(n),n.A=va(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),TD(e.h,"t",i),n.C=0,e=n.l.H,n.h=new cy,n.g=Zb(n.l,e?t:null,!n.s),0<n.O&&(n.L=new wD(rr(n.Ia,n,n.g),n.O)),bD(n.V,n.g,"readystatechange",n.gb),t=n.H?NT(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Qh(1),function KT(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),f=0;f<h.length;f++){var y=h[f].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");c=2<=I.length&&"type"==I[1]?c+(E+"=")+y+"&":c+(E+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function iI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function rI(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=uy(n,e),r==ep){4==t&&(n.o=4,Br(14),i=!1),pd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ob){n.o=4,Br(15),pd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}pd(n.j,n.m,r,null),dg(n,r)}iI(n)&&r!=ep&&r!=Ob&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Br(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Cy(t),t.L=!0,Br(11))):(pd(n.j,n.m,e,"[Invalid Chunked Response]"),nu(n),tp(n))}function uy(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?ep:(e=Number(t.substring(e,i)),isNaN(e)?Ob:(i+=1)+e>t.length?ep:(t=t.substr(i,e),n.C=i+e,t))}function tu(n){n.Y=Date.now()+n.P,sI(n,n.P)}function sI(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xh(rr(n.eb,n),t)}function dy(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function tp(n){0==n.l.G||n.I||qb(n.l,n)}function nu(n){dy(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Jc(n.W),Tb(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function dg(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||hg(e.i,n)))if(e.I=n.N,!n.J&&hg(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Xh(rr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;vg(e),zb(e)}AI(e),Br(18)}if(1>=wI(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else Ul(e,11)}else if((n.J||e.g==n)&&vg(e),!$h(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const E=y[3];null!=E&&(e.ma=E,e.h.info("VER="+e.ma));const I=y[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var o=i.i;!o.g&&(Lr(V,"spdy")||Lr(V,"quic")||Lr(V,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(my(o,o.h),o.h=null))}if(i.D){const Q=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,On(i.F,i.D,Q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=MI(i,i.H?i.la:null,i.W),c.J){Fb(i.i,c);var h=c,f=i.K;f&&h.setTimeout(f),h.B&&(dy(h),tu(h)),i.g=c}else yg(i);0<e.l.length&&Gb(e)}else"stop"!=y[0]&&"close"!=y[0]||Ul(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Ul(e,7):wy(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Qh(4)}catch(y){}}function Rb(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(J_(n)||"string"==typeof n)sb(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(J_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function oI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(J_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function np(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof np)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function aI(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Vl(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Vl(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Vl(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(at=ug.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const t=this.L;t&&3==Ja(n)?t.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const E=Ja(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>E)&&(3!=E||ub||this.g&&(this.h.h||this.g.ga()||Hb(this.g)))){this.I||4!=E||7==t||Qh(8==t||0>=I?3:2),dy(this);var e=this.g.ba();this.N=e;t:if(iI(this)){var i=Hb(this.g);n="";var r=i.length,o=4==Ja(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nu(this),tp(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function YT(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,E,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$h(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Br(12),nu(this),tp(this);break e}pd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dg(this,e)}this.U?(rI(this,E,c),ub&&this.i&&3==E&&(bD(this.V,this.W,"tick",this.fb),this.W.start())):(pd(this.j,this.m,c,null),dg(this,c)),4==E&&nu(this),this.i&&!this.I&&(4==E?qb(this.l,this):(this.i=!1,tu(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),nu(this),tp(this)}}}catch(E){}},at.fb=function(){if(this.g){var n=Ja(this.g),t=this.g.ga();this.C<t.length&&(dy(this),rI(this,n,t),this.i&&4!=n&&tu(this))}},at.cancel=function(){this.I=!0,nu(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function QT(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qh(3),Br(17)),nu(this),this.o=2,tp(this)):sI(this,this.Y-n)},(at=np.prototype).R=function(){aI(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},at.T=function(){return aI(this),this.g.concat()},at.get=function(n,t){return Vl(this.h,n)?this.h[n]:t},at.set=function(n,t){Vl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},at.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var hy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bl(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Bl){this.g=void 0!==t?t:n.g,py(this,n.j),this.s=n.s,fy(this,n.i),gy(this,n.m),this.l=n.l,t=n.h;var e=new $i;e.i=t.i,t.g&&(e.g=new np(t.g),e.h=t.h),cI(this,e),this.o=n.o}else n&&(e=String(n).match(hy))?(this.g=!!t,py(this,e[1]||"",!0),this.s=rp(e[2]||""),fy(this,e[3]||"",!0),gy(this,e[4]),this.l=rp(e[5]||"",!0),cI(this,e[6]||"",!0),this.o=rp(e[7]||"")):(this.g=!!t,this.h=new $i(null,this.g))}function va(n){return new Bl(n)}function py(n,t,e){n.j=e?rp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function fy(n,t,e){n.i=e?rp(t,!0):t}function gy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function cI(n,t,e){t instanceof $i?(n.h=t,function ID(n,t){t&&!n.j&&(Js(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(gI(this,i),TD(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=sp(t,pI)),n.h=new $i(t,n.g))}function On(n,t,e){n.h.set(t,e)}function ip(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,CD),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(sp(t,Pb,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(sp(t,Pb,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(sp(e,"/"==e.charAt(0)?ED:hI,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",sp(e,fI)),n.join("")};var Pb=/[#\/\?@]/g,hI=/[#\?:]/g,ED=/[#\?]/g,pI=/[#\?@]/g,fI=/#/g;function $i(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Js(n){n.g||(n.g=new np,n.h=0,n.i&&function lI(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function gI(n,t){Js(n),t=Qa(n,t),Vl(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Vl((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&aI(n)))}function mI(n,t){return Js(n),t=Qa(n,t),Vl(n.g.h,t)}function TD(n,t,e){gI(n,t),0<e.length&&(n.i=null,n.g.set(Qa(n,t),ab(e)),n.h+=e.length)}function Qa(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function _I(n){this.l=n||yI,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=$i.prototype).add=function(n,t){Js(this),this.i=null,n=Qa(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},at.forEach=function(n,t){Js(this),this.g.forEach(function(e,i){sb(e,function(r){n.call(t,r,i,this)},this)},this)},at.T=function(){Js(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},at.R=function(n){Js(this);var t=[];if("string"==typeof n)mI(this,n)&&(t=ob(t,this.g.get(Qa(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=ob(t,n[e])}return t},at.set=function(n,t){return Js(this),this.i=null,mI(this,n=Qa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},at.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var yI=10;function vI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wI(n){return n.h?1:n.g?n.g.size:0}function hg(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function my(n,t){n.g?n.g.add(t):n.h=t}function Fb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function pg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ab(n.i)}function fg(){}function kR(){this.g=new fg}function bI(n,t,e){const i=e||"";try{Rb(n,function(r,o){let c=r;Ll(r)&&(c=hd(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function gg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function iu(n){this.l=n.$b||null,this.j=n.ib||!1}function mg(n,t){Gi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Lb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_I.prototype.cancel=function(){if(this.i=pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fg.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},fg.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},wr(iu,Db),iu.prototype.g=function(){return new mg(this.l,this.j)},iu.prototype.i=function(n){return function(){return n}}({}),wr(mg,Gi);var Lb=0;function _y(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function gd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yy(n)}function yy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=mg.prototype).open=function(n,t){if(this.readyState!=Lb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,yy(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Nt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gd(this)),this.readyState=Lb},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yy(this)),this.g&&(this.readyState=3,yy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_y(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?gd(this):yy(this),3==this.readyState&&_y(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,gd(this))},at.Ta=function(n){this.g&&(this.response=n,gd(this))},at.ha=function(){this.g&&gd(this)},at.setRequestHeader=function(n,t){this.v.append(n,t)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(mg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xD=Nt.JSON.parse;function Si(n){Gi.call(this),this.headers=new np,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vb,this.K=this.L=!1}wr(Si,Gi);var Vb="",CI=/^https?$/i,DD=["POST","PUT"];function TI(n){return"content-type"==n.toLowerCase()}function II(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,SI(n),vy(n)}function SI(n){n.D||(n.D=!0,qi(n,"complete"),qi(n,"error"))}function Bb(n){if(n.h&&void 0!==qh&&(!n.C[1]||4!=Ja(n)||2!=n.ba()))if(n.v&&4==Ja(n))WT(n.Fa,0,n);else if(qi(n,"readystatechange"),4==Ja(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(hy)[1]||null;if(!r&&Nt.self&&Nt.self.location){var o=Nt.self.location.protocol;r=o.substr(0,o.length-1)}i=!CI.test(r?r.toLowerCase():"")}e=i}if(e)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var c=2<Ja(n)?n.g.statusText:""}catch(f){c=""}n.j=c+" ["+n.ba()+"]",SI(n)}}finally{vy(n)}}}function vy(n,t){if(n.g){Ub(n);const e=n.g,i=n.C[0]?Q_:null;n.g=null,n.C=null,t||qi(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Ub(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function Ja(n){return n.g?n.g.readyState:0}function Hb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Vb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jb(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function xI(n){let t="";return Xf(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):On(n,t,e))}function _g(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function AD(n){this.za=0,this.l=[],this.h=new Yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_g("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_g("baseRetryDelayMs",5e3,n),this.$a=_g("retryDelaySeedMs",1e4,n),this.Ya=_g("forwardChannelMaxRetries",2,n),this.ra=_g("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _I(n&&n.concurrentRequestLimit),this.Ca=new kR,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function wy(n){if(MD(n),3==n.G){var t=n.V++,e=va(n.F);On(e,"SID",n.J),On(e,"RID",t),On(e,"TYPE","terminate"),by(n,e),(t=new ug(n,n.h,t,void 0)).K=2,t.v=ip(va(e)),e=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(e=Nt.navigator.sendBeacon(t.v.toString(),"")),!e&&Nt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Zb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tu(t)}$b(n)}function zb(n){n.g&&(Cy(n),n.g.cancel(),n.g=null)}function MD(n){zb(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),vg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function DI(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Gb(n)}function Gb(n){vI(n.i)||n.m||(n.m=!0,sg(n.Ha,n),n.C=0)}function kD(n,t){var e;e=t?t.m:n.V++;const i=va(n.F);On(i,"SID",n.J),On(i,"RID",e),On(i,"AID",n.U),by(n,i),n.o&&n.s&&jb(i,n.o,n.s),e=new ug(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=OD(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),my(n.i,e),fd(e,i,t)}function by(n,t){n.j&&Rb({},function(e,i){On(t,i,e)})}function OD(n,t,e){e=Math.min(n.l.length,e);var i=n.j?rr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let f=0;f<e;f++){let y=r[f].h;const E=r[f].g;if(y-=o,0>y)o=Math.max(0,r[f].h-100),h=!1;else try{bI(E,c,"req"+y+"_")}catch(I){i&&i(E)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function yg(n){n.g||n.u||(n.Y=1,sg(n.Ga,n),n.A=0)}function AI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xh(rr(n.Ga,n),RD(n,n.A)),n.A++,0))}function Cy(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Ey(n){n.g=new ug(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=va(n.oa);On(t,"RID","rpc"),On(t,"SID",n.J),On(t,"CI",n.N?"0":"1"),On(t,"AID",n.U),by(n,t),On(t,"TYPE","xmlhttp"),n.o&&n.s&&jb(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=ip(va(t)),e.s=null,e.U=!0,nI(e,n)}function vg(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function qb(n,t){var e=null;if(n.g==t){vg(n),Cy(n),n.g=null;var i=2}else{if(!hg(n.i,t))return;e=t.D,Fb(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;qi(i=ag(),new Sb(i,e,t,r)),Gb(n)}else yg(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function OR(n,t){return!(wI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xh(rr(n.Ha,n,t),RD(n,n.C)),n.C++,0)))}(n,t)||2==i&&AI(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Ul(n,5);break;case 4:Ul(n,10);break;case 3:Ul(n,6);break;default:Ul(n,2)}}function RD(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Ul(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=rr(n.jb,n);e||(e=new Bl("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||py(e,"https"),ip(e)),function SD(n,t){const e=new Yh;if(Nt.Image){const i=new Image;i.onload=X_(gg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=X_(gg,e,i,"TestLoadImage: error",!1,t),i.onabort=X_(gg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=X_(gg,e,i,"TestLoadImage: timeout",!1,t),Nt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Br(2);n.G=0,n.j&&n.j.va(t),$b(n),MD(n)}function $b(n){n.G=0,n.I=-1,n.j&&((0!=pg(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ab(n.l),n.l.length=0),n.j.ua())}function MI(n,t,e){let i=function uI(n){return n instanceof Bl?va(n):new Bl(n,void 0)}(e);if(""!=i.i)t&&fy(i,t+"."+i.i),gy(i,i.m);else{const r=Nt.location;i=function dI(n,t,e,i){var r=new Bl(null,void 0);return n&&py(r,n),t&&fy(r,t),e&&gy(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Xf(n.aa,function(r,o){On(i,o,r)}),e=n.sa,(t=n.D)&&e&&On(i,t,e),On(i,"VER",n.ma),by(n,i),i}function Zb(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Si(e&&n.Ba&&!n.qa?new iu({ib:!0}):n.qa)).L=n.H,t}function PD(){}function Ty(){if(Zh&&!(10<=Number(UT)))throw Error("Environmental error: no available transport.")}function Xs(n,t){Gi.call(this),this.g=new AD(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!$h(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$h(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new wg(this)}function Iy(n){Ab.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function kI(){Mb.call(this),this.status=1}function wg(n){this.g=n}(at=Si.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kb.g(),this.C=function eI(n){return n.h||(n.h=n.i())}(this.u?this.u:kb),this.g.onreadystatechange=rr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void II(this,o)}n=e||"";const r=new np(this.headers);i&&Rb(i,function(o,c){r.set(c,o)}),i=function cD(n){e:{var t=TI;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Nt.FormData&&n instanceof Nt.FormData,!(0<=kT(DD,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ub(this),0<this.B&&((this.K=function EI(n){return Zh&&function pD(){return function uD(n){var t=hD;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=OT(String(ty)).split("."),e=OT("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=ey(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||ey(0==r[2].length,0==o[2].length)||ey(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.pa,this)):this.A=WT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){II(this,o)}},at.pa=function(){void 0!==qh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),vy(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vy(this,!0)),Si.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?Bb(this):this.cb())},at.cb=function(){Bb(this)},at.ba=function(){try{return 2<Ja(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),xD(t)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=AD.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new ug(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=NT(o),FT(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=OD(this,r,t),On(e=va(this.F),"RID",n),On(e,"CVER",22),this.D&&On(e,"X-HTTP-Session-Id",this.D),by(this,e),this.o&&o&&jb(e,this.o,o),my(this.i,r),this.Ra&&On(e,"TYPE","init"),this.ja?(On(e,"$req",t),On(e,"SID","null"),r.$=!0,fd(r,e,null)):fd(r,e,t),this.G=2}}else 3==this.G&&(n?kD(this,n):0==this.l.length||vI(this.i)||kD(this))},at.Ga=function(){if(this.u=null,Ey(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xh(rr(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Br(10),zb(this),Ey(this))},at.ab=function(){null!=this.v&&(this.v=null,zb(this),AI(this),Br(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Br(2)):(this.h.info("Failed to ping google.com"),Br(1))},(at=PD.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},Ty.prototype.g=function(n,t){return new Xs(n,t)},wr(Xs,Gi),Xs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),sg(rr(n.hb,n,t))),Br(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=MI(n,null,n.W),Gb(n)},Xs.prototype.close=function(){wy(this.g)},Xs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,DI(this.g,t)}else this.v?((t={}).__data__=hd(n),DI(this.g,t)):DI(this.g,n)},Xs.prototype.M=function(){this.g.j=null,delete this.j,wy(this.g),delete this.g,Xs.Z.M.call(this)},wr(Iy,Ab),wr(kI,Mb),wr(wg,PD),wg.prototype.xa=function(){qi(this.g,"a")},wg.prototype.wa=function(n){qi(this.g,new Iy(n))},wg.prototype.va=function(n){qi(this.g,new kI(n))},wg.prototype.ua=function(){qi(this.g,"b")},Ty.prototype.createWebChannel=Ty.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,lg.NO_ERROR=0,lg.TIMEOUT=8,lg.HTTP_ERROR=6,xb.COMPLETE="complete",tI.EventType=cg,cg.OPEN="a",cg.CLOSE="b",cg.ERROR="c",cg.MESSAGE="d",Gi.prototype.listen=Gi.prototype.N,Si.prototype.listenOnce=Si.prototype.O,Si.prototype.getLastError=Si.prototype.La,Si.prototype.getLastErrorCode=Si.prototype.Da,Si.prototype.getStatus=Si.prototype.ba,Si.prototype.getResponseJson=Si.prototype.Qa,Si.prototype.getResponseText=Si.prototype.ga,Si.prototype.send=Si.prototype.ea;var RR=Qc.createWebChannelTransport=function(){return new Ty},PR=Qc.getStatEventTarget=function(){return ag()},Wb=Qc.ErrorCode=lg,ND=Qc.EventType=xb,FD=Qc.Event=Xc,LD=Qc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},VD=Qc.FetchXmlHttpFactory=iu,op=Qc.WebChannel=tI,BD=Qc.XhrIo=Si;const ko="@firebase/firestore";class br{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let ru="9.8.0";const su=new Ws.Yd("@firebase/firestore");function Kb(){return su.logLevel}function Ve(n,...t){if(su.logLevel<=Ws.in.DEBUG){const e=t.map(Sy);su.debug(`Firestore (${ru}): ${n}`,...e)}}function fi(n,...t){if(su.logLevel<=Ws.in.ERROR){const e=t.map(Sy);su.error(`Firestore (${ru}): ${n}`,...e)}}function bg(n,...t){if(su.logLevel<=Ws.in.WARN){const e=t.map(Sy);su.warn(`Firestore (${ru}): ${n}`,...e)}}function Sy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ct(n="Unexpected state"){const t=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+n;throw fi(t),new Error(t)}function Mt(n,t){n||ct()}function We(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(br.UNAUTHENTICATED))}shutdown(){}}class HD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class jD{constructor(t){this.t=t,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;t.enqueueRetryable((0,Te.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},f=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt("string"==typeof i.accessToken),new OI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Mt(null===t||"string"==typeof t),new br(t)}}class zD{constructor(t,e,i){this.type="FirstParty",this.user=br.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class RI{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new zD(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GD{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mt("string"==typeof e.token),this.p=e.token,new PI(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ss{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function NI(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}ss.A=-1;class FI{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=NI(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Bt(n,t){return n<t?-1:n>t?1:0}function md(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function xy(n){return n+"\0"}class Qn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qn.fromMillis(Date.now())}static fromDate(t){return Qn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Qn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new Qn(0,0))}static max(){return new St(new Qn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LI(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ou(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Qb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Cg{constructor(t,e,i){void 0===e?e=0:e>t.length&&ct(),void 0===i?i=t.length-e:i>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Cg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Cg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class on extends Cg{construct(t,e,i){return new on(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new on(e)}static emptyPath(){return new on([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Cg{construct(t,e,i){return new sr(t,e,i)}static isValidIdentifier(t){return FR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Re(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Re(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Re(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sr(e)}static emptyPath(){return new sr([])}}class _d{constructor(t){this.fields=t,t.sort(sr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return md(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Wi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Wi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Wi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yd(n){if(Mt(!!n),"string"==typeof n){let t=0;const e=$D.exec(n);if(Mt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ap(n){return"string"==typeof n?Wi.fromBase64String(n):Wi.fromUint8Array(n)}function VI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ZD(n){const t=n.mapValue.fields.__previous_value__;return VI(t)?ZD(t):t}function Eg(n){const t=yd(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(t.seconds,t.nanos)}class Dy{constructor(t,e,i,r,o,c,h,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class Hl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}function Tg(n){return null==n}function lp(n){return 0===n&&1/n==-1/0}function au(n){return"number"==typeof n&&Number.isInteger(n)&&!lp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class qe{constructor(t){this.path=t}static fromPath(t){return new qe(on.fromString(t))}static fromName(t){return new qe(on.fromString(t).popFirst(5))}static empty(){return new qe(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===on.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return on.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qe(new on(t.slice()))}}const Xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cp={nullValue:"NULL_VALUE"};function vd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?VI(n)?4:Jb(n)?9007199254740991:10:ct()}function Oo(n,t){if(n===t)return!0;const e=vd(n);if(e!==vd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Eg(n).isEqual(Eg(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=yd(i.timestampValue),c=yd(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ap(n.bytesValue).isEqual(ap(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return gi(i.geoPointValue.latitude)===gi(r.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return gi(i.integerValue)===gi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=gi(i.doubleValue),c=gi(r.doubleValue);return o===c?lp(o)===lp(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return md(n.arrayValue.values||[],t.arrayValue.values||[],Oo);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(LI(o)!==LI(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Oo(o[h],c[h])))return!1;return!0}(n,t);default:return ct()}var r}function wd(n,t){return void 0!==(n.values||[]).find(e=>Oo(e,t))}function wa(n,t){if(n===t)return 0;const e=vd(n),i=vd(t);if(e!==i)return Bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=gi(r.integerValue||r.doubleValue),h=gi(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return WD(n.timestampValue,t.timestampValue);case 4:return WD(Eg(n),Eg(t));case 5:return Bt(n.stringValue,t.stringValue);case 6:return function(r,o){const c=ap(r),h=ap(o);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let f=0;f<c.length&&f<h.length;f++){const y=Bt(c[f],h[f]);if(0!==y)return y}return Bt(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=Bt(gi(r.latitude),gi(o.latitude));return 0!==c?c:Bt(gi(r.longitude),gi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let f=0;f<c.length&&f<h.length;++f){const y=wa(c[f],h[f]);if(y)return y}return Bt(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Xa.mapValue&&o===Xa.mapValue)return 0;if(r===Xa.mapValue)return 1;if(o===Xa.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),f=o.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const I=Bt(h[E],y[E]);if(0!==I)return I;const M=wa(c[h[E]],f[y[E]]);if(0!==M)return M}return Bt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw ct()}}function WD(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Bt(n,t);const e=yd(n),i=yd(t),r=Bt(e.seconds,i.seconds);return 0!==r?r:Bt(e.nanos,i.nanos)}function Ig(n){return BI(n)}function BI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=yd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ap(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=BI(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${BI(i.fields[h])}`;return o+"}"}(n.mapValue):ct();var t}function up(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ay(n){return!!n&&"integerValue"in n}function Sg(n){return!!n&&"arrayValue"in n}function UI(n){return!!n&&"nullValue"in n}function HI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function My(n){return!!n&&"mapValue"in n}function dp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ou(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=dp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=dp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Jb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function jI(n){return"nullValue"in n?cp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?up(Hl.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function KD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?up(Hl.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Xa:ct()}function zI(n,t){const e=wa(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Xb(n,t){const e=wa(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class or{constructor(t){this.value=t}static empty(){return new or({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!My(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dp(e)}setAll(t){let e=sr.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=dp(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());My(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Oo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];My(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ou(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new or(dp(this.value))}}function YD(n){const t=[];return ou(n.fields,(e,i)=>{const r=new sr([e]);if(My(i)){const o=YD(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new _d(t)}class xn{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new xn(t,0,St.min(),St.min(),or.empty(),0)}static newFoundDocument(t,e,i){return new xn(t,1,e,St.min(),i,0)}static newNoDocument(t,e){return new xn(t,2,e,St.min(),or.empty(),0)}static newUnknownDocument(t,e){return new xn(t,3,e,St.min(),or.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function eC(n){return n.fields.find(t=>2===t.kind)}function bd(n){return n.fields.filter(t=>2!==t.kind)}hp.UNKNOWN_ID=-1;class tC{constructor(t,e){this.fieldPath=t,this.kind=e}}class ky{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new ky(0,el.min())}}function GI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new Qn(e+1,0):new Qn(e,i));return new el(r,qe.empty(),t)}function QD(n){return new el(n.readTime,n.key,-1)}class el{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new el(St.min(),qe.empty(),-1)}static max(){return new el(St.max(),qe.empty(),-1)}}function JD(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qe.comparator(n.documentKey,t.documentKey),0!==e?e:Bt(n.largestBatchId,t.largestBatchId))}class xi{constructor(t,e){this.comparator=t,this.root=e||Ur.EMPTY}insert(t,e){return new xi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(t){return new xi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nC(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nC(this.root,t,this.comparator,!1)}getReverseIterator(){return new nC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nC(this.root,t,this.comparator,!0)}}class nC{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ur{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:Ur.RED,this.left=null!=r?r:Ur.EMPTY,this.right=null!=o?o:Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ur(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ur.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ur(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(t){this.comparator=t,this.data=new xi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XD(this.data.getIterator())}getIteratorFrom(t){return new XD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Dn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Dn(this.comparator);return e.data=t,e}}class XD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xg(n){return n.hasNext()?n.getNext():void 0}class LR{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.P=null}}function eA(n,t=null,e=[],i=[],r=null,o=null,c=null){return new LR(n,t,e,i,r,o,c)}function a(n){const t=We(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ig(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Tg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ig(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ig(i)).join(",")),t.P=e}return t.P}function u(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Me(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Oo(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Zt(n.startAt,t.startAt)&&Zt(n.endAt,t.endAt)}function d(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function p(n,t){return n.filters.filter(e=>e instanceof C&&e.field.isEqual(t))}function _(n,t,e){let i=cp,r=!0;for(const o of p(n,t)){let c=cp,h=!0;switch(o.op){case"<":case"<=":c=jI(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=cp}zI({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];zI({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function w(n,t,e){let i=Xa,r=!0;for(const o of p(n,t)){let c=Xa,h=!0;switch(o.op){case">=":case">":c=KD(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Xa}Xb({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];Xb({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class C extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new T(t,e,i):"array-contains"===e?new j(t,i):"in"===e?new X(t,i):"not-in"===e?new be(t,i):"array-contains-any"===e?new Be(t,i):new C(t,e,i)}static V(t,e,i){return"in"===e?new A(t,i):new O(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(wa(e,this.value)):null!==e&&vd(this.value)===vd(e)&&this.v(wa(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class T extends C{constructor(t,e,i){super(t,e,i),this.key=qe.fromName(i.referenceValue)}matches(t){const e=qe.comparator(t.key,this.key);return this.v(e)}}class A extends C{constructor(t,e){super(t,"in",e),this.keys=B(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class O extends C{constructor(t,e){super(t,"not-in",e),this.keys=B(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function B(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>qe.fromName(i.referenceValue))}class j extends C{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Sg(e)&&wd(e.arrayValue,this.value)}}class X extends C{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&wd(this.value.arrayValue,e)}}class be extends C{constructor(t,e){super(t,"not-in",e)}matches(t){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!wd(this.value.arrayValue,e)}}class Be extends C{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Sg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>wd(this.value.arrayValue,i))}}class Ue{constructor(t,e){this.position=t,this.inclusive=e}}class nt{constructor(t,e="asc"){this.field=t,this.dir=e}}function Me(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function yt(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?qe.comparator(qe.fromName(c.referenceValue),e.key):wa(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Zt(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Oo(n.position[e],t.position[e]))return!1;return!0}class Wt{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.D=null,this.C=null}}function xs(n,t,e,i,r,o,c,h){return new Wt(n,t,e,i,r,o,c,h)}function Ro(n){return new Wt(n)}function Dg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ag(n){for(const t of n.filters)if(t.S())return t.field;return null}function Mg(n){return null!==n.collectionGroup}function lu(n){const t=We(n);if(null===t.D){t.D=[];const e=Ag(t),i=Dg(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new nt(e)),t.D.push(new nt(sr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new nt(sr.keyField(),o))}}}return t.D}function Ds(n){const t=We(n);if(!t.C)if("F"===t.limitType)t.C=eA(t.path,t.collectionGroup,lu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of lu(t))e.push(new nt(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Ue(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ue(t.startAt.position,t.startAt.inclusive):null;t.C=eA(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function Oy(n,t,e){return new Wt(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cd(n,t){return u(Ds(n),Ds(t))&&n.limitType===t.limitType}function Ry(n){return`${a(Ds(n))}|lt:${n.limitType}`}function tA(n){return`Query(target=${function l(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Ig(i.value)}`;var i}).join(", ")}]`),Tg(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Ig(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Ig(e)).join(",")),`Target(${t})`}(Ds(n))}; limitType=${n.limitType})`}function nA(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const h=yt(r,o,c);return r.inclusive?h<=0:h<0}(e.startAt,lu(e),i)||e.endAt&&!function(r,o,c){const h=yt(r,o,c);return r.inclusive?h>=0:h>0}(e.endAt,lu(e),i)));var e,i}function VR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BR(n){return(t,e)=>{let i=!1;for(const r of lu(n)){const o=GB(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function GB(n,t,e){const i=n.field.isKeyField()?qe.comparator(t.key,e.key):function(r,o,c){const h=o.data.field(r),f=c.data.field(r);return null!==h&&null!==f?wa(h,f):ct()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}function UR(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(t)?"-0":t}}function HR(n){return{integerValue:""+n}}function jR(n,t){return au(t)?HR(t):UR(n,t)}class qI{constructor(){this._=void 0}}function qB(n,t,e){return n instanceof Py?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof kg?GR(n,t):n instanceof Og?qR(n,t):function(i,r){const o=zR(i,r),c=$R(o)+$R(i.k);return Ay(o)&&Ay(i.k)?HR(c):UR(i.M,c)}(n,t)}function $B(n,t,e){return n instanceof kg?GR(n,t):n instanceof Og?qR(n,t):e}function zR(n,t){return n instanceof Ny?Ay(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Py extends qI{}class kg extends qI{constructor(t){super(),this.elements=t}}function GR(n,t){const e=ZR(t);for(const i of n.elements)e.some(r=>Oo(r,i))||e.push(i);return{arrayValue:{values:e}}}class Og extends qI{constructor(t){super(),this.elements=t}}function qR(n,t){let e=ZR(t);for(const i of n.elements)e=e.filter(r=>!Oo(r,i));return{arrayValue:{values:e}}}class Ny extends qI{constructor(t,e){super(),this.M=t,this.k=e}}function $R(n){return gi(n.integerValue||n.doubleValue)}function ZR(n){return Sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rC{constructor(t,e){this.field=t,this.transform=e}}class WB{constructor(t,e){this.version=t,this.transformResults=e}}class ar{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $I(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ZI{}function KB(n,t,e){n instanceof sC?function(i,r,o){const c=i.value.clone(),h=QR(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Rg?function(i,r,o){if(!$I(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=QR(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(YR(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function iA(n,t,e){var r;n instanceof sC?function(i,r,o){if(!$I(i.precondition,r))return;const c=i.value.clone(),h=JR(i.fieldTransforms,o,r);c.setAll(h),r.convertToFoundDocument(KR(r),c).setHasLocalMutations()}(n,t,e):n instanceof Rg?function(i,r,o){if(!$I(i.precondition,r))return;const c=JR(i.fieldTransforms,o,r),h=r.data;h.setAll(YR(i)),h.setAll(c),r.convertToFoundDocument(KR(r),h).setHasLocalMutations()}(n,t,e):$I(n.precondition,r=t)&&r.convertToNoDocument(St.min())}function YB(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=zR(i.transform,r||null);null!=o&&(null==e&&(e=or.empty()),e.set(i.field,o))}return e||null}function WR(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&md(e,i,(r,o)=>function ZB(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof kg&&i instanceof kg||e instanceof Og&&i instanceof Og?md(e.elements,i.elements,Oo):e instanceof Ny&&i instanceof Ny?Oo(e.k,i.k):e instanceof Py&&i instanceof Py);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function KR(n){return n.isFoundDocument()?n.version:St.min()}class sC extends ZI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Rg extends ZI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function YR(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function QR(n,t,e){const i=new Map;Mt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,$B(c,h,e[r]))}return i}function JR(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,qB(o,c,t))}return i}class oC extends ZI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class rA extends ZI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class QB{constructor(t){this.count=t}}var lr,un;function XR(n){switch(n){default:return ct();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function eP(n){if(void 0===n)return fi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case lr.OK:return ue.OK;case lr.CANCELLED:return ue.CANCELLED;case lr.UNKNOWN:return ue.UNKNOWN;case lr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case lr.INTERNAL:return ue.INTERNAL;case lr.UNAVAILABLE:return ue.UNAVAILABLE;case lr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case lr.NOT_FOUND:return ue.NOT_FOUND;case lr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case lr.ABORTED:return ue.ABORTED;case lr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case lr.DATA_LOSS:return ue.DATA_LOSS;default:return ct()}}(un=lr||(lr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class pp{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ou(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}const JB=new xi(qe.comparator);function tl(){return JB}const XB=new xi(qe.comparator);function sA(...n){let t=XB;for(const e of n)t=t.insert(e.key,e);return t}function aC(){return new pp(n=>n.toString(),(n,t)=>n.isEqual(t))}const e3=new xi(qe.comparator),t3=new Dn(qe.comparator);function bn(...n){let t=t3;for(const e of n)t=t.add(e);return t}const n3=new Dn(Bt);function WI(){return n3}class lC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,cC.createSynthesizedTargetChangeForCurrentChange(t,e)),new lC(St.min(),i,WI(),tl(),bn())}}class cC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new cC(Wi.EMPTY_BYTE_STRING,e,bn(),bn(),bn())}}class KI{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class tP{constructor(t,e){this.targetId=t,this.$=e}}class nP{constructor(t,e,i=Wi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class iP{constructor(){this.B=0,this.L=sP(),this.U=Wi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=bn(),e=bn(),i=bn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new cC(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=sP()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class i3{constructor(t){this.nt=t,this.st=new Map,this.it=tl(),this.rt=rP(),this.ot=new Dn(Bt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(d(o))if(0===i){const c=new qe(o.path);this.ct(e,c,xn.newNoDocument(c,St.min()))}else Mt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,c)=>{const h=this.wt(c);if(h){if(o.current&&d(h.target)){const f=new qe(h.target.path);null!==this.it.get(f)||this.It(c,f)||this.ct(c,f,xn.newNoDocument(f,t))}o.j&&(e.set(c,o.H()),o.J())}});let i=bn();this.rt.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const y=this.wt(f);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,c)=>c.setReadTime(t));const r=new lC(t,e,this.ot,this.it,i);return this.it=tl(),this.rt=rP(),this.ot=new Dn(Bt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new iP,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Dn(Bt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new iP),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function rP(){return new xi(qe.comparator)}function sP(){return new xi(qe.comparator)}const r3={asc:"ASCENDING",desc:"DESCENDING"},s3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class o3{constructor(t,e){this.databaseId=t,this.N=e}}function uC(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oP(n,t){return n.N?t.toBase64():t.toUint8Array()}function a3(n,t){return uC(n,t.toTimestamp())}function Hr(n){return Mt(!!n),St.fromTimestamp(function(t){const e=yd(t);return new Qn(e.seconds,e.nanos)}(n))}function oA(n,t){return(e=n,new on(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function aP(n){const t=on.fromString(n);return Mt(mP(t)),t}function dC(n,t){return oA(n.databaseId,t.path)}function cu(n,t){const e=aP(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qe(cP(e))}function aA(n,t){return oA(n.databaseId,t)}function lP(n){const t=aP(n);return 4===t.length?on.emptyPath():cP(t)}function hC(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cP(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uP(n,t,e){return{name:dC(n,t),fields:e.value.mapValue.fields}}function dP(n,t,e){const i=cu(n,t.name),r=Hr(t.updateTime),o=new or({mapValue:{fields:t.fields}}),c=xn.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function pC(n,t){let e;if(t instanceof sC)e={update:uP(n,t.key,t.value)};else if(t instanceof oC)e={delete:dC(n,t.key)};else if(t instanceof Rg)e={update:uP(n,t.key,t.data),updateMask:m3(t.fieldMask)};else{if(!(t instanceof rA))return ct();e={verify:dC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Py)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Og)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ny)return{fieldPath:o.field.canonicalString(),increment:c.k};throw ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:a3(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),e;var r}function lA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ar.updateTime(Hr(r.updateTime)):void 0!==r.exists?ar.exists(r.exists):ar.none():ar.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Mt("REQUEST_TIME"===c.setToServerValue),h=new Py):"appendMissingElements"in c?h=new kg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Og(c.removeAllFromArray.values||[]):"increment"in c?h=new Ny(o,c.increment):ct();const f=sr.fromServerFormat(c.fieldPath);return new rC(f,h)}(n,r)):[];var r;if(t.update){const r=cu(n,t.update.name),o=new or({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new _d((t.updateMask.fieldPaths||[]).map(y=>sr.fromServerFormat(y)));return new Rg(r,o,c,e,i)}return new sC(r,o,e,i)}if(t.delete){const r=cu(n,t.delete);return new oC(r,e)}if(t.verify){const r=cu(n,t.verify);return new rA(r,e)}return ct()}function hP(n,t){return{documents:[aA(n,t.path)]}}function pP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=aA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=aA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(E=>function(I){if("=="===I.op){if(HI(I.value))return{unaryFilter:{field:Fy(I.field),op:"IS_NAN"}};if(UI(I.value))return{unaryFilter:{field:Fy(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(HI(I.value))return{unaryFilter:{field:Fy(I.field),op:"IS_NOT_NAN"}};if(UI(I.value))return{unaryFilter:{field:Fy(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fy(I.field),op:p3(I.op),value:I.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(y=>{return{field:Fy((E=y).field),direction:h3(E.dir)};var E})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(y=t.limit,n.N||Tg(y)?y:{value:y});var y,h,f;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function fP(n){let t=lP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Mt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let o=[];e.where&&(o=gP(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(E=>{return new nt(Ly((I=E).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(E){let I;return I="object"==typeof E?E.value:E,Tg(I)?null:I}(e.limit));let f=null;var E;e.startAt&&(f=new Ue((E=e.startAt).values||[],!!E.before));let y=null;return e.endAt&&(y=function(E){return new Ue(E.values||[],!E.before)}(e.endAt)),xs(t,r,c,o,h,"F",f,y)}function gP(n){return n?void 0!==n.unaryFilter?[g3(n)]:void 0!==n.fieldFilter?[f3(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>gP(t)).reduce((t,e)=>t.concat(e)):ct():[]}function h3(n){return r3[n]}function p3(n){return s3[n]}function Fy(n){return{fieldPath:n.canonicalString()}}function Ly(n){return sr.fromServerFormat(n.fieldPath)}function f3(n){return C.create(Ly(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function g3(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Ly(n.unaryFilter.field);return C.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Ly(n.unaryFilter.field);return C.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ly(n.unaryFilter.field);return C.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ly(n.unaryFilter.field);return C.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function m3(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function eo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=_P(t)),t=_3(n.get(e),t);return _P(t)}function _3(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function _P(n){return n+"\x01\x01"}function uu(n){const t=n.length;if(Mt(t>=2),2===t)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&ct(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let f;0===r.length?f=h:(r+=h,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ct()}o=c+2}return new on(i)}const yP=["userId","batchId"];function YI(n,t){return[n,eo(t)]}function vP(n,t,e){return[n,eo(t),e]}const y3={},v3=["prefixPath","collectionGroup","readTime","documentId"],w3=["prefixPath","collectionGroup","documentId"],b3=["collectionGroup","readTime","prefixPath","documentId"],C3=["canonicalId","targetId"],E3=["targetId","path"],T3=["path","targetId"],I3=["collectionId","parent"],S3=["indexId","uid"],x3=["uid","sequenceNumber"],D3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],A3=["indexId","uid","orderedDocumentKey"],M3=["userId","collectionPath","documentId"],k3=["userId","collectionPath","largestBatchId"],O3=["userId","collectionGroup","largestBatchId"],wP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],R3=[...wP,"documentOverlays"],bP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],P3=[...bP,"indexConfiguration","indexState","indexEntries"],CP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,i)=>{e(t)})}static reject(t){return new me((e,i)=>{i(t)})}static waitFor(t){return new me((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=me.resolve(!1);for(const i of t)e=e.next(r=>r?me.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class QI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Zi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new fC(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=cA(i.target.error);this.At.reject(new fC(t,r))}}static open(t,e,i,r){try{return new QI(e,t.transaction(r,i))}catch(o){throw new fC(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new F3(e)}}class jl{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===jl.Vt((0,N.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),Ng(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,N.hl)())return!1;if(jl.St())return!0;const t=(0,N.z$)(),e=jl.Vt(t),i=0<e&&e<10,r=jl.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Te.Z)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new fC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Re(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new fC(t,h))},o.onupgradeneeded=c=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Pt.kt(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Te.Z)(function*(){const c="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const f=QI.open(o.db,t,c?"readonly":"readwrite",i),y=r(f).next(E=>(f.bt(),E)).catch(E=>(f.abort(E),me.reject(E))).toPromise();return y.catch(()=>{}),yield f.Rt,y}catch(f){const y="FirebaseError"!==f.name&&h<3;if(Ve("SimpleDb","Transaction failed with error:",f.message,"Retrying:",y),o.close(),!y)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class N3{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Ng(this.Ft.delete())}}class fC extends Re{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Pg(n){return"IndexedDbTransactionError"===n.name}class F3{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ng(i)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),Ng(this.store.add(t))}get(t){return Ng(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),Ng(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),Ng(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new me((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new me((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,c,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new me((i,r)=>{e.onerror=o=>{const c=cA(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}Kt(t,e){const i=[];return new me((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const f=new N3(h),y=e(h.primaryKey,h.value,f);if(y instanceof me){const E=y.catch(I=>(f.done(),me.reject(I)));i.push(E)}f.isDone?r():null===f.Lt?h.continue():h.continue(f.Lt)}}).next(()=>me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ng(n){return new me((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=cA(i.target.error);e(r)}})}let TP=!1;function cA(n){const t=jl.Vt((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TP||(TP=!0,setTimeout(()=>{throw i},0)),i}}return n}class IP extends EP{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function jr(n,t){const e=We(n);return jl.xt(e.Ht,t)}class uA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&KB(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&iA(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&iA(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bn())}isEqual(t){return this.batchId===t.batchId&&md(this.mutations,t.mutations,(e,i)=>WR(e,i))&&md(this.baseMutations,t.baseMutations,(e,i)=>WR(e,i))}}class dA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Mt(t.mutations.length===i.length);let r=e3;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new dA(t,e,i,r)}}class hA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fp{constructor(t,e,i,r,o=St.min(),c=St.min(),h=Wi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(t){return new fp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new fp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new fp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class SP{constructor(t){this.Jt=t}}function xP(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:JI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:dC(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:uC(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Fg(t.version)};else{if(!t.isUnknownDocument())return ct();i.unknownDocument={path:e.path.toArray(),version:Fg(t.version)}}var r,o;return i}function JI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Fg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lg(n){const t=new Qn(n.seconds,n.nanoseconds);return St.fromTimestamp(t)}function Vy(n,t){const e=(t.baseMutations||[]).map(o=>lA(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>lA(n.Jt,o)),r=Qn.fromMillis(t.localWriteTimeMs);return new uA(t.batchId,r,e,i)}function gC(n){const t=Lg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Lg(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Mt(1===(r=n.query).documents.length),i=Ds(Ro(lP(r.documents[0])))):i=Ds(fP(n.query)),new fp(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Wi.fromBase64String(n.resumeToken))}function DP(n,t){const e=Fg(t.snapshotVersion),i=Fg(t.lastLimboFreeSnapshotVersion);let r;r=d(t.target)?hP(n.Jt,t.target):pP(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:a(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function pA(n){const t=fP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Oy(t,t.limit,"L"):t}function fA(n,t){return new hA(t.largestBatchId,lA(n.Jt,t.overlayMutation))}function AP(n,t){const e=t.path.lastSegment();return[n,eo(t.path.popLast()),e]}class V3{getBundleMetadata(t,e){return MP(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Lg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return MP(t).put({bundleId:(i=e).id,createTime:Fg(Hr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return kP(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:pA(r.bundledQuery),readTime:Lg(r.readTime)};var r})}saveNamedQuery(t,e){return kP(t).put({name:(i=e).name,readTime:Fg(Hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function MP(n){return jr(n,"bundles")}function kP(n){return jr(n,"namedQueries")}class gA{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new gA(t,e.uid||"")}getOverlay(t,e){return mC(t).get(AP(this.userId,e)).next(i=>i?fA(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const h=new hA(e,c);r.push(this.Xt(t,h))}),me.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(eo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(mC(t).Qt("collectionPathOverlayIndex",h))}),me.waitFor(o)}getOverlaysForCollection(t,e,i){const r=aC(),o=eo(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return mC(t).qt("collectionPathOverlayIndex",c).next(h=>{for(const f of h){const y=fA(this.M,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=aC();let c;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return mC(t).Wt({index:"collectionGroupOverlayIndex",range:h},(f,y,E)=>{const I=fA(this.M,y);o.size()<r||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):E.done()}).next(()=>o)}Xt(t,e){return mC(t).put(function(i,r,o){const[c,h,f]=AP(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:pC(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function mC(n){return jr(n,"documentOverlays")}class Vg{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(gi(t.integerValue));else if("doubleValue"in t){const i=gi(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),lp(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(ap(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?Jb(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ct()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),qe.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function B3(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function OP(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=B3(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Vg.fe=new Vg;class U3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=OP(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=OP(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class H3{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class j3{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class _C{constructor(){this.De=new U3,this.Ce=new H3(this.De),this.xe=new j3(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Bg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Bg(this.indexId,this.documentKey,this.arrayValue,i)}}function Ug(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=RP(n.arrayValue,t.arrayValue),0!==e?e:(e=RP(n.directionalValue,t.directionalValue),0!==e?e:qe.comparator(n.documentKey,t.documentKey)))}function RP(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class z3{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=eC(t);if(void 0!==e&&!this.Be(e))return!1;const i=bd(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],c))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class G3{constructor(){this.qe=new mA}addToCollectionParentIndex(t,e){return this.qe.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(el.min())}updateCollectionGroup(t,e,i){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class mA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Dn(on.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Dn(on.comparator)).toArray()}}const XI=new Uint8Array(0);class q3{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new mA,this.Ge=new pp(i=>a(i),(i,r)=>u(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const o={collectionId:i,parent:eo(r)};return PP(t).put(o)}return me.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[xy(e),""],!1,!0);return PP(t).qt(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(uu(c.parent))}return i})}addFieldIndex(t,e){const i=eS(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=eS(t),r=tS(t),o=yC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=yC(t);let r=!0;const o=new Map;return me.forEach(this.Qe(e),c=>this.je(t,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=bn();const h=[];return me.forEach(o,(f,y)=>{var E;Ve("IndexedDbIndexManager",`Using index ${E=f,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${a(e)}`);const I=function(it,rt){const At=eC(rt);if(void 0===At)return null;for(const Ot of p(it,At.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(y,f),M=function(it,rt){const At=new Map;for(const Ot of bd(rt))for(const rn of p(it,Ot.fieldPath))switch(rn.op){case"==":case"in":At.set(Ot.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return At.set(Ot.fieldPath.canonicalString(),rn.value),Array.from(At.values())}return null}(y,f),P=function(it,rt){const At=[];let Ot=!0;for(const rn of bd(rt)){const Xn=0===rn.kind?_(it,rn.fieldPath,it.startAt):w(it,rn.fieldPath,it.startAt);At.push(Xn.value),Ot&&(Ot=Xn.inclusive)}return new Ue(At,Ot)}(y,f),V=function(it,rt){const At=[];let Ot=!0;for(const rn of bd(rt)){const Xn=0===rn.kind?w(it,rn.fieldPath,it.endAt):_(it,rn.fieldPath,it.endAt);At.push(Xn.value),Ot&&(Ot=Xn.inclusive)}return new Ue(At,Ot)}(y,f),Q=this.We(f,y,P),ye=this.We(f,y,V),je=this.ze(f,y,M),Je=this.He(f.indexId,I,Q,P.inclusive,ye,V.inclusive,je);return me.forEach(Je,it=>i.Gt(it,e.limit).next(rt=>{rt.forEach(At=>{const Ot=qe.fromSegments(At.documentKey);c.has(Ot)||(c=c.add(Ot),h.push(Ot))})}))}).next(()=>h)}return me.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,o,c,h){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),y=f/(null!=e?e.length:1),E=[];for(let I=0;I<f;++I){const M=e?this.Je(e[I/y]):XI,P=this.Ye(t,M,i[I%y],r),V=this.Xe(t,M,o[I%y],c),Q=h.map(ye=>this.Ye(t,M,ye,!0));E.push(...this.createRange(P,V,Q))}return E}Ye(t,e,i,r){const o=new Bg(t,qe.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new Bg(t,qe.empty(),e,i);return r?o.ke():o}je(t,e){const i=new z3(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const h of o)i.$e(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(t,e){let i=2;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new Dn(sr.comparator),f=!1;for(const y of c.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?f=!0:h=h.add(E.field))}for(const y of c.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new _C;for(const r of bd(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Ne(r.kind);Vg.fe.Zt(o,c)}return i.Se()}Je(t){const e=new _C;return Vg.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new _C;return Vg.fe.Zt(up(this.databaseId,e),i.Ne(function(r){const o=bd(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new _C);let o=0;for(const c of bd(t)){const h=i[o++];for(const f of r)if(this.en(e,c.fieldPath)&&Sg(h))r=this.nn(r,c,h);else{const y=f.Ne(c.kind);Vg.fe.Zt(h,y)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const f=new _C;f.seed(h.Se()),Vg.fe.Zt(c,f.Ne(e.kind)),o.push(f)}return o}en(t,e){return!!t.filters.find(i=>i instanceof C&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=eS(t),r=tS(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const c=[];return me.forEach(o,h=>r.get([h.indexId,this.uid]).next(f=>{c.push(function(y,E){const I=E?new ky(E.sequenceNumber,new el(Lg(E.readTime),new qe(uu(E.documentKey)),E.largestBatchId)):ky.empty(),M=y.fields.map(([P,V])=>new tC(sr.fromServerFormat(P),V));return new hp(y.indexId,y.collectionGroup,M,I)}(h,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Bt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=eS(t),o=tS(t);return this.rn(t).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>me.forEach(h,f=>{return o.put({indexId:f.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Fg((M=i).readTime),documentKey:eo(M.documentKey.path),largestBatchId:M.largestBatchId});var M})))}updateIndexEntries(t,e){const i=new Map;return me.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),me.forEach(h,f=>this.on(t,r,f).next(y=>{const E=this.un(o,f);return y.isEqual(E)?me.resolve():this.an(t,o,f,y,E)}))))})}cn(t,e,i,r){return yC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return yC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=yC(t);let o=new Dn(Ug);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(c,h)=>{o=o.add(new Bg(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}un(t,e){let i=new Dn(Ug);const r=this.Ze(e,t);if(null==r)return i;const o=eC(e);if(null!=o){const c=t.data.field(o.fieldPath);if(Sg(c))for(const h of c.arrayValue.values||[])i=i.add(new Bg(e.indexId,t.key,this.Je(h),r))}else i=i.add(new Bg(e.indexId,t.key,XI,r));return i}an(t,e,i,r,o){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(h,f,y,E,I){const M=h.getIterator(),P=f.getIterator();let V=xg(M),Q=xg(P);for(;V||Q;){let ye=!1,je=!1;if(V&&Q){const Je=y(V,Q);Je<0?je=!0:Je>0&&(ye=!0)}else null!=V?je=!0:ye=!0;ye?(E(Q),Q=xg(P)):je?(I(V),V=xg(M)):(V=xg(M),Q=xg(P))}}(r,o,Ug,h=>{c.push(this.cn(t,e,i,h))},h=>{c.push(this.hn(t,e,i,h))}),me.waitFor(c)}rn(t){let e=1;return tS(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,h)=>Ug(c,h)).filter((c,h,f)=>!h||0!==Ug(c,f[h-1]));const r=[];r.push(t);for(const c of i){const h=Ug(c,t),f=Ug(c,e);if(0===h)r[0]=t.ke();else if(h>0&&f<0)r.push(c),r.push(c.ke());else if(f>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,XI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,XI,[]]));return o}getMinOffset(t,e){let i;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?(!i||JD(o.indexState.offset,i)<0)&&(i=o.indexState.offset):i=el.min()})).next(()=>i)}}function PP(n){return jr(n,"collectionParents")}function yC(n){return jr(n,"indexEntries")}function eS(n){return jr(n,"indexConfiguration")}function tS(n){return jr(n,"indexState")}const NP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Po{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Po(t,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function FP(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let h=0;const f=i.Wt({range:c},(E,I,M)=>(h++,M.delete()));o.push(f.next(()=>{Mt(1===h)}));const y=[];for(const E of e.mutations){const I=vP(t,E.key.path,e.batchId);o.push(r.delete(I)),y.push(E.key)}return me.waitFor(o).next(()=>y)}function nS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ct();t=n.noDocument}return JSON.stringify(t).length}Po.DEFAULT_COLLECTION_PERCENTILE=10,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Po.DEFAULT=new Po(41943040,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Po.DISABLED=new Po(-1,0,0);class _A{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Mt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new _A(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gp(t).Wt({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=By(t),c=gp(t);return c.add({}).next(h=>{Mt("number"==typeof h);const f=new uA(h,e,i,r),y=function(M,P,V){const Q=V.baseMutations.map(je=>pC(M.Jt,je)),ye=V.mutations.map(je=>pC(M.Jt,je));return{userId:P,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:Q,mutations:ye}}(this.M,this.userId,f),E=[];let I=new Dn((M,P)=>Bt(M.canonicalString(),P.canonicalString()));for(const M of r){const P=vP(this.userId,M.key.path,h);I=I.add(M.key.path.popLast()),E.push(c.put(y)),E.push(o.put(P,y3))}return I.forEach(M=>{E.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.ln[h]=f.keys()}),me.waitFor(E).next(()=>f)})}lookupMutationBatch(t,e){return gp(t).get(e).next(i=>i?(Mt(i.userId===this.userId),Vy(this.M,i)):null)}fn(t,e){return this.ln[e]?me.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return gp(t).Wt({index:"userMutationsIndex",range:r},(c,h,f)=>{h.userId===this.userId&&(Mt(h.batchId>=i),o=Vy(this.M,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return gp(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gp(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Vy(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=YI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return By(t).Wt({range:r},(c,h,f)=>{const[y,E,I]=c,M=uu(E);if(y===this.userId&&e.path.isEqual(M))return gp(t).get(I).next(P=>{if(!P)throw ct();Mt(P.userId===this.userId),o.push(Vy(this.M,P))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Dn(Bt);const r=[];return e.forEach(o=>{const c=YI(this.userId,o.path),h=IDBKeyRange.lowerBound(c),f=By(t).Wt({range:h},(y,E,I)=>{const[M,P,V]=y,Q=uu(P);M===this.userId&&o.path.isEqual(Q)?i=i.add(V):I.done()});r.push(f)}),me.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=YI(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new Dn(Bt);return By(t).Wt({range:c},(f,y,E)=>{const[I,M,P]=f,V=uu(M);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(P)):E.done()}).next(()=>this.dn(t,h))}dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(gp(t).get(o).next(c=>{if(null===c)throw ct();Mt(c.userId===this.userId),i.push(Vy(this.M,c))}))}),me.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return FP(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),me.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return By(t).Wt({range:i},(o,c,h)=>{if(o[0]===this.userId){const f=uu(o[1]);r.push(f)}else h.done()}).next(()=>{Mt(0===r.length)})})}containsKey(t,e){return LP(t,this.userId,e)}wn(t){return VP(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function LP(n,t,e){const i=YI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return By(n).Wt({range:o,jt:!0},(h,f,y)=>{const[E,I,M]=h;E===t&&I===r&&(c=!0),y.done()}).next(()=>c)}function gp(n){return jr(n,"mutations")}function By(n){return jr(n,"documentMutations")}function VP(n){return jr(n,"mutationQueues")}class Hg{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new Hg(0)}static yn(){return new Hg(-1)}}class $3{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new Hg(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>St.fromTimestamp(new Qn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Uy(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Mt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Uy(t).Wt((c,h)=>{const f=gC(h);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>me.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Uy(t).Wt((i,r)=>{const o=gC(r);e(o)})}pn(t){return BP(t).get("targetGlobalKey").next(e=>(Mt(null!==e),e))}In(t,e){return BP(t).put("targetGlobalKey",e)}Tn(t,e){return Uy(t).put(DP(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=a(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Uy(t).Wt({range:r,index:"queryTargetsIndex"},(c,h,f)=>{const y=gC(h);u(e,y.target)&&(o=y,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=mp(t);return e.forEach(c=>{const h=eo(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,c))}),me.waitFor(r)}removeMatchingKeys(t,e,i){const r=mp(t);return me.forEach(e,o=>{const c=eo(o.path);return me.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=mp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=mp(t);let o=bn();return r.Wt({range:i,jt:!0},(c,h,f)=>{const y=uu(c[1]),E=new qe(y);o=o.add(E)}).next(()=>o)}containsKey(t,e){const i=eo(e.path),r=IDBKeyRange.bound([i],[xy(i)],!1,!0);let o=0;return mp(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,h],f,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}Et(t,e){return Uy(t).get(e).next(i=>i?gC(i):null)}}function Uy(n){return jr(n,"targets")}function BP(n){return jr(n,"targetGlobal")}function mp(n){return jr(n,"targetDocuments")}function jg(n){return yA.apply(this,arguments)}function yA(){return yA=(0,Te.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==CP)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),yA.apply(this,arguments)}function UP([n,t],[e,i]){const r=Bt(n,e);return 0===r?Bt(t,i):r}class Z3{constructor(t){this.An=t,this.buffer=new Dn(UP),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();UP(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class W3{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Te.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Pg(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield jg(r)}yield e.Sn(t)}))}}class K3{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return me.resolve(ss.A);const i=new Z3(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(NP)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NP):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,o,c,h,f,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),Kb()<=Ws.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(f-h)+`ms\n\tRemoved ${I} documents in `+(y-f)+`ms\nTotal Duration: ${y-E}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class Y3{constructor(t,e){this.db=t,this.garbageCollector=new K3(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return iS(t,i)}removeReference(t,e,i){return iS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return iS(t,e)}On(t,e){return function(i,r){let o=!1;return VP(i).zt(c=>LP(i,c,r).next(h=>(h&&(o=!0),me.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Mn(t,(c,h)=>{if(h<=e){const f=this.On(t,c).next(y=>{if(!y)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,St.min()),mp(t).delete([0,eo(c.path)])))});r.push(f)}}).next(()=>me.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return iS(t,e)}Mn(t,e){const i=mp(t);let r,o=ss.A;return i.Wt({index:"documentTargetsIndex"},([c,h],{path:f,sequenceNumber:y})=>{0===c?(o!==ss.A&&e(new qe(uu(r)),o),o=y,r=f):o=ss.A}).next(()=>{o!==ss.A&&e(new qe(uu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function iS(n,t){return mp(n).put((i=n.currentSequenceNumber,{targetId:0,path:eo(t.path),sequenceNumber:i}));var i}class HP{constructor(){this.changes=new pp(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,xn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?me.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Q3{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return zg(t).put(i)}removeEntry(t,e,i){return zg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],JI(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=xn.newInvalidDocument(e);return zg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vC(e))},(r,o)=>{i=this.$n(e,o)}).next(()=>i)}Bn(t,e){let i={size:0,document:xn.newInvalidDocument(e)};return zg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vC(e))},(r,o)=>{i={document:this.$n(e,o),size:nS(o)}}).next(()=>i)}getEntries(t,e){let i=tl();return this.Ln(t,e,(r,o)=>{const c=this.$n(r,o);i=i.insert(r,c)}).next(()=>i)}Un(t,e){let i=tl(),r=new xi(qe.comparator);return this.Ln(t,e,(o,c)=>{const h=this.$n(o,c);i=i.insert(o,h),r=r.insert(o,nS(c))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return me.resolve();let r=new Dn(GP);e.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(vC(r.first()),vC(r.last())),c=r.getIterator();let h=c.getNext();return zg(t).Wt({index:"documentKeyIndex",range:o},(f,y,E)=>{const I=qe.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&GP(h,I)<0;)i(h,null),h=c.getNext();h&&h.isEqual(I)&&(i(h,y),h=c.hasNext()?c.getNext():null),h?E.Ut(vC(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),JI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zg(t).qt(IDBKeyRange.bound(r,o,!0)).next(c=>{let h=tl();for(const f of c){const y=this.$n(qe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=tl();const c=zP(e,i),h=zP(e,el.max());return zg(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(f,y,E)=>{const I=this.$n(qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(I.key,I),o.size===r&&E.done()}).next(()=>o)}newChangeBuffer(t){return new J3(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return jP(t).get("remoteDocumentGlobalKey").next(e=>(Mt(!!e),e))}Fn(t,e){return jP(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function L3(n,t){let e;if(t.document)e=dP(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=qe.fromSegments(t.noDocument.path),r=Lg(t.noDocument.readTime);e=xn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ct();{const i=qe.fromSegments(t.unknownDocument.path),r=Lg(t.unknownDocument.version);e=xn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Qn(i[0],i[1]);return St.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return xn.newInvalidDocument(t)}}class J3 extends HP{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new pp(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Dn((o,c)=>Bt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.Gn.get(o);if(e.push(this.Kn.removeEntry(t,o,h.readTime)),c.isValidDocument()){const f=xP(this.Kn.M,c);r=r.add(o.path.popLast()),i+=nS(f)-h.size,e.push(this.Kn.addEntry(t,o,f))}else if(i-=h.size,this.trackRemovals){const f=xP(this.Kn.M,c.convertToNoDocument(St.min()));e.push(this.Kn.addEntry(t,o,f))}}),r.forEach(o=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Kn.updateMetadata(t,i)),me.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((o,c)=>{this.Gn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function jP(n){return jr(n,"remoteDocumentGlobal")}function zg(n){return jr(n,"remoteDocumentsV14")}function vC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zP(n,t){const e=t.documentKey.path.toArray();return[n,JI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function GP(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Bt(e[o],i[o]),r)return r;return r=Bt(e.length,i.length),r||(r=Bt(e[e.length-2],i[i.length-2]),r||Bt(e[e.length-1],i[i.length-1]))}class X3{constructor(t){this.M=t}kt(t,e,i,r){const o=new QI("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yP,{unique:!0}),h.createObjectStore("documentMutations"),qP(t),function(h){h.createObjectStore("remoteDocuments")}(t));let c=me.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),qP(t)),c=c.next(()=>function(h){const f=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,f){return f.store("mutations").qt().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yP,{unique:!0});const E=f.store("mutations"),I=y.map(M=>E.put(M));return me.waitFor(I)})}(t,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(o)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(o))),i<8&&r>=8&&(c=c.next(()=>this.zn(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const f=h.createObjectStore("documentOverlays",{keyPath:M3});f.createIndex("collectionPathOverlayIndex",k3,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",O3,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(h){const f=h.createObjectStore("remoteDocumentsV14",{keyPath:v3});f.createIndex("documentKeyIndex",w3),f.createIndex("collectionGroupIndex",b3)}(t)).next(()=>this.Jn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:S3}).createIndex("sequenceNumberIndex",x3,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:D3}).createIndex("documentKeyIndex",A3,{unique:!1})}(t)})),c}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=nS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>me.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(h=>me.forEach(h,f=>{Mt(f.userId===o.userId);const y=Vy(this.M,f);return FP(t,o.userId,y).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((c,h)=>{const f=new on(c),y=[0,eo(f)];o.push(e.get(y).next(E=>E?me.resolve():e.put({targetId:0,path:eo(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>me.waitFor(o))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:I3});const i=e.store("collectionParents"),r=new mA,o=c=>{if(r.add(c)){const h=c.lastSegment(),f=c.popLast();return i.put({collectionId:h,parent:eo(f)})}};return e.store("remoteDocuments").Wt({jt:!0},(c,h)=>{const f=new on(c);return o(f.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([c,h,f],y)=>{const E=uu(h);return o(E.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=gC(r),c=DP(this.M,o);return e.put(c)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,c)=>{const h=e.store("remoteDocumentsV14"),f=(y=c,y.document?new qe(on.fromString(y.document.name).popFirst(5)):y.noDocument?qe.fromSegments(y.noDocument.path):y.unknownDocument?qe.fromSegments(y.unknownDocument.path):ct()).path.toArray();var y;const E={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(E))}).next(()=>me.waitFor(r))}}function qP(n){n.createObjectStore("targetDocuments",{keyPath:E3}).createIndex("documentTargetsIndex",T3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",C3,{unique:!0}),n.createObjectStore("targetGlobal")}const vA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wA{constructor(t,e,i,r,o,c,h,f,y,E,I=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=o,this.window=c,this.document=h,this.Xn=y,this.Zn=E,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=M=>Promise.resolve(),!wA.vt())throw new Re(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y3(this,r),this.hs=e+"main",this.M=new SP(f),this.ls=new jl(this.hs,this.ts,new X3(this.M)),this.fs=new $3(this.referenceDelegate,this.M),this.ds=new Q3(this.M),this._s=new V3,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===E&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,vA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new ss(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,Te.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,Te.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,Te.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>rS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(Pg(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return wC(t).get("owner").next(e=>me.resolve(this.Ps(e)))}Vs(t){return rS(t).delete(this.clientId)}vs(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=jr(i,"clientMetadata");return r.qt().next(o=>{const c=t.Ds(o,18e5),h=o.filter(f=>-1===c.indexOf(f));return me.forEach(h,f=>r.delete(f.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?me.resolve(!0):wC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,vA);return!1}}return!(!this.networkEnabled||!this.inForeground)||rS(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new IP(e,ss.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>rS(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return _A.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new q3(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return gA.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Ve("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(c=this.ts)?P3:13===c?bP:12===c?R3:11===c?wP:void ct();var c;let h;return this.ls.runTransaction(t,r,o,f=>(h=new IP(f,this.es?this.es.next():ss.A),"readwrite-primary"===e?this.Es(h).next(y=>!!y||this.As(h)).next(y=>{if(!y)throw fi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Re(ue.FAILED_PRECONDITION,CP);return i(h)}).next(y=>this.bs(h).next(()=>y)):this.$s(h).next(()=>i(h)))).then(f=>(h.raiseOnCommittedEvent(),f))}$s(t){return wC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(ue.FAILED_PRECONDITION,vA)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wC(t).put("owner",e)}static vt(){return jl.vt()}Rs(t){const e=wC(t);return e.get("owner").next(i=>this.Ps(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(fi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return fi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){fi("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function wC(n){return jr(n,"owner")}function rS(n){return jr(n,"clientMetadata")}function bA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class eU{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):Mg(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new qe(e)).next(i=>{let r=sA();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let o=sA();return this.indexManager.getCollectionParents(t,r).next(c=>me.forEach(c,h=>{const f=(y=e,E=h.child(r),new Wt(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.zs(t,f,i).next(y=>{y.forEach((E,I)=>{o=o.insert(E,I)})})}).next(()=>o))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const c of o)for(const h of c.mutations){const f=h.key;let y=r.get(f);null==y&&(y=xn.newInvalidDocument(f),r=r.insert(f,y)),iA(h,y,c.localWriteTime),y.isFoundDocument()||(r=r.remove(f))}}).next(()=>(r.forEach((o,c)=>{nA(e,c)||(r=r.remove(o))}),r))}}class CA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=bn(),r=bn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new CA(t,e.fromCache,i,r)}}class $P{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(o=>o||this.ei(t,e,r,i)).next(o=>o||this.ni(t,e))}ti(t,e){return me.resolve(null)}ei(t,e,i,r){return function iC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(St.min())?this.ni(t,e):this.Zs.Ks(t,i).next(o=>{const c=this.si(e,o);return this.ii(e,c,i,r)?this.ni(t,e):(Kb()<=Ws.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tA(e)),this.ri(t,c,e,GI(r,-1)))})}si(t,e){let i=new Dn(BR(t));return e.forEach((r,o)=>{nA(t,o)&&(i=i.add(o))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ni(t,e){return Kb()<=Ws.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",tA(e)),this.Zs.Qs(t,e,el.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class tU{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new xi(Bt),this.ai=new pp(o=>a(o),u),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new eU(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function ZP(n,t,e,i){return new tU(n,t,e,i)}function WP(n,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Te.Z)(function*(n,t){const e=We(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(o=>(r=o,e.li(t),e.Bs.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=bn();for(const y of r){c.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}for(const y of o){h.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}return e.fi.Ks(i,f).next(y=>({di:y,removedBatchIds:c,addedBatchIds:h}))})})}),EA.apply(this,arguments)}function nU(n,t){const e=We(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.hi.newChangeBuffer({trackRemovals:!0});return function(c,h,f,y){const E=f.batch,I=E.keys();let M=me.resolve();return I.forEach(P=>{M=M.next(()=>y.getEntry(h,P)).next(V=>{const Q=f.docVersions.get(P);Mt(null!==Q),V.version.compareTo(Q)<0&&(E.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),y.addEntry(V)))})}),M.next(()=>c.Bs.removeMutationBatch(h,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function KP(n){const t=We(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function iU(n,t){const e=We(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const h=[];t.targetChanges.forEach((y,E)=>{const I=r.get(E);if(!I)return;h.push(e.fs.removeMatchingKeys(o,y.removedDocuments,E).next(()=>e.fs.addMatchingKeys(o,y.addedDocuments,E)));let M=I.withSequenceNumber(o.currentSequenceNumber);var P,V,Q;t.targetMismatches.has(E)?M=M.withResumeToken(Wi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(y.resumeToken,i)),r=r.insert(E,M),V=M,Q=y,(0===(P=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(o,M))});let f=tl();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(YP(o,c,t.documentUpdates).next(y=>{f=y})),!i.isEqual(St.min())){const y=e.fs.getLastRemoteSnapshotVersion(o).next(E=>e.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return me.waitFor(h).next(()=>c.apply(o)).next(()=>e.fi.Gs(o,f)).next(()=>f)}).then(o=>(e.ui=r,o))}function YP(n,t,e){let i=bn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=tl();return e.forEach((c,h)=>{const f=r.get(c);h.isNoDocument()&&h.version.isEqual(St.min())?(t.removeEntry(c,h.readTime),o=o.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||0===h.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(h),o=o.insert(c,h)):Ve("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),o})}function rU(n,t){const e=We(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function Hy(n,t){const e=We(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(o=>o?(r=o,me.resolve(r)):e.fs.allocateTargetId(i).next(c=>(r=new fp(t,c,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function jy(n,t,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Te.Z)(function*(n,t,e){const i=We(n),r=i.ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Pg(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),TA.apply(this,arguments)}function sS(n,t,e){const i=We(n);let r=St.min(),o=bn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,f,y){const E=We(h),I=E.ai.get(y);return void 0!==I?me.resolve(E.ui.get(I)):E.fs.getTargetData(f,y)}(i,c,Ds(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.oi.Qs(c,t,e?r:St.min(),e?o:bn())).next(h=>(XP(i,VR(t),h),{documents:h,_i:o})))}function QP(n,t){const e=We(n),i=We(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(c=>c?c.target:null))}function JP(n,t){const e=We(n),i=e.ci.get(t)||St.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,GI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(XP(e,t,r),r))}function XP(n,t,e){let i=St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ci.set(t,i)}function IA(){return IA=(0,Te.Z)(function*(n,t,e,i){const r=We(n);let o=bn(),c=tl();for(const y of e){const E=t.wi(y.metadata.name);y.document&&(o=o.add(E));const I=t.mi(y);I.setReadTime(t.gi(y.metadata.readTime)),c=c.insert(E,I)}const h=r.hi.newChangeBuffer({trackRemovals:!0}),f=yield Hy(r,(y=i,Ds(Ro(on.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>YP(y,h,c).next(E=>(h.apply(y),E)).next(E=>r.fs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.fs.addMatchingKeys(y,o,f.targetId)).next(()=>r.fi.Gs(y,E)).next(()=>E)))}),IA.apply(this,arguments)}function oU(n,t){return SA.apply(this,arguments)}function SA(){return SA=(0,Te.Z)(function*(n,t,e=bn()){const i=yield Hy(n,Ds(pA(t.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Hr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(o,t);const h=i.withResumeToken(Wi.EMPTY_BYTE_STRING,c);return r.ui=r.ui.insert(h.targetId,h),r.fs.updateTargetData(o,h).next(()=>r.fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.fs.addMatchingKeys(o,e,i.targetId)).next(()=>r._s.saveNamedQuery(o,t))})}),SA.apply(this,arguments)}class aU{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return me.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:Hr(i.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:pA(i.bundledQuery),readTime:Hr(i.readTime)}),me.resolve();var i}}class lU{constructor(){this.overlays=new xi(qe.comparator),this.Ii=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),me.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ii.delete(i)),me.resolve()}getOverlaysForCollection(t,e,i){const r=aC(),o=e.length+1,c=new qe(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return me.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new xi((y,E)=>y-E);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let E=o.get(y.largestBatchId);null===E&&(E=aC(),o=o.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=aC(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return me.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new hA(e,i));let o=this.Ii.get(e);void 0===o&&(o=bn(),this.Ii.set(e,o)),this.Ii.set(e,o.add(i.key))}}class xA{constructor(){this.Ti=new Dn(zr.Ei),this.Ai=new Dn(zr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new zr(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new zr(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new qe(new on([])),i=new zr(e,t),r=new zr(e,t+1),o=[];return this.Ai.forEachInRange([i,r],c=>{this.Pi(c),o.push(c.key)}),o}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new qe(new on([])),i=new zr(e,t),r=new zr(e,t+1);let o=bn();return this.Ai.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new zr(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class zr{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return qe.comparator(t.key,e.key)||Bt(t.Ci,e.Ci)}static Ri(t,e){return Bt(t.Ci,e.Ci)||qe.comparator(t.key,e.key)}}class cU{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new Dn(zr.Ei)}checkEmpty(t){return me.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const o=this.xi;this.xi++;const c=new uA(o,e,i,r);this.Bs.push(c);for(const h of r)this.Ni=this.Ni.add(new zr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(t,e){return me.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),o=r<0?0:r;return me.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new zr(e,0),r=new zr(e,Number.POSITIVE_INFINITY),o=[];return this.Ni.forEachInRange([i,r],c=>{const h=this.ki(c.Ci);o.push(h)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Dn(Bt);return e.forEach(r=>{const o=new zr(r,0),c=new zr(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([o,c],h=>{i=i.add(h.Ci)})}),me.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;qe.isDocumentKey(o)||(o=o.child(""));const c=new zr(new qe(o),0);let h=new Dn(Bt);return this.Ni.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(f.Ci)),!0)},c),me.resolve(this.Oi(h))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Mt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return me.forEach(e.mutations,r=>{const o=new zr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new zr(e,0),r=this.Ni.firstAfterOrEqual(i);return me.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return me.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class uU{constructor(t){this.$i=t,this.docs=new xi(qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return me.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(e))}getEntries(t,e){let i=tl();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():xn.newInvalidDocument(r))}),me.resolve(i)}getAllFromCollection(t,e,i){let r=tl();const o=new qe(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||JD(QD(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return me.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ct()}Bi(t,e){return me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new dU(this)}getSize(t){return me.resolve(this.size)}}class dU extends HP{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),me.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class hU{constructor(t){this.persistence=t,this.Li=new pp(e=>a(e),u),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ui=0,this.qi=new xA,this.targetCount=0,this.Ki=Hg.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),me.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new Hg(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.Tn(e),me.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Li.forEach((c,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Li.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),me.waitFor(o).next(()=>r)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return me.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),me.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),me.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return me.resolve(i)}containsKey(t,e){return me.resolve(this.qi.containsKey(e))}}class pU{constructor(t,e){this.Gi={},this.overlays={},this.es=new ss(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new hU(this),this.indexManager=new G3,this.ds=new uU(i=>this.referenceDelegate.Qi(i)),this.M=new SP(e),this._s=new aU(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new lU,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new cU(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Ve("MemoryPersistence","Starting transaction:",t);const r=new fU(this.es.next());return this.referenceDelegate.ji(),i(r).next(o=>this.referenceDelegate.Wi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}zi(t,e){return me.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class fU extends EP{constructor(t){super(),this.currentSequenceNumber=t}}class DA{constructor(t){this.persistence=t,this.Hi=new xA,this.Ji=null}static Yi(t){return new DA(t)}get Xi(){if(this.Ji)return this.Ji;throw ct()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),me.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),me.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xi,i=>{const r=qe.fromPath(i);return this.Zi(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return me.or([()=>me.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function eN(n,t){return`firestore_clients_${n}_${t}`}function tN(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function AA(n,t){return`firestore_targets_${n}_${t}`}class oS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Re(r.error.code,r.error.message))),c?new oS(t,e,r.state,o):(fi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Re(i.error.code,i.error.message))),o?new bC(t,i.state,r):(fi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class aS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=WI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=au(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new aS(t,o):(fi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class MA{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new MA(e.clientId,e.onlineState):(fi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class kA{constructor(){this.activeTargetIds=WI()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OA{constructor(t,e,i,r,o){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new xi(Bt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=eN(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new kA),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const o=t.getItem(eN(t.persistenceKey,r));if(o){const c=aS.tr(r,o);c&&(t.ar=t.ar.insert(c.clientId,c))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(AA(this.persistenceKey,t));if(i){const r=bC.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(AA(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Te.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(o){let c=ss.A;if(null!=o)try{const h=JSON.parse(o);Mt("number"==typeof h),c=h}catch(h){fi("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==ss.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Fr(o)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new oS(this.currentUser,t,e,i),o=tN(this.persistenceKey,this.currentUser,t);this.setItem(o,r.er())}Ar(t){const e=tN(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=AA(this.persistenceKey,t),o=new bC(t,e,i);this.setItem(r,o.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return aS.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return oS.tr(new br(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return bC.tr(r,e)}pr(t){return MA.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,Te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),o=this.Tr(i),c=[],h=[];return o.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Lr(c,h).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=WI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class nN{constructor(){this.Ur=new kA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new kA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gU{Kr(t){}shutdown(){}}class iN{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _U{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class yU extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,o){const c=this.ho(t,e);Ve("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,o),this.fo(t,c,h,i).then(f=>(Ve("RestConnection","Received: ",f),f),f=>{throw bg("RestConnection",`${t} failed with error: `,f,"url: ",c,"request:",i),f})}_o(t,e,i,r,o){return this.co(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ru,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.uo}/v1/${e}:${mU[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,c)=>{const h=new BD;h.listenOnce(ND.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Wb.NO_ERROR:const y=h.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(y)),o(y);break;case Wb.TIMEOUT:Ve("Connection",'RPC "'+t+'" timed out'),c(new Re(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wb.HTTP_ERROR:const E=h.getStatus();if(Ve("Connection",'RPC "'+t+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const M=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN}(I.status);c(new Re(M,I.message))}else c(new Re(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Re(ue.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Ve("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);h.send(e,"POST",f,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=RR(),c=PR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new VD({})),this.lo(h.initMessageHeaders,e,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");Ve("Connection","Creating WebChannel: "+f,h);const y=o.createWebChannel(f,h);let E=!1,I=!1;const M=new _U({Jr:V=>{I?Ve("Connection","Not sending because WebChannel is closed:",V):(E||(Ve("Connection","Opening WebChannel transport."),y.open(),E=!0),Ve("Connection","WebChannel sending:",V),y.send(V))},Yr:()=>y.close()}),P=(V,Q,ye)=>{V.listen(Q,je=>{try{ye(je)}catch(Je){setTimeout(()=>{throw Je},0)}})};return P(y,op.EventType.OPEN,()=>{I||Ve("Connection","WebChannel transport opened.")}),P(y,op.EventType.CLOSE,()=>{I||(I=!0,Ve("Connection","WebChannel transport closed"),M.ro())}),P(y,op.EventType.ERROR,V=>{I||(I=!0,bg("Connection","WebChannel transport errored:",V),M.ro(new Re(ue.UNAVAILABLE,"The operation could not be completed")))}),P(y,op.EventType.MESSAGE,V=>{var Q;if(!I){const ye=V.data[0];Mt(!!ye);const je=ye,Je=je.error||(null===(Q=je[0])||void 0===Q?void 0:Q.error);if(Je){Ve("Connection","WebChannel received error:",Je);const it=Je.status;let rt=function(Ot){const rn=lr[Ot];if(void 0!==rn)return eP(rn)}(it),At=Je.message;void 0===rt&&(rt=ue.INTERNAL,At="Unknown error status: "+it+" with message "+Je.message),I=!0,M.ro(new Re(rt,At)),y.close()}else Ve("Connection","WebChannel received:",ye),M.oo(ye)}}),P(c,FD.STAT_EVENT,V=>{V.stat===LD.PROXY?Ve("Connection","Detected buffering proxy"):V.stat===LD.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.io()},0),M}}function rN(){return"undefined"!=typeof window?window:null}function lS(){return"undefined"!=typeof document?document:null}function CC(n){return new o3(n,!0)}class RA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class sN{constructor(t,e,i,r,o,c,h,f){this.Yn=t,this.Vo=i,this.vo=r,this.So=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new RA(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Te.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Te.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Te.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(fi(e.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Re(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,Te.Z)(function*(){t.state=0,t.start()}))}jo(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vU extends sN{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=o}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function c3(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:ct(),r=t.targetChange.targetIds||[],o=function(f,y){return f.N?(Mt(void 0===y||"string"==typeof y),Wi.fromBase64String(y||"")):(Mt(void 0===y||y instanceof Uint8Array),Wi.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(f){const y=void 0===f.code?ue.UNKNOWN:eP(f.code);return new Re(y,f.message||"")}(c);e=new nP(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=cu(n,i.document.name),o=Hr(i.document.updateTime),c=new or({mapValue:{fields:i.document.fields}}),h=xn.newFoundDocument(r,o,c);e=new KI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=cu(n,i.document),o=i.readTime?Hr(i.readTime):St.min(),c=xn.newNoDocument(r,o);e=new KI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=cu(n,i.document);e=new KI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ct();{const i=t.filter,o=new QB(i.count||0);e=new tP(i.targetId,o)}}var f;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return St.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?Hr(o.readTime):St.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=hC(this.M),e.addTarget=function(r,o){let c;const h=o.target;return c=d(h)?{documents:hP(r,h)}:{query:pP(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=oP(r,o.resumeToken):o.snapshotVersion.compareTo(St.min())>0&&(c.readTime=uC(r,o.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function d3(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=hC(this.M),e.removeTarget=t,this.Lo(e)}}class wU extends sN{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function u3(n,t){return n&&n.length>0?(Mt(void 0!==t),n.map(e=>function(i,r){let o=Hr(i.updateTime?i.updateTime:r);return o.isEqual(St.min())&&(o=Hr(r)),new WB(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Hr(t.commitTime);return this.listener.tu(i,e)}return Mt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=hC(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>pC(this.M,i))};this.Lo(e)}}class bU extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(ue.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So._o(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(ue.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class CU{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(fi(e),this.uu=!1):Ve("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class EU{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr(h=>{i.enqueueAndForget((0,Te.Z)(function*(){var f;_p(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Te.Z)(function*(y){const E=We(y);E.wu.add(4),yield zy(E),E.yu.set("Unknown"),E.wu.delete(4),yield EC(E)}),function(y){return f.apply(this,arguments)})(c))}))}),this.yu=new CU(i,r)}}function EC(n){return PA.apply(this,arguments)}function PA(){return PA=(0,Te.Z)(function*(n){if(_p(n))for(const t of n.mu)yield t(!0)}),PA.apply(this,arguments)}function zy(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Te.Z)(function*(n){for(const t of n.mu)yield t(!1)}),NA.apply(this,arguments)}function cS(n,t){const e=We(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),VA(e)?LA(e):qy(e).Mo()&&FA(e,t))}function TC(n,t){const e=We(n),i=qy(e);e._u.delete(t),i.Mo()&&oN(e,t),0===e._u.size&&(i.Mo()?i.$o():_p(e)&&e.yu.set("Unknown"))}function FA(n,t){n.pu.Z(t.targetId),qy(n).Ho(t)}function oN(n,t){n.pu.Z(t),qy(n).Jo(t)}function LA(n){n.pu=new i3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),qy(n).start(),n.yu.au()}function VA(n){return _p(n)&&!qy(n).ko()&&n._u.size>0}function _p(n){return 0===We(n).wu.size}function aN(n){n.pu=void 0}function TU(n){return BA.apply(this,arguments)}function BA(){return BA=(0,Te.Z)(function*(n){n._u.forEach((t,e)=>{FA(n,t)})}),BA.apply(this,arguments)}function IU(n,t){return UA.apply(this,arguments)}function UA(){return UA=(0,Te.Z)(function*(n,t){aN(n),VA(n)?(n.yu.lu(t),LA(n)):n.yu.set("Unknown")}),UA.apply(this,arguments)}function SU(n,t,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Te.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof nP&&2===t.state&&t.cause)try{yield(i=(0,Te.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield uS(n,i)}else if(t instanceof KI?n.pu.ut(t):t instanceof tP?n.pu._t(t):n.pu.ht(t),!e.isEqual(St.min()))try{const i=yield KP(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.pu.yt(o);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=r._u.get(f);y&&r._u.set(f,y.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach(h=>{const f=r._u.get(h);if(!f)return;r._u.set(h,f.withResumeToken(Wi.EMPTY_BYTE_STRING,f.snapshotVersion)),oN(r,h);const y=new fp(f.target,h,1,f.sequenceNumber);FA(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield uS(n,i)}var i}),HA.apply(this,arguments)}function uS(n,t,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Te.Z)(function*(n,t,e){if(!Pg(t))throw t;n.wu.add(1),yield zy(n),n.yu.set("Offline"),e||(e=()=>KP(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield EC(n)}))}),jA.apply(this,arguments)}function lN(n,t){return t().catch(e=>uS(n,e,t))}function Gy(n){return zA.apply(this,arguments)}function zA(){return zA=(0,Te.Z)(function*(n){const t=We(n),e=yp(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;xU(t);)try{const r=yield rU(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,DU(t,r)}catch(r){yield uS(t,r)}cN(t)&&uN(t)}),zA.apply(this,arguments)}function xU(n){return _p(n)&&n.du.length<10}function DU(n,t){n.du.push(t);const e=yp(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function cN(n){return _p(n)&&!yp(n).ko()&&n.du.length>0}function uN(n){yp(n).start()}function AU(n){return GA.apply(this,arguments)}function GA(){return GA=(0,Te.Z)(function*(n){yp(n).nu()}),GA.apply(this,arguments)}function MU(n){return qA.apply(this,arguments)}function qA(){return qA=(0,Te.Z)(function*(n){const t=yp(n);for(const e of n.du)t.Zo(e.mutations)}),qA.apply(this,arguments)}function kU(n,t,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Te.Z)(function*(n,t,e){const i=n.du.shift(),r=dA.from(i,t,e);yield lN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gy(n)}),$A.apply(this,arguments)}function OU(n,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Te.Z)(function*(n,t){var e;t&&yp(n).Xo&&(yield(e=(0,Te.Z)(function*(i,r){if(XR(o=r.code)&&o!==ue.ABORTED){const c=i.du.shift();yp(i).Fo(),yield lN(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Gy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),cN(n)&&uN(n)}),ZA.apply(this,arguments)}function dN(n,t){return WA.apply(this,arguments)}function WA(){return WA=(0,Te.Z)(function*(n,t){const e=We(n);e.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=_p(e);e.wu.add(3),yield zy(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield EC(e)}),WA.apply(this,arguments)}function KA(n,t){return YA.apply(this,arguments)}function YA(){return YA=(0,Te.Z)(function*(n,t){const e=We(n);t?(e.wu.delete(2),yield EC(e)):t||(e.wu.add(2),yield zy(e),e.yu.set("Unknown"))}),YA.apply(this,arguments)}function qy(n){return n.Iu||(n.Iu=function(t,e,i){const r=We(t);return r.iu(),new vU(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:TU.bind(null,n),eo:IU.bind(null,n),zo:SU.bind(null,n)}),n.mu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Iu.Fo(),VA(n)?LA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),aN(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function yp(n){return n.Tu||(n.Tu=function(t,e,i){const r=We(t);return r.iu(),new wU(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:AU.bind(null,n),eo:OU.bind(null,n),eu:MU.bind(null,n),tu:kU.bind(null,n)}),n.mu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Tu.Fo(),yield Gy(n)):(yield n.Tu.stop(),n.du.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class QA{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new QA(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(n,t){if(fi("AsyncQueue",`${t}: ${n}`),Pg(n))return new Re(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class Zy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qe.comparator(e.key,i.key):(e,i)=>qe.comparator(e.key,i.key),this.keyedMap=sA(),this.sortedSet=new xi(this.comparator)}static emptySet(t){return new Zy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Zy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class hN{constructor(){this.Eu=new xi(qe.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):ct():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Wy{constructor(t,e,i,r,o,c,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Wy(t,e,Zy.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class RU{constructor(){this.Ru=void 0,this.listeners=[]}}class PU{constructor(){this.queries=new pp(t=>Ry(t),Cd),this.onlineState="Unknown",this.bu=new Set}}function JA(n,t){return XA.apply(this,arguments)}function XA(){return XA=(0,Te.Z)(function*(n,t){const e=We(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new RU),r)try{o.Ru=yield e.onListen(i)}catch(c){const h=$y(c,`Initialization of query '${tA(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.Ru&&t.Vu(o.Ru)&&nM(e)}),XA.apply(this,arguments)}function eM(n,t){return tM.apply(this,arguments)}function tM(){return tM=(0,Te.Z)(function*(n,t){const e=We(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),tM.apply(this,arguments)}function NU(n,t){const e=We(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const h of c.listeners)h.Vu(r)&&(i=!0);c.Ru=r}}i&&nM(e)}function FU(n,t,e){const i=We(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function nM(n){n.bu.forEach(t=>{t.next()})}class iM{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Wy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=Wy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class LU{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class pN{constructor(t){this.M=t}wi(t){return cu(this.M,t)}mi(t){return t.metadata.exists?dP(this.M,t.document,!1):xn.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return Hr(t)}}class VU{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fN(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=on.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new pN(this.M);for(const r of t)if(r.metadata.queries){const o=i.wi(r.metadata.name);for(const c of r.metadata.queries){const h=(e.get(c)||bn()).add(o);e.set(c,h)}}return e}complete(){var t=this;return(0,Te.Z)(function*(){const e=yield function sU(n,t,e,i){return IA.apply(this,arguments)}(t.localStore,new pN(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield oU(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function fN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gN{constructor(t){this.key=t}}class mN{constructor(t){this.key=t}}class _N{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=bn(),this.mutatedKeys=bn(),this.Gu=BR(t),this.Qu=new Zy(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new hN,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,I)=>{const M=r.get(E),P=nA(this.query,I)?I:null,V=!!M&&this.mutatedKeys.has(M.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ye=!1;M&&P?M.data.isEqual(P.data)?V!==Q&&(i.track({type:3,doc:P}),ye=!0):this.Hu(M,P)||(i.track({type:2,doc:P}),ye=!0,(f&&this.Gu(P,f)>0||y&&this.Gu(P,y)<0)&&(h=!0)):!M&&P?(i.track({type:0,doc:P}),ye=!0):M&&!P&&(i.track({type:1,doc:M}),ye=!0,(f||y)&&(h=!0)),ye&&(P?(c=c.add(P),o=Q?o.add(E):o.delete(E)):(c=c.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),o=o.delete(E.key),i.track({type:1,doc:E})}return{Qu:c,zu:i,ii:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Au();o.sort((y,E)=>function(I,M){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return P(I)-P(M)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(i);const c=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,f=h!==this.qu;return this.qu=h,0!==o.length||f?{snapshot:new Wy(this.query,t.Qu,r,o,t.mutatedKeys,0===h,f,!1),Xu:c}:{Xu:c}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hN,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=bn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new mN(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new gN(i))}),e}ta(t){this.Uu=t._i,this.Ku=bn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return Wy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class BU{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class UU{constructor(t){this.key=t,this.na=!1}}class HU{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new pp(h=>Ry(h),Cd),this.ra=new Map,this.oa=new Set,this.ua=new xi(qe.comparator),this.aa=new Map,this.ca=new xA,this.ha={},this.la=new Map,this.fa=Hg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function jU(n,t){return rM.apply(this,arguments)}function rM(){return rM=(0,Te.Z)(function*(n,t){const e=xM(n);let i,r;const o=e.ia.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ea();else{const c=yield Hy(e.localStore,Ds(t));e.isPrimaryClient&&cS(e.remoteStore,c);const h=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield sM(e,t,i,"current"===h)}return r}),rM.apply(this,arguments)}function sM(n,t,e,i){return oM.apply(this,arguments)}function oM(){return oM=(0,Te.Z)(function*(n,t,e,i){n._a=(E,I,M)=>{return(P=(0,Te.Z)(function*(V,Q,ye,je){let Je=Q.view.Wu(ye);Je.ii&&(Je=yield sS(V.localStore,Q.query,!1).then(({documents:At})=>Q.view.Wu(At,Je)));const it=je&&je.targetChanges.get(Q.targetId),rt=Q.view.applyChanges(Je,V.isPrimaryClient,it);return mM(V,Q.targetId,rt.Xu),rt.snapshot}),function(V,Q,ye,je){return P.apply(this,arguments)})(n,E,I,M);var P};const r=yield sS(n.localStore,t,!0),o=new _N(t,r._i),c=o.Wu(r.documents),h=cC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),f=o.applyChanges(c,n.isPrimaryClient,h);mM(n,e,f.Xu);const y=new BU(t,e,o);return n.ia.set(t,y),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),f.snapshot}),oM.apply(this,arguments)}function zU(n,t){return aM.apply(this,arguments)}function aM(){return aM=(0,Te.Z)(function*(n,t){const e=We(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(o=>!Cd(o,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),TC(e.remoteStore,i.targetId),Ky(e,i.targetId)}).catch(jg))):(Ky(e,i.targetId),yield jy(e.localStore,i.targetId,!0))}),aM.apply(this,arguments)}function lM(){return lM=(0,Te.Z)(function*(n,t,e){const i=DM(n);try{const r=yield function(o,c){const h=We(o),f=Qn.now(),y=c.reduce((I,M)=>I.add(M.key),bn());let E;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.fi.Ks(I,y).next(M=>{E=M;const P=[];for(const V of c){const Q=YB(V,E.get(V.key));null!=Q&&P.push(new Rg(V.key,Q,YD(Q.value.mapValue),ar.exists(!0)))}return h.Bs.addMutationBatch(I,f,P,c)})).then(I=>(I.applyToLocalDocumentSet(E),{batchId:I.batchId,changes:E}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let f=o.ha[o.currentUser.toKey()];f||(f=new xi(Bt)),f=f.insert(c,h),o.ha[o.currentUser.toKey()]=f}(i,r.batchId,e),yield Ed(i,r.changes),yield Gy(i.remoteStore)}catch(r){const o=$y(r,"Failed to persist write");e.reject(o)}}),lM.apply(this,arguments)}function yN(n,t){return cM.apply(this,arguments)}function cM(){return cM=(0,Te.Z)(function*(n,t){const e=We(n);try{const i=yield iU(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.aa.get(o);c&&(Mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.na=!0:r.modifiedDocuments.size>0?Mt(c.na):r.removedDocuments.size>0&&(Mt(c.na),c.na=!1))}),yield Ed(e,i,t)}catch(i){yield jg(i)}}),cM.apply(this,arguments)}function vN(n,t,e){const i=We(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((o,c)=>{const h=c.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=We(o);h.onlineState=c;let f=!1;h.queries.forEach((y,E)=>{for(const I of E.listeners)I.Pu(c)&&(f=!0)}),f&&nM(h)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function qU(n,t,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Te.Z)(function*(n,t,e){const i=We(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),o=r&&r.key;if(o){let c=new xi(qe.comparator);c=c.insert(o,xn.newNoDocument(o,St.min()));const h=bn().add(o),f=new lC(St.min(),new Map,new Dn(Bt),c,h);yield yN(i,f),i.ua=i.ua.remove(o),i.aa.delete(t),_M(i)}else yield jy(i.localStore,t,!1).then(()=>Ky(i,t,e)).catch(jg)}),uM.apply(this,arguments)}function $U(n,t){return dM.apply(this,arguments)}function dM(){return dM=(0,Te.Z)(function*(n,t){const e=We(n),i=t.batch.batchId;try{const r=yield nU(e.localStore,t);gM(e,i,null),fM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ed(e,r)}catch(r){yield jg(r)}}),dM.apply(this,arguments)}function ZU(n,t,e){return hM.apply(this,arguments)}function hM(){return hM=(0,Te.Z)(function*(n,t,e){const i=We(n);try{const r=yield function(o,c){const h=We(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return h.Bs.lookupMutationBatch(f,c).next(E=>(Mt(null!==E),y=E.keys(),h.Bs.removeMutationBatch(f,E))).next(()=>h.Bs.performConsistencyCheck(f)).next(()=>h.fi.Ks(f,y))})}(i.localStore,t);gM(i,t,e),fM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ed(i,r)}catch(r){yield jg(r)}}),hM.apply(this,arguments)}function pM(){return pM=(0,Te.Z)(function*(n,t){const e=We(n);_p(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=We(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=$y(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),pM.apply(this,arguments)}function fM(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function gM(n,t,e){const i=We(n);let r=i.ha[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function Ky(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||wN(n,i)})}function wN(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(TC(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),_M(n))}function mM(n,t,e){for(const i of e)i instanceof gN?(n.ca.addReference(i.key,t),KU(n,i)):i instanceof mN?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||wN(n,i.key)):ct()}function KU(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(Ve("SyncEngine","New document in limbo: "+e),n.oa.add(i),_M(n))}function _M(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new qe(on.fromString(t)),i=n.fa.next();n.aa.set(i,new UU(e)),n.ua=n.ua.insert(e,i),cS(n.remoteStore,new fp(Ds(Ro(e.path)),i,2,ss.A))}}function Ed(n,t,e){return yM.apply(this,arguments)}function yM(){return yM=(0,Te.Z)(function*(n,t,e){const i=We(n),r=[],o=[],c=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,f)=>{c.push(i._a(f,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y.fromCache?"not-current":"current"),r.push(y);const E=CA.Ys(f.targetId,y);o.push(E)}}))}),yield Promise.all(c),i.sa.zo(r),yield(h=(0,Te.Z)(function*(f,y){const E=We(f);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>me.forEach(y,M=>me.forEach(M.Hs,P=>E.persistence.referenceDelegate.addReference(I,M.targetId,P)).next(()=>me.forEach(M.Js,P=>E.persistence.referenceDelegate.removeReference(I,M.targetId,P)))))}catch(I){if(!Pg(I))throw I;Ve("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const M=I.targetId;if(!I.fromCache){const P=E.ui.get(M),Q=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);E.ui=E.ui.insert(M,Q)}}}),function(f,y){return h.apply(this,arguments)})(i.localStore,o))}),yM.apply(this,arguments)}function YU(n,t){return vM.apply(this,arguments)}function vM(){return vM=(0,Te.Z)(function*(n,t){const e=We(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const i=yield WP(e.localStore,t);e.currentUser=t,(r=e).la.forEach(c=>{c.forEach(h=>{h.reject(new Re(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ed(e,i.di)}var r}),vM.apply(this,arguments)}function QU(n,t){const e=We(n),i=e.aa.get(t);if(i&&i.na)return bn().add(i.key);{let r=bn();const o=e.ra.get(t);if(!o)return r;for(const c of o){const h=e.ia.get(c);r=r.unionWith(h.view.ju)}return r}}function JU(n,t){return wM.apply(this,arguments)}function wM(){return wM=(0,Te.Z)(function*(n,t){const e=We(n),i=yield sS(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&mM(e,t.targetId,r.Xu),r}),wM.apply(this,arguments)}function XU(n,t){return bM.apply(this,arguments)}function bM(){return bM=(0,Te.Z)(function*(n,t){const e=We(n);return JP(e.localStore,t).then(i=>Ed(e,i))}),bM.apply(this,arguments)}function eH(n,t,e,i){return CM.apply(this,arguments)}function CM(){return CM=(0,Te.Z)(function*(n,t,e,i){const r=We(n),o=yield function(c,h){const f=We(c),y=We(f.Bs);return f.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.fn(E,h).next(I=>I?f.fi.Ks(E,I):me.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Gy(r.remoteStore):"acknowledged"===e||"rejected"===e?(gM(r,t,i||null),fM(r,t),h=t,We(We(r.localStore).Bs)._n(h)):ct(),yield Ed(r,o)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),CM.apply(this,arguments)}function EM(){return EM=(0,Te.Z)(function*(n,t){const e=We(n);if(xM(e),DM(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield bN(e,i.toArray());e.da=!0,yield KA(e.remoteStore,!0);for(const o of r)cS(e.remoteStore,o)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Ky(e,c),jy(e.localStore,c,!0))),TC(e.remoteStore,c)}),yield r,yield bN(e,i),function(o){const c=We(o);c.aa.forEach((h,f)=>{TC(c.remoteStore,f)}),c.ca.Si(),c.aa=new Map,c.ua=new xi(qe.comparator)}(e),e.da=!1,yield KA(e.remoteStore,!1)}}),EM.apply(this,arguments)}function bN(n,t,e){return TM.apply(this,arguments)}function TM(){return TM=(0,Te.Z)(function*(n,t,e){const i=We(n),r=[],o=[];for(const c of t){let h;const f=i.ra.get(c);if(f&&0!==f.length){h=yield Hy(i.localStore,Ds(f[0]));for(const y of f){const E=i.ia.get(y),I=yield JU(i,E);I.snapshot&&o.push(I.snapshot)}}else{const y=yield QP(i.localStore,c);h=yield Hy(i.localStore,y),yield sM(i,CN(y),c,!1)}r.push(h)}return i.sa.zo(o),r}),TM.apply(this,arguments)}function CN(n){return xs(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nH(n){const t=We(n);return We(We(t.localStore).persistence).Fs()}function iH(n,t,e,i){return IM.apply(this,arguments)}function IM(){return IM=(0,Te.Z)(function*(n,t,e,i){const r=We(n);if(r.da)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const o=r.ra.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield JP(r.localStore,VR(o[0])),h=lC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ed(r,c,h);break}case"rejected":yield jy(r.localStore,t,!0),Ky(r,t,i);break;default:ct()}}),IM.apply(this,arguments)}function rH(n,t,e){return SM.apply(this,arguments)}function SM(){return SM=(0,Te.Z)(function*(n,t,e){const i=xM(n);if(i.da){for(const r of t){if(i.ra.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const o=yield QP(i.localStore,r),c=yield Hy(i.localStore,o);yield sM(i,CN(o),c.targetId,!1),cS(i.remoteStore,c)}for(const r of e)i.ra.has(r)&&(yield jy(i.localStore,r,!1).then(()=>{TC(i.remoteStore,r),Ky(i,r)}).catch(jg))}}),SM.apply(this,arguments)}function xM(n){const t=We(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=yN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qU.bind(null,t),t.sa.zo=NU.bind(null,t.eventManager),t.sa.wa=FU.bind(null,t.eventManager),t}function DM(n){const t=We(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$U.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZU.bind(null,t),t}class EN{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.Z)(function*(){e.M=CC(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return ZP(this.persistence,new $P,t.initialUser,this.M)}ya(t){return new pU(DA.Yi,this.M)}ga(t){return new nN}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class TN extends EN{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield DM(i.Ta.syncEngine),yield Gy(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return ZP(this.persistence,new $P,t.initialUser,this.M)}pa(t){return new W3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=bA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Po.withCacheSize(this.cacheSizeBytes):Po.DEFAULT;return new wA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,rN(),lS(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new nN}}class oH extends TN{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof OA&&(i.sharedClientState.syncEngine={$r:eH.bind(null,r),Br:iH.bind(null,r),Lr:rH.bind(null,r),Fs:nH.bind(null,r),Fr:XU.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var o=(0,Te.Z)(function*(c){yield function tH(n,t){return EM.apply(this,arguments)}(i.Ta.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}ga(t){const e=rN();if(!OA.vt(e))throw new Re(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=bA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new OA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class AM{initialize(t,e){var i=this;return(0,Te.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>vN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=YU.bind(null,i.syncEngine),yield KA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new PU}createDatastore(t){const e=CC(t.databaseInfo.databaseId),i=new yU(t.databaseInfo);return new bU(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>vN(this.syncEngine,h,0),c=iN.vt()?new iN:new gU,new EU(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,h,f,y){const E=new HU(i,r,o,c,h,f);return y&&(E.da=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.Z)(function*(e){const i=We(e);Ve("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield zy(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function IN(n,t=10240){let e=0;return{read:()=>(0,Te.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class aH{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new Zi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const o=yield t.Sa(r);return new LU(JSON.parse(o),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,Te.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,Te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class lH{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Te.Z)(function*(o,c){const h=We(o),f=hC(h.M)+"/documents",y={documents:c.map(P=>dC(h.M,P))},E=yield h._o("BatchGetDocuments",f,y),I=new Map;E.forEach(P=>{const V=function l3(n,t){return"found"in t?function(e,i){Mt(!!i.found);const r=cu(e,i.found.name),o=Hr(i.found.updateTime),c=new or({mapValue:{fields:i.found.fields}});return xn.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){Mt(!!i.missing),Mt(!!i.readTime);const r=cu(e,i.missing),o=Hr(i.readTime);return xn.newNoDocument(r,o)}(n,t):ct()}(h.M,P);I.set(V.key.toString(),V)});const M=[];return c.forEach(P=>{const V=I.get(P.toString());Mt(!!V),M.push(V)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new oC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=qe.fromPath(r);t.mutations.push(new rA(o,t.precondition(o)))}),yield(i=(0,Te.Z)(function*(r,o){const c=We(r),h=hC(c.M)+"/documents",f={writes:o.map(y=>pC(c.M,y))};yield c.co("Commit",h,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=St.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ar.updateTime(e):ar.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(St.min()))throw new Re(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(e)}return ar.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class cH{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.xa=i.maxAttempts,this.No=new RA(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,Te.Z)(function*(){const e=new lH(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ma(o)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!Tg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!XR(e)}return!1}}class uH{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=FI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Te.Z)(function*(h){Ve("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=$y(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function SN(n,t){return MM.apply(this,arguments)}function MM(){return MM=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.Z)(function*(o){i.isEqual(o)||(yield WP(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),MM.apply(this,arguments)}function xN(n,t){return kM.apply(this,arguments)}function kM(){return kM=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield OM(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>dN(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>dN(t.remoteStore,o)),n.onlineComponents=t}),kM.apply(this,arguments)}function OM(n){return RM.apply(this,arguments)}function RM(){return RM=(0,Te.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield SN(n,new EN)),n.offlineComponents}),RM.apply(this,arguments)}function hS(n){return PM.apply(this,arguments)}function PM(){return PM=(0,Te.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield xN(n,new AM)),n.onlineComponents}),PM.apply(this,arguments)}function DN(n){return OM(n).then(t=>t.persistence)}function NM(n){return OM(n).then(t=>t.localStore)}function AN(n){return hS(n).then(t=>t.remoteStore)}function FM(n){return hS(n).then(t=>t.syncEngine)}function Yy(n){return LM.apply(this,arguments)}function LM(){return LM=(0,Te.Z)(function*(n){const t=yield hS(n),e=t.eventManager;return e.onListen=jU.bind(null,t.syncEngine),e.onUnlisten=zU.bind(null,t.syncEngine),e}),LM.apply(this,arguments)}function MN(n,t,e={}){const i=new Zi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,c,h,f){const y=new dS({next:I=>{o.enqueueAndForget(()=>eM(r,E));const M=I.docs.has(c);!M&&I.fromCache?f.reject(new Re(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&h&&"server"===h.source?f.reject(new Re(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),E=new iM(Ro(c.path),y,{includeMetadataChanges:!0,ku:!0});return JA(r,E)}(yield Yy(n),n.asyncQueue,t,e,i)})),i.promise}function kN(n,t,e={}){const i=new Zi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,c,h,f){const y=new dS({next:I=>{o.enqueueAndForget(()=>eM(r,E)),I.fromCache&&"server"===h.source?f.reject(new Re(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),E=new iM(c,y,{includeMetadataChanges:!0,ku:!0});return JA(r,E)}(yield Yy(n),n.asyncQueue,t,e,i)})),i.promise}const ON=new Map;function VM(n,t,e){if(!e)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function RN(n,t,e,i){if(!0===t&&!0===i)throw new Re(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function PN(n){if(!qe.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NN(n){if(qe.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ct()}function ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=pS(n);throw new Re(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function FN(n,t){if(t<=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class LN{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,RN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class IC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LN({}),this._settingsFrozen=!1,t instanceof Hl?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(r.options.projectId)}(t))}get app(){if(!this._app)throw new Re(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LN(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new NR;switch(e.type){case"gapi":const i=e.client;return Mt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new RI(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Re(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=ON.get(t);e&&(Ve("ComponentProvider","Removing Datastore"),ON.delete(t),e.terminate())}(this),Promise.resolve()}}class Jn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jn(this.firestore,t,this._key)}}class As{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new As(this.firestore,t,this._query)}}class du extends As{constructor(t,e,i){super(t,e,Ro(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jn(this.firestore,null,new qe(t))}withConverter(t){return new du(this.firestore,t,this._path)}}function VN(n,t,...e){if(n=(0,N.m9)(n),VM("collection","path",t),n instanceof IC){const i=on.fromString(t,...e);return NN(i),new du(n,null,i)}{if(!(n instanceof Jn||n instanceof du))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return NN(i),new du(n.firestore,null,i)}}function fS(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=FI.R()),VM("doc","path",t),n instanceof IC){const i=on.fromString(t,...e);return PN(i),new Jn(n,null,new qe(i))}{if(!(n instanceof Jn||n instanceof du))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return PN(i),new Jn(n.firestore,n instanceof du?n.converter:null,new qe(i))}}function BN(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof Jn||n instanceof du)&&(t instanceof Jn||t instanceof du)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function UN(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof As&&t instanceof As&&n.firestore===t.firestore&&Cd(n._query,t._query)&&n.converter===t.converter}class bH{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new RA(this,"async_queue_retry"),this.Qa=()=>{const e=lS();e&&Ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=lS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=lS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new Zi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,Te.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!Pg(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,fi("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=QA.createAndSchedule(this,t,e,i,o=>this.Ha(o));return this.La.push(r),r}ja(){this.Ua&&ct()}verifyOperationInProgress(){}Ja(){var t=this;return(0,Te.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function BM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class CH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ui extends IC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new bH,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||HN(this),this._firestoreClient.terminate()}}function cr(n){return n._firestoreClient||HN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HN(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Dy(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new uH(n._authCredentials,n._appCheckCredentials,n._queue,i)}function jN(n,t,e){const i=new Zi;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield SN(n,e),yield xN(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function zN(n){if(n._initialized||n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class hu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hu(Wi.fromBase64String(t))}catch(e){throw new Re(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hu(Wi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Gg{constructor(t){this._methodName=t}}class gS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}const OH=/^__.*__$/;class RH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Rg(t,this.data,this.fieldMask,e,this.fieldTransforms):new sC(t,this.data,e,this.fieldTransforms)}}class GN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Rg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function qN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class mS{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new mS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return vS(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(qN(this.ec)&&OH.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class PH{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||CC(t)}lc(t,e,i,r=!1){return new mS({ec:t,methodName:e,hc:i,path:sr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function qg(n){const t=n._freezeSettings(),e=CC(n._databaseId);return new PH(n._databaseId,!!t.ignoreUndefinedProperties,e)}function _S(n,t,e,i,r,o={}){const c=n.lc(o.merge||o.mergeFields?2:0,t,e,r);zM("Data must be an object, but it was:",c,i);const h=WN(i,c);let f,y;if(o.merge)f=new _d(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const E=[];for(const I of o.mergeFields){const M=GM(t,I,e);if(!c.contains(M))throw new Re(ue.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);YN(E,M)||E.push(M)}f=new _d(E),y=c.fieldTransforms.filter(I=>f.covers(I.field))}else f=null,y=c.fieldTransforms;return new RH(new or(h),f,y)}class SC extends Gg{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof SC}}function $N(n,t,e){return new mS({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class UM extends Gg{_toFieldTransform(t){return new rC(t.path,new Py)}isEqual(t){return t instanceof UM}}class NH extends Gg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=$N(this,t,!0),i=this.fc.map(o=>$g(o,e)),r=new kg(i);return new rC(t.path,r)}isEqual(t){return this===t}}class FH extends Gg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=$N(this,t,!0),i=this.fc.map(o=>$g(o,e)),r=new Og(i);return new rC(t.path,r)}isEqual(t){return this===t}}class LH extends Gg{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new Ny(t.M,jR(t.M,this.dc));return new rC(t.path,e)}isEqual(t){return this===t}}function HM(n,t,e,i){const r=n.lc(1,t,e);zM("Data must be an object, but it was:",r,i);const o=[],c=or.empty();ou(i,(f,y)=>{const E=yS(t,f,e);y=(0,N.m9)(y);const I=r.oc(E);if(y instanceof SC)o.push(E);else{const M=$g(y,I);null!=M&&(o.push(E),c.set(E,M))}});const h=new _d(o);return new GN(c,h,r.fieldTransforms)}function jM(n,t,e,i,r,o){const c=n.lc(1,t,e),h=[GM(t,i,e)],f=[r];if(o.length%2!=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(GM(t,o[M])),f.push(o[M+1]);const y=[],E=or.empty();for(let M=h.length-1;M>=0;--M)if(!YN(y,h[M])){const P=h[M];let V=f[M];V=(0,N.m9)(V);const Q=c.oc(P);if(V instanceof SC)y.push(P);else{const ye=$g(V,Q);null!=ye&&(y.push(P),E.set(P,ye))}}const I=new _d(y);return new GN(E,I,c.fieldTransforms)}function ZN(n,t,e,i=!1){return $g(e,n.lc(i?4:3,t))}function $g(n,t){if(KN(n=(0,N.m9)(n)))return zM("Unsupported field value:",t,n),WN(n,t);if(n instanceof Gg)return function(e,i){if(!qN(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let h=$g(c,i.uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jR(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Qn.fromDate(e);return{timestampValue:uC(i.M,r)}}if(e instanceof Qn){const r=new Qn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uC(i.M,r)}}if(e instanceof gS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hu)return{bytesValue:oP(i.M,e._byteString)};if(e instanceof Jn){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ac(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:oA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${pS(e)}`)}(n,t)}function WN(n,t){const e={};return Qb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ou(n,(i,r)=>{const o=$g(r,t.sc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function KN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof gS||n instanceof hu||n instanceof Jn||n instanceof Gg)}function zM(n,t,e){if(!KN(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=pS(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function GM(n,t,e){if((t=(0,N.m9)(t))instanceof Td)return t._internalPath;if("string"==typeof t)return yS(n,t);throw vS("Field path arguments must be of type string or ",n,!1,void 0,e)}const VH=new RegExp("[~\\*/\\[\\]]");function yS(n,t,e){if(t.search(VH)>=0)throw vS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Td(...t.split("."))._internalPath}catch(i){throw vS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vS(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new Re(ue.INVALID_ARGUMENT,h+n+f)}function YN(n,t){return n.some(e=>e.isEqual(t))}class xC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new BH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class BH extends xC{data(){return super.data()}}function wS(n,t){return"string"==typeof t?yS(n,t):t instanceof Td?t._internalPath:t._delegate._internalPath}class Zg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Id extends xC{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new DC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(wS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class DC extends Id{data(t={}){return super.data(t)}}class vp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new DC(this._firestore,this._userDataWriter,i.key,i,new Zg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new DC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new DC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:UH(c.type),doc:h,oldIndex:f,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function UH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function QN(n,t){return n instanceof Id&&t instanceof Id?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof vp&&t instanceof vp&&n._firestore===t._firestore&&UN(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function JN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AC{}function wp(n,...t){for(const e of t)n=e._apply(n);return n}class HH extends AC{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=qg(t.firestore),i=function(r,o,c,h,f,y,E){let I;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){rF(E,y);const P=[];for(const V of E)P.push(iF(h,r,V));I={arrayValue:{values:P}}}else I=iF(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||rF(E,y),I=ZN(c,"where",E,"in"===y||"not-in"===y);const M=C.create(f,y,I);return function(P,V){if(V.S()){const ye=Ag(P);if(null!==ye&&!ye.isEqual(V.field))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${V.field.toString()}'`);const je=Dg(P);null!==je&&sF(0,V.field,je)}const Q=function(ye,je){for(const Je of ye.filters)if(je.indexOf(Je.op)>=0)return Je.op;return null}(P,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Q)throw new Re(ue.INVALID_ARGUMENT,Q===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new As(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new Wt(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class zH extends AC{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new nt(r,o);return function(h,f){if(null===Dg(h)){const y=Ag(h);null!==y&&sF(0,y,f.field)}}(i,c),c}(t._query,this._c,this.gc);return new As(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Wt(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class XN extends AC{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new As(t.firestore,t.converter,Oy(t._query,this.yc,this.Ic))}}class eF extends AC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=nF(t,this.type,this.Tc,this.Ec);return new As(t.firestore,t.converter,(r=e,new Wt((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class tF extends AC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=nF(t,this.type,this.Tc,this.Ec);return new As(t.firestore,t.converter,(r=e,new Wt((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function nF(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof xC)return function(r,o,c,h,f){if(!h)throw new Re(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const E of lu(r))if(E.field.isKeyField())y.push(up(o,h.key));else{const I=h.data.field(E.field);if(VI(I))throw new Re(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=E.field.canonicalString();throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(I)}return new Ue(y,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=qg(n.firestore);return function(o,c,h,f,y,E){const I=o.explicitOrderBy;if(y.length>I.length)throw new Re(ue.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<y.length;P++){const V=y[P];if(I[P].field.isKeyField()){if("string"!=typeof V)throw new Re(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!Mg(o)&&-1!==V.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const Q=o.path.child(on.fromString(V));if(!qe.isDocumentKey(Q))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ye=new qe(Q);M.push(up(c,ye))}else{const Q=ZN(h,f,V);M.push(Q)}}return new Ue(M,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function iF(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mg(t)&&-1!==e.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(on.fromString(e));if(!qe.isDocumentKey(i))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return up(n,new qe(i))}if(e instanceof Jn)return up(n,e._key);throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pS(e)}.`)}function rF(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function sF(n,t,e){if(!e.isEqual(t))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const QH={maxAttempts:5};class qM{convertValue(t,e="none"){switch(vd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ap(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){const i={};return ou(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new gS(gi(t.latitude),gi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ZD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Eg(t));default:return null}}convertTimestamp(t){const e=yd(t);return new Qn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=on.fromString(t);Mt(mP(i));const r=new Hl(i.get(1),i.get(3)),o=new qe(i.popFirst(5));return r.isEqual(e)||fi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function bS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class JH extends qM{constructor(t){super(),this.firestore=t}convertBytes(t){return new hu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,e)}}class oF{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qg(t)}set(t,e,i){this._verifyNotCommitted();const r=bp(t,this._firestore),o=bS(r.converter,e,i),c=_S(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ar.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=bp(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof Td?jM(this._dataReader,"WriteBatch.update",o._key,e,i,r):HM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,ar.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=bp(t,this._firestore);return this._mutations=this._mutations.concat(new oC(e._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bp(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Re(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Wg extends qM{constructor(t){super(),this.firestore=t}convertBytes(t){return new hu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,e)}}function aF(n,t,e){n=ln(n,Jn);const i=ln(n.firestore,ui),r=bS(n.converter,t,e);return Qy(i,[_S(qg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ar.none())])}function lF(n,t,e,...i){n=ln(n,Jn);const r=ln(n.firestore,ui),o=qg(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof Td?jM(o,"updateDoc",n._key,t,e,i):HM(o,"updateDoc",n._key,t),Qy(r,[c.toMutation(n._key,ar.exists(!0))])}function cF(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||BM(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(BM(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let f,y,E;if(n instanceof Jn)y=ln(n.firestore,ui),E=Ro(n._key.path),f={next:I=>{t[c]&&t[c]($M(y,n,I))},error:t[c+1],complete:t[c+2]};else{const I=ln(n,As);y=ln(I.firestore,ui),E=I._query;const M=new Wg(y);f={next:P=>{t[c]&&t[c](new vp(y,M,I,P))},error:t[c+1],complete:t[c+2]},JN(n._query)}return function(I,M,P,V){const Q=new dS(V),ye=new iM(M,Q,P);return I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return JA(yield Yy(I),ye)})),()=>{Q.Aa(),I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return eM(yield Yy(I),ye)}))}}(cr(y),E,h,f)}function Qy(n,t){return function(e,i){const r=new Zi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function GU(n,t,e){return lM.apply(this,arguments)}(yield FM(e),i,r)})),r.promise}(cr(n),t)}function $M(n,t,e){const i=e.docs.get(t._key),r=new Wg(n);return new Id(n,r,t._key,i,new Zg(e.hasPendingWrites,e.fromCache),t.converter)}class c6 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=qg(t)}get(t){const e=bp(t,this._firestore),i=new JH(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ct();const o=r[0];if(o.isFoundDocument())return new xC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new xC(this._firestore,i,e._key,null,e.converter);throw ct()})}set(t,e,i){const r=bp(t,this._firestore),o=bS(r.converter,e,i),c=_S(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=bp(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof Td?jM(this._dataReader,"Transaction.update",o._key,e,i,r):HM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=bp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=bp(t,this._firestore),i=new Wg(this._firestore);return super.get(t).then(r=>new Id(this._firestore,i,e._key,r._document,new Zg(!1,!1),e.converter))}}function ZM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function dF(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function hF(){if(!function qD(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){ru=ga.SDK_VERSION,(0,ga._registerComponent)(new Do.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new ui(r,new jD(e.getProvider("auth-internal")),new GD(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,ga.registerVersion)(ko,"3.4.9",n),(0,ga.registerVersion)(ko,"3.4.9","esm2017")}();class MC{constructor(t){this._delegate=t}static fromBase64String(t){return hF(),new MC(hu.fromBase64String(t))}static fromUint8Array(t){return dF(),new MC(hu.fromUint8Array(t))}toBase64(){return hF(),this._delegate.toBase64()}toUint8Array(){return dF(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WM(n){return function y6(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class v6{enableIndexedDbPersistence(t,e){return function TH(n,t){zN(n=ln(n,ui));const e=cr(n),i=n._freezeSettings(),r=new AM;return jN(e,r,new TN(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function IH(n){zN(n=ln(n,ui));const t=cr(n),e=n._freezeSettings(),i=new AM;return jN(t,i,new oH(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function SH(n){if(n._initialized&&!n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Zi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(e=(0,Te.Z)(function*(i){if(!jl.vt())return Promise.resolve();const r=i+"main";yield jl.delete(r)}),function(i){return e.apply(this,arguments)})(bA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class pF{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Hl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&bg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function vH(n,t,e,i={}){var r;const o=(n=ln(n,IC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&bg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=br.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Re(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new br(f)}n._authCredentials=new HD(new OI(c,h))}}(this._delegate,t,e,i)}enableNetwork(){return function DH(n){return function dH(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield DN(n),e=yield AN(n);return t.setNetworkEnabled(!0),function(i){const r=We(i);return r.wu.delete(0),EC(r)}(e)}))}(cr(n=ln(n,ui)))}(this._delegate)}disableNetwork(){return function AH(n){return function hH(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield DN(n),e=yield AN(n);return t.setNetworkEnabled(!1),(i=(0,Te.Z)(function*(r){const o=We(r);o.wu.add(0),yield zy(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(cr(n=ln(n,ui)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,RN("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xH(n){return function(t){const e=new Zi;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function WU(n,t){return pM.apply(this,arguments)}(yield FM(t),e)})),e.promise}(cr(n=ln(n,ui)))}(this._delegate)}onSnapshotsInSync(t){return function l6(n,t){return function gH(n,t){const e=new dS(t);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield Yy(n),r=e,We(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield Yy(n),r=e,void We(i).bu.delete(r);var i,r}))}}(cr(n=ln(n,ui)),BM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Jy(this,VN(this._delegate,t))}catch(e){throw to(e,"collection()","Firestore.collection()")}}doc(t){try{return new nl(this,fS(this._delegate,t))}catch(e){throw to(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new no(this,function wH(n,t){if(n=ln(n,IC),VM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new As(n,null,(e=t,new Wt(on.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw to(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function u6(n,t,e){n=ln(n,ui);const i=Object.assign(Object.assign({},QH),e);return function(r){if(r.maxAttempts<1)throw new Re(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function mH(n,t,e){const i=new Zi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const r=yield(o=n,hS(o).then(c=>c.datastore));var o;new cH(n.asyncQueue,r,e,t,i).run()})),i.promise}(cr(n),r=>t(new c6(n,r)),i)}(this._delegate,e=>t(new fF(this,e)))}batch(){return cr(this._delegate),new gF(new oF(this._delegate,t=>Qy(this._delegate,t)))}loadBundle(t){return function MH(n,t){const e=cr(n=ln(n,ui)),i=new CH;return function _H(n,t,e,i){const r=function(o,c){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,y){if(f instanceof Uint8Array)return IN(f,y);if(f instanceof ArrayBuffer)return IN(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new aH(f,c);var f}(e,CC(t));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function sH(n,t,e){const i=We(n);var r;(r=(0,Te.Z)(function*(o,c,h){try{const f=yield c.getMetadata();if(yield function(M,P){const V=We(M),Q=Hr(P.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ye=>V._s.getBundleMetadata(ye,P.id)).then(ye=>!!ye&&ye.createTime.compareTo(Q)>=0)}(o.localStore,f))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=f).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(fN(f));const y=new VU(f,o.localStore,c.M);let E=yield c.ma();for(;E;){const M=yield y.Fu(E);M&&h._updateProgress(M),E=yield c.ma()}const I=yield y.complete();return yield Ed(o,I.Lu,void 0),yield function(M,P){const V=We(M);return V.persistence.runTransaction("Save bundle","readwrite",Q=>V._s.saveBundleMetadata(Q,P))}(o.localStore,f),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(f){return bg("SyncEngine",`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}var M}),function(o,c,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function kH(n,t){return function yH(n,t){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(e,i){const r=We(e);return r.persistence.runTransaction("Get named query","readonly",o=>r._s.getNamedQuery(o,i))}(yield NM(n),t)}))}(cr(n=ln(n,ui)),t).then(e=>e?new As(n,null,e.query):null)}(this._delegate,t).then(e=>e?new no(this,e):null)}}class CS extends qM{constructor(t){super(),this.firestore=t}convertBytes(t){return new MC(new hu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return nl.forKey(e,this.firestore,null)}}class fF{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new CS(t)}get(t){const e=Yg(t);return this._delegate.get(e).then(i=>new kC(this._firestore,new Id(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Yg(t);return i?(ZM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Yg(t);return this._delegate.delete(e),this}}class gF{constructor(t){this._delegate=t}set(t,e,i){const r=Yg(t);return i?(ZM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Yg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Yg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Kg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new DC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new OC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Kg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Kg(t,new CS(t),e),r.set(e,o)),o}}Kg.INSTANCES=new WeakMap;class nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new nl(e,new Jn(e._delegate,i,new qe(t)))}static forKey(t,e,i){return new nl(e,new Jn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Jy(this.firestore,VN(this._delegate,t))}catch(e){throw to(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof Jn&&BN(this._delegate,t)}set(t,e){e=ZM("DocumentReference.set",e);try{return e?aF(this._delegate,t,e):aF(this._delegate,t)}catch(i){throw to(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?lF(this._delegate,t):lF(this._delegate,t,e,...i)}catch(r){throw to(r,"updateDoc()","DocumentReference.update()")}}delete(){return function o6(n){return Qy(ln(n.firestore,ui),[new oC(n._key,ar.none())])}(this._delegate)}onSnapshot(...t){const e=mF(t),i=_F(t,r=>new kC(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cF(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function e6(n){n=ln(n,Jn);const t=ln(n.firestore,ui),e=cr(t),i=new Wg(t);return function pH(n,t){const e=new Zi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,c){try{const h=yield function(f,y){const E=We(f);return E.persistence.runTransaction("read document","readonly",I=>E.fi.Ls(I,y))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Re(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=$y(h,`Failed to get document '${o} from cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield NM(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Id(t,i,n._key,r,new Zg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function t6(n){n=ln(n,Jn);const t=ln(n.firestore,ui);return MN(cr(t),n._key,{source:"server"}).then(e=>$M(t,n,e))}(this._delegate):function XH(n){n=ln(n,Jn);const t=ln(n.firestore,ui);return MN(cr(t),n._key).then(e=>$M(t,n,e))}(this._delegate),e.then(i=>new kC(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new nl(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}function to(n,t,e){return n.message=n.message.replace(t,e),n}function mF(n){for(const t of n)if("object"==typeof t&&!WM(t))return t;return{}}function _F(n,t){var e,i;let r;return r=WM(n[0])?n[0]:WM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class kC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return QN(this._delegate,t._delegate)}}class OC extends kC{data(t){const e=this._delegate.data(t);return function UD(n,t){n||ct()}(void 0!==e),e}}class no{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CS(t)}where(t,e,i){try{return new no(this.firestore,wp(this._delegate,function jH(n,t,e){const i=t,r=wS("where",n);return new HH(r,i,e)}(t,e,i)))}catch(r){throw to(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new no(this.firestore,wp(this._delegate,function GH(n,t="asc"){const e=t,i=wS("orderBy",n);return new zH(i,e)}(t,e)))}catch(i){throw to(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new no(this.firestore,wp(this._delegate,function qH(n){return FN("limit",n),new XN("limit",n,"F")}(t)))}catch(e){throw to(e,"limit()","Query.limit()")}}limitToLast(t){try{return new no(this.firestore,wp(this._delegate,function $H(n){return FN("limitToLast",n),new XN("limitToLast",n,"L")}(t)))}catch(e){throw to(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new no(this.firestore,wp(this._delegate,function ZH(...n){return new eF("startAt",n,!0)}(...t)))}catch(e){throw to(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new no(this.firestore,wp(this._delegate,function WH(...n){return new eF("startAfter",n,!1)}(...t)))}catch(e){throw to(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new no(this.firestore,wp(this._delegate,function KH(...n){return new tF("endBefore",n,!1)}(...t)))}catch(e){throw to(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new no(this.firestore,wp(this._delegate,function YH(...n){return new tF("endAt",n,!0)}(...t)))}catch(e){throw to(e,"endAt()","Query.endAt()")}}isEqual(t){return UN(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function r6(n){n=ln(n,As);const t=ln(n.firestore,ui),e=cr(t),i=new Wg(t);return function fH(n,t){const e=new Zi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,c){try{const h=yield sS(r,o,!0),f=new _N(o,h._i),y=f.Wu(h.documents),E=f.applyChanges(y,!1);c.resolve(E.snapshot)}catch(h){const f=$y(h,`Failed to execute query '${o} against cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield NM(n),t,e);var i})),e.promise}(e,n._query).then(r=>new vp(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function s6(n){n=ln(n,As);const t=ln(n.firestore,ui),e=cr(t),i=new Wg(t);return kN(e,n._query,{source:"server"}).then(r=>new vp(t,i,n,r))}(this._delegate):function n6(n){n=ln(n,As);const t=ln(n.firestore,ui),e=cr(t),i=new Wg(t);return JN(n._query),kN(e,n._query).then(r=>new vp(t,i,n,r))}(this._delegate),e.then(i=>new KM(this.firestore,new vp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=mF(t),i=_F(t,r=>new KM(this.firestore,new vp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cF(this._delegate,e,i)}withConverter(t){return new no(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}class b6{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new OC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new no(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new OC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new b6(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new OC(this._firestore,i))})}isEqual(t){return QN(this._delegate,t._delegate)}}class Jy extends no{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new nl(this.firestore,t):null}doc(t){try{return new nl(this.firestore,void 0===t?fS(this._delegate):fS(this._delegate,t))}catch(e){throw to(e,"doc()","CollectionReference.doc()")}}add(t){return function a6(n,t){const e=ln(n.firestore,ui),i=fS(n),r=bS(n.converter,t);return Qy(e,[_S(qg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new nl(this.firestore,e))}isEqual(t){return BN(this._delegate,t._delegate)}withConverter(t){return new Jy(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}function Yg(n){return ln(n,Jn)}class YM{constructor(...t){this._delegate=new Td(...t)}static documentId(){return new YM(sr.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof Td&&this._delegate._internalPath.isEqual(t._internalPath)}}class Qg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function h6(){return new UM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Qg(t)}static delete(){const t=function d6(){return new SC("deleteField")}();return t._methodName="FieldValue.delete",new Qg(t)}static arrayUnion(...t){const e=function p6(...n){return new NH("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Qg(e)}static arrayRemove(...t){const e=function f6(...n){return new FH("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Qg(e)}static increment(t){const e=function g6(n){return new LH("increment",n)}(t);return e._methodName="FieldValue.increment",new Qg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const C6={Firestore:pF,GeoPoint:gS,Timestamp:Qn,Blob:MC,Transaction:fF,WriteBatch:gF,DocumentReference:nl,DocumentSnapshot:kC,Query:no,QueryDocumentSnapshot:OC,QuerySnapshot:KM,CollectionReference:Jy,FieldPath:YM,FieldValue:Qg,setLogLevel:function w6(n){!function Yb(n){su.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yF(n,t){return function I6(n,t=Y_.z){return new Bi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function QM(n,t){return yF(n,t).pipe((0,k.U)(e=>({payload:e,type:"query"})))}function ES(n,t){return QM(n,t).pipe(Gc(void 0),Jf(),(0,k.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const f=r.find(E=>E.doc.ref.isEqual(c.ref)),y=null==e?void 0:e.payload.docs.find(E=>E.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function vF(n,t,e){return ES(n,e).pipe(Ml((i,r)=>function x6(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function D6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return JM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return JM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return JM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),ib(),(0,k.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function JM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function wF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function T6(n){(function E6(n,t){n.INTERNAL.registerComponent(new Do.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},C6)))})(n,(t,e)=>new pF(t,e,new v6)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(iD.Z);class bF{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=ES(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,k.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Gc(void 0),Jf(),D(([i,r])=>r.length>0||!i),(0,k.U)(([i,r])=>r),kn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ml((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wF(t);return vF(this.query,e,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(t={}){return QM(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),kn.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(kn.iC)}add(t){return this.ref.add(t)}doc(t){return new CF(this.ref.doc(t),this.afs)}}class CF{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=IF(i,e);return new bF(r,o,this.afs)}snapshotChanges(){return function S6(n,t){return yF(n,t).pipe(Gc(void 0),Jf(),(0,k.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,k.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Vn.D)(this.ref.get(t)).pipe(kn.iC)}}class A6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ES(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),D(e=>e.length>0),kn.iC):ES(this.query,this.afs.schedulers.outsideAngular).pipe(kn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ml((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wF(t);return vF(this.query,e,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(t={}){return QM(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),kn.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(kn.iC)}}const EF=new s.OlP("angularfire2.enableFirestorePersistence"),TF=new s.OlP("angularfire2.firestore.persistenceSettings"),M6=new s.OlP("angularfire2.firestore.settings"),k6=new s.OlP("angularfire2.firestore.use-emulator");function IF(n,t=(e=>e)){return{query:t(n),ref:n}}let il=(()=>{class n{constructor(e,i,r,o,c,h,f,y,E,I,M,P,V,Q,ye,je,Je){this.schedulers=f;const it=(0,ns.on)(e,h,i),rt=E;I&&Ct(it,h,M,V,Q,ye,P,je),[this.firestore,this.persistenceEnabled$]=(0,ns.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const At=h.runOutsideAngular(()=>it.firestore());if(o&&At.settings(o),rt&&At.useEmulator(...rt),r&&!Ma(c)){const Ot=()=>{try{return(0,Vn.D)(At.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(rn){return"undefined"!=typeof console&&console.warn(rn),bt(!1)}};return[At,h.runOutsideAngular(Ot)]}return[At,bt(!1)]},[o,rt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=IF(r,i),h=this.schedulers.ngZone.run(()=>o);return new bF(h,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new A6(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new CF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ns.Dh),s.LFG(ns.xv,8),s.LFG(EF,8),s.LFG(M6,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kn.HU),s.LFG(TF,8),s.LFG(k6,8),s.LFG($_,8),s.LFG(ET,8),s.LFG(Kf,8),s.LFG(TT,8),s.LFG(G_,8),s.LFG(q_,8),s.LFG(IT,8),s.LFG(z_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),O6=(()=>{class n{constructor(){CT.Z.registerVersion("angularfire",kn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:EF,useValue:!0},{provide:TF,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[il]}),n})(),R6=(()=>{class n{constructor(e){this.firestore=e}read_All_Houses(){return this.firestore.collection("houses").snapshotChanges()}create_House(e){return this.firestore.collection("houses").add(e)}update_House(e,i){this.firestore.doc("houses/"+e).update(i)}delete_House(e){this.firestore.doc("houses/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zl=(()=>{class n{constructor(e){this.http=e,this.starTypeData="./assets/csv/starTypeData.csv",this.signTypeData="./assets/csv/signTypeData.csv",this.houseTypeData="./assets/csv/houseTypeData.csv",this.planetTypeData="./assets/csv/planetTypeData.csv"}getStarTypeInfo(){return this.http.get(this.starTypeData,{responseType:"text"})}getSignTypeInfo(){return this.http.get(this.signTypeData,{responseType:"text"})}getHouseTypeInfo(){return this.http.get(this.houseTypeData,{responseType:"text"})}getPlanetTypeInfo(){return this.http.get(this.planetTypeData,{responseType:"text"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),re=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var c=0;c<r.length;c++){if(r[c]==e)return o;r[c].attributes&&r[c].attributes[i]&&1==r[c].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,c=i.getBoundingClientRect(),h=this.getViewport();let f,y;c.top+o+r.height>h.height?(f=-1*r.height,e.style.transformOrigin="bottom",c.top+f<0&&(f=-1*c.top)):(f=o,e.style.transformOrigin="top"),y=r.width>h.width?-1*c.left:c.left+r.width>h.width?-1*(c.left+r.width-h.width):0,e.style.top=f+"px",e.style.left=y+"px"}static absolutePosition(e,i){let P,V,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,c=r.width,h=i.offsetHeight,f=i.offsetWidth,y=i.getBoundingClientRect(),E=this.getWindowScrollTop(),I=this.getWindowScrollLeft(),M=this.getViewport();y.top+h+o>M.height?(P=y.top+E-o,e.style.transformOrigin="bottom",P<0&&(P=E)):(P=h+y.top+E,e.style.transformOrigin="top"),V=y.left+c>M.width?Math.max(0,y.left+I+f-c):y.left+I,e.style.top=P+"px",e.style.left=V+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,c=h=>{let f=window.getComputedStyle(h,null);return o.test(f.getPropertyValue("overflow"))||o.test(f.getPropertyValue("overflowX"))||o.test(f.getPropertyValue("overflowY"))};for(let h of r){let f=1===h.nodeType&&h.dataset.scrollselectors;if(f){let y=f.split(",");for(let E of y){let I=this.findSingle(h,E);I&&c(I)&&i.push(I)}}9!==h.nodeType&&c(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,c=getComputedStyle(e).getPropertyValue("paddingTop"),h=c?parseFloat(c):0,f=e.getBoundingClientRect(),E=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-o-h,I=e.scrollTop,M=e.clientHeight,P=this.getOuterHeight(i);E<0?e.scrollTop=I+E:E+P>M&&(e.scrollTop=I+E-M+P)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,c=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(e,i){var r=1,h=50/i;let f=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(f)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class TS{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=re.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Jg=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(re.removeClass(i,"p-ink-active"),!re.getHeight(i)&&!re.getWidth(i)){let h=Math.max(re.getOuterWidth(this.el.nativeElement),re.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=re.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-re.getWidth(i)/2,c=e.pageY-r.top+document.body.scrollLeft-re.getHeight(i)/2;i.style.top=c+"px",i.style.left=o+"px",re.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&re.removeClass(e,"p-ink-active")}onAnimationEnd(e){re.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),re.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(cd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Cp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();const SF=["container"],P6=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function N6(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,P6,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function F6(n,t){1&n&&s.GkF(0)}function L6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)}),s._UZ(1,"span",11),s.qZA()}}const V6=function(n){return[n,"p-toast-message"]},B6=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},U6=function(n){return{value:"visible",params:n}},H6=function(n){return{$implicit:n}};function j6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){return s.CHM(e),s.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return s.CHM(e),s.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return s.CHM(e),s.oxw().onAnimationEnd(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let z6=(()=>{class n{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&s.Gf(SF,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,N6,7,10,"ng-container",3),s.YNc(4,F6,1,0,"ng-container",4),s.YNc(5,L6,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(i.message.styleClass),s.Q6J("ngClass",s.VKq(10,V6,"p-toast-message-"+i.message.severity))("@messageState",s.VKq(17,U6,s.l5B(12,B6,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),s.uIk("id",i.message.id),s.xp6(2),s.Q6J("ngClass",i.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(19,H6,i.message)),s.xp6(1),s.Q6J("ngIf",!1!==i.message.closable))},directives:[Tn,Ft,gs,Jg],encapsulation:2,data:{animation:[Ar("messageState",[Jo("visible",Zn({transform:"translateY(0)",opacity:1})),nn("void => *",[Zn({transform:"{{showTransformParams}}",opacity:0}),Mr("{{showTransitionParams}}")]),nn("* => void",[Mr("{{hideTransitionParams}}",Zn({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),Gl=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=Gh()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&ji.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&ot.isEmpty(this.messages)&&ji.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ji.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yn),s.Y36(s.sBO),s.Y36(cd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,zi,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(SF,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,j6,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),s.xp6(2),s.Q6J("ngForOf",i.messages))},directives:[z6,Tn,Oi,$t],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Ar("toastAnimation",[nn(":enter, :leave",[Kd("@*",Va())])])]},changeDetection:0}),n})(),G6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Cp],Mo]}),n})(),IS=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,re.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&re.addClass(e,i);let r=this.getIconClass();r&&re.addMultipleClasses(e,r);let o=re.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(re.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Ep=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Cp]]}),n})();const $6=["content"];function Z6(n,t){1&n&&s.GkF(0)}function W6(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,Z6,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function K6(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Oqu(e.option("header"))}}const Y6=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Q6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(4).close(r)}),s._UZ(1,"span",17),s.qZA()}2&n&&s.Q6J("ngClass",s.DdM(1,Y6))}function J6(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,K6,2,1,"span",12),s.TgZ(2,"div",13),s.YNc(3,Q6,2,2,"button",14),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("header")),s.xp6(2),s.Q6J("ngIf",e.closable)}}function X6(n,t){if(1&n&&s._UZ(0,"i",1),2&n){const e=s.oxw(3);s.Tol(e.option("icon")),s.Q6J("ngClass","p-confirm-dialog-icon")}}function ej(n,t){1&n&&s.GkF(0)}function tj(n,t){if(1&n&&(s.TgZ(0,"div",18),s.Hsn(1),s.YNc(2,ej,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}function nj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).reject()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("rejectButtonStyleClass")),s.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),s.uIk("aria-label",e.rejectAriaLabel)}}function ij(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).accept()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("acceptButtonStyleClass")),s.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),s.uIk("aria-label",e.acceptAriaLabel)}}function rj(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,nj,1,6,"button",19),s.YNc(2,ij,1,6,"button",19),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("rejectVisible")),s.xp6(1),s.Q6J("ngIf",e.option("acceptVisible"))}}const sj=function(n){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}},oj=function(n,t){return{transform:n,transition:t}},aj=function(n){return{value:"visible",params:n}};function lj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("mousedown",function(){return s.CHM(e),s.oxw(2).moveOnTop()})("@animation.start",function(r){return s.CHM(e),s.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw(2).onAnimationEnd(r)}),s.YNc(1,W6,2,1,"div",4),s.YNc(2,J6,4,2,"div",4),s.TgZ(3,"div",5,6),s.YNc(5,X6,1,3,"i",7),s._UZ(6,"span",8),s.qZA(),s.YNc(7,tj,3,1,"div",9),s.YNc(8,rj,3,2,"div",9),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.VKq(11,sj,e.rtl))("ngStyle",e.style)("@animation",s.VKq(16,aj,s.WLB(13,oj,e.transformOptions,e.transitionOptions))),s.xp6(1),s.Q6J("ngIf",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.headerTemplate),s.xp6(3),s.Q6J("ngIf",e.option("icon")),s.xp6(1),s.Q6J("innerHTML",e.option("message"),s.oJD),s.xp6(1),s.Q6J("ngIf",e.footer||e.footerTemplate),s.xp6(1),s.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function cj(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,lj,9,18,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",e.getMaskClass()),s.xp6(1),s.Q6J("ngIf",e.visible)}}const uj=[[["p-footer"]]],dj=["p-footer"],hj=Us([Zn({transform:"{{transform}}",opacity:0}),Mr("{{transition}}",Zn({transform:"none",opacity:1}))]),pj=Us([Mr("{{transition}}",Zn({transform:"{{transform}}",opacity:0}))]);let ql=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.confirmationService=r,this.zone=o,this.cd=c,this.config=h,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new s.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=Gh(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(f=>{f?f.key===this.key&&(this.confirmation=f,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new s.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new s.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){if("visible"===e.toState){this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=re.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const i=this.getElementToFocus();i&&i.focus()}}onAnimationEnd(e){"void"===e.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return re.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return re.findSingle(this.container,".p-confirm-dialog-reject");case"close":return re.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):re.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&re.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&re.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(ya.CANCEL),this.hide(ya.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(ji.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{if(27==i.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===ji.get(this.container)&&this.visible&&this.close(i),9===i.which&&this.focusTrap){i.preventDefault();let r=re.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);i.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&ji.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(ya.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(ya.REJECT),this.hide(ya.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(is.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(is.REJECT)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(ci),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(cd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,eD,5),s.Suo(r,zi,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf($6,5),2&e){let r;s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:dj,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,i){1&e&&(s.F$t(uj),s.YNc(0,cj,2,4,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},directives:[Ft,Tn,Oi,gs,Jg,IS],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Ar("animation",[nn("void => visible",[ea(hj)]),nn("visible => void",[ea(pj)])])]},changeDetection:0}),n})(),fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Ep,Cp],Ep,Mo]}),n})();function SS(n,t=0){return function mj(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}var yj=F(1144);const vj=["addListener","removeListener"],wj=["addEventListener","removeEventListener"],bj=["on","off"];function xS(n,t,e,i){if((0,v.m)(e)&&(i=e,e=void 0),i)return xS(n,t,e).pipe(Hv(i));const[r,o]=function Tj(n){return(0,v.m)(n.addEventListener)&&(0,v.m)(n.removeEventListener)}(n)?wj.map(c=>h=>n[c](t,h,e)):function Cj(n){return(0,v.m)(n.addListener)&&(0,v.m)(n.removeListener)}(n)?vj.map(xF(n,t)):function Ej(n){return(0,v.m)(n.on)&&(0,v.m)(n.off)}(n)?bj.map(xF(n,t)):[];if(!r&&(0,yj.z)(n))return(0,Bn.z)(c=>xS(c,t,e))((0,Dl.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Bi.y(c=>{const h=(...f)=>c.next(1<f.length?f:f[0]);return r(h),()=>o(h)})}function xF(n,t){return e=>i=>n[e](t,i)}var DF=F(4408);const RC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=RC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ss.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=RC;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=RC;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var AF=F(7565);const xj=new class Sj extends AF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ij extends DF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=RC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(RC.cancelAnimationFrame(e),t._scheduled=void 0)}});let XM,Dj=1;const DS={};function MF(n){return n in DS&&(delete DS[n],!0)}const Aj={setImmediate(n){const t=Dj++;return DS[t]=!0,XM||(XM=Promise.resolve()),XM.then(()=>MF(t)&&n()),t},clearImmediate(n){MF(n)}},{setImmediate:Mj,clearImmediate:kj}=Aj,AS={setImmediate(...n){const{delegate:t}=AS;return((null==t?void 0:t.setImmediate)||Mj)(...n)},clearImmediate(n){const{delegate:t}=AS;return((null==t?void 0:t.clearImmediate)||kj)(n)},delegate:void 0},Pj=new class Rj extends AF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Oj extends DF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=AS.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(AS.clearImmediate(e),t._scheduled=void 0)}});function kF(n){return!!n&&(n instanceof Bi.y||(0,v.m)(n.lift)&&(0,v.m)(n.subscribe))}var Fj=F(3532);function ek(n,t=Y_.z){return function Nj(n){return(0,m.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},f=()=>{o=null,c&&e.complete()};t.subscribe((0,b.x)(e,y=>{i=!0,r=y,o||(0,Dl.Xf)(n(y)).subscribe(o=(0,b.x)(e,h,f))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function Vj(n=0,t,e=Y_.P){let i=-1;return null!=t&&((0,Fj.K)(t)?e=t:i=t),new Bi.y(r=>{let o=function Lj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}var OF=F(5032);function tk(n){return(0,m.e)((t,e)=>{(0,Dl.Xf)(n).subscribe((0,b.x)(e,()=>e.complete(),OF.Z)),!e.closed&&t.subscribe(e)})}let nk;try{nk="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){nk=!1}let MS,Xg,RF=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ni(n){return n===zo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nk)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NC(){if("object"!=typeof document||!document)return 0;if(null==MS){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),MS=0,0===n.scrollLeft&&(n.scrollLeft=1,MS=0===n.scrollLeft?1:2),n.remove()}return MS}const jj=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function zj(){return(0,s.f3M)(de)}}),Gj=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let NF=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function qj(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Gj.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jj,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class Wj extends class $j{}{constructor(t){super(),this._data=t}connect(){return kF(this._data)?this._data:bt(this._data)}disconnect(){}}class Kj{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((c,h,f)=>{let y,E;null==c.previousIndex?(y=this._insertView(()=>i(c,h,f),f,e,r(c)),E=y?1:0):null==f?(this._detachAndCacheView(h,e),E=3):(y=this._moveView(h,f,e,r(c)),E=2),o&&o({context:null==y?void 0:y.context,operation:E,record:c})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const c=t();return i.createEmbeddedView(c.templateRef,c.context,c.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const LF=new s.OlP("_ViewRepeater"),Yj=["contentWrapper"],Qj=["*"],VF=new s.OlP("VIRTUAL_SCROLL_STRATEGY");class Jj{constructor(t,e,i){this._scrolledIndexChange=new mn.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(ib()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),c=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const f=Math.ceil(i/this._itemSize),y=Math.max(0,Math.min(c,r-f));c!=y&&(c=y,o=y*this._itemSize,e.start=Math.floor(c)),e.end=Math.max(0,Math.min(r,e.start+f))}const h=o-e.start*this._itemSize;if(h<this._minBufferPx&&0!=e.start){const f=Math.ceil((this._maxBufferPx-h)/this._itemSize);e.start=Math.max(0,e.start-f),e.end=Math.min(r,Math.ceil(c+(i+this._minBufferPx)/this._itemSize))}else{const f=e.end*this._itemSize-(o+i);if(f<this._minBufferPx&&e.end!=r){const y=Math.ceil((this._maxBufferPx-f)/this._itemSize);y>0&&(e.end=Math.min(r,e.end+y),e.start=Math.max(0,Math.floor(c-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(c))}}function Xj(n){return n._scrollStrategy}let rk=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Jj(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=SS(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=SS(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=SS(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s._Bn([{provide:VF,useFactory:Xj,deps:[(0,s.Gpc)(()=>n)]}]),s.TTD]}),n})(),BF=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Bi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(ek(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(D(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function _j(n){return n instanceof s.SBq?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(RF),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UF=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new mn.x,this._elementScrolled=new Bi.y(c=>this.ngZone.runOutsideAngular(()=>xS(this.elementRef.nativeElement,"scroll").pipe(tk(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=NC()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==NC()?e.left=e.right:1==NC()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function Uj(){if(null==Xg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xg=!1,Xg;if("scrollBehavior"in document.documentElement.style)Xg=!0;else{const n=Element.prototype.scrollTo;Xg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xg}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==NC()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==NC()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(BF),s.Y36(s.R0b),s.Y36(NF,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),n4=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new mn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ek(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(RF),s.LFG(s.R0b),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s4="undefined"!=typeof requestAnimationFrame?xj:Pj;let em=(()=>{class n extends UF{constructor(e,i,r,o,c,h,f){super(e,h,r,c),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new mn.x,this._renderedRangeSubject=new mn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Bi.y(y=>this._scrollStrategy.scrolledIndexChange.subscribe(E=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(E))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ss.w0.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function gj(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Gc(null),ek(0,s4)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(tk(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function r4(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,c=o?"X":"Y";let f=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(f+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(VF,8),s.Y36(NF,8),s.Y36(BF),s.Y36(n4))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(Yj,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s._Bn([{provide:UF,useExisting:n}]),s.qOj],ngContentSelectors:Qj,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function HF(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let sk=(()=>{class n{constructor(e,i,r,o,c,h){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=c,this.viewChange=new mn.x,this._dataSourceChanges=new mn.x,this.dataStream=this._dataSourceChanges.pipe(Gc(null),Jf(),Ui(([f,y])=>this._changeDataSource(f,y)),R_(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new mn.x,this.dataStream.subscribe(f=>{this._data=f,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(tk(this._destroyed)).subscribe(f=>{this._renderedRange=f,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Zj(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new Wj(kF(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=SS(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let c,h;for(let f=0;f<o;f++){const y=this._viewContainerRef.get(f+r);if(y&&y.rootNodes.length){c=h=y.rootNodes[0];break}}for(let f=o-1;f>-1;f--){const y=this._viewContainerRef.get(f+r);if(y&&y.rootNodes.length){h=y.rootNodes[y.rootNodes.length-1];break}}return c&&h?HF(i,"end",h)-HF(i,"start",c):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):bt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,c,h)=>this._getEmbeddedViewArgs(o,h),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(LF),s.Y36(em,4),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[s._Bn([{provide:LF,useClass:Kj}])]}),n})(),jF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[FF,jF],FF,jF]}),n})(),zF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),tm=(()=>{class n extends zF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ms=new s.OlP("NgValueAccessor"),l4={provide:Ms,useExisting:(0,s.Gpc)(()=>io),multi:!0},u4=new s.OlP("CompositionEventMode");let io=(()=>{class n extends zF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function c4(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(u4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([l4]),s.qOj]}),n})();const ks=new s.OlP("NgValidators"),Ip=new s.OlP("NgAsyncValidators");function eL(n){return null!=n}function tL(n){const t=(0,s.QGY)(n)?(0,Vn.D)(n):n;return(0,s.CqO)(t),t}function nL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function iL(n,t){return t.map(e=>e(n))}function rL(n){return n.map(t=>function h4(n){return!n.validate}(t)?t:e=>t.validate(e))}function ok(n){return null!=n?function sL(n){if(!n)return null;const t=n.filter(eL);return 0==t.length?null:function(e){return nL(iL(e,t))}}(rL(n)):null}function ak(n){return null!=n?function oL(n){if(!n)return null;const t=n.filter(eL);return 0==t.length?null:function(e){return function o4(...n){const t=(0,la.jO)(n),{args:e,keys:i}=k0(n),r=new Bi.y(o=>{const{length:c}=e;if(!c)return void o.complete();const h=new Array(c);let f=c,y=c;for(let E=0;E<c;E++){let I=!1;(0,Dl.Xf)(e[E]).subscribe((0,b.x)(o,M=>{I||(I=!0,y--),h[E]=M},()=>f--,void 0,()=>{(!f||!I)&&(y||o.next(i?jv(i,h):h),o.complete())}))}});return t?r.pipe(Hv(t)):r}(iL(e,t).map(tL)).pipe((0,k.U)(nL))}}(rL(n)):null}function aL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function lk(n){return n?Array.isArray(n)?n:[n]:[]}function OS(n,t){return Array.isArray(n)?n.includes(t):n===t}function uL(n,t){const e=lk(t);return lk(n).forEach(r=>{OS(e,r)||e.push(r)}),e}function dL(n,t){return lk(t).filter(e=>!OS(n,e))}class hL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ok(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ak(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Sd extends hL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ro extends hL{get formDirective(){return null}get path(){return null}}class pL{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let No=(()=>{class n extends pL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sd,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),fL=(()=>{class n extends pL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ro,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function FC(n,t){dk(n,t),t.valueAccessor.writeValue(n.value),function w4(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mL(n,t)})}(n,t),function C4(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function b4(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function v4(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function FS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function dk(n,t){const e=function lL(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(aL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function cL(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(aL(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();FS(t._rawValidators,r),FS(t._rawAsyncValidators,r)}function mL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const LC="VALID",VS="INVALID",tv="PENDING",VC="DISABLED";function mk(n){return(BS(n)?n.validators:n)||null}function wL(n){return Array.isArray(n)?ok(n):n||null}function _k(n,t){return(BS(t)?t.asyncValidators:n)||null}function bL(n){return Array.isArray(n)?ak(n):n||null}function BS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const yk=n=>n instanceof wk;function EL(n){return(n=>n instanceof SL)(n)?n.value:n.getRawValue()}function TL(n,t){const e=yk(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function IL(n,t){yk(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class vk{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=wL(this._rawValidators),this._composedAsyncValidatorFn=bL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===LC}get invalid(){return this.status===VS}get pending(){return this.status==tv}get disabled(){return this.status===VC}get enabled(){return this.status!==VC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=wL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bL(t)}addValidators(t){this.setValidators(uL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dL(t,this._rawAsyncValidators))}hasValidator(t){return OS(this._rawValidators,t)}hasAsyncValidator(t){return OS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=tv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=VC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=LC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===LC||this.status===tv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?VC:LC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=tv,this._hasOwnPendingAsyncValidator=!0;const e=tL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function S4(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=yk(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof D4)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?VC:this.errors?VS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tv)?tv:this._anyControlsHaveStatus(VS)?VS:LC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){BS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class SL extends vk{constructor(t=null,e,i){super(mk(e),_k(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BS(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wk extends vk{constructor(t,e,i){super(mk(e),_k(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){IL(this,t),Object.keys(t).forEach(i=>{TL(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=EL(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class D4 extends vk{constructor(t,e,i){super(mk(e),_k(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){IL(this,t),t.forEach((i,r)=>{TL(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>EL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const A4={provide:ro,useExisting:(0,s.Gpc)(()=>US)},BC=(()=>Promise.resolve(null))();let US=(()=>{class n extends ro{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new wk({},ok(e),ak(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){BC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),FC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){BC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){BC.then(()=>{const i=this._findContainer(e.path),r=new wk({});(function _L(n,t){dk(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){BC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){BC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function vL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ks,10),s.Y36(Ip,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([A4]),s.qOj]}),n})();const k4={provide:Sd,useExisting:(0,s.Gpc)(()=>os)},AL=(()=>Promise.resolve(null))();let os=(()=>{class n extends Sd{constructor(e,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new SL,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function pk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===io?e=o:function I4(n){return Object.getPrototypeOf(n.constructor)===tm}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function hk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){FC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){AL.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;AL.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function PS(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ro,9),s.Y36(ks,10),s.Y36(Ip,10),s.Y36(Ms,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([k4]),s.qOj,s.TTD]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[OL]]}),n})(),HS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nz]}),n})(),iz=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?re.appendChild(this.container,this.el.nativeElement):re.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),re.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ji.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&ji.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+re.getWindowScrollLeft(),top:e.top+re.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+re.getOuterWidth(this.el.nativeElement),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-re.getOuterWidth(this.container),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top-re.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top+re.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return re.hasClass(e,"p-inputwrapper")?re.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=re.getOuterWidth(this.container),c=re.getOuterHeight(this.container),h=re.getViewport();return r+o>h.width||r<0||i<0||i+c>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new TS(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):re.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ji.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(cd))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),rz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();function sz(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function oz(n,t){1&n&&s.GkF(0)}const YL=function(n){return{height:n}},az=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},xk=function(n){return{$implicit:n}},lz=["container"],cz=["filter"],uz=["in"],dz=["editableInput"];function hz(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function pz(n,t){1&n&&s.GkF(0)}const fz=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function gz(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,hz,2,1,"ng-container",13),s.YNc(2,pz,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,fz,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,xk,e.selectedOption))}}const mz=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function _z(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,mz,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function yz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){return s.CHM(e),s.oxw().onEditableInputClick()})("input",function(r){return s.CHM(e),s.oxw().onEditableInputChange(r)})("focus",function(r){return s.CHM(e),s.oxw().onEditableInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function vz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function wz(n,t){1&n&&s.GkF(0)}function bz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(2,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return s.CHM(e),s.oxw(2).onKeydown(r,!1)})("input",function(r){return s.CHM(e),s.oxw(2).onFilterInputChange(r)}),s.qZA(),s._UZ(4,"span",30),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function Cz(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function Ez(n,t){1&n&&s.GkF(0)}function Tz(n,t){1&n&&s.GkF(0)}const QL=function(n,t){return{$implicit:n,selectedOption:t}};function Iz(n,t){if(1&n&&(s.TgZ(0,"li",32),s.YNc(1,Cz,2,1,"span",13),s.YNc(2,Ez,1,0,"ng-container",14),s.qZA(),s.YNc(3,Tz,1,0,"ng-container",14)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(8),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,xk,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(7,QL,r.getOptionGroupChildren(e),r.selectedOption))}}function Sz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Iz,4,10,"ng-template",31),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToDisplay)}}function xz(n,t){1&n&&s.GkF(0)}function Dz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,xz,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(8),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(2,QL,i.optionsToDisplay,i.selectedOption))}}function Az(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onItemClick(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).selectedOption,r=s.oxw(2);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function Mz(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Az,1,5,"ng-template",31),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function kz(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onItemClick(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(3).selectedOption,r=s.oxw(2);s.xp6(1),s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function Oz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",37,38),s.NdJ("scrolledIndexChange",function(){return s.CHM(e),s.oxw(4).scrollToSelectedVirtualScrollElement()}),s.YNc(2,kz,2,5,"ng-container",39),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,YL,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function Rz(n,t){if(1&n&&s.YNc(0,Oz,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function Pz(n,t){if(1&n&&(s.YNc(0,Mz,2,1,"ng-container",33),s.YNc(1,Rz,1,1,"ng-template",null,34,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function Nz(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function Fz(n,t){1&n&&s.GkF(0,null,41)}function Lz(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,Nz,2,1,"ng-container",33),s.YNc(2,Fz,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Vz(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function Bz(n,t){1&n&&s.GkF(0,null,42)}function Uz(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,Vz,2,1,"ng-container",33),s.YNc(2,Bz,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function Hz(n,t){1&n&&s.GkF(0)}const jz=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},zz=function(n){return{value:"visible",params:n}},Gz=function(n){return{"p-dropdown-virtualscroll":n}};function qz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(1,wz,1,0,"ng-container",20),s.YNc(2,bz,5,4,"div",21),s.TgZ(3,"div",22)(4,"ul",23),s.YNc(5,Sz,2,1,"ng-container",13),s.YNc(6,Dz,2,5,"ng-container",13),s.YNc(7,Pz,3,2,"ng-template",null,24,s.W1O),s.YNc(9,Lz,3,3,"li",25),s.YNc(10,Uz,3,3,"li",25),s.qZA()(),s.YNc(11,Hz,1,0,"ng-container",20),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(19,zz,s.WLB(16,jz,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(21,Gz,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngIf",!e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const $z=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},Zz={provide:Ms,useExisting:(0,s.Gpc)(()=>ba),multi:!0};let Wz=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,sz,2,1,"span",1),s.YNc(2,oz,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,YL,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,az,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,xk,i.option)))},directives:[Jg,Oi,Tn,Ft,gs],encapsulation:2}),n})(),ba=(()=>{class n{constructor(e,i,r,o,c,h,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=c,this.config=h,this.overlayService=f,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=Gh()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(is.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(is.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}re.findSingle(this.overlay,"li.p-highlight")&&re.scrollInView(this.itemsWrapper,re.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return re.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=re.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&ji.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=re.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&ji.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?re.absolutePosition(this.overlay,this.containerViewChild.nativeElement):re.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let c=this.optionsToDisplay[r.groupIndex-1];c&&(this.selectItem(e,this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||ot.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let c of i)if(o=this.findOption(e,this.getOptionGroupChildren(c),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:o}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?re.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():re.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!re.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new TS(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&ji.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(nb),s.Y36(cd),s.Y36(Yc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,zi,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(lz,5),s.Gf(cz,5),s.Gf(uz,5),s.Gf(em,5),s.Gf(dz,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[s._Bn([Zz])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,gz,3,13,"span",5),s.YNc(6,_z,2,4,"span",6),s.YNc(7,yz,2,4,"input",7),s.YNc(8,vz,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,qz,12,23,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(20,$z,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[Wz,em,Tn,Oi,Ft,iz,gs,$t,rk,sk],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Ar("overlayAnimation",[nn(":enter",[Zn({opacity:0,transform:"scaleY(0.8)"}),Mr("{{showTransitionParams}}")]),nn(":leave",[Mr("{{hideTransitionParams}}",Zn({opacity:0}))])])]},changeDetection:0}),n})(),jS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Mo,ev,rz,Cp],Mo,ev]}),n})(),rl=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(os,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),zS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})(),$l=(()=>{class n{constructor(e,i,r,o){this.el=e,this.ngModel=i,this.control=r,this.cd=o,this.onResize=new s.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(os,8),s.Y36(Sd,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)})("focus",function(o){return i.onFocus(o)})("blur",function(o){return i.onBlur(o)}),2&e&&s.ekj("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),n})(),Kz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();const Yz=["input"];function Qz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}const JL=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},XL=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Jz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,JL))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,XL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Xz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,JL))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function eG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,XL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const tG=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},nG={provide:Ms,useExisting:(0,s.Gpc)(()=>e2),multi:!0};let e2=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,c=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(c).length||(this.updateInput(c,null,"spin",null),this.updateModel(e,c),this.handleOnInput(e,o,c))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,c=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:c=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(c),this.input.nativeElement.setAttribute("aria-valuenow",c),this.updateModel(e,c);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,c=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i-1,i-1):c=o.slice(0,i-1)+o.slice(i);else if(f>0&&i>f){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";c=o.slice(0,i-1)+I+o.slice(i)}else 1===y?(c=o.slice(0,i-1)+"0"+o.slice(i),c=this.parseValue(c)>0?c:""):c=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,c,null,"delete-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,c=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i+1,i+1):c=o.slice(0,i)+o.slice(i+1);else if(f>0&&i>f){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";c=o.slice(0,i)+I+o.slice(i+1)}else 1===y?(c=o.slice(0,i)+"0"+o.slice(i+1),c=this.parseValue(c)>0?c:""):c=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,c,null,"delete-back-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),c=this.isMinusSign(r);(48<=i&&i<=57||c||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:c})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const c=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:c}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let c=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,f=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:E,suffixCharIndex:I,currencyCharIndex:M}=this.getCharIndexes(f);let P;if(r.isMinusSign)0===c&&(P=f,(-1===E||0!==h)&&(P=this.insertText(f,i,0,h)),this.updateValue(e,P,i,"insert"));else if(r.isDecimalSign)y>0&&c===y?this.updateValue(e,f,i,"insert"):(y>c&&y<h||-1===y&&this.maxFractionDigits)&&(P=this.insertText(f,i,c,h),this.updateValue(e,P,i,"insert"));else{const V=this.numberFormat.resolvedOptions().maximumFractionDigits,Q=c!==h?"range-insert":"insert";if(y>0&&c>y){if(c+i.length-(y+1)<=V){const ye=M>=c?M-1:I>=c?I:f.length;P=f.slice(0,c)+i+f.slice(c+i.length,ye)+f.slice(ye),this.updateValue(e,P,i,Q)}}else P=this.insertText(f,i,c,h),this.updateValue(e,P,i,Q)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,c=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=c;let h=i.charAt(e);if(this.isNumeralChar(h))return e+c;let f=e-1;for(;f>=0;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+c;break}f--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(f=e;f<r;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+c;break}f++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let c=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,c,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let c=this.input.nativeElement.value,h=this.formatValue(e),f=c.length;if(h!==o&&(h=this.concatValues(h,o)),0===f){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const E=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(E,E)}else{let y=this.input.nativeElement.selectionStart,E=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let I=h.length;if("range-insert"===r){const M=this.parseValue((c||"").slice(0,y)),V=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),Q=new RegExp(V,"g");Q.test(h);const ye=i.split("").join(`(${this.groupChar})?`),je=new RegExp(ye,"g");je.test(h.slice(Q.lastIndex)),E=Q.lastIndex+je.lastIndex,this.input.nativeElement.setSelectionRange(E,E)}else if(I===f)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(E+1,E+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(E-1,E-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(E,E);else if("delete-back-single"===r){let M=c.charAt(E-1),P=c.charAt(E),V=f-I,Q=this._group.test(P);Q&&1===V?E+=1:!Q&&this.isNumeralChar(M)&&(E+=-1*V+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(E,E)}else if("-"===c&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const P=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(P,P)}else E+=I-f,this.input.nativeElement.setSelectionRange(E,E)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(Yz,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([nG]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,Qz,1,0,"i",3),s.YNc(4,Jz,3,12,"span",4),s.YNc(5,Xz,1,6,"button",5),s.YNc(6,eG,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,tG,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[Tn,Oi,rl,Ft,IS],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,zS,Ep]]}),n})();function iG(n,t){1&n&&s.GkF(0)}const Ak=function(n){return{$implicit:n}};function rG(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,iG,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,Ak,e.paginatorState))}}function sG(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const GS=function(n){return{"p-disabled":n}};function oG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToFirst(r)}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,GS,e.isFirstPage()||e.empty()))}}const aG=function(n){return{"p-highlight":n}};function lG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw(3).onPageLinkClick(r,c-1)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,aG,e-1==i.getPage())),s.xp6(1),s.Oqu(e)}}function cG(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,lG,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function uG(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function dG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){return s.CHM(e),s.oxw(2).onPageDropdownChange(r)}),s.YNc(1,uG,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function hG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToLast(r)}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,GS,e.isLastPage()||e.empty()))}}function pG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).changePage(r-1)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function fG(n,t){1&n&&s.GkF(0)}function gG(n,t){if(1&n&&s.YNc(0,fG,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,Ak,e))}}function mG(n,t){1&n&&(s.ynx(0),s.YNc(1,gG,1,4,"ng-template",30),s.BQk())}function _G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).rows=r})("onChange",function(r){return s.CHM(e),s.oxw(2).onRppChange(r)}),s.YNc(1,mG,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function yG(n,t){1&n&&s.GkF(0)}function vG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,yG,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,Ak,e.paginatorState))}}function wG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,rG,2,4,"div",2),s.YNc(2,sG,2,1,"span",3),s.YNc(3,oG,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToPrev(r)}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,cG,2,1,"span",7),s.YNc(7,dG,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToNext(r)}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,hG,2,4,"button",11),s.YNc(11,pG,1,2,"p-inputNumber",12),s.YNc(12,_G,2,6,"p-dropdown",13),s.YNc(13,vG,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,GS,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,GS,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let bG=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,wG,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[ba,e2,Ft,Oi,Tn,gs,Jg,$t,No,os,zi],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,jS,Dk,HS,Mo,Cp],jS,Dk,HS,Mo]}),n})();function EG(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function TG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,EG,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function IG(n,t){1&n&&s.GkF(0)}const SG=function(n,t){return{$implicit:n,index:t}};function xG(n,t){if(1&n&&s.YNc(0,IG,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,SG,i,r))}}const DG=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function AG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),c=o.$implicit,h=o.index;return s.oxw().onItemClick(r,c,h)})("keydown.enter",function(r){const o=s.CHM(e),c=o.$implicit,h=o.index;return s.oxw().onItemClick(r,c,h)})("blur",function(){return s.CHM(e),s.oxw().onBlur()}),s.YNc(2,TG,4,2,"ng-container",4),s.YNc(3,xG,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,DG,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const MG={provide:Ms,useExisting:(0,s.Gpc)(()=>kG),multi:!0};let kG=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let o=this.getOptionValue(i);this.value!==o&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!ot.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let o of this.value)if(ot.equals(o,r,this.dataKey)){i=!0;break}}else i=ot.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([MG])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,AG,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},directives:[Tn,Oi,$t,Jg,Ft,gs],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),OG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Cp]]}),n})();const RG=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function PG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),c=s.MAs(3);return o.onClick(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,RG,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const NG=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},FG=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},LG={provide:Ms,useExisting:(0,s.Gpc)(()=>VG),multi:!0};let VG=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([LG])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(c){return i.onKeyup(c)})("keydown",function(c){return i.onKeydown(c)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(c){s.CHM(r);const h=s.MAs(3);return i.onClick(c,h)}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,PG,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,NG,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,FG,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},directives:[Oi,Tn,Ft],encapsulation:2,changeDetection:0}),n})(),BG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();const UG=["container"],HG=["inputfield"],jG=["contentWrapper"];function zG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).clear()}),s.qZA()}}function GG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1);return s.oxw().onButtonClick(r,o)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function qG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("keydown",function(r){return s.CHM(e),s.oxw().onInputKeydown(r)})("click",function(){return s.CHM(e),s.oxw().onInputClick()})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("input",function(r){return s.CHM(e),s.oxw().onUserInput(r)}),s.qZA(),s.YNc(2,zG,1,0,"i",6),s.YNc(3,GG,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function $G(n,t){1&n&&s.GkF(0)}function ZG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(4).onPrevButtonClick(r)}),s._UZ(1,"span",31),s.qZA()}}function WG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToMonthView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function KG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToYearView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function YG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function QG(n,t){1&n&&s.GkF(0)}const t2=function(n){return{$implicit:n}};function JG(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,YG,2,2,"ng-container",13),s.YNc(2,QG,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,t2,e.yearPickerValues))}}function XG(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function eq(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function tq(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function nq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function iq(n,t){1&n&&s.GkF(0)}const rq=function(n,t){return{"p-highlight":n,"p-disabled":t}};function sq(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(6).onDateSelect(r,o)})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(3).index;return s.oxw(3).onDateCellKeydown(r,o,c)}),s.YNc(2,nq,2,1,"ng-container",13),s.YNc(3,iq,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,rq,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,t2,e))}}const oq=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function aq(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,sq,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,oq,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function lq(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,tq,3,1,"td",43),s.YNc(2,aq,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function cq(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,XG,3,1,"th",38),s.YNc(5,eq,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,lq,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function uq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,ZG,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,WG,2,2,"button",24),s.YNc(5,KG,2,2,"button",25),s.YNc(6,JG,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).onNextButtonClick(r)}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,cq,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}const n2=function(n){return{"p-highlight":n}};function dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const c=s.CHM(e).index;return s.oxw(4).onMonthSelect(r,c)})("keydown",function(r){const c=s.CHM(e).index;return s.oxw(4).onMonthCellKeydown(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(2,n2,r.isMonthSelected(i))),s.xp6(1),s.hij(" ",e," ")}}function hq(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,dq,2,4,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}function pq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw(4).onYearSelect(r,c)})("keydown",function(r){const c=s.CHM(e).$implicit;return s.oxw(4).onYearCellKeydown(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,n2,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function fq(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,pq,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function gq(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,uq,10,7,"div",17),s.qZA(),s.YNc(3,hq,2,1,"div",18),s.YNc(4,fq,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function mq(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function _q(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function yq(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function vq(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function wq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,vq,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function bq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function Cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,mq,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,_q,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,yq,3,1,"div",62),s.YNc(21,wq,8,2,"div",63),s.YNc(22,bq,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const r2=function(n){return[n]};function Eq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onTodayButtonClick(r)}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onClearButtonClick(r)}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,r2,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,r2,e.clearButtonStyleClass))}}function Tq(n,t){1&n&&s.GkF(0)}const Iq=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},s2=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},Sq=function(n){return{value:"visibleTouchUI",params:n}},xq=function(n){return{value:"visible",params:n}};function Dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationDone(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.Hsn(2),s.YNc(3,$G,1,0,"ng-container",12),s.YNc(4,gq,5,3,"ng-container",13),s.YNc(5,Cq,23,8,"div",14),s.YNc(6,Eq,3,8,"div",15),s.Hsn(7,1),s.YNc(8,Tq,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,Iq,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,Sq,s.WLB(18,s2,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,xq,s.WLB(23,s2,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Aq=[[["p-header"]],[["p-footer"]]],Mq=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},kq=["p-header","p-footer"],Oq={provide:Ms,useExisting:(0,s.Gpc)(()=>Rq),multi:!0};let Rq=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=c,this.overlayService=h,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(f,y){return"12"==this.hourFormat?12===f?y?12:0:y?f+12:f:f}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=Gh();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=re.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(is.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,c=i;o>11&&(o=o%11-1,c=i+1),this.months.push(this.createMonth(o,c))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),c=this.getDaysCountInMonth(e,i),h=this.getDaysCountInPrevMonth(e,i),f=1,y=new Date,E=[],I=Math.ceil((c+o)/7);for(let M=0;M<I;M++){let P=[];if(0==M){for(let Q=h-o+1;Q<=h;Q++){let ye=this.getPreviousMonthAndYear(e,i);P.push({day:Q,month:ye.month,year:ye.year,otherMonth:!0,today:this.isToday(y,Q,ye.month,ye.year),selectable:this.isSelectable(Q,ye.month,ye.year,!0)})}let V=7-P.length;for(let Q=0;Q<V;Q++)P.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)}),f++}else for(let V=0;V<7;V++){if(f>c){let Q=this.getNextMonthAndYear(e,i);P.push({day:f-c,month:Q.month,year:Q.year,otherMonth:!0,today:this.isToday(y,f-c,Q.month,Q.year),selectable:this.isSelectable(f-c,Q.month,Q.year,!0)})}else P.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)});f++}this.showWeek&&E.push(this.getWeekNumber(new Date(P[0].year,P[0].month,P[0].day))),r.push(P)}return{month:e,year:i,dates:r,weekNumbers:E}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let c=new Date(r.year,r.month,r.day);return e.getTime()<=c.getTime()&&i.getTime()>=c.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let c=!0,h=!0,f=!0,y=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(c=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(h=!1),this.disabledDates&&(f=!this.isDateDisabled(e,i,r)),this.disabledDays&&(y=!this.isDayDisabled(e,i,r)),c&&h&&f&&y)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let c=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(c)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(re.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,c=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let h=re.index(c),f=c.parentElement.nextElementSibling;f?re.hasClass(f.children[h].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(f.children[h].children[0].tabIndex="0",f.children[h].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let h=re.index(c),f=c.parentElement.previousElementSibling;if(f){let y=f.children[h].children[0];re.hasClass(y,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(y.tabIndex="0",y.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let h=c.previousElementSibling;if(h){let f=h.children[0];re.hasClass(f,"p-disabled")||re.hasClass(f.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let h=c.nextElementSibling;if(h){let f=h.children[0];re.hasClass(f,"p-disabled")?this.navigateToMonth(!1,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=re.index(r);let h=o[40===e.which?c+3:c-3];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=re.index(r);let h=o[40===e.which?c+2:c-2];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=re.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),c=o[o.length-1];c.tabIndex="0",c.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=re.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=re.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=re.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if("year"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if(e=re.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=re.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=re.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let c=this.value;const h=this.convertTo24Hour(e,o);this.isRangeSelection()&&(c=this.value[1]||this.value[0]),this.isMultipleSelection()&&(c=this.value[this.value.length-1]);const f=c?c.toDateString():null;return!(this.minDate&&f&&this.minDate.toDateString()===f&&(this.minDate.getHours()>h||this.minDate.getHours()===h&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&f&&this.maxDate.toDateString()===f&&(this.maxDate.getHours()<h||this.maxDate.getHours()===h&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let c=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},c),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let c="12"==this.hourFormat?r.pop():null,h=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,h,c)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return e instanceof Date&&ot.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?ji.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):ji.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&ji.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=re.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",re.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):re.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),re.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),re.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(re.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(re.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||re.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(i){this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(is.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=E=>{const I=r+1<i.length&&i.charAt(r+1)===E;return I&&r++,I},c=(E,I,M)=>{let P=""+I;if(o(E))for(;P.length<M;)P="0"+P;return P},h=(E,I,M,P)=>o(E)?P[I]:M[I];let f="",y=!1;if(e)for(r=0;r<i.length;r++)if(y)"'"!==i.charAt(r)||o("'")?f+=i.charAt(r):y=!1;else switch(i.charAt(r)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=h("D",e.getDay(),this.getTranslation(is.DAY_NAMES_SHORT),this.getTranslation(is.DAY_NAMES));break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=h("M",e.getMonth(),this.getTranslation(is.MONTH_NAMES_SHORT),this.getTranslation(is.MONTH_NAMES));break;case"y":f+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?f+="'":y=!0;break;default:f+=i.charAt(r)}return f}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),c=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=c<10?"0"+c:c),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),c=parseInt(i[1]),h=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(c)||o>23||c>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(h)||h>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:c,second:h}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,c,V,h=0,f="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),y=-1,E=-1,I=-1,M=-1,P=!1,Q=it=>{let rt=r+1<i.length&&i.charAt(r+1)===it;return rt&&r++,rt},ye=it=>{let rt=Q(it),At="@"===it?14:"!"===it?20:"y"===it&&rt?4:"o"===it?3:2,rn=new RegExp("^\\d{"+("y"===it?At:1)+","+At+"}"),Xn=e.substring(h).match(rn);if(!Xn)throw"Missing number at position "+h;return h+=Xn[0].length,parseInt(Xn[0],10)},je=(it,rt,At)=>{let Ot=-1,rn=Q(it)?At:rt,Xn=[];for(let Ki=0;Ki<rn.length;Ki++)Xn.push([Ki,rn[Ki]]);Xn.sort((Ki,oo)=>-(Ki[1].length-oo[1].length));for(let Ki=0;Ki<Xn.length;Ki++){let oo=Xn[Ki][1];if(e.substr(h,oo.length).toLowerCase()===oo.toLowerCase()){Ot=Xn[Ki][0],h+=oo.length;break}}if(-1!==Ot)return Ot+1;throw"Unknown name at position "+h},Je=()=>{if(e.charAt(h)!==i.charAt(r))throw"Unexpected literal at position "+h;h++};for("month"===this.view&&(I=1),r=0;r<i.length;r++)if(P)"'"!==i.charAt(r)||Q("'")?Je():P=!1;else switch(i.charAt(r)){case"d":I=ye("d");break;case"D":je("D",this.getTranslation(is.DAY_NAMES_SHORT),this.getTranslation(is.DAY_NAMES));break;case"o":M=ye("o");break;case"m":E=ye("m");break;case"M":E=je("M",this.getTranslation(is.MONTH_NAMES_SHORT),this.getTranslation(is.MONTH_NAMES));break;case"y":y=ye("y");break;case"@":V=new Date(ye("@")),y=V.getFullYear(),E=V.getMonth()+1,I=V.getDate();break;case"!":V=new Date((ye("!")-this.ticksTo1970)/1e4),y=V.getFullYear(),E=V.getMonth()+1,I=V.getDate();break;case"'":Q("'")?Je():P=!0;break;default:Je()}if(h<e.length&&(c=e.substr(h),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=f?0:-100)),M>-1)for(E=1,I=M;o=this.getDaysCountInMonth(y,E-1),!(I<=o);)E++,I-=o;if(V=this.daylightSavingAdjust(new Date(y,E-1,I)),V.getFullYear()!==y||V.getMonth()+1!==E||V.getDate()!==I)throw"Invalid date";return V}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:c}=i[r],h=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let f=c;f<this.numberOfMonths;f++)h+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${f+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${h}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new TS(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return re.hasClass(e.target,"p-datepicker-prev")||re.hasClass(e.target,"p-datepicker-prev-icon")||re.hasClass(e.target,"p-datepicker-next")||re.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!re.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&ji.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(cd),s.Y36(Yc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,zi,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(UG,5),s.Gf(HG,5),s.Gf(jG,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([Oq])],ngContentSelectors:kq,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(Aq),s.TgZ(0,"span",0,1),s.YNc(2,qG,4,17,"ng-template",2),s.YNc(3,Dq,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,Mq,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[Tn,Oi,Ft,IS,Jg,gs,$t],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ar("overlayAnimation",[Jo("visibleTouchUI",Zn({transform:"translate(-50%,-50%)",opacity:1})),nn("void => visible",[Zn({opacity:0,transform:"scaleY(0.8)"}),Mr("{{showTransitionParams}}",Zn({opacity:1,transform:"*"}))]),nn("visible => void",[Mr("{{hideTransitionParams}}",Zn({opacity:0}))]),nn("void => visibleTouchUI",[Zn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Mr("{{showTransitionParams}}")]),nn("visibleTouchUI => void",[Mr("{{hideTransitionParams}}",Zn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),Pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Ep,Mo,Cp],Ep,Mo]}),n})();const Nq=["container"],Fq=["resizeHelper"],Lq=["reorderIndicatorUp"],Vq=["reorderIndicatorDown"],Bq=["wrapper"],Uq=["table"],Hq=["tableHeader"];function jq(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function zq(n,t){1&n&&s.GkF(0)}function Gq(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,zq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function qq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",17),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function $q(n,t){1&n&&s.GkF(0)}function Zq(n,t){1&n&&s.GkF(0)}function Wq(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function Kq(n,t){1&n&&s.GkF(0)}const Sp=function(n){return{$implicit:n}};function Yq(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,Kq,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Sp,e.columns))}}function Qq(n,t){if(1&n&&(s.TgZ(0,"table",18,19),s.YNc(2,$q,1,0,"ng-container",20),s.TgZ(3,"thead",21),s.YNc(4,Zq,1,0,"ng-container",20),s.qZA(),s.YNc(5,Wq,1,5,"tbody",22),s._UZ(6,"tbody",23),s.YNc(7,Yq,2,4,"tfoot",24),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(12,Sp,e.columns)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(14,Sp,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function Jq(n,t){1&n&&s.GkF(0)}function Xq(n,t){1&n&&s.GkF(0)}function e$(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function t$(n,t){1&n&&s.GkF(0)}function n$(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,t$,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Sp,e.columns))}}function i$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",27),s.NdJ("scrolledIndexChange",function(r){return s.CHM(e),s.oxw().onScrollIndexChange(r)}),s.TgZ(1,"table",18,19),s.YNc(3,Jq,1,0,"ng-container",20),s.TgZ(4,"thead",21,28),s.YNc(6,Xq,1,0,"ng-container",20),s.qZA(),s.YNc(7,e$,1,5,"tbody",22),s._UZ(8,"tbody",23),s.YNc(9,n$,2,4,"tfoot",24),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),s.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),s.xp6(1),s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(17,Sp,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(19,Sp,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function r$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",29),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function s$(n,t){1&n&&s.GkF(0)}function o$(n,t){if(1&n&&(s.TgZ(0,"div",30),s.YNc(1,s$,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function a$(n,t){1&n&&s._UZ(0,"div",31,32)}function l$(n,t){1&n&&s._UZ(0,"span",33,34)}function c$(n,t){1&n&&s._UZ(0,"span",35,36)}const u$=function(n,t,e,i,r,o,c,h,f,y,E,I,M,P){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":o,"p-datatable-scrollable-horizontal":c,"p-datatable-scrollable-both":h,"p-datatable-flex-scrollable":f,"p-datatable-responsive-stack":y,"p-datatable-responsive-scroll":E,"p-datatable-responsive":I,"p-datatable-grouped-header":M,"p-datatable-grouped-footer":P}},d$=function(n){return{height:n}},h$=["pTableBody",""];function p$(n,t){1&n&&s.GkF(0)}const qS=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function f$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,p$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,qS,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function g$(n,t){1&n&&s.GkF(0)}function m$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,g$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.qbA(2,qS,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function _$(n,t){1&n&&s.GkF(0)}const y$=function(n,t,e,i,r,o,c){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:c}};function v$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,_$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.Hh0(2,y$,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function w$(n,t){1&n&&s.GkF(0)}function b$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,w$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,qS,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function C$(n,t){if(1&n&&(s.YNc(0,f$,2,8,"ng-container",2),s.YNc(1,m$,2,8,"ng-container",0),s.YNc(2,v$,2,10,"ng-container",0),s.YNc(3,b$,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function E$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,C$,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function T$(n,t){1&n&&s.GkF(0)}function I$(n,t){if(1&n&&s.YNc(0,T$,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,qS,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function S$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,I$,1,8,"ng-template",5),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkVirtualForOf",e.dt.filteredValue||e.dt.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function x$(n,t){1&n&&s.GkF(0)}const $S=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function D$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,x$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,$S,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function A$(n,t){1&n&&s.GkF(0)}function M$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,A$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,$S,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function k$(n,t){1&n&&s.GkF(0)}function O$(n,t){1&n&&s.GkF(0)}function R$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,O$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,$S,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const o2=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function P$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,k$,1,0,"ng-container",4),s.YNc(2,R$,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,o2,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,r))}}function N$(n,t){if(1&n&&(s.YNc(0,D$,2,9,"ng-container",0),s.YNc(1,M$,2,9,"ng-container",2),s.YNc(2,P$,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function F$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,N$,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function L$(n,t){1&n&&s.GkF(0)}function V$(n,t){1&n&&s.GkF(0)}function B$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,V$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,o2,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen))}}function U$(n,t){if(1&n&&(s.YNc(0,L$,1,0,"ng-container",4),s.YNc(1,B$,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,$S,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function H$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,U$,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function j$(n,t){1&n&&s.GkF(0)}const a2=function(n,t){return{$implicit:n,frozen:t}};function z$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,j$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,a2,e.columns,e.frozen))}}function G$(n,t){1&n&&s.GkF(0)}function q$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,G$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,a2,e.columns,e.frozen))}}let ZS=(()=>{class n{constructor(){this.sortSource=new mn.x,this.selectionSource=new mn.x,this.contextMenuSource=new mn.x,this.valueSource=new mn.x,this.totalRecordsSource=new mn.x,this.columnsSource=new mn.x,this.resetSource=new mn.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ca=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=c,this.overlayService=h,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(f,y)=>y,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Gh(),this.virtualScrollInitialized=!1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(ot.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(ot.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,c)=>{let h=ot.resolveFieldData(o,e),f=ot.resolveFieldData(c,e),y=null;return y=null==h&&null!=f?-1:null!=h&&null==f?1:null==h&&null==f?0:"string"==typeof h&&"string"==typeof f?h.localeCompare(f):h<f?-1:h>f?1:0,i*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){let c=ot.resolveFieldData(e,r[o].field),h=ot.resolveFieldData(i,r[o].field),f=null;if(null==c&&null!=h)f=-1;else if(null!=c&&null==h)f=1;else if(null==c&&null==h)f=0;else if("string"==typeof c||c instanceof String){if(c.localeCompare&&c!=h)return r[o].order*c.localeCompare(h)}else f=c<h?-1:1;return c==h?r.length-1>o?this.multisortField(e,i,r,o+1):0:r[o].order*f}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!re.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let c=e.rowData,h=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)re.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=h,this.selectRange(e.originalEvent,h);else{let f=this.isSelected(c);if(!f&&!this.isRowSelectable(c,h))return;let y=!this.rowTouched&&this.metaKeySelection,E=this.dataKey?String(ot.resolveFieldData(c,this.dataKey)):null;if(this.anchorRowIndex=h,this.rangeRowIndex=h,y){let I=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(f&&I){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let M=this.findIndexInSelection(c);this._selection=this.selection.filter((P,V)=>V!=M),this.selectionChange.emit(this.selection),E&&delete this.selectionKeys[E]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row"})}else this.isSingleSelectionMode()?(this._selection=c,this.selectionChange.emit(c),E&&(this.selectionKeys={},this.selectionKeys[E]=1)):this.isMultipleSelectionMode()&&(I?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,c],this.selectionChange.emit(this.selection),E&&(this.selectionKeys[E]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h})}else if("single"===this.selectionMode)f?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h})):(this._selection=c,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),E&&(this.selectionKeys={},this.selectionKeys[E]=1));else if("multiple"===this.selectionMode)if(f){let I=this.findIndexInSelection(c);this._selection=this.selection.filter((M,P)=>P!=I),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),E&&delete this.selectionKeys[E]}else this._selection=this.selection?[...this.selection,c]:[c],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),E&&(this.selectionKeys[E]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),c=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),c&&(this.selectionKeys={},this.selectionKeys[c]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),c&&(this.selectionKeys[c]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let c=[];for(let h=r;h<=o;h++){let f=this.filteredValue?this.filteredValue[h]:this.value[h];if(!this.isSelected(f)){if(!this.isRowSelectable(f,i))continue;c.push(f),this._selection=[...this.selection,f];let y=this.dataKey?String(ot.resolveFieldData(f,this.dataKey)):null;y&&(this.selectionKeys[y]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:c,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let c=this.value[o],h=this.findIndexInSelection(c);this._selection=this.selection.filter((y,E)=>E!=h);let f=this.dataKey?String(ot.resolveFieldData(c,this.dataKey)):null;f&&delete this.selectionKeys[f],this.onRowUnselect.emit({originalEvent:e,data:c,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[ot.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(ot.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let c=this.findIndexInSelection(i);this._selection=this.selection.filter((h,f)=>f!=c),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let o=this.selectionPageOnly&&this._selection?this._selection.filter(c=>!r.some(h=>this.equals(c,h))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((c,h)=>this.rowSelectable({data:c,index:h})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:ot.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let h,r=!0,o=!1,c=!1;for(let f in this.filters)if(this.filters.hasOwnProperty(f)&&"global"!==f){c=!0;let y=f,E=this.filters[y];if(Array.isArray(E)){for(let I of E)if(r=this.executeLocalFilter(y,this.value[i],I),I.operator===AT.OR&&r||I.operator===AT.AND&&!r)break}else r=this.executeLocalFilter(y,this.value[i],E);if(!r)break}if(this.filters.global&&!o&&e)for(let f=0;f<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](ot.resolveFieldData(this.value[i],e[f].field||e[f]),this.filters.global.value,this.filterLocale),!o);f++);h=this.filters.global?c?c&&r&&o:o:c&&r,h&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,c=r.matchMode||vr.STARTS_WITH,h=ot.resolveFieldData(i,e);return this.filterService.filters[c](h,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let f=0;f<o.length;f++){let y=o[f];!1!==y.exportable&&y.field&&(r+='"'+this.getExportHeader(y)+'"',f<o.length-1&&(r+=this.csvSeparator))}i.forEach((f,y)=>{r+="\n";for(let E=0;E<o.length;E++){let I=o[E];if(!1!==I.exportable&&I.field){let M=ot.resolveFieldData(f,I.field);M=null!=M?this.exportFunction?this.exportFunction({data:M,field:I.field}):String(M).replace(/"/g,'""'):"",r+='"'+M+'"',E<o.length-1&&(r+=this.csvSeparator)}}});let c=new Blob([r],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.style.display="none",document.body.appendChild(h),void 0!==h.download?(h.setAttribute("href",URL.createObjectURL(c)),h.setAttribute("download",this.exportFilename+".csv"),h.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(h)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,o=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.lazyLoadOnInit||this.virtualScrollInitialized?this.onLazyLoad.emit({first:r,rows:o,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}):this.virtualScrollInitialized=!0)},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===re.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(re.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===re.find(i,".ng-invalid.ng-dirty").length){let r=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(ot.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;re.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&h>15&&this.resizeTableCells(r,h)}else if("expand"===this.columnResizeMode){let c=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.width=c+"px",this.tableViewChild.nativeElement.style.minWidth=c+"px",this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",re.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=re.index(this.resizeColumnElement),o=[];const c=re.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");re.find(c,"tr > th").forEach(y=>o.push(re.getOuterWidth(y))),this.destroyStyleElement(),this.createStyleElement();let f="";o.forEach((y,E)=>{let I=E===r?e:i&&E===r+1?i:y;f+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${E+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${E+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${E+1}) {\n                    ${this.scrollable?`flex: 1 1 ${I}px !important`:`width: ${I}px !important`}\n                }\n            `}),this.styleElement.innerHTML=f}onColumnDragStart(e,i){this.reorderIconWidth=re.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=re.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=re.getOffset(this.containerViewChild.nativeElement),o=re.getOffset(i);if(this.draggedColumn!=i){let c=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),h=re.indexWithinGroup(i,"preorderablecolumn"),f=o.left-r.left,E=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>E?(this.reorderIndicatorUpViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),h-c==1&&-1===this.dropPosition||h-c==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=re.indexWithinGroup(i,"preorderablecolumn"),c=r!=o;c&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(c=!1),c&&o<r&&1===this.dropPosition&&(o+=1),c&&o>r&&-1===this.dropPosition&&(o-=1),c&&(ot.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=re.getOffset(r).top+re.getWindowScrollTop(),c=e.pageY,h=o+re.getOuterHeight(r)/2,f=r.previousElementSibling;c<h?(re.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,f?re.addClass(f,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top")):(f?re.removeClass(f,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,re.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&re.removeClass(r,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;ot.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let c=JSON.parse(i,function(c,h){return"string"==typeof h&&r.test(h)?new Date(h):h});this.paginator&&(void 0!==this.first&&(this.first=c.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=c.rows,this.rowsChange.emit(this.rows))),c.sortField&&(this.restoringSort=!0,this._sortField=c.sortField,this._sortOrder=c.sortOrder),c.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=c.multiSortMeta),c.filters&&(this.restoringFilter=!0,this.filters=c.filters),this.resizableColumns&&(this.columnWidthsState=c.columnWidths,this.tableWidthState=c.tableWidth),c.expandedRowKeys&&(this.expandedRowKeys=c.expandedRowKeys),c.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(c.selection)),this.stateRestored=!0,this.onStateRestore.emit(c)}}saveColumnWidths(e){let i=[];re.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(re.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=re.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),ot.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,o)=>{i+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            ${this.scrollable?`flex: 1 1 ${r}px !important`:`width: ${r}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let c=[];o.map(h=>{let f=this.findColumnByKey(h);f&&c.push(f)}),this.columnOrderStateRestored=!0,this.columns=c}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollInitialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ZS),s.Y36(s.sBO),s.Y36(nb),s.Y36(Yc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,zi,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Nq,5),s.Gf(Fq,5),s.Gf(Lq,5),s.Gf(Vq,5),s.Gf(Bq,5),s.Gf(Uq,5),s.Gf(Hq,5),s.Gf(em,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([ZS]),s.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,jq,2,2,"div",2),s.YNc(3,Gq,2,1,"div",3),s.YNc(4,qq,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,Qq,8,16,"table",7),s.YNc(8,i$,10,21,"cdk-virtual-scroll-viewport",8),s.qZA(),s.YNc(9,r$,1,17,"p-paginator",9),s.YNc(10,o$,2,1,"div",10),s.YNc(11,a$,2,0,"div",11),s.YNc(12,l$,2,0,"span",12),s.YNc(13,c$,2,0,"span",13),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.rFY(16,u$,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,d$,i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",!i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[bG,mZ,em,Oi,Tn,Ft,gs,rk]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),n})(),mZ=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r+1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=o,h=0;for(;o===c;){h++;let f=e[++r];if(!f)break;c=ot.resolveFieldData(f,this.dt.groupRowsBy)}return 1===h?null:h}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=re.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=re.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ca),s.Y36(ZS),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:h$,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(s.YNc(0,E$,2,2,"ng-container",0),s.YNc(1,S$,2,3,"ng-container",0),s.YNc(2,F$,2,2,"ng-container",0),s.YNc(3,H$,2,2,"ng-container",0),s.YNc(4,z$,2,5,"ng-container",0),s.YNc(5,q$,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[Ft,$t,gs,sk],encapsulation:2}),n})(),Zl=(()=>{class n{constructor(e,i){this.dt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onArrowDownKeyDown(e){if(!this.isEnabled())return;const r=this.findNextSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onArrowUpKeyDown(e){if(!this.isEnabled())return;const r=this.findPrevSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onEnterKeyDown(e){!this.isEnabled()||this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}findNextSelectableRow(e){let i=e.nextElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findNextSelectableRow(i):null}findPrevSelectableRow(e){let i=e.previousElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findPrevSelectableRow(i):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ca),s.Y36(ZS))},n.\u0275dir=s.lG2({type:n,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o)})("touchend",function(o){return i.onTouchEnd(o)})("keydown.arrowdown",function(o){return i.onArrowDownKeyDown(o)})("keydown.arrowup",function(o){return i.onArrowUpKeyDown(o)})("keydown.enter",function(o){return i.onEnterKeyDown(o)})("keydown.shift.enter",function(o){return i.onEnterKeyDown(o)})("keydown.meta.enter",function(o){return i.onEnterKeyDown(o)})("keydown.pagedown",function(){return i.onPageDownKeyDown()})("keydown.pageup",function(){return i.onPageDownKeyDown()})("keydown.home",function(){return i.onPageDownKeyDown()})("keydown.end",function(){return i.onPageDownKeyDown()})("keydown.space",function(){return i.onSpaceKeydown()}),2&e&&(s.uIk("tabindex",i.isEnabled()?0:void 0),s.ekj("p-selectable-row",i.isEnabled())("p-highlight",i.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),n})(),_Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,CG,zS,jS,ev,HS,Ep,OG,Pq,Dk,BG],Mo,ev]}),n})();const yZ=["HouseTable"];function vZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function wZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function bZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_House()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.csvalues)}}function CZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_House()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function EZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function TZ(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function IZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function SZ(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,TZ,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,IZ,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function xZ(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.House),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const DZ=function(){return{width:"50vw"}},AZ=function(){return["House","type","value"]};let MZ=(()=>{class n{constructor(e,i,r,o){this.houseService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.houseTypeData=[],this.allHouses=[],this.allValues=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"house",header:"house"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_House(),this.get_House_Type_Values()}get_House_Type_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.houseTypeData.push(r)})}),setTimeout(()=>this.update_House_Type_Values(),3e3)}update_House_Type_Values(){var e=this.houseTypeData[0].split(","),i=this.houseTypeData[1].split(",");e.forEach(r=>this.allHouses.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedHouse.id,this.house=this.selectedHouse.House,this.type=this.selectedHouse.type,this.value=this.selectedHouse.value,this.selecteForEditorDel=!0}cancel_House(){this.selectedHouse=null,this.house="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Houses(){}read_All_House(){this.houseService.read_All_Houses().subscribe(e=>{this.houseList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,House:i.payload.doc.data().house,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_House()},reject:()=>{this.cancel_House()}})}create_House(){let e={};e.house=this.house,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.houseService.create_House(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"House added",detail:"House added to database"}),this.cancel_House()}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}Update_House(){let e={};e.house=this.house,e.type=this.type,e.value=this.value,this.houseService.update_House(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"House updated",detail:this.selectedHouse.id+" is updated"}),this.cancel_House()}Delete_House(){this.houseService.delete_House(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"House deleted",detail:this.selectedHouse.id+" is deleted"}),this.cancel_House()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(R6),s.Y36(ci),s.Y36(Yn),s.Y36(zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-house"]],viewQuery:function(e,i){if(1&e&&s.Gf(yZ,5),2&e){let r;s.iGM(r=s.CRH())&&(i.HouseTable=r.first)}},features:[s._Bn([ci,Yn])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["HouseTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.house=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,vZ,2,1,"div",5),s.YNc(9,wZ,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,bZ,3,1,"div",5),s.YNc(12,CZ,3,1,"div",5),s.YNc(13,EZ,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_House()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedHouse=o}),s.YNc(20,SZ,4,2,"ng-template",12),s.YNc(21,xZ,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,DZ)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allHouses)("ngModel",i.house),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.house||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.houseList)("globalFilterFields",s.DdM(20,AZ))("selection",i.selectedHouse))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),kZ=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("lordinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("lordinhouse").add(e)}update_Item(e,i){this.firestore.doc("lordinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function RZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function PZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function NZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function FZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function LZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function VZ(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function BZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function UZ(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,VZ,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,BZ,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function HZ(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const jZ=function(){return{width:"50vw"}},zZ=function(){return["house","lord","trait"]};let GZ=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"lord",header:"Lord"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.lord,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,lord:i.payload.doc.data().lord,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.lord=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.lord=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(kZ),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-lordinhouse"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,OZ,2,1,"div",5),s.YNc(9,RZ,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,PZ,3,1,"div",5),s.YNc(12,NZ,3,1,"div",5),s.YNc(13,FZ,3,1,"div",5),s.YNc(14,LZ,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,UZ,4,2,"ng-template",10),s.YNc(19,HZ,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,jZ)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,zZ))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),qZ=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("lordinsigns").snapshotChanges()}create_Item(e){return this.firestore.collection("lordinsigns").add(e)}update_Item(e,i){this.firestore.doc("lordinsigns/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinsigns/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $Z(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function ZZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function WZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function KZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function YZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function QZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function JZ(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function XZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function e5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,JZ,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,XZ,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function t5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.value)}}const n5=function(){return{width:"50vw"}},r5=function(){return["house","lord","trait"]};let s5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"lord",header:"Lord"},{field:"sign",header:"Sign"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.lord,this.option2Selected=this.selectedItem.sign,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,lord:i.payload.doc.data().lord,sign:i.payload.doc.data().sign,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.lord=this.option1Selected,e.sign=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.lord=this.option1Selected,e.sign=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){console.log("enter"),this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(qZ),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-lorninsign"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,$Z,2,1,"div",5),s.YNc(9,ZZ,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,WZ,3,1,"div",5),s.YNc(12,KZ,3,1,"div",5),s.YNc(13,YZ,3,1,"div",5),s.YNc(14,QZ,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,e5,4,2,"ng-template",10),s.YNc(19,t5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,n5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,r5))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),o5=(()=>{class n{constructor(e){this.firestore=e}read_All_Planets(){return this.firestore.collection("planetss").snapshotChanges()}create_Planet(e){return this.firestore.collection("planetss").add(e)}update_Planet(e,i){this.firestore.doc("planetss/"+e).update(i)}delete_Planet(e){this.firestore.doc("planetss/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a5=["PlanetTable"];function l5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function c5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function u5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Planet()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.csvalues)}}function d5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Planet()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.value)}}function h5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.value)}}function p5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function f5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function g5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,p5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,f5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function m5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const _5=function(){return{width:"50vw"}},y5=function(){return["Planet","type","value"]};let v5=(()=>{class n{constructor(e,i,r,o){this.planetService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.planetTypeData=[],this.selecteForEditorDel=!1,this.allPlanets=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Planet(),this.get_Planet_Type_Values()}get_Planet_Type_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.planetTypeData.push(r)})}),setTimeout(()=>this.update_Planet_Type_Values(),3e3)}update_Planet_Type_Values(){var e=this.planetTypeData[0].split(","),i=this.planetTypeData[1].split(",");e.forEach(r=>this.allPlanets.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedPlanet.id,this.planet=this.selectedPlanet.Planet,this.type=this.selectedPlanet.type,this.value=this.selectedPlanet.value,this.selecteForEditorDel=!0}cancel_Planet(){this.selectedPlanet=null,this.planet="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Planets(){}read_All_Planet(){this.planetService.read_All_Planets().subscribe(e=>{this.planetList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Planet()},reject:()=>{this.cancel_Planet()}})}create_Planet(){let e={};e.planet=this.planet,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.planetService.create_Planet(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Planet added",detail:"planet added to database"}),this.cancel_Planet()}Update_Planet(){let e={};e.planet=this.planet,e.type=this.type,e.value=this.value,this.planetService.update_Planet(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Planet updated",detail:this.selectedPlanet.id+" is updated"}),this.cancel_Planet()}Delete_Planet(){this.planetService.delete_Planet(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Planet deleted",detail:this.selectedPlanet.id+" is deleted"}),this.cancel_Planet()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(o5),s.Y36(ci),s.Y36(Yn),s.Y36(zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planet"]],viewQuery:function(e,i){if(1&e&&s.Gf(a5,5),2&e){let r;s.iGM(r=s.CRH())&&(i.PlanetTable=r.first)}},decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["PlanetTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.planet=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,l5,2,1,"div",5),s.YNc(9,c5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,u5,3,1,"div",5),s.YNc(12,d5,3,1,"div",5),s.YNc(13,h5,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Planet()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedPlanet=o}),s.YNc(20,g5,4,2,"ng-template",12),s.YNc(21,m5,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,_5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allPlanets)("ngModel",i.planet),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.planet||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.planetList)("globalFilterFields",s.DdM(20,y5))("selection",i.selectedPlanet))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),w5=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("planetaslord").snapshotChanges()}create_Item(e){return this.firestore.collection("planetaslord").add(e)}update_Item(e,i){this.firestore.doc("planetaslord/"+e).update(i)}delete_Item(e){this.firestore.doc("planetaslord/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function C5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function E5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function T5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function I5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function S5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function x5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function D5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function A5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,x5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,D5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function M5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.value)}}const k5=function(){return{width:"50vw"}},O5=function(){return["house","lord","trait"]};let R5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"lord",header:"Lord"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.lord,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,lord:i.payload.doc.data().lord,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.lord=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.lord=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(w5),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetaslord"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,b5,2,1,"div",5),s.YNc(9,C5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,E5,3,1,"div",5),s.YNc(12,T5,3,1,"div",5),s.YNc(13,I5,3,1,"div",5),s.YNc(14,S5,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,A5,4,2,"ng-template",10),s.YNc(19,M5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,k5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,O5))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),P5=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("planetinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinhouse").add(e)}update_Item(e,i){this.firestore.doc("planetinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function F5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function L5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function V5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function B5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function U5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function H5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function j5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function z5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,H5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,j5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function G5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const q5=function(){return{width:"50vw"}},$5=function(){return["house","lord","trait"]};let Z5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(P5),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinhouse"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,N5,2,1,"div",5),s.YNc(9,F5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,L5,3,1,"div",5),s.YNc(12,V5,3,1,"div",5),s.YNc(13,B5,3,1,"div",5),s.YNc(14,U5,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,z5,4,2,"ng-template",10),s.YNc(19,G5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,q5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,$5))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),W5=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("planetinsign").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinsign").add(e)}update_Item(e,i){this.firestore.doc("planetinsign/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinsign/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function Y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function Q5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function J5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function X5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function eW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function tW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function nW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function iW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,tW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,nW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function rW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.value)}}const sW=function(){return{width:"50vw"}},oW=function(){return["house","lord","trait"]};let aW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"sign",header:"Sign"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.sign,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,sign:i.payload.doc.data().sign,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.sign=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.sign=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(W5),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinsign"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,K5,2,1,"div",5),s.YNc(9,Y5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,Q5,3,1,"div",5),s.YNc(12,J5,3,1,"div",5),s.YNc(13,X5,3,1,"div",5),s.YNc(14,eW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,iW,4,2,"ng-template",10),s.YNc(19,rW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,sW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,oW))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),lW=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("planetinstar").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinstar").add(e)}update_Item(e,i){this.firestore.doc("planetinstar/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinstar/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function uW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function dW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function hW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function pW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function fW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function gW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function mW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function _W(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,gW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,mW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function yW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.value)}}const vW=function(){return{width:"50vw"}},wW=function(){return["house","lord","trait"]};let bW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"star",header:"Star"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.star,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,star:i.payload.doc.data().star,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.star=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.star=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(lW),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinstar"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,cW,2,1,"div",5),s.YNc(9,uW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,dW,3,1,"div",5),s.YNc(12,hW,3,1,"div",5),s.YNc(13,pW,3,1,"div",5),s.YNc(14,fW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,_W,4,2,"ng-template",10),s.YNc(19,yW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,vW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,wW))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[""]}),n})(),CW=(()=>{class n{constructor(e){this.firestore=e}read_All_Signs(){return this.firestore.collection("signs").snapshotChanges()}create_Sign(e){return this.firestore.collection("signs").add(e)}update_Sign(e,i){this.firestore.doc("signs/"+e).update(i)}delete_Sign(e){this.firestore.doc("signs/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EW=["SignTable"];function TW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function IW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function SW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Sign()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.csvalues)}}function xW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Sign()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function DW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function AW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Sign()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function MW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function kW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function OW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,MW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,kW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function RW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const PW=function(){return{width:"50vw"}},NW=function(){return["Sign","type","value"]};let FW=(()=>{class n{constructor(e,i,r,o){this.signService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.signTypeData=[],this.selecteForEditorDel=!1,this.allSigns=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"sign",header:"Sign"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Sign(),this.get_Sign_Type_Values()}get_Sign_Type_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.signTypeData.push(r)})}),setTimeout(()=>this.update_Sign_Type_Values(),3e3)}update_Sign_Type_Values(){var e=this.signTypeData[0].split(","),i=this.signTypeData[1].split(",");e.forEach(r=>this.allSigns.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedSign.id,this.sign=this.selectedSign.Sign,this.type=this.selectedSign.type,this.value=this.selectedSign.value,this.selecteForEditorDel=!0}cancel_Sign(){this.selectedSign=null,this.sign="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}get_All_Signs(){}read_All_Sign(){this.signService.read_All_Signs().subscribe(e=>{this.signList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,sign:i.payload.doc.data().sign,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.Delete_Sign()},reject:()=>{this.cancel_Sign()}})}create_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.signService.create_Sign(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Sign added",detail:"Sign added to database"}),this.cancel_Sign()}Update_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.signService.update_Sign(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Sign updated",detail:this.selectedSign.id+" is updated"}),this.cancel_Sign()}Delete_Sign(){this.signService.delete_Sign(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Sign deleted",detail:this.selectedSign.id+" is deleted"}),this.cancel_Sign()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(CW),s.Y36(ci),s.Y36(Yn),s.Y36(zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign"]],viewQuery:function(e,i){if(1&e&&s.Gf(EW,5),2&e){let r;s.iGM(r=s.CRH())&&(i.SignTable=r.first)}},features:[s._Bn([Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["SignTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.sign=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,TW,2,1,"div",5),s.YNc(9,IW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,SW,3,1,"div",5),s.YNc(12,xW,3,1,"div",5),s.YNc(13,DW,3,1,"div",5),s.YNc(14,AW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedSign=o}),s.YNc(18,OW,4,2,"ng-template",10),s.YNc(19,RW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,PW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allSigns)("ngModel",i.sign),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.signList)("globalFilterFields",s.DdM(20,NW))("selection",i.selectedSign))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),LW=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("signashouse").snapshotChanges()}create_Item(e){return this.firestore.collection("signashouse").add(e)}update_Item(e,i){this.firestore.doc("signashouse/"+e).update(i)}delete_Item(e){this.firestore.doc("signashouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function BW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function UW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function HW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function jW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function zW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function GW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function qW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function $W(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,GW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,qW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function ZW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const WW=function(){return{width:"50vw"}},KW=function(){return["house","lord","trait"]};let YW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"sign",header:"Sign"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.sign,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,sign:i.payload.doc.data().sign,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.sign=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.sign=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zl),s.Y36(ci),s.Y36(LW),s.Y36(Yn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signashouse"]],features:[s._Bn([ci,Yn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,VW,2,1,"div",5),s.YNc(9,BW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,UW,3,1,"div",5),s.YNc(12,HW,3,1,"div",5),s.YNc(13,jW,3,1,"div",5),s.YNc(14,zW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,$W,4,2,"ng-template",10),s.YNc(19,ZW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,WW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,KW))("selection",i.selectedItem))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),QW=(()=>{class n{constructor(e){this.firestore=e}read_All_Stars(){return this.firestore.collection("stars").snapshotChanges()}create_Star(e){return this.firestore.collection("stars").add(e)}update_Star(e,i){this.firestore.doc("stars/"+e).update(i)}delete_Star(e){this.firestore.doc("stars/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(il))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JW=["StarTable"];function XW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function eK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function tK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Star()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.csvalues)}}function nK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Star()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function iK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function rK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function sK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function oK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,rK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,sK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function aK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const lK=function(){return{width:"50vw"}},cK=function(){return["star","type","value"]};let uK=(()=>{class n{constructor(e,i,r,o){this.starService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.starTypeData=[],this.selecteForEditorDel=!1,this.allStars=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"star",header:"Star"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Star(),this.get_Star_Type_Values()}get_Star_Type_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.starTypeData.push(r)})}),setTimeout(()=>this.update_Star_Type_Values(),3e3)}update_Star_Type_Values(){var e=this.starTypeData[0].split(","),i=this.starTypeData[1].split(",");e.forEach(r=>this.allStars.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedStar.id,this.star=this.selectedStar.star,this.type=this.selectedStar.type,this.value=this.selectedStar.value,this.selecteForEditorDel=!0}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}cancel_Star(){this.selectedStar=null,this.star="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}read_All_Star(){this.starService.read_All_Stars().subscribe(e=>{this.starList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,star:i.payload.doc.data().star,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Star()},reject:()=>{this.cancel_Star()}})}create_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.starService.create_Star(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Star added",detail:"Star added to database"}),this.cancel_Star()}Update_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.starService.update_Star(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Star updated",detail:this.selectedStar.id+" is updated"}),this.cancel_Star()}Delete_Star(){this.starService.delete_Star(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Star deleted",detail:this.selectedStar.id+" is deleted"}),this.cancel_Star()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(QW),s.Y36(ci),s.Y36(Yn),s.Y36(zl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-star"]],viewQuery:function(e,i){if(1&e&&s.Gf(JW,5),2&e){let r;s.iGM(r=s.CRH())&&(i.StarTable=r.first)}},features:[s._Bn([Yn])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["StarTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.star=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,XW,2,1,"div",5),s.YNc(9,eK,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,tK,3,1,"div",5),s.YNc(12,nK,3,1,"div",5),s.YNc(13,iK,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Star()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedStar=o}),s.YNc(20,oK,4,2,"ng-template",12),s.YNc(21,aK,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,lK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allStars)("ngModel",i.star),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.star||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.starList)("globalFilterFields",s.DdM(20,cK))("selection",i.selectedStar))},directives:[Gl,ql,ba,No,os,Ft,io,rl,$l,Ca,zi,$t,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();const dK=function(n){return{active:n}};function hK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw().listClick(r,c)}),s.TgZ(1,"a",9),s._UZ(2,"i",3),s.TgZ(3,"span",3),s._uU(4),s.qZA()()()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(4,dK,i.selectedItem==e.name)),s.xp6(1),s.Q6J("routerLink",e.link),s.xp6(1),s.uIk("data-feather",e.icon),s.xp6(2),s.Oqu(e.name)}}function pK(n,t){1&n&&(s.TgZ(0,"div",1)(1,"a",2)(2,"span",3),s._uU(3,"Pranavam"),s.qZA()()())}let fK=(()=>{class n{constructor(e){this._authService=e,this.menuItems=[{name:"Dashboard",icon:"sliders",link:"dashboard"},{name:"Star",icon:"star",link:"star"},{name:"Sign",icon:"activity",link:"sign"},{name:"House",icon:"home",link:"house"},{name:"Planet",icon:"sun",link:"planet"},{name:"Planet-In-Star",icon:"sunrise",link:"planetinstar"},{name:"Planet-In-Sign",icon:"sunset",link:"planetinsign"},{name:"Planet-In-House",icon:"archive",link:"planetinhouse"},{name:"Planet-as-Lord",icon:"codepen",link:"planetaslord"},{name:"Lord-In-Sign",icon:"airplay",link:"lordinsign"},{name:"Lord-In-House",icon:"at-sign",link:"lordinhouse"},{name:"Sign-as-House",icon:"command",link:"signashouse"}],this.selectedItem="Dashboard",this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}listClick(e,i){this.selectedItem=i.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu"]],decls:10,vars:2,consts:[["id","sidebar",1,"sidebar","js-sidebar"],[1,"sidebar-content","js-simplebar"],["href","index.html",1,"sidebar-brand"],[1,"align-middle"],[1,"sidebar-nav"],[1,"sidebar-header"],["class","sidebar-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","sidebar-content js-simplebar",4,"ngIf"],[1,"sidebar-item",3,"ngClass","click"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),s._uU(4,"Pranavam"),s.qZA()(),s.TgZ(5,"ul",4)(6,"li",5),s._uU(7," Pages "),s.qZA(),s.YNc(8,hK,5,6,"li",6),s.qZA()(),s.YNc(9,pK,4,0,"div",7),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",i.menuItems),s.xp6(1),s.Q6J("ngIf",!i.canShow))},directives:[$t,Tn,Bf,EE,Ft],styles:[""]}),n})(),gK=(()=>{class n{constructor(e){this._authService=e}ngOnInit(){}signOut(){this._authService.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-topbar"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand","navbar-light","navbar-bg"],[1,"sidebar-toggle","js-sidebar-toggle"],[1,"hamburger","align-self-center"],[1,"navbar-collapse","collapse"],[1,"navbar-nav","navbar-align"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-icon","dropdown-toggle","d-inline-block","d-sm-none"],["data-feather","settings",1,"align-middle"],["href","#","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle","d-none","d-sm-inline-block"],["src","../assets/img/avatars/avatar.jpg","alt","Charles Hall",1,"avatar","img-fluid","rounded","me-1"],[1,"text-dark"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"a",1),s._UZ(2,"i",2),s.qZA(),s.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),s._UZ(7,"i",7),s.qZA(),s.TgZ(8,"a",8),s._UZ(9,"img",9),s.TgZ(10,"span",10),s._uU(11,"Charles Hall"),s.qZA()(),s.TgZ(12,"div",11)(13,"a",12),s.NdJ("click",function(){return i.signOut()}),s._uU(14,"Log out"),s.qZA()()()()()())},styles:[""]}),n})(),mK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"footer"],[1,"container-fluid"],[1,"row","text-muted"],[1,"col-6","text-start"],[1,"mb-0"],["href","https://adminkit.io/","target","_blank",1,"text-muted"],[1,"col-6","text-end"],[1,"list-inline"],[1,"list-inline-item"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5)(6,"strong"),s._uU(7,"Pranavam"),s.qZA()(),s._uU(8," \xa9 "),s.qZA()(),s.TgZ(9,"div",6)(10,"ul",7)(11,"li",8)(12,"a",5),s._uU(13,"Support"),s.qZA()(),s.TgZ(14,"li",8)(15,"a",5),s._uU(16,"Help Center"),s.qZA()(),s.TgZ(17,"li",8)(18,"a",5),s._uU(19,"Privacy"),s.qZA()(),s.TgZ(20,"li",8)(21,"a",5),s._uU(22,"Terms"),s.qZA()()()()()()())},styles:[""]}),n})(),_K=(()=>{class n{constructor(e){this._authService=e,this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"wrapper"],[1,"main"],[1,"content"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-menu"),s.TgZ(2,"div",1),s._UZ(3,"app-topbar"),s.TgZ(4,"main",2),s._UZ(5,"router-outlet"),s.qZA(),s._UZ(6,"app-footer"),s.qZA()())},directives:[fK,gK,E_,mK],styles:[""]}),n})(),l2=(()=>{class n{constructor(e){this.authenticationService=e}ngOnInit(){}signIn(){this.authenticationService.signIn(this.email,this.password),this.email="",this.password=""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signin"]],decls:22,vars:2,consts:[[1,"container","d-flex","flex-column"],[1,"row","vh-100"],[1,"col-sm-10","col-md-8","col-lg-6","mx-auto","d-table","h-100"],[1,"d-table-cell","align-middle"],[1,"text-center","mt-4"],[1,"lead"],[1,"card"],[1,"card-body"],[1,"m-sm-4"],[1,"mb-3"],[1,"form-label"],["type","email","name","email","placeholder","Enter your email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Enter your password",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-lg","btn-primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),s._uU(6," Sign in to your account to continue "),s.qZA()(),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"form")(11,"div",9)(12,"label",10),s._uU(13,"Email"),s.qZA(),s.TgZ(14,"input",11),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(15,"div",9)(16,"label",10),s._uU(17,"Password"),s.qZA(),s.TgZ(18,"input",12),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(19,"div",13)(20,"button",14),s.NdJ("click",function(){return i.signIn()}),s._uU(21,"Sign in"),s.qZA()()()()()()()()()()),2&e&&(s.xp6(14),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password))},directives:[ML,fL,US,io,No,os],styles:[""]}),n})(),yK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[S1.forRoot([{path:"pranavam",component:_K,canActivate:[yr],children:[{path:"dashboard",component:DT,canActivate:[yr]},{path:"star",component:uK,canActivate:[yr]},{path:"sign",component:FW,canActivate:[yr]},{path:"house",component:MZ,canActivate:[yr]},{path:"planet",component:v5,canActivate:[yr]},{path:"planetinsign",component:aW,canActivate:[yr]},{path:"planetinhouse",component:Z5,canActivate:[yr]},{path:"planetinstar",component:bW,canActivate:[yr]},{path:"planetaslord",component:R5,canActivate:[yr]},{path:"lordinsign",component:s5,canActivate:[yr]},{path:"lordinhouse",component:GZ,canActivate:[yr]},{path:"signashouse",component:YW,canActivate:[yr]}]},{path:"",component:l2},{path:"login",component:l2},{path:"**",redirectTo:"pages/notfound"}])],S1]}),n})(),vK=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[E_],styles:[".p-inputtext{width:200px!important;min-height:40px!important}  .p-dropdown{margin-top:20px;width:200px!important;height:40px;padding:0}  .p-autocomplete{margin-top:20px;width:200px!important;height:40px;padding:0}[_nghost-%COMP%]     .p-hidden-accessible{display:none}textarea[_ngcontent-%COMP%]{height:99px}"]}),n})();const c2="@firebase/database";let Mk="";function d2(n){Mk=n}class CK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class EK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const h2=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new CK(t)}}catch(t){}return new EK},im=h2("localStorage"),kk=h2("sessionStorage"),nv=new Ws.Yd("@firebase/database"),p2=function(){let n=1;return function(){return n++}}(),f2=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},UC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=UC.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let rm=null,g2=!0;const m2=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(nv.logLevel=Ws.in.VERBOSE,rm=nv.log.bind(nv),t&&kk.set("logging_enabled",!0)):"function"==typeof n?rm=n:(rm=null,kk.remove("logging_enabled"))},Gr=function(...n){if(!0===g2&&(g2=!1,null===rm&&!0===kk.get("logging_enabled")&&m2(!0)),rm){const t=UC.apply(null,n);rm(t)}},HC=function(n){return function(...t){Gr(n,...t)}},Ok=function(...n){const t="FIREBASE INTERNAL ERROR: "+UC(...n);nv.error(t)},pu=function(...n){const t=`FIREBASE FATAL ERROR: ${UC(...n)}`;throw nv.error(t),new Error(t)},Os=function(...n){const t="FIREBASE WARNING: "+UC(...n);nv.warn(t)},WS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xd="[MIN_NAME]",fu="[MAX_NAME]",sm=function(n,t){if(n===t)return 0;if(n===xd||t===fu)return-1;if(t===xd||n===fu)return 1;{const e=KS(n),i=KS(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},SK=function(n,t){return n===t?0:n<t?-1:1},jC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},Rk=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=Rk(n[t[i]]);return e+="}",e},_2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function qr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const y2=function(n){(0,N.hu)(!WS(n),"Invalid JSON number");const i=1023;let r,o,c,h,f;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(f=52;f;f-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const E=y.join("");let I="";for(f=0;f<64;f+=8){let M=parseInt(E.substr(f,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},MK=new RegExp("^-?(0*)\\d{1,10}$"),v2=-2147483648,Pk=2147483647,KS=function(n){if(MK.test(n)){const t=Number(n);if(t>=v2&&t<=Pk)return t}return null},iv=function(n){try{n()}catch(t){setTimeout(()=>{throw Os("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},zC=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class OK{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Os(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class RK{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Os(t)}}let GC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const T2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x2="websocket",D2="long_polling";class Fk{constructor(t,e,i,r,o=!1,c="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=im.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&im.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function A2(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===x2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==D2)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function PK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return qr(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class NK{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const Lk={},Vk={};function Bk(n){const t=n.toString();return Lk[t]||(Lk[t]=new NK),Lk[t]}class LK{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&iv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xp{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=HC(t),this.stats_=Bk(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),A2(e,D2,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new LK(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Uk((...o)=>{const[c,h,f,y,E]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&T2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xp.forceAllow_=!0}static forceDisallow(){xp.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!xp.forceAllow_&&(xp.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=_2(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Uk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=p2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Uk.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Gr("frame writing exception"),h.stack&&Gr(h.stack),Gr(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Gr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Gr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let QS=null;"undefined"!=typeof MozWebSocket?QS=MozWebSocket:"undefined"!=typeof WebSocket&&(QS=WebSocket);let rv=(()=>{class n{constructor(e,i,r,o,c,h,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=HC(this.connId),this.stats_=Bk(i),this.connURL=n.connectionURL_(i,h,f,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const h={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&T2.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),A2(e,x2,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,im.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Mk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,f=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;f&&(c.proxy={origin:f})}this.mySock=new QS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==QS&&!n.forceDisallow_}static previouslyFailed(){return im.isInMemoryStorage||!0===im.get("previous_websocket_failure")}markConnectionHealthy(){im.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=_2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),F2=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xp,rv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=rv&&rv.isAvailable();let r=i&&!rv.previouslyFailed();if(e.webSocketOnly&&(i||Os("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rv];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class z2{constructor(t,e,i,r,o,c,h,f,y,E){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=HC("c:"+this.id+":"),this.transportManager_=new F2(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=zC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=jC("t",t),i=jC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=jC("t",t),i=jC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=jC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Ok("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ok("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Os("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),zC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(im.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class G2{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class q2{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class JS extends q2{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new JS}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Cn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _n(){return new Cn("")}function Jt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Dp(n){return n.pieces_.length-n.pieceNum_}function Rn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cn(n.pieces_,t)}function jk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function W2(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Cn(t,0)}function di(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Cn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Cn(e,0)}function Xt(n){return n.pieceNum_>=n.pieces_.length}function so(n,t){const e=Jt(n),i=Jt(t);if(null===e)return t;if(e===i)return so(Rn(n),Rn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function o8(n,t){const e=qC(n,0),i=qC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=sm(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function zk(n,t){if(Dp(n)!==Dp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function sl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Dp(n)>Dp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class a8{constructor(t,e){this.errorPrefix_=e,this.parts_=qC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);K2(this)}}function K2(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+om(n))}function om(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Gk extends q2{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Gk}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const $C=1e3;let ex,am=(()=>{class n extends G2{constructor(e,i,r,o,c,h,f,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=f,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=HC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$C,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&JS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:h=>{const f=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||o!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(h).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,f=>{const y=f.d,E=f.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==E&&this.removeListen_(r,o),e.onComplete&&e.onComplete(E,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Os(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Ok("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$C,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$C,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$C),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Te.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let f=!1,y=null;const E=function(){y?y.close():(f=!0,o())};e.realtime_={close:E,sendRequest:function(P){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,V]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);f?Gr("getToken() completed but was canceled"):(Gr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=V&&V.token,y=new z2(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Q=>{Os(Q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(P){e.log_("Failed to get token: "+P),f||(e.repoInfo_.nodeAdmin&&Os(P),E())}}})()}interrupt(e){Gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$C,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>Rk(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Cn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Gr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Gr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Mk.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=JS.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class tn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new tn(t,e)}}class XS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new tn(xd,t),r=new tn(xd,e);return 0!==this.compare(i,r)}minPost(){return tn.MIN}}class J2 extends XS{static get __EMPTY_NODE(){return ex}static set __EMPTY_NODE(t){ex=t}compare(t,e){return sm(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return tn.MIN}maxPost(){return new tn(fu,ex)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new tn(t,ex)}toString(){return".key"}}const gu=new J2;class tx{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let $k,Wl=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:Fo.EMPTY_NODE,this.right=null!=c?c:Fo.EMPTY_NODE}copy(e,i,r,o,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Fo.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fo{constructor(t,e=Fo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Fo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wl.BLACK,null,null))}remove(t){return new Fo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new tx(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new tx(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new tx(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new tx(this.root_,null,this.comparator_,!0,t)}}function m8(n,t){return sm(n.name,t.name)}function qk(n,t){return sm(n,t)}Fo.EMPTY_NODE=new class g8{copy(t,e,i,r,o){return this}insert(t,e,i){return new Wl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const X2=function(n){return"number"==typeof n?"number:"+y2(n):"string:"+n},eV=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===$k||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===$k||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let tV,nV,iV,sv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),eV(this.priorityNode_)}static set __childrenNodeConstructor(e){tV=e}static get __childrenNodeConstructor(){return tV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xt(e)?this:".priority"===Jt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Jt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===Dp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+X2(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?y2(this.value_):this.value_,this.lazyHash_=f2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Hn=new class w8 extends XS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?sm(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return tn.MIN}maxPost(){return new tn(fu,new sv("[PRIORITY-POST]",iV))}makePost(t,e){const i=nV(t);return new tn(e,new sv("[PRIORITY-POST]",i))}toString(){return".priority"}},b8=Math.log(2);class C8{constructor(t){this.count=parseInt(Math.log(t+1)/b8,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const nx=function(n,t,e,i){n.sort(t);const r=function(f,y){const E=y-f;let I,M;if(0===E)return null;if(1===E)return I=n[f],M=e?e(I):I,new Wl(M,I.node,Wl.BLACK,null,null);{const P=parseInt(E/2,10)+f,V=r(f,P),Q=r(P+1,y);return I=n[P],M=e?e(I):I,new Wl(M,I.node,Wl.BLACK,V,Q)}},h=function(f){let y=null,E=null,I=n.length;const M=function(V,Q){const ye=I-V,je=I;I-=V;const Je=r(ye+1,je),it=n[ye],rt=e?e(it):it;P(new Wl(rt,it.node,Q,null,Je))},P=function(V){y?(y.left=V,y=V):(E=V,y=V)};for(let V=0;V<f.count;++V){const Q=f.nextBitIsOne(),ye=Math.pow(2,f.count-(V+1));Q?M(ye,Wl.BLACK):(M(ye,Wl.BLACK),M(ye,Wl.RED))}return E}(new C8(n.length));return new Fo(i||t,h)};let Zk;const ov={};class Dd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(ov&&Hn,"ChildrenNode.ts has not been loaded"),Zk=Zk||new Dd({".priority":ov},{".priority":Hn}),Zk}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Fo?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==gu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(tn.Wrap);let h,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?nx(i,t.getCompare()):ov;const f=t.toString(),y=Object.assign({},this.indexSet_);y[f]=t;const E=Object.assign({},this.indexes_);return E[f]=h,new Dd(E,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const c=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(c,"Missing index implementation for "+o),r===ov){if(c.isDefinedOn(t.node)){const h=[],f=e.getIterator(tn.Wrap);let y=f.getNext();for(;y;)y.name!==t.name&&h.push(y),y=f.getNext();return h.push(t),nx(h,c.getCompare())}return ov}{const h=e.get(t.name);let f=r;return h&&(f=f.remove(new tn(t.name,h))),f.insert(t,t.node)}});return new Dd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===ov)return r;{const o=e.get(t.name);return o?r.remove(new tn(t.name,o)):r}});return new Dd(i,this.indexSet_)}}let ZC,Ht=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eV(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ZC||(ZC=new n(new Fo(qk),null,Dd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ZC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ZC:i}}getChild(e){const i=Jt(e);return null===i?this:this.getImmediateChild(i).getChild(Rn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new tn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?ZC:this.priorityNode_;return new n(o,h,c)}}updateChild(e,i){const r=Jt(e);if(null===r)return i;{(0,N.hu)(".priority"!==Jt(e)||1===Dp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Rn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Hn,(h,f)=>{i[h]=f.val(e),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*r){const h=[];for(const f in i)h[f]=i[f];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+X2(this.getPriority().val())+":"),this.forEachChild(Hn,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":f2(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new tn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new tn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new tn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,tn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,tn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===WC?-1:0}withIndex(e){if(e===gu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===gu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Hn),o=i.getIterator(Hn);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===gu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const WC=new class E8 extends Ht{constructor(){super(new Fo(qk),Ht.EMPTY_NODE,Dd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ht.EMPTY_NODE}isEmpty(){return!1}};function mi(n,t=null){if(null===n)return Ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sv(n,mi(t));if(n instanceof Array){let e=Ht.EMPTY_NODE;return qr(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=mi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(mi(t))}{const e=[];let i=!1;if(qr(n,(c,h)=>{if("."!==c.substring(0,1)){const f=mi(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new tn(c,f)))}}),0===e.length)return Ht.EMPTY_NODE;const o=nx(e,m8,c=>c.name,qk);if(i){const c=nx(e,Hn.getCompare());return new Ht(o,mi(t),new Dd({".priority":c},{".priority":Hn}))}return new Ht(o,mi(t),Dd.Default)}}Object.defineProperties(tn,{MIN:{value:new tn(xd,Ht.EMPTY_NODE)},MAX:{value:new tn(fu,WC)}}),J2.__EMPTY_NODE=Ht.EMPTY_NODE,sv.__childrenNodeConstructor=Ht,function _8(n){$k=n}(WC),function v8(n){iV=n}(WC),function y8(n){nV=n}(mi);class Wk extends XS{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!Xt(t)&&".priority"!==Jt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?sm(t.name,e.name):o}makePost(t,e){const i=mi(t),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,i);return new tn(e,r)}maxPost(){const t=Ht.EMPTY_NODE.updateChild(this.indexPath_,WC);return new tn(fu,t)}toString(){return qC(this.indexPath_,0).join("/")}}const Kk=new class I8 extends XS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?sm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return tn.MIN}maxPost(){return tn.MAX}makePost(t,e){const i=mi(t);return new tn(e,i)}toString(){return".value"}},av="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",S8=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=av.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=av.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),oV=function(n){if(n===""+Pk)return"-";const t=KS(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return fu;const o=av.charAt(av.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},aV=function(n){if(n===""+v2)return xd;const t=KS(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Pk:(delete e[e.length-1],e.join("")):(e[e.length-1]=av.charAt(av.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function lV(n){return{type:"value",snapshotNode:n}}function lv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function KC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function YC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Qk{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(KC(e,h)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(lv(e,i)):c.trackChildChange(YC(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Hn,(r,o)=>{e.hasChild(r)||i.trackChildChange(KC(r,o))}),e.isLeafNode()||e.forEachChild(Hn,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(YC(r,o,c))}else i.trackChildChange(lv(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class QC{constructor(t){this.indexedFilter_=new Qk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=QC.getStartPost_(t),this.endPost_=QC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new tn(e,i))||(i=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ht.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ht.EMPTY_NODE);const o=this;return e.forEachChild(Hn,(c,h)=>{o.matches(new tn(c,h))||(r=r.updateImmediateChild(c,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class D8{constructor(t){this.rangedFilter_=new QC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new tn(e,i))||(i=Ht.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Ht.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let o,c,h,f;if(r=e.withIndex(this.index_),r=r.updatePriority(Ht.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();h=(M,P)=>I(P,M)}else f=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,E=!1;for(;f.hasNext();){const I=f.getNext();!E&&h(o,I)<=0&&(E=!0),E&&y<this.limit_&&h(I,c)<=0?y++:r=r.updateImmediateChild(I.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const I=this.index_.getCompare();c=(M,P)=>I(P,M)}else c=this.index_.getCompare();const h=t;(0,N.hu)(h.numChildren()===this.limit_,"");const f=new tn(e,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(f);if(h.hasChild(e)){const I=h.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:c(M,f);if(E&&!i.isEmpty()&&P>=0)return null!=o&&o.trackChildChange(YC(e,i,I)),h.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(KC(e,I));const Q=h.updateImmediateChild(e,Ht.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(null!=o&&o.trackChildChange(lv(M.name,M.node)),Q.updateImmediateChild(M.name,M.node)):Q}}return i.isEmpty()?t:E&&c(y,f)>=0?(null!=o&&(o.trackChildChange(KC(y.name,y.node)),o.trackChildChange(lv(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(y.name,Ht.EMPTY_NODE)):t}}class ix{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hn}copy(){const t=new ix;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Jk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Xk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function rx(n,t){const e=n.copy();return e.index_=t,e}function cV(n){const t={};if(n.isDefault())return t;let e;return n.index_===Hn?e="$priority":n.index_===Kk?e="$value":n.index_===gu?e="$key":((0,N.hu)(n.index_ instanceof Wk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function uV(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Hn&&(t.i=n.index_.toString()),t}class sx extends G2{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=HC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=sx.getListenId_(t,i),h={};this.listens_[c]=h;const f=cV(t._queryParams);this.restRequest_(o+".json",f,(y,E)=>{let I=E;if(404===y&&(I=null,y=null),null===y&&this.onDataUpdate_(o,I,!1,i),(0,N.DV)(this.listens_,c)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=sx.getListenId_(t,e);delete this.listens_[i]}get(t){const e=cV(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=(0,N.cI)(h.responseText)}catch(y){Os("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else 401!==h.status&&404!==h.status&&Os("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class P8{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ox(){return{value:null,children:new Map}}function cv(n,t,e){if(Xt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Jt(t);n.children.has(i)||n.children.set(i,ox()),cv(n.children.get(i),t=Rn(t),e)}}function eO(n,t){if(Xt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Hn,(i,r)=>{cv(n,new Cn(i),r)}),eO(n,t)}}if(n.children.size>0){const e=Jt(t);return t=Rn(t),n.children.has(e)&&eO(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function tO(n,t,e){null!==n.value?e(t,n.value):function N8(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{tO(r,new Cn(t.toString()+"/"+i),e)})}class F8{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&qr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class B8{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new F8(t);const i=1e4+2e4*Math.random();zC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;qr(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),zC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ol=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ol||(ol={})),ol))();function rO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ax{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ol.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Xt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Cn(t));return new ax(_n(),e,this.revert)}}return(0,N.hu)(Jt(this.path)===t,"operationForChild called for unrelated child."),new ax(Rn(this.path),this.affectedTree,this.revert)}}class JC{constructor(t,e){this.source=t,this.path=e,this.type=ol.LISTEN_COMPLETE}operationForChild(t){return Xt(this.path)?new JC(this.source,_n()):new JC(this.source,Rn(this.path))}}class lm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ol.OVERWRITE}operationForChild(t){return Xt(this.path)?new lm(this.source,_n(),this.snap.getImmediateChild(t)):new lm(this.source,Rn(this.path),this.snap)}}class uv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ol.MERGE}operationForChild(t){if(Xt(this.path)){const e=this.children.subtree(new Cn(t));return e.isEmpty()?null:e.value?new lm(this.source,_n(),e.value):new uv(this.source,_n(),e)}return(0,N.hu)(Jt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new uv(this.source,Rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ap{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Jt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class U8{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function XC(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,f)=>function z8(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new tn(t.childName,t.snapshotNode),r=new tn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,f)),c.forEach(h=>{const f=function j8(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);r.forEach(y=>{y.respondsTo(h.type)&&t.push(y.createEvent(f,n.query_))})})}function lx(n,t){return{eventCache:n,serverCache:t}}function e0(n,t,e,i){return lx(new Ap(t,e,i),n.serverCache)}function hV(n,t,e,i){return lx(n.eventCache,new Ap(t,e,i))}function cx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function cm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let sO;class jn{constructor(t,e=(()=>(sO||(sO=new Fo(SK)),sO))()){this.value=t,this.children=e}static fromObject(t){let e=new jn(null);return qr(t,(i,r)=>{e=e.set(new Cn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_n(),value:this.value};if(Xt(t))return null;{const i=Jt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Rn(t),e);return null!=o?{path:di(new Cn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Xt(t))return this;{const e=Jt(t),i=this.children.get(e);return null!==i?i.subtree(Rn(t)):new jn(null)}}set(t,e){if(Xt(t))return new jn(e,this.children);{const i=Jt(t),o=(this.children.get(i)||new jn(null)).set(Rn(t),e),c=this.children.insert(i,o);return new jn(this.value,c)}}remove(t){if(Xt(t))return this.children.isEmpty()?new jn(null):new jn(null,this.children);{const e=Jt(t),i=this.children.get(e);if(i){const r=i.remove(Rn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new jn(null):new jn(this.value,o)}return this}}get(t){if(Xt(t))return this.value;{const e=Jt(t),i=this.children.get(e);return i?i.get(Rn(t)):null}}setTree(t,e){if(Xt(t))return e;{const i=Jt(t),o=(this.children.get(i)||new jn(null)).setTree(Rn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new jn(this.value,c)}}fold(t){return this.fold_(_n(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(di(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,_n(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Xt(t))return null;{const o=Jt(t),c=this.children.get(o);return c?c.findOnPath_(Rn(t),di(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_n(),e)}foreachOnPath_(t,e,i){if(Xt(t))return this;{this.value&&i(e,this.value);const r=Jt(t),o=this.children.get(r);return o?o.foreachOnPath_(Rn(t),di(e,r),i):new jn(null)}}foreach(t){this.foreach_(_n(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(di(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Kl{constructor(t){this.writeTree_=t}static empty(){return new Kl(new jn(null))}}function t0(n,t,e){if(Xt(t))return new Kl(new jn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=so(r,t);return o=o.updateChild(c,e),new Kl(n.writeTree_.set(r,o))}{const r=new jn(e),o=n.writeTree_.setTree(t,r);return new Kl(o)}}}function oO(n,t,e){let i=n;return qr(e,(r,o)=>{i=t0(i,di(t,r),o)}),i}function pV(n,t){if(Xt(t))return Kl.empty();{const e=n.writeTree_.setTree(t,new jn(null));return new Kl(e)}}function aO(n,t){return null!=um(n,t)}function um(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(so(e.path,t)):null}function fV(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Hn,(i,r)=>{t.push(new tn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new tn(i,r.value))}),t}function Mp(n,t){if(Xt(t))return n;{const e=um(n,t);return new Kl(null!=e?new jn(e):n.writeTree_.subtree(t))}}function lO(n){return n.writeTree_.isEmpty()}function dv(n,t){return gV(_n(),n.writeTree_,t)}function gV(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=gV(di(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(di(n,".priority"),i)),e}}function ux(n,t){return wV(t,n)}function K8(n,t){if(n.snap)return sl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&sl(di(n.path,e),t))return!0;return!1}function Q8(n){return n.visible}function mV(n,t,e){let i=Kl.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)sl(e,c)?(h=so(e,c),i=t0(i,h,o.snap)):sl(c,e)&&(h=so(c,e),i=t0(i,_n(),o.snap.getChild(h)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(sl(e,c))h=so(e,c),i=oO(i,h,o.children);else if(sl(c,e))if(h=so(c,e),Xt(h))i=oO(i,_n(),o.children);else{const f=(0,N.DV)(o.children,Jt(h));if(f){const y=f.getChild(Rn(h));i=t0(i,_n(),y)}}}}}return i}function _V(n,t,e,i,r){if(i||r){const o=Mp(n.visibleWrites,t);return!r&&lO(o)?e:r||null!=e||aO(o,_n())?dv(mV(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(sl(y.path,t)||sl(t,y.path))},t),e||Ht.EMPTY_NODE):null}{const o=um(n.visibleWrites,t);if(null!=o)return o;{const c=Mp(n.visibleWrites,t);return lO(c)?e:null!=e||aO(c,_n())?dv(c,e||Ht.EMPTY_NODE):null}}}function dx(n,t,e,i){return _V(n.writeTree,n.treePath,t,e,i)}function cO(n,t){return function J8(n,t,e){let i=Ht.EMPTY_NODE;const r=um(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Hn,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=Mp(n.visibleWrites,t);return e.forEachChild(Hn,(c,h)=>{const f=dv(Mp(o,new Cn(c)),h);i=i.updateImmediateChild(c,f)}),fV(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return fV(Mp(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function yV(n,t,e,i){return function X8(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=di(t,e);if(aO(n.visibleWrites,o))return null;{const c=Mp(n.visibleWrites,o);return lO(c)?r.getChild(e):dv(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function hx(n,t){return function tY(n,t){return um(n.visibleWrites,t)}(n.writeTree,di(n.treePath,t))}function uO(n,t,e){return function eY(n,t,e,i){const r=di(t,e),o=um(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?dv(Mp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function vV(n,t){return wV(di(n.treePath,t),n.writeTree)}function wV(n,t){return{treePath:n,writeTree:t}}class sY{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,YC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,KC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,lv(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,YC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const bV=new class oY{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class dO{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ap(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uO(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cm(this.viewCache_),o=function rY(n,t,e,i,r,o){return function nY(n,t,e,i,r,o,c){let h;const f=Mp(n.visibleWrites,t),y=um(f,_n());if(null!=y)h=y;else{if(null==e)return[];h=dv(f,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const E=[],I=c.getCompare(),M=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let P=M.getNext();for(;P&&E.length<r;)0!==I(P,i)&&E.push(P),P=M.getNext();return E}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function CV(n,t,e,i,r,o){const c=t.eventCache;if(null!=hx(i,e))return t;{let h,f;if(Xt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=cm(t),I=cO(i,y instanceof Ht?y:Ht.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const y=dx(i,cm(t));h=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=Jt(e);if(".priority"===y){(0,N.hu)(1===Dp(e),"Can't have a priority with additional path components");const E=c.getNode();f=t.serverCache.getNode();const I=yV(i,e,E,f);h=null!=I?n.filter.updatePriority(E,I):c.getNode()}else{const E=Rn(e);let I;if(c.isCompleteForChild(y)){f=t.serverCache.getNode();const M=yV(i,e,c.getNode(),f);I=null!=M?c.getNode().getImmediateChild(y).updateChild(E,M):c.getNode().getImmediateChild(y)}else I=uO(i,y,t.serverCache);h=null!=I?n.filter.updateChild(c.getNode(),y,I,E,r,o):c.getNode()}}return e0(t,h,c.isFullyInitialized()||Xt(e),n.filter.filtersNodes())}}function px(n,t,e,i,r,o,c,h){const f=t.serverCache;let y;const E=c?n.filter:n.filter.getIndexedFilter();if(Xt(e))y=E.updateFullNode(f.getNode(),i,null);else if(E.filtersNodes()&&!f.isFiltered()){const P=f.getNode().updateChild(e,i);y=E.updateFullNode(f.getNode(),P,null)}else{const P=Jt(e);if(!f.isCompleteForPath(e)&&Dp(e)>1)return t;const V=Rn(e),ye=f.getNode().getImmediateChild(P).updateChild(V,i);y=".priority"===P?E.updatePriority(f.getNode(),ye):E.updateChild(f.getNode(),P,ye,V,bV,null)}const I=hV(t,y,f.isFullyInitialized()||Xt(e),E.filtersNodes());return CV(n,I,e,r,new dO(r,I,o),h)}function hO(n,t,e,i,r,o,c){const h=t.eventCache;let f,y;const E=new dO(r,t,o);if(Xt(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=e0(t,y,!0,n.filter.filtersNodes());else{const I=Jt(e);if(".priority"===I)y=n.filter.updatePriority(t.eventCache.getNode(),i),f=e0(t,y,h.isFullyInitialized(),h.isFiltered());else{const M=Rn(e),P=h.getNode().getImmediateChild(I);let V;if(Xt(M))V=i;else{const Q=E.getCompleteChild(I);V=null!=Q?".priority"===jk(M)&&Q.getChild(W2(M)).isEmpty()?Q:Q.updateChild(M,i):Ht.EMPTY_NODE}f=P.equals(V)?t:e0(t,n.filter.updateChild(h.getNode(),I,V,M,E,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return f}function EV(n,t){return n.eventCache.isCompleteForChild(t)}function TV(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function pO(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,f=t;y=Xt(e)?i:new jn(null).setTree(e,i);const E=t.serverCache.getNode();return y.children.inorderTraversal((I,M)=>{if(E.hasChild(I)){const V=TV(0,t.serverCache.getNode().getImmediateChild(I),M);f=px(n,f,new Cn(I),V,r,o,c,h)}}),y.children.inorderTraversal((I,M)=>{const P=!t.serverCache.isCompleteForChild(I)&&void 0===M.value;if(!E.hasChild(I)&&!P){const Q=TV(0,t.serverCache.getNode().getImmediateChild(I),M);f=px(n,f,new Cn(I),Q,r,o,c,h)}}),f}class gY{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Qk(i.getIndex()),o=function A8(n){return n.loadsAllData()?new Qk(n.getIndex()):n.hasLimit()?new D8(n):new QC(n)}(i);this.processor_=function aY(n){return{filter:n}}(o);const c=e.serverCache,h=e.eventCache,f=r.updateFullNode(Ht.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode(Ht.EMPTY_NODE,h.getNode(),null),E=new Ap(f,c.isFullyInitialized(),r.filtersNodes()),I=new Ap(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=lx(I,E),this.eventGenerator_=new U8(this.query_)}get query(){return this.query_}}function yY(n,t){const e=cm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Xt(t)&&!e.getImmediateChild(Jt(t)).isEmpty())?e.getChild(t):null}function IV(n){return 0===n.eventRegistrations_.length}function SV(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function xV(n,t,e,i){t.type===ol.MERGE&&null!==t.source.queryId&&((0,N.hu)(cm(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(cx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function cY(n,t,e,i,r){const o=new sY;let c,h;if(e.type===ol.OVERWRITE){const y=e;y.source.fromUser?c=hO(n,t,y.path,y.snap,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered()&&!Xt(y.path),c=px(n,t,y.path,y.snap,i,r,h,o))}else if(e.type===ol.MERGE){const y=e;y.source.fromUser?c=function dY(n,t,e,i,r,o,c){let h=t;return i.foreach((f,y)=>{const E=di(e,f);EV(t,Jt(E))&&(h=hO(n,h,E,y,r,o,c))}),i.foreach((f,y)=>{const E=di(e,f);EV(t,Jt(E))||(h=hO(n,h,E,y,r,o,c))}),h}(n,t,y.path,y.children,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered(),c=pO(n,t,y.path,y.children,i,r,h,o))}else if(e.type===ol.ACK_USER_WRITE){const y=e;c=y.revert?function fY(n,t,e,i,r,o){let c;if(null!=hx(i,e))return t;{const h=new dO(i,t,r),f=t.eventCache.getNode();let y;if(Xt(e)||".priority"===Jt(e)){let E;if(t.serverCache.isFullyInitialized())E=dx(i,cm(t));else{const I=t.serverCache.getNode();(0,N.hu)(I instanceof Ht,"serverChildren would be complete if leaf node"),E=cO(i,I)}E=E,y=n.filter.updateFullNode(f,E,o)}else{const E=Jt(e);let I=uO(i,E,t.serverCache);null==I&&t.serverCache.isCompleteForChild(E)&&(I=f.getImmediateChild(E)),y=null!=I?n.filter.updateChild(f,E,I,Rn(e),h,o):t.eventCache.getNode().hasChild(E)?n.filter.updateChild(f,E,Ht.EMPTY_NODE,Rn(e),h,o):f,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=dx(i,cm(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=hx(i,_n()),e0(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function hY(n,t,e,i,r,o,c){if(null!=hx(r,e))return t;const h=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(Xt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return px(n,t,e,f.getNode().getChild(e),r,o,h,c);if(Xt(e)){let y=new jn(null);return f.getNode().forEachChild(gu,(E,I)=>{y=y.set(new Cn(E),I)}),pO(n,t,e,y,r,o,h,c)}return t}{let y=new jn(null);return i.foreach((E,I)=>{const M=di(e,E);f.isCompleteForPath(M)&&(y=y.set(E,f.getNode().getChild(M)))}),pO(n,t,e,y,r,o,h,c)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==ol.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function pY(n,t,e,i,r){const o=t.serverCache;return CV(n,hV(t,o.getNode(),o.isFullyInitialized()||Xt(e),o.isFiltered()),e,i,bV,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function uY(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=cx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(lV(cx(t)))}}(t,c,f),{viewCache:c,changes:f}}(n.processor_,r,t,e,i);return function lY(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,DV(n,o.changes,o.viewCache.eventCache.getNode(),null)}function DV(n,t,e,i){return function H8(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function x8(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),XC(n,r,"child_removed",t,i,e),XC(n,r,"child_added",t,i,e),XC(n,r,"child_moved",o,i,e),XC(n,r,"child_changed",t,i,e),XC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let fx,mx;class AV{constructor(){this.views=new Map}}function fO(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),xV(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(xV(c,t,e,i));return o}}function MV(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let h=dx(e,r?i:null),f=!1;h?f=!0:i instanceof Ht?(h=cO(e,i),f=!1):(h=Ht.EMPTY_NODE,f=!1);const y=lx(new Ap(h,f,!1),new Ap(i,r,!1));return new gY(t,y)}return c}function kV(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function kp(n,t){let e=null;for(const i of n.views.values())e=e||yY(i,t);return e}function OV(n,t){return t._queryParams.loadsAllData()?gx(n):n.views.get(t._queryIdentifier)}function RV(n,t){return null!=OV(n,t)}function Op(n){return null!=gx(n)}function gx(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let DY=1;class PV{constructor(t){this.listenProvider_=t,this.syncPointTree_=new jn(null),this.pendingWriteTree_=function iY(){return{visibleWrites:Kl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gO(n,t,e,i,r){return function q8(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=t0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?hv(n,new lm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Rp(n,t,e=!1){const i=function Z8(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function W8(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&K8(h,i.path)?r=!1:sl(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function Y8(n){n.visibleWrites=mV(n.allWrites,Q8,_n()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=pV(n.visibleWrites,i.path):qr(i.children,f=>{n.visibleWrites=pV(n.visibleWrites,di(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new jn(null);return null!=i.snap?o=o.set(_n(),!0):qr(i.children,c=>{o=o.set(new Cn(c),!0)}),hv(n,new ax(i.path,o,e))}return[]}function n0(n,t,e){return hv(n,new lm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function mO(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let c=[];if(o&&("default"===t._queryIdentifier||RV(o,t))){const h=function IY(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=Op(n);if("default"===r)for(const[f,y]of n.views.entries())c=c.concat(SV(y,e,i)),IV(y)&&(n.views.delete(f),y.query._queryParams.loadsAllData()||o.push(y.query));else{const f=n.views.get(r);f&&(c=c.concat(SV(f,e,i)),IV(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!Op(n)&&o.push(new(function CY(){return(0,N.hu)(fx,"Reference.ts has not been loaded"),fx}())(t._repo,t._path)),{removed:o,events:c}}(o,t,e,i);(function EY(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=h.removed;c=h.events;const y=-1!==f.findIndex(I=>I._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(r,(I,M)=>Op(M));if(y&&!E){const I=n.syncPointTree_.subtree(r);if(!I.isEmpty()){const M=function FY(n){return n.fold((t,e,i)=>{if(e&&Op(e))return[gx(e)];{let r=[];return e&&(r=kV(e)),qr(i,(o,c)=>{r=r.concat(c)}),r}})}(I);for(let P=0;P<M.length;++P){const V=M[P],Q=V.query,ye=VV(n,V);n.listenProvider_.startListening(r0(Q),yx(n,Q),ye.hashFn,ye.onComplete)}}}!E&&f.length>0&&!i&&(y?n.listenProvider_.stopListening(r0(t),null):f.forEach(I=>{const M=n.queryToTagMap.get(vx(I));n.listenProvider_.stopListening(r0(I),M)})),function LY(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=vx(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return c}function NV(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(I,M)=>{const P=so(I,i);r=r||kp(M,P),o=o||Op(M)});let h,c=n.syncPointTree_.get(i);c?(o=o||Op(c),r=r||kp(c,_n())):(c=new AV,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=Ht.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((M,P)=>{const V=kp(P,_n());V&&(r=r.updateImmediateChild(M,V))}));const f=RV(c,t);if(!f&&!t._queryParams.loadsAllData()){const I=vx(t);(0,N.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const M=function VY(){return DY++}();n.queryToTagMap.set(I,M),n.tagToQueryMap.set(M,I)}let E=function TY(n,t,e,i,r,o){const c=MV(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function vY(n,t){n.eventRegistrations_.push(t)}(c,e),function wY(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Hn,(o,c)=>{i.push(lv(o,c))}),e.isFullyInitialized()&&i.push(lV(e.getNode())),DV(n,i,e.getNode(),t)}(c,e)}(c,t,e,ux(n.pendingWriteTree_,i),r,h);if(!f&&!o){const I=OV(c,t);E=E.concat(function BY(n,t,e){const i=t._path,r=yx(n,t),o=VV(n,e),c=n.listenProvider_.startListening(r0(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Op(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((y,E,I)=>{if(!Xt(y)&&E&&Op(E))return[gx(E).query];{let M=[];return E&&(M=M.concat(kV(E).map(P=>P.query))),qr(I,(P,V)=>{M=M.concat(V)}),M}});for(let y=0;y<f.length;++y){const E=f[y];n.listenProvider_.stopListening(r0(E),yx(n,E))}}return c}(n,t,I))}return E}function _x(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const y=kp(h,so(c,t));if(y)return y});return _V(r,t,o,e,!0)}function hv(n,t){return FV(t,n.syncPointTree_,null,ux(n.pendingWriteTree_,_n()))}function FV(n,t,e,i){if(Xt(n.path))return LV(n,t,e,i);{const r=t.get(_n());null==e&&null!=r&&(e=kp(r,_n()));let o=[];const c=Jt(n.path),h=n.operationForChild(c),f=t.children.get(c);if(f&&h){const y=e?e.getImmediateChild(c):null,E=vV(i,c);o=o.concat(FV(h,f,y,E))}return r&&(o=o.concat(fO(r,n,i,e))),o}}function LV(n,t,e,i){const r=t.get(_n());null==e&&null!=r&&(e=kp(r,_n()));let o=[];return t.children.inorderTraversal((c,h)=>{const f=e?e.getImmediateChild(c):null,y=vV(i,c),E=n.operationForChild(c);E&&(o=o.concat(LV(E,h,f,y)))}),r&&(o=o.concat(fO(r,n,i,e))),o}function VV(n,t){const e=t.query,i=yx(n,e);return{hashFn:()=>(function mY(n){return n.viewCache_.serverCache.getNode()}(t)||Ht.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function OY(n,t,e){const i=_O(n,e);if(i){const r=yO(i),o=r.path,c=r.queryId,h=so(o,t);return vO(n,o,new JC(rO(c),h))}return[]}(n,e._path,i):function kY(n,t){return hv(n,new JC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function AK(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return mO(n,e,null,o)}}}}function yx(n,t){const e=vx(t);return n.queryToTagMap.get(e)}function vx(n){return n._path.toString()+"$"+n._queryIdentifier}function _O(n,t){return n.tagToQueryMap.get(t)}function yO(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cn(n.substr(0,t))}}function vO(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),fO(i,e,ux(n.pendingWriteTree_,t),null)}function r0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function xY(){return(0,N.hu)(mx,"Reference.ts has not been loaded"),mx}())(n._repo,n._path):n}class wO{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new wO(e)}node(){return this.node_}}class bO{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=di(this.path_,t);return new bO(this.syncTree_,e)}node(){return _x(this.syncTree_,this.path_)}}const BV=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?HY(n[".sv"],t,e):"object"==typeof n[".sv"]?jY(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},HY=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},jY=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},UV=function(n,t,e,i){return EO(t,new bO(e,n),i)},CO=function(n,t,e){return EO(n,new wO(t),e)};function EO(n,t,e){const i=n.getPriority().val(),r=BV(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=BV(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new sv(h,mi(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new sv(r))),c.forEachChild(Hn,(h,f)=>{const y=EO(f,t.getImmediateChild(h),e);y!==f&&(o=o.updateImmediateChild(h,y))}),o}}class TO{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function wx(n,t){let e=t instanceof Cn?t:new Cn(t),i=n,r=Jt(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new TO(r,i,o),e=Rn(e),r=Jt(e)}return i}function dm(n){return n.node.value}function IO(n,t){n.node.value=t,SO(n)}function HV(n){return n.node.childCount>0}function bx(n,t){qr(n.node.children,(e,i)=>{t(new TO(e,n,i))})}function jV(n,t,e,i){e&&!i&&t(n),bx(n,r=>{jV(r,t,!0,i)}),e&&i&&t(n)}function s0(n){return new Cn(null===n.parent?n.name:s0(n.parent)+"/"+n.name)}function SO(n){null!==n.parent&&function qY(n,t,e){const i=function zY(n){return void 0===dm(n)&&!HV(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,SO(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,SO(n))}(n.parent,n.name,n)}const $Y=/[\[\].#$\/\u0000-\u001F\u007F]/,ZY=/[\[\].#$\u0000-\u001F\u007F]/,xO=10485760,Cx=function(n){return"string"==typeof n&&0!==n.length&&!$Y.test(n)},zV=function(n){return"string"==typeof n&&0!==n.length&&!ZY.test(n)},o0=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!WS(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},mu=function(n,t,e,i){i&&void 0===t||a0((0,N.gK)(n,"value"),t,e)},a0=function(n,t,e){const i=e instanceof Cn?new a8(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+om(i));if("function"==typeof t)throw new Error(n+"contains a function "+om(i)+" with contents = "+t.toString());if(WS(t))throw new Error(n+"contains "+t.toString()+" "+om(i));if("string"==typeof t&&t.length>xO/3&&(0,N.ug)(t)>xO)throw new Error(n+"contains a string greater than "+xO+" utf8 bytes "+om(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(qr(t,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!Cx(c)))throw new Error(n+" contains an invalid key ("+c+") "+om(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function l8(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),K2(n)})(i,c),a0(n,h,i),function c8(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+om(i)+" in addition to actual children.")}},GV=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];qr(t,(c,h)=>{const f=new Cn(c);if(a0(r,h,di(e,f)),".priority"===jk(f)&&!o0(h))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=qC(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!Cx(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(o8);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&sl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},DO=function(n,t,e){if(!e||void 0!==t){if(WS(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!o0(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},l0=function(n,t,e,i){if(!(i&&void 0===e||Cx(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},c0=function(n,t,e,i){if(!(i&&void 0===e||zV(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},al=function(n,t){if(".info"===Jt(t))throw new Error(n+" failed = Can't modify data under /.info/")},qV=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Cx(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zV(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class QY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ex(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!zk(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function AO(n,t,e){Ex(n,e),$V(n,i=>zk(i,t))}function ll(n,t,e){Ex(n,e),$V(n,i=>sl(i,t)||sl(t,i))}function $V(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(JY(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function JY(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();rm&&Gr("event: "+e.toString()),iv(i)}}}const ZV="repo_interrupt";class eQ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ox(),this.transactionQueueTree_=new TO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WV(n){const e=n.infoData_.getNode(new Cn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function u0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:WV(n)})}function KV(n,t,e,i,r){n.dataUpdateCount++;const o=new Cn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const f=(0,N.UI)(e,y=>mi(y));c=function PY(n,t,e,i){const r=_O(n,i);if(r){const o=yO(r),c=o.path,h=o.queryId,f=so(c,t),y=jn.fromObject(e);return vO(n,c,new uv(rO(h),f,y))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=mi(e);c=function RY(n,t,e,i){const r=_O(n,i);if(null!=r){const o=yO(r),c=o.path,h=o.queryId,f=so(c,t);return vO(n,c,new lm(rO(h),f,e))}return[]}(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,N.UI)(e,y=>mi(y));c=function MY(n,t,e){const i=jn.fromObject(e);return hv(n,new uv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=mi(e);c=n0(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=fv(n,o)),ll(n.eventQueue_,h,c)}function YV(n,t){MO(n,"connected",t),!1===t&&function sQ(n){pv(n,"onDisconnectEvents");const t=u0(n),e=ox();tO(n.onDisconnect_,_n(),(r,o)=>{const c=UV(r,o,n.serverSyncTree_,t);cv(e,r,c)});let i=[];tO(e,_n(),(r,o)=>{i=i.concat(n0(n.serverSyncTree_,r,o));const c=PO(n,r);fv(n,c)}),n.onDisconnect_=ox(),ll(n.eventQueue_,_n(),i)}(n)}function MO(n,t,e){const i=new Cn("/.info/"+t),r=mi(e);n.infoData_.updateSnapshot(i,r);const o=n0(n.infoSyncTree_,i,r);ll(n.eventQueue_,i,o)}function Tx(n){return n.nextWriteId_++}function kO(n,t,e,i,r){pv(n,"set",{path:t.toString(),value:e,priority:i});const o=u0(n),c=mi(e,i),h=_x(n.serverSyncTree_,t),f=CO(c,h,o),y=Tx(n),E=gO(n.serverSyncTree_,t,f,y,!0);Ex(n.eventQueue_,E),n.server_.put(t.toString(),c.val(!0),(M,P)=>{const V="ok"===M;V||Os("set at "+t+" failed: "+M);const Q=Rp(n.serverSyncTree_,y,!V);ll(n.eventQueue_,t,Q),Pp(0,r,M,P)});const I=PO(n,t);fv(n,I),ll(n.eventQueue_,I,[])}function oQ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&eO(n.onDisconnect_,t),Pp(0,e,i,r)})}function QV(n,t,e,i){const r=mi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&cv(n.onDisconnect_,t,r),Pp(0,i,o,c)})}function OO(n,t,e){let i;i=".info"===Jt(t._path)?mO(n.infoSyncTree_,t,e):mO(n.serverSyncTree_,t,e),AO(n.eventQueue_,t._path,i)}function JV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ZV)}function pv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Gr(e,...t)}function Pp(n,t,e,i){t&&iv(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function RO(n,t,e){return _x(n.serverSyncTree_,t,e)||Ht.EMPTY_NODE}function Ix(n,t=n.transactionQueueTree_){if(t||Sx(n,t),dm(t)){const e=eB(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function hQ(n,t,e){const i=e.map(y=>y.currentWriteId),r=RO(n,t,i);let o=r;const c=r.hash();for(let y=0;y<e.length;y++){const E=e[y];(0,N.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const I=so(t,E.path);o=o.updateChild(I,E.currentOutputSnapshotRaw)}const h=o.val(!0),f=t;n.server_.put(f.toString(),h,y=>{pv(n,"transaction put response",{path:f.toString(),status:y});let E=[];if("ok"===y){const I=[];for(let M=0;M<e.length;M++)e[M].status=2,E=E.concat(Rp(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&I.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();Sx(n,wx(n.transactionQueueTree_,t)),Ix(n,n.transactionQueueTree_),ll(n.eventQueue_,t,E);for(let M=0;M<I.length;M++)iv(I[M])}else{if("datastale"===y)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Os("transaction at "+f.toString()+" failed: "+y);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=y}fv(n,t)}},c)}(n,s0(t),e)}else HV(t)&&bx(t,e=>{Ix(n,e)})}function fv(n,t){const e=XV(n,t),i=s0(e);return function pQ(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const f=t[h],y=so(e,f.path);let I,E=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)E=!0,I=f.abortReason,r=r.concat(Rp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)E=!0,I="maxretry",r=r.concat(Rp(n.serverSyncTree_,f.currentWriteId,!0));else{const M=RO(n,f.path,c);f.currentInputSnapshot=M;const P=t[h].update(M.val());if(void 0!==P){a0("transaction failed: Data returned ",P,f.path);let V=mi(P);"object"==typeof P&&null!=P&&(0,N.r3)(P,".priority")||(V=V.updatePriority(M.getPriority()));const ye=f.currentWriteId,je=u0(n),Je=CO(V,M,je);f.currentOutputSnapshotRaw=V,f.currentOutputSnapshotResolved=Je,f.currentWriteId=Tx(n),c.splice(c.indexOf(ye),1),r=r.concat(gO(n.serverSyncTree_,f.path,Je,f.currentWriteId,f.applyLocally)),r=r.concat(Rp(n.serverSyncTree_,ye,!0))}else E=!0,I="nodata",r=r.concat(Rp(n.serverSyncTree_,f.currentWriteId,!0))}ll(n.eventQueue_,e,r),r=[],E&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}Sx(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)iv(i[h]);Ix(n,n.transactionQueueTree_)}(n,eB(n,e),i),i}function XV(n,t){let e,i=n.transactionQueueTree_;for(e=Jt(t);null!==e&&void 0===dm(i);)i=wx(i,e),e=Jt(t=Rn(t));return i}function eB(n,t){const e=[];return tB(n,t,e),e.sort((i,r)=>i.order-r.order),e}function tB(n,t,e){const i=dm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);bx(t,r=>{tB(n,r,e)})}function Sx(n,t){const e=dm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,IO(t,e.length>0?e:void 0)}bx(t,i=>{Sx(n,i)})}function PO(n,t){const e=s0(XV(n,t)),i=wx(n.transactionQueueTree_,t);return function GY(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{NO(n,r)}),NO(n,i),jV(i,r=>{NO(n,r)}),e}function NO(n,t){const e=dm(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Rp(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?IO(t,void 0):e.length=o+1,ll(n.eventQueue_,s0(t),r);for(let c=0;c<i.length;c++)iv(i[c])}}const FO=function(n,t){const e=mQ(n),i=e.namespace;return"firebase.com"===e.domain&&pu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&pu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Os("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Cn(e.pathString)}},mQ=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",f=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(E,I)),E<I&&(r=function fQ(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(E,I)));const M=function gQ(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Os(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));y=t.indexOf(":"),y>=0?(c="https"===h||"wss"===h,f=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};class nB{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class iB{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class rB{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class sB{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return oQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){al("OnDisconnect.remove",this._path);const t=new N.BH;return QV(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){al("OnDisconnect.set",this._path),mu("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return QV(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){al("OnDisconnect.setWithPriority",this._path),mu("OnDisconnect.setWithPriority",t,this._path,!1),DO("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function aQ(n,t,e,i,r){const o=mi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&cv(n.onDisconnect_,t,o),Pp(0,r,c,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){al("OnDisconnect.update",this._path),GV("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function lQ(n,t,e,i){if((0,N.xb)(e))return Gr("onDisconnect().update() called with empty data.  Don't do anything."),void Pp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&qr(e,(c,h)=>{const f=mi(h);cv(n.onDisconnect_,di(t,c),f)}),Pp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Lo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Xt(this._path)?null:jk(this._path)}get ref(){return new cl(this._repo,this._path)}get _queryIdentifier(){const t=uV(this._queryParams),e=Rk(t);return"{}"===e?"default":e}get _queryObject(){return uV(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Lo))return!1;const e=this._repo===t._repo,i=zk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function s8(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function xx(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Np(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===gu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==xd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==fu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Hn){if(null!=t&&!o0(t)||null!=e&&!o0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof Wk||n.getIndex()===Kk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Dx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cl extends Lo{constructor(t,e){super(t,e,new ix,!1)}get parent(){const t=W2(this._path);return null===t?null:new cl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class hm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Cn(t),i=pm(this.ref,t);return new hm(this._node.getChild(e),i,Hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new hm(r,pm(this.ref,i),Hn)))}hasChild(t){const e=new Cn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oB(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?pm(n._root,t):n._root}function aB(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=FO(t,n._repo.repoInfo_.nodeAdmin);qV("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&pu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),oB(n,e.path.toString())}function pm(n,t){return null===Jt((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),c0("child","path",e,!1)):c0("child","path",t,!1),new cl(n._repo,di(n._path,t));var e}function LO(n,t){n=(0,N.m9)(n),al("set",n._path),mu("set",t,n._path,!1);const e=new N.BH;return kO(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function bQ(n,t){GV("update",t,n._path,!1);const e=new N.BH;return function rQ(n,t,e,i){pv(n,"update",{path:t.toString(),value:e});let r=!0;const o=u0(n),c={};if(qr(e,(h,f)=>{r=!1,c[h]=UV(di(t,h),mi(f),n.serverSyncTree_,o)}),r)Gr("update() called with empty data.  Don't do anything."),Pp(0,i,"ok",void 0);else{const h=Tx(n),f=function AY(n,t,e,i){!function $8(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=oO(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=jn.fromObject(e);return hv(n,new uv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,h);Ex(n.eventQueue_,f),n.server_.merge(t.toString(),e,(y,E)=>{const I="ok"===y;I||Os("update at "+t+" failed: "+y);const M=Rp(n.serverSyncTree_,h,!I),P=M.length>0?fv(n,t):t;ll(n.eventQueue_,P,M),Pp(0,i,y,E)}),qr(e,y=>{const E=PO(n,di(t,y));fv(n,E)}),ll(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function CQ(n){return function iQ(n,t){const e=function NY(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,E)=>{const I=so(y,e);i=i||kp(E,I)});let r=n.syncPointTree_.get(e);r?i=i||kp(r,_n()):(r=new AV,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new Ap(i,!0,!1):null;return function _Y(n){return cx(n.viewCache_)}(MV(r,t,ux(n.pendingWriteTree_,t._path),o?c.getNode():Ht.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=mi(i).withIndex(t._queryParams.getIndex()),o=n0(n.serverSyncTree_,t._path,r);return AO(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(pv(n,"get for query "+(0,N.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,N.m9)(n))._repo,n).then(t=>new hm(t,new cl(n._repo,n._path),n._queryParams.getIndex()))}class Ax{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new nB("value",this,new hm(t.snapshotNode,new cl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new iB(this,t,e):null}matches(t){return t instanceof Ax&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Mx{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new iB(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=pm(new cl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new nB(t.type,this,new hm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Mx&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function d0(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,y=(E,I)=>{OO(n._repo,n,h),f(E,I)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new rB(e,o||void 0),h="value"===t?new Ax(c):new Mx(t,c);return function cQ(n,t,e){let i;i=".info"===Jt(t._path)?NV(n.infoSyncTree_,t,e):NV(n.serverSyncTree_,t,e),AO(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>OO(n._repo,n,h)}function VO(n,t,e,i){return d0(n,"value",t,e,i)}function lB(n,t,e,i){return d0(n,"child_added",t,e,i)}function cB(n,t,e,i){return d0(n,"child_changed",t,e,i)}function uB(n,t,e,i){return d0(n,"child_moved",t,e,i)}function dB(n,t,e,i){return d0(n,"child_removed",t,e,i)}function hB(n,t,e){let i=null;const r=e?new rB(e):null;"value"===t?i=new Ax(r):t&&(i=new Mx(t,r)),OO(n._repo,n,i)}class Yl{}class pB extends Yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){mu("endAt",this._value,t._path,!0);const e=Xk(t._queryParams,this._value,this._key);if(Dx(e),Np(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class TQ extends Yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){mu("endBefore",this._value,t._path,!1);const e=function R8(n,t,e){let i,r;return n.index_===gu?("string"==typeof t&&(t=aV(t)),r=Xk(n,t,e)):(i=null==e?xd:aV(e),r=Xk(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Dx(e),Np(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class fB extends Yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){mu("startAt",this._value,t._path,!0);const e=Jk(t._queryParams,this._value,this._key);if(Dx(e),Np(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class xQ extends Yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){mu("startAfter",this._value,t._path,!1);const e=function O8(n,t,e){let i;if(n.index_===gu)"string"==typeof t&&(t=oV(t)),i=Jk(n,t,e);else{let r;r=null==e?fu:oV(e),i=Jk(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Dx(e),Np(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class AQ extends Yl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(t._repo,t._path,function M8(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class kQ extends Yl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(t._repo,t._path,function k8(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class RQ extends Yl{constructor(t){super(),this._path=t}_apply(t){xx(t,"orderByChild");const e=new Cn(this._path);if(Xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Wk(e),r=rx(t._queryParams,i);return Np(r),new Lo(t._repo,t._path,r,!0)}}class NQ extends Yl{_apply(t){xx(t,"orderByKey");const e=rx(t._queryParams,gu);return Np(e),new Lo(t._repo,t._path,e,!0)}}class LQ extends Yl{_apply(t){xx(t,"orderByPriority");const e=rx(t._queryParams,Hn);return Np(e),new Lo(t._repo,t._path,e,!0)}}class BQ extends Yl{_apply(t){xx(t,"orderByValue");const e=rx(t._queryParams,Kk);return Np(e),new Lo(t._repo,t._path,e,!0)}}class HQ extends Yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(mu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pB(this._value,this._key)._apply(new fB(this._value,this._key)._apply(t))}}function Ql(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function bY(n){(0,N.hu)(!fx,"__referenceConstructor has already been defined"),fx=n})(cl),function SY(n){(0,N.hu)(!mx,"__referenceConstructor has already been defined"),mx=n}(cl);const BO={};function mB(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||pu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,y,c=FO(o,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(f=!0,o=`http://${y}?ns=${h.namespace}`,c=FO(o,r),h=c.repoInfo):f=!c.repoInfo.secure;const E=r&&f?new GC(GC.OWNER):new RK(n.name,n.options,t);qV("Invalid Firebase Database URL",c),Xt(c.path)||pu("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function $Q(n,t,e,i){let r=BO[t.name];r||(r={},BO[t.name]=r);let o=r[n.toURLString()];return o&&pu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new eQ(n,false,e,i),r[n.toURLString()]=o,o}(h,n,E,new OK(n.name,e));return new WQ(I,n)}class WQ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function tQ(n,t,e){if(n.stats_=Bk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new sx(n.repoInfo_,(i,r,o,c)=>{KV(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>YV(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new am(n.repoInfo_,t,(i,r,o,c)=>{KV(n,i,r,o,c)},i=>{YV(n,i)},i=>{!function nQ(n,t){qr(t,(e,i)=>{MO(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function FK(n,t){const e=n.toString();return Vk[e]||(Vk[e]=t()),Vk[e]}(n.repoInfo_,()=>new B8(n.stats_,n.server_)),n.infoData_=new P8,n.infoSyncTree_=new PV({startListening:(i,r,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=n0(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),MO(n,"connected",!1),n.serverSyncTree_=new PV({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,f)=>{const y=c(h,f);ll(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cl(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function qQ(n,t){const e=BO[t];(!e||e[n.key]!==n)&&pu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),JV(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&pu("Cannot call "+t+" on a deleted database.")}}function _B(){F2.IS_TRANSPORT_INITIALIZED&&Os("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function KQ(){_B(),xp.forceDisallow()}function YQ(){_B(),rv.forceDisallow(),xp.forceAllow()}function eJ(n,t){m2(n,t)}const nJ={".sv":"timestamp"};class sJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}am.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},am.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function tJ(n){d2(ga.SDK_VERSION),(0,ga._registerComponent)(new Do.wA("database",(t,{instanceIdentifier:e})=>mB(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ga.registerVersion)(c2,"0.13.0",n),(0,ga.registerVersion)(c2,"0.13.0","esm2017")}();const cJ=new Ws.Yd("@firebase/database-compat"),yB=function(n){cJ.warn("FIREBASE WARNING: "+n)};class hJ{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,yB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class pJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),c0("DataSnapshot.child","path",t,!1),new Fp(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),c0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Fp(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ea(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class as{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=as.getCancelAndContextArgs_("Query.on",i,r),h=(y,E)=>{e.call(c.context,new Fp(this.database,y),E)};h.userCallback=e,h.context=c.context;const f=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return VO(this._delegate,h,f),e;case"child_added":return lB(this._delegate,h,f),e;case"child_removed":return dB(this._delegate,h,f),e;case"child_changed":return cB(this._delegate,h,f),e;case"child_moved":return uB(this._delegate,h,f),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,hB(this._delegate,t,r)}else hB(this._delegate,t)}get(){return CQ(this._delegate).then(t=>new Fp(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=as.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,h=(y,E)=>{const I=new Fp(this.database,y);e&&e.call(o.context,I,E),c.resolve(I)};h.userCallback=e,h.context=o.context;const f=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(t){case"value":VO(this._delegate,h,f,{onlyOnce:!0});break;case"child_added":lB(this._delegate,h,f,{onlyOnce:!0});break;case"child_removed":dB(this._delegate,h,f,{onlyOnce:!0});break;case"child_changed":cB(this._delegate,h,f,{onlyOnce:!0});break;case"child_moved":uB(this._delegate,h,f,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new as(this.database,Ql(this._delegate,function MQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new AQ(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new as(this.database,Ql(this._delegate,function OQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new kQ(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new as(this.database,Ql(this._delegate,function PQ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return c0("orderByChild","path",n,!1),new RQ(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new as(this.database,Ql(this._delegate,function FQ(){return new NQ}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new as(this.database,Ql(this._delegate,function VQ(){return new LQ}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new as(this.database,Ql(this._delegate,function UQ(){return new BQ}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new as(this.database,Ql(this._delegate,function SQ(n=null,t){return l0("startAt","key",t,!0),new fB(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new as(this.database,Ql(this._delegate,function DQ(n,t){return l0("startAfter","key",t,!0),new xQ(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new as(this.database,Ql(this._delegate,function EQ(n,t){return l0("endAt","key",t,!0),new pB(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new as(this.database,Ql(this._delegate,function IQ(n,t){return l0("endBefore","key",t,!0),new TQ(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new as(this.database,Ql(this._delegate,function jQ(n,t){return l0("equalTo","key",t,!0),new HQ(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof as))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ea(this.database,new cl(this._delegate._repo,this._delegate._path))}}class Ea extends as{constructor(t,e){super(t,new Lo(e._repo,e._path,new ix,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ea(this.database,pm(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ea(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Ea(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=LO(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,yB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}al("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=bQ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function wQ(n,t,e){if(al("setWithPriority",n._path),mu("setWithPriority",t,n._path,!1),DO("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return kO(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function yQ(n){return al("remove",n._path),LO(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function oJ(n,t,e){var i;if(n=(0,N.m9)(n),al("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new N.BH,h=VO(n,()=>{});return function dQ(n,t,e,i,r,o){pv(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:p2(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=RO(n,t,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{a0("transaction failed: Data returned ",f,c.path),c.status=0;const y=wx(n.transactionQueueTree_,t),E=dm(y)||[];let I;E.push(c),IO(y,E),"object"==typeof f&&null!==f&&(0,N.r3)(f,".priority")?(I=(0,N.DV)(f,".priority"),(0,N.hu)(o0(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(_x(n.serverSyncTree_,t)||Ht.EMPTY_NODE).getPriority().val();const M=u0(n),P=mi(f,I),V=CO(P,h,M);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=V,c.currentWriteId=Tx(n);const Q=gO(n.serverSyncTree_,t,V,c.currentWriteId,c.applyLocally);ll(n.eventQueue_,t,Q),Ix(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,y,E)=>{let I=null;f?o.reject(f):(I=new hm(E,new cl(n._repo,n._path),Hn),o.resolve(new sJ(y,I)))},h,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new pJ(o.committed,new Fp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function vQ(n,t){n=(0,N.m9)(n),al("setPriority",n._path),DO("setPriority",t,!1);const e=new N.BH;return kO(n._repo,di(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function _Q(n,t){n=(0,N.m9)(n),al("push",n._path),mu("push",t,n._path,!0);const e=WV(n._repo),i=S8(e),r=pm(n,i),o=pm(n,i);let c;return c=null!=t?LO(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Ea(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new Ea(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return al("Reference.onDisconnect",this._delegate._path),new hJ(new sB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class h0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:KQ,forceLongPolling:YQ}}useEmulator(t,e,i={}){!function QQ(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&pu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&pu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new GC(GC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new GC(c)}!function GQ(n,t,e,i){n.repoInfo_=new Fk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Ea){const e=aB(this._delegate,t.toString());return new Ea(this,e)}{const e=oB(this._delegate,t);return new Ea(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=aB(this._delegate,t);return new Ea(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function JQ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),JV(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function XQ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function uQ(n){n.persistentConnection_&&n.persistentConnection_.resume(ZV)}(n._repo)}(this._delegate)}}h0.ServerValue={TIMESTAMP:function iJ(){return nJ}(),increment:n=>function rJ(n){return{".sv":{increment:n}}}(n)};var gJ=Object.freeze({__proto__:null,initStandalone:function fJ({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){d2(e);const c=new Do.zt("auth-internal",new Do.H0("database-standalone"));return c.setComponent(new Do.wA("auth-internal",()=>i,"PRIVATE")),{instance:new h0(mB(n,c,void 0,t,o),n),namespace:r}}});const mJ=h0.ServerValue;function vB(n){return null==n}function wB(n){return"function"==typeof n.set}function bB(n,t){return wB(t)?t:n.ref(t)}function CB(n,t){if(function yJ(n){return"string"==typeof n}(n))return t.stringCase();if(wB(n))return t.firebaseCase();if(function vJ(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function p0(n,t,e="on",i=Y_.z){return new Bi.y(r=>{let o=null;return o=n[e](t,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,k.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:c,key:h}}),(0,OE.B)())}function EB(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function CJ(n,t){const{payload:e,prevKey:i,key:r}=t,o=EB(n,r),c=function bJ(n,t){if(vB(t))return 0;{const e=EB(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(f=>{const y={payload:f,type:"value",prevKey:h,key:f.key};return h=f.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function TB(n){return(vB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function IB(n,t,e){return function wJ(n,t,e){return p0(n,"value","once",e).pipe(Ui(i=>{const r=[bt(i)];return t.forEach(o=>r.push(p0(n,o,"on",e))),(0,M_.T)(...r).pipe(Ml(CJ,[]))}),ib())}(n,t=TB(t),e)}function SB(n,t,e){const i=(t=TB(t)).map(r=>p0(n,r,"on",e));return(0,M_.T)(...i)}function xB(n,t){return function(i,r){return CB(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function SJ(n){return function(e){return e?CB(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function DB(n,t){return function(){return p0(n,"value","on",t)}}!function _J(n){n.INTERNAL.registerComponent(new Do.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new h0(r,i)},"PUBLIC").setServiceProps({Reference:Ea,Query:as,Database:h0,DataSnapshot:Fp,enableLogging:eJ,INTERNAL:gJ,ServerValue:mJ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(iD.Z);const AJ=new s.OlP("angularfire2.realtimeDatabaseURL"),MJ=new s.OlP("angularfire2.database.use-emulator");let kJ=(()=>{class n{constructor(e,i,r,o,c,h,f,y,E,I,M,P,V,Q,ye){this.schedulers=h;const je=f,Je=(0,ns.on)(e,c,i);y&&Ct(Je,c,E,M,P,V,I,Q),this.database=(0,ns.cc)(`${Je.name}.database.${r}`,"AngularFireDatabase",Je.name,()=>{const it=c.runOutsideAngular(()=>Je.database(r||void 0));return je&&it.useEmulator(...je),it},[je])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>bB(this.database,e));let o=r;return i&&(o=i(r)),function xJ(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:xB(i,"update"),set:xB(i,"set"),push:r=>i.push(r),remove:SJ(i),snapshotChanges:r=>IB(n,r,e).pipe(kn.iC),stateChanges:r=>SB(n,r,e).pipe(kn.iC),auditTrail:r=>function EJ(n,t,e){return function IJ(n,t,e){return function TJ(n,t){return p0(n,"value","on",t).pipe((0,k.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function wK(...n){const t=(0,la.jO)(n);return(0,m.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let f=0;f<r;f++)(0,Dl.Xf)(n[f]).subscribe((0,b.x)(i,y=>{o[f]=y,!h&&!c[f]&&(c[f]=!0,(h=c.every(Ch.y))&&(c=null))},OF.Z));e.subscribe((0,b.x)(i,f=>{if(h){const y=[f,...o];i.next(t?t(...y):y)}}))})}(t),(0,k.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(f=>f.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function bK(n){return(0,m.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,b.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,k.U)(r=>r.actions))}(n,SB(n,t).pipe(Ml((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(kn.iC),valueChanges:(r,o)=>IB(n,r,e).pipe((0,k.U)(h=>h.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),kn.iC)}}(o,this)}object(e){return function DJ(n,t){return{query:n,snapshotChanges:()=>DB(n,t.schedulers.outsideAngular)().pipe(kn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>DB(n,t.schedulers.outsideAngular)().pipe(kn.iC,(0,k.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bB(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ns.Dh),s.LFG(ns.xv,8),s.LFG(AJ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kn.HU),s.LFG(MJ,8),s.LFG($_,8),s.LFG(ET,8),s.LFG(Kf,8),s.LFG(TT,8),s.LFG(G_,8),s.LFG(q_,8),s.LFG(IT,8),s.LFG(z_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),OJ=(()=>{class n{constructor(){CT.Z.registerVersion("angularfire",kn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[kJ]}),n})();const AB_firebaseConfig={apiKey:"AIzaSyBubQfS5FkzpTBdeJF3WgQmCk3XRIX2muE",authDomain:"pranavam-759d0.firebaseapp.com",projectId:"pranavam-759d0",storageBucket:"pranavam-759d0.appspot.com",messagingSenderId:"1036267670449",appId:"1:1036267670449:web:78a97a16efd91192044b90"},RJ=["container"],PJ=["in"],NJ=["multiIn"],FJ=["multiContainer"],LJ=["ddBtn"],VJ=function(n,t){return{"p-autocomplete-dd-input":n,"p-disabled":t}};function BJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",8,9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",s.WLB(20,VJ,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),s.uIk("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("autofocus",e.autofocus)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function UJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function HJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function jJ(n,t){1&n&&s.GkF(0)}function zJ(n,t){if(1&n&&(s.TgZ(0,"span",22),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function GJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",23),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(1);return s.oxw(2).removeItem(r)}),s.qZA()}}const kx=function(n){return{$implicit:n}};function qJ(n,t){if(1&n&&(s.TgZ(0,"li",17,18),s.YNc(2,jJ,1,0,"ng-container",19),s.YNc(3,zJ,2,1,"span",20),s.YNc(4,GJ,1,0,"span",21),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(4,kx,e)),s.xp6(1),s.Q6J("ngIf",!i.selectedItemTemplate),s.xp6(1),s.Q6J("ngIf",!i.disabled&&!i.readonly)}}const $J=function(n,t){return{"p-disabled":n,"p-focus":t}};function ZJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ul",11,12),s.NdJ("click",function(){return s.CHM(e),s.MAs(5).focus()}),s.YNc(2,qJ,5,6,"li",13),s.TgZ(3,"li",14)(4,"input",15,16),s.NdJ("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()()()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.WLB(20,$J,e.disabled,e.focus)),s.xp6(2),s.Q6J("ngForOf",e.value),s.xp6(2),s.Tol(e.inputStyleClass),s.Q6J("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),s.uIk("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("autofocus",e.autofocus)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function WJ(n,t){1&n&&s._UZ(0,"i",24)}function KJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25,26),s.NdJ("click",function(r){return s.CHM(e),s.oxw().handleDropdownClick(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("icon",e.dropdownIcon)("disabled",e.disabled),s.uIk("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex)}}function YJ(n,t){1&n&&s.GkF(0)}function QJ(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function JJ(n,t){1&n&&s.GkF(0)}function XJ(n,t){1&n&&s.GkF(0)}function e7(n,t){if(1&n&&(s.TgZ(0,"li",34),s.YNc(1,QJ,2,1,"span",31),s.YNc(2,JJ,1,0,"ng-container",19),s.qZA(),s.YNc(3,XJ,1,0,"ng-container",19)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(7),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,kx,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(7,kx,r.getOptionGroupChildren(e)))}}function t7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,e7,4,9,"ng-template",33),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.suggestions)}}function n7(n,t){1&n&&s.GkF(0)}function r7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,n7,1,0,"ng-container",19),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.VKq(2,kx,i.suggestions))}}function s7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function o7(n,t){1&n&&s.GkF(0)}const MB=function(n){return{"p-highlight":n}},kB=function(n,t){return{$implicit:n,index:t}};function a7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",39),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(4).selectItem(o)}),s.YNc(1,s7,2,1,"span",31),s.YNc(2,o7,1,0,"ng-container",19),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(5,MB,e===r.highlightOption))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(7,kB,e,i))}}function l7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,a7,3,10,"li",38),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function c7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(5);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function u7(n,t){1&n&&s.GkF(0)}const OB=function(n){return{height:n}};function d7(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"li",43),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(5).selectItem(o)}),s.YNc(2,c7,2,1,"span",31),s.YNc(3,u7,1,0,"ng-container",19),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(5);s.xp6(1),s.Q6J("ngClass",s.VKq(6,MB,e===r.highlightOption))("ngStyle",s.VKq(8,OB,r.itemSize+"px"))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(10,kB,e,i))}}function h7(n,t){if(1&n&&(s.TgZ(0,"cdk-virtual-scroll-viewport",41),s.YNc(1,d7,4,13,"ng-container",42),s.qZA()),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,OB,i.scrollHeight))("itemSize",i.itemSize),s.xp6(1),s.Q6J("cdkVirtualForOf",e)}}function p7(n,t){if(1&n&&s.YNc(0,h7,2,5,"cdk-virtual-scroll-viewport",40),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&!e.noResults)}}function f7(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function g7(n,t){1&n&&s.GkF(0,null,45)}function m7(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,f7,2,1,"ng-container",35),s.YNc(2,g7,2,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function _7(n,t){if(1&n&&(s.YNc(0,l7,2,1,"ng-container",35),s.YNc(1,p7,1,1,"ng-template",null,36,s.W1O),s.YNc(3,m7,3,3,"li",37)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.noResults&&i.showEmptyMessage)}}function y7(n,t){1&n&&s.GkF(0)}const v7=function(){return["p-autocomplete-panel p-component"]},w7=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},b7=function(n){return{value:"visible",params:n}},C7=function(n){return{"p-autocomplete-virtualscroll":n}};function E7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27,28),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(2,YJ,1,0,"ng-container",29),s.TgZ(3,"ul",30),s.YNc(4,t7,2,1,"ng-container",31),s.YNc(5,r7,2,4,"ng-container",31),s.YNc(6,_7,4,3,"ng-template",null,32,s.W1O),s.qZA(),s.YNc(8,y7,1,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight),s.Q6J("ngClass",s.DdM(13,v7))("ngStyle",e.panelStyle)("@overlayAnimation",s.VKq(17,b7,s.WLB(14,w7,e.showTransitionOptions,e.hideTransitionOptions))),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngClass",s.VKq(19,C7,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const T7=function(n,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":n,"p-autocomplete-multiple":t}},I7={provide:Ms,useExisting:(0,s.Gpc)(()=>S7),multi:!0};let S7=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.cd=r,this.differs=o,this.config=c,this.overlayService=h,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.completeMethod=new s.vpe,this.onSelect=new s.vpe,this.onUnselect=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onDropdownClick=new s.vpe,this.onClear=new s.vpe,this.onKeyUp=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=o.find([]).create(null),this.listId=Gh()+"_list"}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let e=re.findSingle(this.overlay,"li.p-highlight");if(e&&re.scrollInView(this.itemsWrapper,e),this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}updateVirtualScrollSelectedIndex(){this.highlightOption&&this.suggestions&&this.suggestions.length&&(this.virtualScrollSelectedIndex=this.findOptionIndex(this.highlightOption,this.suggestions))}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&re.isIE())return;this.timeout&&clearTimeout(this.timeout);let i=e.target.value;this.inputValue=i,!this.multiple&&!this.forceSelection&&this.onModelChange(i),0===i.length&&!this.multiple&&(this.hide(),this.onClear.emit(e),this.onModelChange(i)),i.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,i)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,i){null!=i&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i}))}selectItem(e,i=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(e)||!this.unique)&&(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(e),this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),i&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.itemsWrapper=this.virtualScroll?re.findSingle(this.overlay,".cdk-virtual-scroll-viewport"):this.overlay,this.appendOverlay(),this.autoZIndex&&ji.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&ji.clear(e.element)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){let i=this.field?ot.resolveFieldData(e,this.field):e;return void 0!==i?i:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?re.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):re.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let i=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,i),this.onDropdownClick.emit({originalEvent:e,query:i})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(is.EMPTY_MESSAGE)}removeItem(e){let i=re.index(e),r=this.value[i];this.value=this.value.filter((o,c)=>c!=i),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}onKeydown(e){if(this.overlayVisible)switch(e.which){case 40:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.suggestions[r.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0):this.suggestions[r.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=r){var i=r+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}e.preventDefault();break;case 38:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0;else if(o<0){let c=this.suggestions[r.groupIndex-1];c&&(this.highlightOption=this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1],this.highlightOptionChanged=!0)}}}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);r>0&&(this.highlightOption=this.suggestions[r-1],this.highlightOptionChanged=!0)}e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===e.which&&this.suggestions?this.search(e,e.target.value):e.ctrlKey&&"z"===e.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):e.ctrlKey&&"z"===e.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===e.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const r=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let i=!1,r=e.target.value.trim();if(this.suggestions)for(let o of this.suggestions){let c=this.field?ot.resolveFieldData(o,this.field):o;if(c&&r===c.trim()){i=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(o,!1)},250);break}}i||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let i=!1;if(this.value&&this.value.length)for(let r=0;r<this.value.length;r++)if(ot.equals(this.value[r],e,this.dataKey)){i=!0;break}return i}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(ot.equals(e,i[o])){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.resolveFieldData(this.value);this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{3!==i.which&&(!this.inputClick&&!this.isDropdownClick(i)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let i=e.target;return i===this.dropdownButton.nativeElement||i.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new TS(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&ji.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.ZZ4),s.Y36(cd),s.Y36(Yc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-autoComplete"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,zi,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(RJ,5),s.Gf(PJ,5),s.Gf(NJ,5),s.Gf(FJ,5),s.Gf(LJ,5),s.Gf(em,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerEL=r.first),s.iGM(r=s.CRH())&&(i.inputEL=r.first),s.iGM(r=s.CRH())&&(i.multiInputEL=r.first),s.iGM(r=s.CRH())&&(i.multiContainerEL=r.first),s.iGM(r=s.CRH())&&(i.dropdownButton=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus&&!i.disabled||i.overlayVisible)("p-autocomplete-clearable",i.showClear&&!i.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",virtualScroll:"virtualScroll",itemSize:"itemSize",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",scrollHeight:"scrollHeight",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[s._Bn([I7])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-autocomplete-empty-message",4,"ngIf"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","ngStyle","id","click"],[1,"p-autocomplete-empty-message"],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"span",0,1),s.YNc(2,BJ,2,23,"input",2),s.YNc(3,UJ,1,0,"i",3),s.YNc(4,HJ,1,0,"i",3),s.YNc(5,ZJ,6,23,"ul",4),s.YNc(6,WJ,1,0,"i",5),s.YNc(7,KJ,2,4,"button",6),s.YNc(8,E7,9,21,"div",7),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(11,T7,i.dropdown,i.multiple))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.multiple),s.xp6(1),s.Q6J("ngIf",!i.multiple&&i.inputValue&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.value&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.dropdown),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[em,Tn,Oi,Ft,$t,gs,IS,Jg,rk,sk],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ar("overlayAnimation",[nn(":enter",[Zn({opacity:0,transform:"scaleY(0.8)"}),Mr("{{showTransitionParams}}")]),nn(":leave",[Mr("{{hideTransitionParams}}",Zn({opacity:0}))])])]},changeDetection:0}),n})(),x7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,zS,Ep,Mo,Cp,ev],Mo,ev]}),n})(),D7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[vK]}),n.\u0275inj=s.cJS({providers:[yr,ci,Yn],imports:[[Pa,Xm,Bx,yK,HS,ns.hO.initializeApp(AB_firebaseConfig),O6,OJ,_Z,Ep,G6,xT,Kz,jS,fj,zS,x7]]}),n})();(0,s.G48)(),uc().bootstrapModule(D7).catch(n=>console.error(n))},5867:(Xe,we,F)=>{F.d(we,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.8.2","app")},127:(Xe,we,F)=>{F.d(we,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Xe,we,F)=>{F.r(we);var s=F(5861),ee=F(3942),L=F(2090),he=F(9681),se=F(655),_e=F(1877),de=F(4859);const Ne=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new _e.Yd("@firebase/auth");function Qe(v,...g){Ze.logLevel<=_e.in.ERROR&&Ze.error(`Auth (${he.SDK_VERSION}): ${v}`,...g)}function De(v,...g){throw Ge(v,...g)}function Ee(v,...g){return Ge(v,...g)}function Ie(v,g,m){const b=Object.assign(Object.assign({},He()),{[g]:m});return new L.LL("auth","Firebase",b).create(g,{appName:v.name})}function ze(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&De(v,"argument-error"),Ie(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return ge.create(v,...g)}function G(v,g,...m){if(!v)throw Ge(g,...m)}function Ce(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Qe(g),new Error(g)}function Y(v,g){v||Ce(g)}const oe=new Map;function ne(v){Y(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(Y(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function Fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ft(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class cn{constructor(g,m){this.shortDelay=g,this.longDelay=m,Y(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pn(v,g){Y(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class dn{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yi=new cn(3e4,6e4);function en(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function zt(v,g,m,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(v,g,m,b,D={}){return Cr(v,D,(0,s.Z)(function*(){let k={},K={};b&&("GET"===g?K=b:k={body:JSON.stringify(b)});const fe=(0,L.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),dn.fetch()(lo(v,v.config.apiHost,m,fe),Object.assign({method:g,headers:Le,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Cr(v,g,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},sn),g);try{const D=new ur(v),k=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw Zr(v,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const fe=k.ok?K.errorMessage:K.error.message,[Le,tt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Zr(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Le)throw Zr(v,"email-already-in-use",K);if("USER_DISABLED"===Le)throw Zr(v,"user-disabled",K);const mt=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ie(v,mt,tt);De(v,mt)}}catch(D){if(D instanceof L.ZR)throw D;De(v,"network-request-failed")}})).apply(this,arguments)}function Qi(v,g,m,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(v,g,m,b,D={}){const k=yield zt(v,g,m,b,D);return"mfaPendingCredential"in k&&De(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function lo(v,g,m,b){const D=`${g}${m}?${b}`;return v.config.emulator?Pn(v.config,D):`${v.config.apiScheme}://${D}`}class ur{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ee(this.auth,"network-request-failed")),Yi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zr(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Ee(v,g,b);return D.customData._tokenResponse=m,D}function Er(){return(Er=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function An(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function co(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function hi(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Vo(){return(Vo=(0,s.Z)(function*(v,g=!1){const m=(0,L.m9)(v),b=yield m.getIdToken(g),D=ut(b);G(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const k="object"==typeof D.firebase?D.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:D,token:b,authTime:hi(Yt(D.auth_time)),issuedAtTime:hi(Yt(D.iat)),expirationTime:hi(Yt(D.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Yt(v){return 1e3*Number(v)}function ut(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(m);return D?JSON.parse(D):(Qe("Failed to decode base64 JWT payload"),null)}catch(D){return Qe("Caught error parsing JWT payload as JSON",D),null}}function Ai(v,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof L.ZR&&qt(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function qt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Bo{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Mi{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ki(v){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),D=yield Ai(v,co(m,{idToken:b}));G(null==D?void 0:D.users.length,m,"internal-error");const k=D.users[0];v._notifyReloadListener(k);const K=(null===(g=k.providerUserInfo)||void 0===g?void 0:g.length)?$(k.providerUserInfo):[],fe=xe(v.providerData,K),mt=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==fe?void 0:fe.length)),gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:fe,metadata:new Mi(k.createdAt,k.lastLoginAt),isAnonymous:mt};Object.assign(v,gt)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(v){const g=(0,L.m9)(v);yield ki(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function xe(v,g){return[...v.filter(b=>!g.some(D=>D.providerId===b.providerId)),...g]}function $(v){return v.map(g=>{var{providerId:m}=g,b=(0,se._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Pe(){return(Pe=(0,s.Z)(function*(v,g){const m=yield Cr(v,{},(0,s.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:k}=v.config,K=lo(v,D,"/v1/token",`key=${k}`),fe=yield v._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(K,{method:"POST",headers:fe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){G(g.idToken,"internal-error"),G(void 0!==g.idToken,"internal-error"),G(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Et(v){const g=ut(v);return G(g,"internal-error"),G(void 0!==g.exp,"internal-error"),G(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,s.Z)(function*(){return G(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:K}=yield function te(v,g){return Pe.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(D,k,Number(K))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:D,expirationTime:k}=m,K=new et;return b&&(G("string"==typeof b,"internal-error",{appName:g}),K.refreshToken=b),D&&(G("string"==typeof D,"internal-error",{appName:g}),K.accessToken=D),k&&(G("number"==typeof k,"internal-error",{appName:g}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function _t(v,g){G("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Dt{constructor(g){var{uid:m,auth:b,stsTokenManager:D}=g,k=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Mi(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const b=yield Ai(m,m.stsTokenManager.getToken(m.auth,g));return G(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function Tr(v){return Vo.apply(this,arguments)}(this,g)}reload(){return function Z(v){return W.apply(this,arguments)}(this)}_assign(g){this!==g&&(G(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Dt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,s.Z)(function*(){let D=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),D=!0),m&&(yield ki(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield Ai(g,function vt(v,g){return Er.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,D,k,K,fe,Le,tt,mt;const gt=null!==(b=m.displayName)&&void 0!==b?b:void 0,oi=null!==(D=m.email)&&void 0!==D?D:void 0,Pr=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,Sl=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Io=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,Pv=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,xl=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,wh=null!==(mt=m.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Yu,emailVerified:hf,isAnonymous:Qu,providerData:pf,stsTokenManager:zc}=m;G(Yu&&zc,g,"internal-error");const ai=et.fromJSON(this.name,zc);G("string"==typeof Yu,g,"internal-error"),_t(gt,g.name),_t(oi,g.name),G("boolean"==typeof hf,g,"internal-error"),G("boolean"==typeof Qu,g,"internal-error"),_t(Pr,g.name),_t(Sl,g.name),_t(Io,g.name),_t(Pv,g.name),_t(xl,g.name),_t(wh,g.name);const Ju=new Dt({uid:Yu,auth:g,email:oi,emailVerified:hf,displayName:gt,isAnonymous:Qu,photoURL:Sl,phoneNumber:Pr,tenantId:Io,stsTokenManager:ai,createdAt:xl,lastLoginAt:wh});return pf&&Array.isArray(pf)&&(Ju.providerData=pf.map(ff=>Object.assign({},ff))),Pv&&(Ju._redirectEventId=Pv),Ju}static _fromIdTokenResponse(g,m,b=!1){return(0,s.Z)(function*(){const D=new et;D.updateFromServerResponse(m);const k=new Dt({uid:m.localId,auth:g,stsTokenManager:D,isAnonymous:b});return yield ki(k),k})()}}const It=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,s.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function ei(v,g,m){return`firebase:${v}:${g}:${m}`}class Ji{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:D,name:k}=this.auth;this.fullUserKey=ei(this.userKey,D.apiKey,k),this.fullPersistenceKey=ei("persistence",D.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Dt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Ji(ne(It),g,b);const D=(yield Promise.all(m.map(function(){var tt=(0,s.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let k=D[0]||ne(It);const K=ei(b,g.config.apiKey,g.name);let fe=null;for(const tt of m)try{const mt=yield tt._get(K);if(mt){const gt=Dt._fromJSON(g,mt);tt!==k&&(fe=gt),k=tt;break}}catch(mt){}const Le=D.filter(tt=>tt._shouldAllowMigration);return k._shouldAllowMigration&&Le.length?(k=Le[0],fe&&(yield k._set(K,fe.toJSON())),yield Promise.all(m.map(function(){var tt=(0,s.Z)(function*(mt){if(mt!==k)try{yield mt._remove(K)}catch(gt){}});return function(mt){return tt.apply(this,arguments)}}())),new Ji(k,g,b)):new Ji(k,g,b)})()}}function Jl(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ti(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ul(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Rs(g))return"Blackberry";if(ni(g))return"Webos";if(Xl(g))return"Safari";if((g.includes("chrome/")||dl(g))&&!g.includes("edge/"))return"Chrome";if(Xi(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function ul(v=(0,L.z$)()){return/firefox\//i.test(v)}function Xl(v=(0,L.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function dl(v=(0,L.z$)()){return/crios\//i.test(v)}function ti(v=(0,L.z$)()){return/iemobile/i.test(v)}function Xi(v=(0,L.z$)()){return/android/i.test(v)}function Rs(v=(0,L.z$)()){return/blackberry/i.test(v)}function ni(v=(0,L.z$)()){return/webos/i.test(v)}function hr(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function uo(v=(0,L.z$)()){return hr(v)||Xi(v)||ni(v)||Rs(v)||/windows phone/i.test(v)||ti(v)}function Ia(v,g=[]){let m;switch(v){case"Browser":m=Jl((0,L.z$)());break;case"Worker":m=`${Jl((0,L.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.SDK_VERSION}/${b}`}class pr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=k=>new Promise((K,fe)=>{try{K(g(k))}catch(Le){fe(Le)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const D of m.queue)yield D(g),D.onAbort&&b.push(D.onAbort)}catch(D){b.reverse();for(const k of b)try{k()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D.message})}})()}}class Ke{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hn(this),this.idTokenSubscription=new hn(this),this.beforeStateQueue=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,k;if(!b._deleted&&(b.persistenceManager=yield Ji.create(b,g),!b._deleted)){if(null===(D=b._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let k=D,K=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=null==k?void 0:k._redirectEventId,tt=yield m.tryRedirectSignIn(g);(!fe||fe===Le)&&(null==tt?void 0:tt.user)&&(k=tt.user,K=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(k)}catch(fe){k=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return G(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(D){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield ki(g)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const b=g?(0,L.m9)(g):null;return b&&G(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return g&&G(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,s.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&ne(g)||m._popupRedirectResolver;G(b,m,"argument-error"),m.redirectPersistenceManager=yield Ji.create(m,[ne(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,D){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return G(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof m?g.addObserver(m,b,D):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ia(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(b["X-Firebase-Client"]=D),b})()}}function pt(v){return(0,L.m9)(v)}class hn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function us(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ds(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Wr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,m){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function Ln(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:resetPassword",en(v,g))})).apply(this,arguments)}function Sa(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ec(v,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:update",en(v,g))})).apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithPassword",en(v,g))})).apply(this,arguments)}function po(v,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:sendOobCode",en(v,g))})).apply(this,arguments)}function gn(v,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(v,g){return po(v,g)})).apply(this,arguments)}function pl(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(v,g){return po(v,g)})).apply(this,arguments)}function hs(v,g){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(v,g){return po(v,g)})).apply(this,arguments)}function Md(v,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,s.Z)(function*(v,g){return po(v,g)})).apply(this,arguments)}function Oi(){return(Oi=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithEmailLink",en(v,g))})).apply(this,arguments)}function kd(){return(kd=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithEmailLink",en(v,g))})).apply(this,arguments)}class Ri extends Wr{constructor(g,m,b,D=null){super("password",b),this._email=g,this._password=m,this._tenantId=D}static _fromEmailAndPassword(g,m){return new Ri(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new Ri(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function $t(v,g){return Ho.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function fs(v,g){return Oi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:De(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return Sa(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function gs(v,g){return kd.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:De(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function fo(v,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithIdp",en(v,g))})).apply(this,arguments)}class Ps extends Wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ps(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const K=new Ps(b,D);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(g){return fo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,fo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,fo(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,L.xO)(m)}return g}}function ym(v,g){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:sendVerificationCode",en(v,g))})).apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithPhoneNumber",en(v,g))})).apply(this,arguments)}function Pd(){return(Pd=(0,s.Z)(function*(v,g){const m=yield Qi(v,"POST","/v1/accounts:signInWithPhoneNumber",en(v,g));if(m.temporaryProof)throw Zr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const wm={USER_NOT_FOUND:"user-not-found"};function Nd(){return(Nd=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithPhoneNumber",en(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),wm)})).apply(this,arguments)}class xa extends Wr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new xa({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new xa({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function yu(v,g){return go.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function vm(v,g){return Pd.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function bm(v,g){return Nd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}=g;return b||m||D||k?new xa({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}):null}}class ic{constructor(g){var m,b,D,k,K,fe;const Le=(0,L.zd)((0,L.pd)(g)),tt=null!==(m=Le.apiKey)&&void 0!==m?m:null,mt=null!==(b=Le.oobCode)&&void 0!==b?b:null,gt=function Bp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Le.mode)&&void 0!==D?D:null);G(tt&&mt&&gt,"argument-error"),this.apiKey=tt,this.operation=gt,this.code=mt,this.continueUrl=null!==(k=Le.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Le.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(fe=Le.tenantId)&&void 0!==fe?fe:null}static parseLink(g){const m=function fl(v){const g=(0,L.zd)((0,L.pd)(v)).link,m=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||g||v}(g);try{return new ic(m)}catch(b){return null}}}let Ld=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Ri._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=ic.parseLink(b);return G(D,"argument-error"),Ri._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Pi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class jo extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ms extends jo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return G("providerId"in m&&"signInMethod"in m,"argument-error"),Ps._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return G(g.idToken||g.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ms.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ms.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:k,nonce:K,providerId:fe}=g;if(!b&&!D&&!m&&!k||!fe)return null;try{return new ms(fe)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:k})}catch(Le){return null}}}let Da=(()=>{class v extends jo{constructor(){super("facebook.com")}static credential(m){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Vd=(()=>{class v extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Up=(()=>{class v extends jo{constructor(){super("github.com")}static credential(m){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class zo extends Wr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return fo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,fo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,fo(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D,pendingToken:k}=m;return b&&D&&k&&b===D?new zo(b,k):null}static _create(g,m){return new zo(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class er extends Pi{constructor(g){G(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return er.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return er.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=zo.fromJSON(g);return G(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return zo._create(b,m)}catch(D){return null}}}let Bd=(()=>{class v extends jo{constructor(){super("twitter.com")}static credential(m,b){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ni(v,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signUp",en(v,g))})).apply(this,arguments)}class Sr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,D=!1){return(0,s.Z)(function*(){const k=yield Dt._fromIdTokenResponse(g,b,D),K=vu(b);return new Sr({user:k,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const D=vu(b);return new Sr({user:g,providerId:D,_tokenResponse:b,operationType:m})})()}}function vu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function wu(){return(wu=(0,s.Z)(function*(v){var g;const m=pt(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Sr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ni(m,{returnSecureToken:!0}),D=yield Sr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class ka extends L.ZR{constructor(g,m,b,D){var k;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,D){return new ka(g,m,b,D)}}function bu(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ka._fromErrorAndOperation(v,k,g,b):k})}function _s(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function pn(){return(pn=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);yield an(!0,m,g);const{providerUserInfo:b}=yield An(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),D=_s(b||[]);return m.providerData=m.providerData.filter(k=>D.has(k.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function gl(v,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(v,g,m=!1){const b=yield Ai(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Sr._forOperation(v,"link",b)})).apply(this,arguments)}function an(v,g,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,s.Z)(function*(v,g,m){yield ki(g);const D=!1===v?"provider-already-linked":"no-such-provider";G(_s(g.providerData).has(m)===v,g.auth,D)})).apply(this,arguments)}function rc(v,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(v,g,m=!1){const{auth:b}=v,D="reauthenticate";try{const k=yield Ai(v,bu(b,D,g,v),m);G(k.idToken,b,"internal-error");const K=ut(k.idToken);G(K,b,"internal-error");const{sub:fe}=K;return G(v.uid===fe,b,"user-mismatch"),Sr._forOperation(v,D,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&De(b,"user-mismatch"),k}})).apply(this,arguments)}function vi(v,g){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,s.Z)(function*(v,g,m=!1){const b="signIn",D=yield bu(v,b,g),k=yield Sr._fromIdTokenResponse(v,b,D);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function In(v,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(v,g){return vi(pt(v),g)})).apply(this,arguments)}function wi(v,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);return yield an(!1,m,g.providerId),gl(m,g)})).apply(this,arguments)}function Ns(v,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,s.Z)(function*(v,g){return rc((0,L.m9)(v),g)})).apply(this,arguments)}function Kr(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(v,g){return Qi(v,"POST","/v1/accounts:signInWithCustomToken",en(v,g))})).apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(v,g){const m=pt(v),b=yield Kr(m,{token:g,returnSecureToken:!0}),D=yield Sr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class _o{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Eu._fromServerResponse(g,m):De(g,"internal-error")}}class Eu extends _o{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Eu(m)}}function yl(v,g,m){var b;G((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),G(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(G(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(G(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function sc(){return(sc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"PASSWORD_RESET",email:g};m&&yl(b,D,m),yield pl(b,D)})).apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(v,g,m){yield Ln((0,L.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Ae(){return(Ae=(0,s.Z)(function*(v,g){yield ec((0,L.m9)(v),{oobCode:g})})).apply(this,arguments)}function Gt(v,g){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),b=yield Ln(m,{oobCode:g}),D=b.requestType;switch(G(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(b.mfaInfo,m,"internal-error");default:G(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=_o._fromServerResponse(pt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:D}})).apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(v,g){const{data:m}=yield Gt((0,L.m9)(v),g);return m.email})).apply(this,arguments)}function xr(){return(xr=(0,s.Z)(function*(v,g,m){const b=pt(v),D=yield Ni(b,{returnSecureToken:!0,email:g,password:m}),k=yield Sr._fromIdTokenResponse(b,"signIn",D);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"EMAIL_SIGNIN",email:g};G(m.handleCodeInApp,b,"argument-error"),m&&yl(b,D,m),yield hs(b,D)})).apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=Ld.credentialWithLink(g,m||Fe());return G(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),In(b,D)})).apply(this,arguments)}function Fi(v,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:createAuthUri",en(v,g))})).apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(v,g){const b={identifier:g,continueUri:ft()?Fe():"http://localhost"},{signinMethods:D}=yield Fi((0,L.m9)(v),b);return D||[]})).apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&yl(m.auth,D,g);const{email:k}=yield gn(m.auth,D);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function uc(){return(uc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&yl(b.auth,k,m);const{email:K}=yield Md(b.auth,k);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function Mu(v,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(v,g){return zt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hc(){return(hc=(0,s.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,L.m9)(v),k={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},K=yield Ai(b,Mu(b.auth,k));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const fe=b.providerData.find(({providerId:Le})=>"password"===Le);fe&&(fe.displayName=b.displayName,fe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function pc(v,g,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(v,g,m){const{auth:b}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(k.email=g),m&&(k.password=m);const K=yield Ai(v,Sa(b,k));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Na{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class qd extends Na{constructor(g,m,b,D){super(g,m,b),this.username=D}}class fc extends Na{constructor(g,m){super(g,"facebook.com",m)}}class gr extends qd{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class jp extends Na{constructor(g,m){super(g,"google.com",m)}}class ku extends qd{constructor(g,m,b){super(g,"twitter.com",m,b)}}function pi(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Gd(v){var g,m;if(!v)return null;const{providerId:b}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const K=null===(m=null===(g=ut(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Na(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new fc(k,D);case"github.com":return new gr(k,D);case"google.com":return new jp(k,D);case"twitter.com":return new ku(k,D,v.screenName||null);case"custom":case"anonymous":return new Na(k,null);default:return new Na(k,b,D)}}(m)}class Ls{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Ls("enroll",g)}static _fromMfaPendingCredential(g){return new Ls("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ls._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return Ls._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Yo{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=pt(g),D=m.customData._serverResponse,k=(D.mfaInfo||[]).map(fe=>_o._fromServerResponse(b,fe));G(D.mfaPendingCredential,b,"internal-error");const K=Ls._fromMfaPendingCredential(D.mfaPendingCredential);return new Yo(K,k,function(){var fe=(0,s.Z)(function*(Le){const tt=yield Le._process(b,K);delete D.mfaInfo,delete D.mfaPendingCredential;const mt=Object.assign(Object.assign({},D),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const gt=yield Sr._fromIdTokenResponse(b,m.operationType,mt);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return G(m.user,b,"internal-error"),Sr._forOperation(m.user,m.operationType,mt);default:De(b,"internal-error")}});return function(Le){return fe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function Zd(v,g){return zt(v,"POST","/v2/accounts/mfaEnrollment:start",en(v,g))}class Fa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>_o._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Fa(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Ls._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var b=this;return(0,s.Z)(function*(){const D=g,k=yield b.getSession(),K=yield Ai(b.user,D._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const b="string"==typeof g?g:g.uid,D=yield m.user.getIdToken(),k=yield Ai(m.user,function Qo(v,g){return zt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",en(v,g))}(m.user.auth,{idToken:D,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const gc=new WeakMap,Vs="__sak";class mc{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ar=(()=>{class v extends mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sm(){const v=(0,L.z$)();return Xl(v)||hr(v)}()&&function yi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=uo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),k=this.localCache[b];D!==k&&m(b,k,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((fe,Le,tt)=>{this.notifyListeners(fe,tt)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(D);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const k=()=>{const fe=this.storage.getItem(D);!b&&this.localCache[D]===fe||this.notifyListeners(D,fe)},K=this.storage.getItem(D);!function hl(){return(0,L.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,k=this;return(0,s.Z)(function*(){yield D().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,s.Z)(function*(){const k=yield b().call(D,m);return D.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,D=this;return(0,s.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),Bs=(()=>{class v extends mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Zn=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const D=m,{eventId:k,eventType:K,data:fe}=D.data,Le=b.handlersMap[K];if(!(null==Le?void 0:Le.size))return;D.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const tt=Array.from(Le).map(function(){var gt=(0,s.Z)(function*(oi){return oi(D.origin,fe)});return function(oi){return gt.apply(this,arguments)}}()),mt=yield function La(v){return Promise.all(v.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(tt);D.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:mt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Jo(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class Xo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var D=this;return(0,s.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,fe;return new Promise((Le,tt)=>{const mt=Jo("",20);k.port1.start();const gt=setTimeout(()=>{tt(new Error("unsupported_event"))},b);fe={messageChannel:k,onMessage(oi){const Pr=oi;if(Pr.data.eventId===mt)switch(Pr.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Le(Pr.data.response);break;default:clearTimeout(gt),clearTimeout(K),tt(new Error("invalid_response"))}}},D.handlers.add(fe),k.port1.addEventListener("message",fe.onMessage),D.target.postMessage({eventType:g,eventId:mt,data:m},[k.port2])}).finally(()=>{fe&&D.removeMessageHandler(fe)})})()}}function nn(){return window}function Va(){return void 0!==nn().WorkerGlobalScope&&"function"==typeof nn().importScripts}function Kd(){return(Kd=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ba="firebaseLocalStorageDb",ws="firebaseLocalStorage",Pt="fbase_key";class bs{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function bi(v,g){return v.transaction([ws],g?"readwrite":"readonly").objectStore(ws)}function yc(){const v=indexedDB.open(Ba,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(ws,{keyPath:Pt})}catch(D){m(D)}}),v.addEventListener("success",(0,s.Z)(function*(){const b=v.result;b.objectStoreNames.contains(ws)?g(b):(b.close(),yield function wl(){const v=indexedDB.deleteDatabase(Ba);return new bs(v).toPromise()}(),g(yield yc()))}))})}function Ua(v,g,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,s.Z)(function*(v,g,m){const b=bi(v,!0).put({[Pt]:g,value:m});return new bs(b).toPromise()})).apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(v,g){const m=bi(v,!1).get(g),b=yield new bs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function vc(v,g){const m=bi(v,!0).delete(g);return new bs(m).toPromise()}const Cl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield yc()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(D++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Va()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Zn._getInstance(function Ou(){return Va()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(D,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(D,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(D,k){return["keyChanged"]});return function(D,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function ea(){return Kd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Xo(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(D=k[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Gp(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield yc();return yield Ua(m,Vs,"1"),yield vc(m,Vs),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(k=>Ua(k,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=yield b._withRetries(k=>function Ru(v,g){return vo.apply(this,arguments)}(k,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(D=>vc(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(K=>{const fe=bi(K,!1).getAll();return new bs(fe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:K,value:fe}of b)k.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(fe)&&(m.notifyListeners(K,fe),D.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!k.has(K)&&(m.notifyListeners(K,null),D.push(K));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Cc(v,g){return zt(v,"POST","/v2/accounts/mfaSignIn:start",en(v,g))}function Ec(){return(Ec=(0,s.Z)(function*(v){return(yield zt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tc(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=D=>{const k=Ee("internal-error");k.customData=D,m(k)},b.type="text/javascript",b.charset="UTF-8",function El(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function Hs(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ic=1e12;class Pu{constructor(g){this.auth=g,this.counter=Ic,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new ja(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||Ic;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ic))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(g||Ic))||void 0===b||b.execute(),""})()}}class ja{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;G(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qd(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jd=Hs("rcb"),Mn=new cn(3e4,6e4);class _v{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!nn().grecaptcha}load(g,m=""){return G(function Mm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(nn().grecaptcha):new Promise((b,D)=>{const k=nn().setTimeout(()=>{D(Ee(g,"network-request-failed"))},Mn.get());nn()[Jd]=()=>{nn().clearTimeout(k),delete nn()[Jd];const fe=nn().grecaptcha;if(!fe)return void D(Ee(g,"internal-error"));const Le=fe.render;fe.render=(tt,mt)=>{const gt=Le(tt,mt);return this.counter++,gt},this.hostLanguage=m,b(fe)},Tc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Jd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),D(Ee(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!nn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qp{load(g){return(0,s.Z)(function*(){return new Pu(g)})()}clearedOneInstance(){}}const Xd="recaptcha",km={theme:"light",type:"image"};class Om{constructor(g,m=Object.assign({},km),b){this.parameters=m,this.type=Xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(b),this.isInvisible="invisible"===this.parameters.size,G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;G(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qp:new _v,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const K=fe=>{!fe||(g.tokenChangeListeners.delete(K),k(fe))};g.tokenChangeListeners.add(K),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=nn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){G(ft()&&!Va(),g.auth,"internal-error"),yield function Sc(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function wo(v){return Ec.apply(this,arguments)}(g.auth);G(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class eh{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=xa._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function ta(){return(ta=(0,s.Z)(function*(v,g,m){const b=pt(v),D=yield Li(b,g,(0,L.m9)(m));return new eh(D,k=>In(b,k))})).apply(this,arguments)}function Nu(){return(Nu=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);yield an(!1,b,"phone");const D=yield Li(b.auth,g,(0,L.m9)(m));return new eh(D,k=>wi(b,k))})).apply(this,arguments)}function Ci(){return(Ci=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=yield Li(b.auth,g,(0,L.m9)(m));return new eh(D,k=>Ns(b,k))})).apply(this,arguments)}function Li(v,g,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(v,g,m){var b;const D=yield m.verify();try{let k;if(G("string"==typeof D,v,"argument-error"),G(m.type===Xd,v,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const K=k.session;if("phoneNumber"in k)return G("enroll"===K.type,v,"internal-error"),(yield Zd(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{G("signin"===K.type,v,"internal-error");const fe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return G(fe,v,"missing-multi-factor-info"),(yield Cc(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield ym(v,{phoneNumber:k.phoneNumber,recaptchaToken:D});return K}}finally{m._reset()}})).apply(this,arguments)}function Jr(){return(Jr=(0,s.Z)(function*(v,g){yield gl((0,L.m9)(v),g)})).apply(this,arguments)}let js=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=pt(m)}verifyPhoneNumber(m,b){return Li(this.auth,m,(0,L.m9)(b))}static credential(m,b){return xa._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?xa._fromTokenResponse(b,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Cs(v,g){return g?ne(g):(G(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ia extends Wr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return fo(g,this._buildIdpRequest())}_linkToIdToken(g,m){return fo(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return fo(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function $p(v){return vi(v.auth,new ia(v),v.bypassAuthState)}function th(v){const{auth:g,user:m}=v;return G(m,g,"internal-error"),rc(m,new ia(v),v.bypassAuthState)}function ra(v){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(v){const{auth:g,user:m}=v;return G(m,g,"internal-error"),gl(m,new ia(v),v.bypassAuthState)})).apply(this,arguments)}class xc{constructor(g,m,b,D,k=!1){this.auth=g,this.resolver=b,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(b,D){g.pendingPromise={resolve:b,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:k,tenantId:K,error:fe,type:Le}=g;if(fe)return void m.reject(fe);const tt={auth:m.auth,requestUri:b,sessionId:D,tenantId:K||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(tt))}catch(mt){m.reject(mt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return $p;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return th;default:De(this.auth,"internal-error")}}resolve(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const za=new cn(2e3,1e4);function Es(){return(Es=(0,s.Z)(function*(v,g,m){const b=pt(v);ze(v,g,Pi);const D=Cs(b,m);return new Ac(b,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function Dc(){return(Dc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Pi);const D=Cs(b.auth,m);return new Ac(b.auth,"reauthViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Pi);const D=Cs(b.auth,m);return new Ac(b.auth,"linkViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}let Ac=(()=>{class v extends xc{constructor(m,b,D,k,K){super(m,b,k,K),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return G(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=Jo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=(null===(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,za.get())};m()}}return v.currentPopupAction=null,v})();const Eo=new Map;class Ga extends xc{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=Eo.get(m.auth._key());if(!b){try{const k=(yield function Mc(v,g){return Ts.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(k)}catch(D){b=()=>Promise.reject(D)}Eo.set(m.auth._key(),b)}return m.bypassAuthState||Eo.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const D=yield b.auth._redirectUserForId(g.eventId);if(D)return b.user=D,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Ts(){return(Ts=(0,s.Z)(function*(v,g){const m=U(g),b=R(v);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function qa(v,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,s.Z)(function*(v,g){return R(v)._set(U(g),"true")})).apply(this,arguments)}function x(v,g){Eo.set(v._key(),g)}function R(v){return ne(v._redirectPersistence)}function U(v){return ei("pendingRedirect",v.config.apiKey,v.name)}function Oe(){return(Oe=(0,s.Z)(function*(v,g,m){const b=pt(v);ze(v,g,Pi);const D=Cs(b,m);return yield qa(D,b),D._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Pi);const D=Cs(b.auth,m);yield qa(D,b.auth);const k=yield kr(b);return D._openRedirect(b.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Pi);const D=Cs(b.auth,m);yield an(!1,b,g.providerId),yield qa(D,b.auth);const k=yield kr(b);return D._openRedirect(b.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(v,g){return yield pt(v)._initializationPromise,Gs(v,g,!1)})).apply(this,arguments)}function Gs(v,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(v,g,m=!1){const b=pt(v),D=Cs(b,g),K=yield new Ga(b,D,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,g)),K})).apply(this,arguments)}function kr(v){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(v){const g=Jo(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Rm{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Vu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tr(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!tr(g)){const D=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,D))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kp(g))}saveEventToCache(g){this.cachedEventUids.add(Kp(g)),this.lastProcessedEventTime=Date.now()}}function Kp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function tr({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function kc(v){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,s.Z)(function*(v,g={}){return zt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const yv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rc=/^https?/;function Pm(){return(Pm=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield kc(v);for(const m of g)try{if(Ox(m))return}catch(b){}De(v,"unauthorized-domain")})).apply(this,arguments)}function Ox(v){const g=Fe(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!Rc.test(m))return!1;if(yv.test(v))return b===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const Uu=new cn(3e4,6e4);function Nm(){const v=nn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let nh=null;function ih(v){return nh=nh||function m0(v){return new Promise((g,m)=>{var b,D,k;function K(){Nm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Nm(),m(Ee(v,"network-request-failed"))},timeout:Uu.get()})}if(null===(D=null===(b=nn().gapi)||void 0===b?void 0:b.iframes)||void 0===D?void 0:D.Iframe)g(gapi.iframes.getContext());else{if(!(null===(k=nn().gapi)||void 0===k?void 0:k.load)){const fe=Hs("iframefcb");return nn()[fe]=()=>{gapi.load?K():m(Ee(v,"network-request-failed"))},Tc(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Le=>m(Le))}K()}}).catch(g=>{throw nh=null,g})}(v),nh}const rh=new cn(5e3,15e3),Pc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fm(v){const g=v.config;G(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?Pn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:he.SDK_VERSION},D=Yp.get(v.config.apiHost);D&&(b.eid=D);const k=v._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}function Nc(){return Nc=(0,s.Z)(function*(v){const g=yield ih(v),m=nn().gapi;return G(m,v,"internal-error"),g.open({where:document.body,url:Fm(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pc,dontclear:!0},b=>new Promise(function(){var D=(0,s.Z)(function*(k,K){yield b.restyle({setHideOnLeave:!1});const fe=Ee(v,"network-request-failed"),Le=nn().setTimeout(()=>{K(fe)},rh.get());function tt(){nn().clearTimeout(Le),k(b)}b.ping(tt).then(tt,()=>{K(fe)})});return function(k,K){return D.apply(this,arguments)}}()))}),Nc.apply(this,arguments)}const Qp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Za{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function To(v,g,m,b,D,k){G(v.config.authDomain,v,"auth-domain-config-required"),G(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:he.SDK_VERSION,eventId:D};if(g instanceof Pi){g.setDefaultLanguage(v.languageCode),K.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Le,tt]of Object.entries(k||{}))K[Le]=tt}if(g instanceof jo){const Le=g.getScopes().filter(tt=>""!==tt);Le.length>0&&(K.scopes=Le.join(","))}v.tenantId&&(K.tid=v.tenantId);const fe=K;for(const Le of Object.keys(fe))void 0===fe[Le]&&delete fe[Le];return`${function zu({config:v}){return v.emulator?Pn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(fe).slice(1)}`}const ef="webStorageSupport";class Gu extends class v0{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Gu(g)}_finalizeEnroll(g,m,b){return function Tm(v,g){return zt(v,"POST","/v2/accounts/mfaEnrollment:finalize",en(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Yd(v,g){return zt(v,"POST","/v2/accounts/mfaSignIn:finalize",en(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Um=(()=>{class v{constructor(){}static assertion(m){return Gu._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Fc="@firebase/auth";class jm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{var D;g((null===(D=b)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lc(){return window}function Is(){return(Is=(0,s.Z)(function*(v,g,m){var b;const{BuildInfo:D}=Lc();Y(g.sessionId,"AuthEvent did not contain a session ID");const k=yield C0(g.sessionId),K={};return hr()?K.ibi=D.packageName:Xi()?K.apn=D.packageName:De(v,"operation-not-supported-in-this-environment"),D.displayName&&(K.appDisplayName=D.displayName),K.sessionId=k,To(v,m,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(v){const{BuildInfo:g}=Lc(),m={};hr()?m.iosBundleId=g.packageName:Xi()?m.androidPackageName=g.packageName:De(v,"operation-not-supported-in-this-environment"),yield kc(v,m)})).apply(this,arguments)}function qm(){return(qm=(0,s.Z)(function*(v,g,m){const{cordova:b}=Lc();let D=()=>{};try{yield new Promise((k,K)=>{let fe=null;function Le(){var gt;k();const oi=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof oi&&oi(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){fe||(fe=window.setTimeout(()=>{K(Ee(v,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}g.addPassiveListener(Le),document.addEventListener("resume",tt,!1),Xi()&&document.addEventListener("visibilitychange",mt,!1),D=()=>{g.removePassiveListener(Le),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",mt,!1),fe&&window.clearTimeout(fe)}})}finally{D()}})).apply(this,arguments)}function C0(v){return qu.apply(this,arguments)}function qu(){return(qu=(0,s.Z)(function*(v){const g=lh(v),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lh(v){if(Y(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),m=new Uint8Array(g);for(let b=0;b<v.length;b++)m[b]=v.charCodeAt(b);return m}!function w0(v){(0,he._registerComponent)(new de.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),{apiKey:k,authDomain:K}=b.options;return((fe,Le)=>{G(k&&!k.includes(":"),"invalid-api-key",{appName:fe.name}),G(!(null==K?void 0:K.includes(":")),"argument-error",{appName:fe.name});const tt={apiKey:k,authDomain:K,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ia(v)},mt=new Ke(fe,Le,tt);return function ce(v,g){const m=(null==g?void 0:g.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ne);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(mt,m),mt})(b,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new de.wA("auth-internal",g=>{const m=pt(g.getProvider("auth").getImmediate());return new jm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Fc,"0.20.2",function wv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,he.registerVersion)(Fc,"0.20.2","esm2017")}("Browser");class E0 extends Rm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function ch(v){return sf.apply(this,arguments)}function sf(){return(sf=(0,s.Z)(function*(v){const g=yield uh()._get(Tl(v));return g&&(yield uh()._remove(Tl(v))),g})).apply(this,arguments)}function Tv(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*g.length);v.push(g.charAt(b))}return v.join("")}function uh(){return ne(Ar)}function Tl(v){return ei("authEvent",v.config.apiKey,v.name)}function Uc(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function hh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function $u(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Wm(v=(0,L.z$)()){return!("file:"!==$u()&&"ionic:"!==$u()&&"capacitor:"!==$u()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function af(){try{const v=self.localStorage,g=Jo();if(v)return v.setItem(g,"1"),v.removeItem(g),!function of(v=(0,L.z$)()){return function nr(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function si(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Zu()&&(0,L.hl)()}return!1}function Zu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ti(){return(function Zm(){return"http:"===$u()||"https:"===$u()}()||(0,L.ru)()||Wm())&&!function Av(){return(0,L.b$)()||(0,L.UG)()}()&&af()&&!Zu()}function Il(){return Wm()&&"undefined"!=typeof document}function lf(){return(lf=(0,s.Z)(function*(){return!!Il()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const ir={LOCAL:"local",NONE:"none",SESSION:"session"},Wu=G,gh="persistence";function mh(v){return cf.apply(this,arguments)}function cf(){return(cf=(0,s.Z)(function*(v){yield v._initializationPromise;const g=Ku(),m=ei(gh,v.config.apiKey,v.name);g&&g.setItem(m,v._getPersistence())})).apply(this,arguments)}function Ku(){var v;try{return(null===(v=function Mv(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const _h=G;class aa{constructor(){this.browserResolver=ne(class y0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=Gs,this._overrideRedirectResult=x}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){var K;Y(null===(K=k.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const fe=To(g,m,b,Fe(),D);return function Jp(v,g,m,b=500,D=600){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let fe="";const Le=Object.assign(Object.assign({},Qp),{width:b.toString(),height:D.toString(),top:k,left:K}),tt=(0,L.z$)().toLowerCase();m&&(fe=dl(tt)?"_blank":m),ul(tt)&&(g=g||"http://localhost",Le.scrollbars="yes");const mt=Object.entries(Le).reduce((oi,[Pr,Sl])=>`${oi}${Pr}=${Sl},`,"");if(function Uo(v=(0,L.z$)()){var g;return hr(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(tt)&&"_self"!==fe)return function Xp(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",fe),new Za(null);const gt=window.open(g||"",fe,mt);G(gt,v,"popup-blocked");try{gt.focus()}catch(oi){}return new Za(gt)}(g,fe,Jo())})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k._originValidation(g),function Us(v){nn().location.href=v}(To(g,m,b,Fe(),D)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:D,promise:k}=this.eventManagers[m];return D?Promise.resolve(D):(Y(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const b=yield function _0(v){return Nc.apply(this,arguments)}(g),D=new Rm(g);return b.register("authEvent",k=>(G(null==k?void 0:k.authEvent,g,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:D},m.iframes[g._key()]=b,D})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(ef,{type:ef},D=>{var k;const K=null===(k=null==D?void 0:D[0])||void 0===k?void 0:k[ef];void 0!==K&&m(!!K),De(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Bu(v){return Pm.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return uo()||Xl()||hr()}}),this.cordovaResolver=ne(class dh{constructor(){this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gs,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){const b=g._key();let D=m.eventManagers.get(b);return D||(D=new E0(g),m.eventManagers.set(b,D),m.attachCallbackListeners(g,D)),D})()}_openPopup(g){De(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){!function b0(v){var g,m,b,D,k,K,fe,Le,tt,mt;const gt=Lc();G("function"==typeof(null===(g=null==gt?void 0:gt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(k=null===(D=null===(b=null==gt?void 0:gt.cordova)||void 0===b?void 0:b.plugins)||void 0===D?void 0:D.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Le=null===(fe=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(mt=null===(tt=null==gt?void 0:gt.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===mt?void 0:mt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const K=yield k._initialize(g);yield K.initialized(),K.resetRedirect(),function S(){Eo.clear()}(),yield k._originValidation(g);const fe=function Cv(v,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Tv(),postBody:null,tenantId:v.tenantId,error:Ee(v,"no-auth-event")}}(g,b,D);yield function $m(v,g){return uh()._set(Tl(v),g)}(g,fe);const Le=yield function zm(v,g,m){return Is.apply(this,arguments)}(g,fe,m),tt=yield function nf(v){const{cordova:g}=Lc();return new Promise(m=>{g.plugins.browsertab.isAvailable(b=>{let D=null;b?g.plugins.browsertab.openUrl(v):D=g.InAppBrowser.open(v,function Ad(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(Le);return function Gm(v,g,m){return qm.apply(this,arguments)}(g,K,tt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vc(v){return Bc.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:b,handleOpenURL:D,BuildInfo:k}=Lc(),K=setTimeout((0,s.Z)(function*(){yield ch(g),m.onEvent(hh())}),500),fe=function(){var mt=(0,s.Z)(function*(gt){clearTimeout(K);const oi=yield ch(g);let Pr=null;oi&&(null==gt?void 0:gt.url)&&(Pr=function Ev(v,g){var m,b;const D=function Or(v){const g=Uc(v),m=g.link?decodeURIComponent(g.link):void 0,b=Uc(m).link,D=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Uc(D).link||D||b||m||v}(g);if(D.includes("/__/auth/callback")){const k=Uc(D),K=k.firebaseError?function Iv(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(k.firebaseError)):null,fe=null===(b=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Le=fe?Ee(fe):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(oi,gt.url)),m.onEvent(Pr||hh())});return function(oi){return mt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,fe);const Le=D,tt=`${k.packageName.toLowerCase()}://`;Lc().handleOpenURL=function(){var mt=(0,s.Z)(function*(gt){if(gt.toLowerCase().startsWith(tt)&&fe({url:gt}),"function"==typeof Le)try{Le(gt)}catch(oi){console.error(oi)}});return function(gt){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=Gs,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(g,m,b,D)})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(g,m,b,D)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Il()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _h(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function Hc(){return lf.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function yh(v){return v.unwrap()}function Rv(v){return Ym(v)}function Ym(v){const{_tokenResponse:g}=v instanceof L.ZR?v.customData:v;if(!g)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return js.credentialFromResult(v);const m=g.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Vd;break;case"facebook.com":b=Da;break;case"github.com":b=Up;break;case"twitter.com":b=Bd;break;default:const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:fe,nonce:Le}=g;return k||K||D||fe?fe?m.startsWith("saml.")?zo._create(m,fe):Ps._fromParams({providerId:m,signInMethod:m,pendingToken:fe,idToken:D,accessToken:k}):new ms(m).credential({idToken:D,accessToken:k,rawNonce:Le}):null}return v instanceof L.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Rr(v,g){return g.catch(m=>{throw m instanceof L.ZR&&function vh(v,g){var m;const b=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Qm(v,function ii(v,g){var m;const b=(0,L.m9)(v),D=g;return G(g.customData.operationType,b,"argument-error"),G(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Yo._fromError(b,D)}(v,g));else if(b){const D=Ym(g),k=g;D&&(k.credential=D,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:Rv(m),additionalUserInfo:pi(m),user:qs.getOrCreate(D)}})}function uf(v,g){return df.apply(this,arguments)}function df(){return(df=(0,s.Z)(function*(v,g){const m=yield g;return{verificationId:m.verificationId,confirm:b=>Rr(v,m.confirm(b))}})).apply(this,arguments)}class Qm{constructor(g,m){this.resolver=m,this.auth=function Km(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Rr(yh(this.auth),this.resolver.resolveSignIn(g))}}class qs{constructor(g){this._delegate=g,this.multiFactor=function Im(v){const g=(0,L.m9)(v);return gc.has(g)||gc.set(g,Fa._fromUser(g)),gc.get(g)}(g)}static getOrCreate(g){return qs.USER_MAP.has(g)||qs.USER_MAP.set(g,new qs(g)),qs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return Rr(m.auth,wi(m._delegate,g))})()}linkWithPhoneNumber(g,m){var b=this;return(0,s.Z)(function*(){return uf(b.auth,function Qr(v,g,m){return Nu.apply(this,arguments)}(b._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return Rr(m.auth,function Lu(v,g,m){return zs.apply(this,arguments)}(m._delegate,g,aa))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield mh(pt(m.auth)),function Vt(v,g,m){return function Tt(v,g,m){return ri.apply(this,arguments)}(v,g,m)}(m._delegate,g,aa)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return Rr(m.auth,Ns(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return uf(this.auth,function Fu(v,g,m){return Ci.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Rr(this.auth,function Wp(v,g,m){return Dc.apply(this,arguments)}(this._delegate,g,aa))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield mh(pt(m.auth)),function st(v,g,m){return function lt(v,g,m){return dt.apply(this,arguments)}(v,g,m)}(m._delegate,g,aa)})()}sendEmailVerification(g){return function Yr(v,g){return Au.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function Hp(v,g){return pn.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function jd(v,g){return pc((0,L.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function zd(v,g){return pc((0,L.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function na(v,g){return Jr.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function dc(v,g){return hc.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function cc(v,g,m){return uc.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qs.USER_MAP=new WeakMap;const jc=G;let Jm=(()=>{class v{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;jc(D,"invalid-api-key",{appName:m.name}),jc(D,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?aa:void 0;this._delegate=b.initialize({options:{persistence:T0(D,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function fr(v,g,m){const b=pt(v);G(b._canInitEmulator,b,"emulator-config-failed"),G(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const D=!!(null==m?void 0:m.disableWarnings),k=us(g),{host:K,port:fe}=function zn(v){const g=us(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const k=D[1];return{host:k,port:ds(b.substr(k.length+1))}}{const[k,K]=b.split(":");return{host:k,port:ds(K)}}}(g);b.config.emulator={url:`${k}//${K}${null===fe?"":`:${fe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:fe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function vn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,b)}applyActionCode(m){return function Ra(v,g){return Ae.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Gt(this._delegate,m)}confirmPasswordReset(m,b){return function oc(v,g,m){return Iu.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var D=this;return(0,s.Z)(function*(){return Rr(D._delegate,function Zo(v,g,m){return xr.apply(this,arguments)}(D._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function lc(v,g){return yo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Hd(v,g){const m=ic.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){jc(Ti(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Kn(v,g){return oa.apply(this,arguments)}(m._delegate,aa);return b?Rr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ph(v,g){pt(v)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,b,D){const{next:k,error:K,complete:fe}=Xm(m,b,D);return this._delegate.onAuthStateChanged(k,K,fe)}onIdTokenChanged(m,b,D){const{next:k,error:K,complete:fe}=Xm(m,b,D);return this._delegate.onIdTokenChanged(k,K,fe)}sendSignInLinkToEmail(m,b){return function xu(v,g,m){return Du.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Tu(v,g,m){return sc.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let D;switch(function kv(v,g){Wu(Object.values(ir).includes(g),v,"invalid-persistence-type"),(0,L.b$)()?Wu(g!==ir.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?Wu(g===ir.NONE,v,"unsupported-persistence-type"):Zu()?Wu(g===ir.NONE||g===ir.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):Wu(g===ir.NONE||af(),v,"unsupported-persistence-type")}(b._delegate,m),m){case ir.SESSION:D=Bs;break;case ir.LOCAL:D=(yield ne(Cl)._isAvailable())?Cl:Ar;break;case ir.NONE:D=It;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Rr(this._delegate,function Ud(v){return wu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Rr(this._delegate,In(this._delegate,m))}signInWithCustomToken(m){return Rr(this._delegate,function Oa(v,g){return wt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Rr(this._delegate,function Su(v,g,m){return In((0,L.m9)(v),Ld.credential(g,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Rr(this._delegate,function Cm(v,g,m){return Fs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return uf(this._delegate,function Wn(v,g,m){return ta.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return jc(Ti(),b._delegate,"operation-not-supported-in-this-environment"),Rr(b._delegate,function Zp(v,g,m){return Es.apply(this,arguments)}(b._delegate,m,aa))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return jc(Ti(),b._delegate,"operation-not-supported-in-this-environment"),yield mh(b._delegate),function J(v,g,m){return function ae(v,g,m){return Oe.apply(this,arguments)}(v,g,m)}(b._delegate,m,aa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function En(v,g){return ac.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ir,v})();function Xm(v,g,m){let b=v;"function"!=typeof v&&({next:b,error:g,complete:m}=v);const D=b;return{next:K=>D(K&&qs.getOrCreate(K)),error:g,complete:m}}function T0(v,g){const m=function Ov(v,g){const m=Ku();if(!m)return[];const b=ei(gh,v,g);switch(m.getItem(b)){case ir.NONE:return[It];case ir.LOCAL:return[Cl,Bs];case ir.SESSION:return[Bs];default:return[]}}(v,g);if("undefined"!=typeof self&&!m.includes(Cl)&&m.push(Cl),"undefined"!=typeof window)for(const b of[Ar,Bs])m.includes(b)||m.push(b);return m.includes(It)||m.push(It),m}class la{constructor(){this.providerId="phone",this._delegate=new js(yh(ee.Z.auth()))}static credential(g,m){return js.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}la.PHONE_SIGN_IN_METHOD=js.PHONE_SIGN_IN_METHOD,la.PROVIDER_ID=js.PROVIDER_ID;const Vn=G;class bt{constructor(g,m,b=ee.Z.app()){var D;Vn(null===(D=b.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Om(g,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bn(v){v.INTERNAL.registerComponent(new de.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new Jm(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ld,FacebookAuthProvider:Da,GithubAuthProvider:Up,GoogleAuthProvider:Vd,OAuthProvider:ms,SAMLAuthProvider:er,PhoneAuthProvider:la,PhoneMultiFactorGenerator:Um,RecaptchaVerifier:bt,TwitterAuthProvider:Bd,Auth:Jm,AuthCredential:Wr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:(Xe,we,F)=>{F.d(we,{y:()=>q});var s=F(930),ee=F(727),L=F(8822),he=F(4671);var de=F(2416),le=F(576),pe=F(2806);let q=(()=>{class ke{constructor(He){He&&(this._subscribe=He)}lift(He){const ge=new ke;return ge.source=this,ge.operator=He,ge}subscribe(He,ge,Se){const Ze=function $e(ke){return ke&&ke instanceof s.Lv||function ie(ke){return ke&&(0,le.m)(ke.next)&&(0,le.m)(ke.error)&&(0,le.m)(ke.complete)}(ke)&&(0,ee.Nn)(ke)}(He)?He:new s.Hp(He,ge,Se);return(0,pe.x)(()=>{const{operator:Qe,source:De}=this;Ze.add(Qe?Qe.call(Ze,De):De?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(He){try{return this._subscribe(He)}catch(ge){He.error(ge)}}forEach(He,ge){return new(ge=z(ge))((Se,Ze)=>{const Qe=new s.Hp({next:De=>{try{He(De)}catch(Ee){Ze(Ee),Qe.unsubscribe()}},error:Ze,complete:Se});this.subscribe(Qe)})}_subscribe(He){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(He)}[L.L](){return this}pipe(...He){return function _e(ke){return 0===ke.length?he.y:1===ke.length?ke[0]:function(He){return ke.reduce((ge,Se)=>Se(ge),He)}}(He)(this)}toPromise(He){return new(He=z(He))((ge,Se)=>{let Ze;this.subscribe(Qe=>Ze=Qe,Qe=>Se(Qe),()=>ge(Ze))})}}return ke.create=Ne=>new ke(Ne),ke})();function z(ke){var Ne;return null!==(Ne=null!=ke?ke:de.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Xe,we,F)=>{F.d(we,{x:()=>de});var s=F(8306),ee=F(727);const he=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),_e=F(2806);let de=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ie=new le(this,this);return ie.operator=z,ie}_throwIfClosed(){if(this.closed)throw new he}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ie}=this;for(;ie.length;)ie.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ie,isStopped:$e,observers:ke}=this;return ie||$e?ee.Lc:(this.currentObservers=null,ke.push(z),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(ke,z)}))}_checkFinalizedStatuses(z){const{hasError:ie,thrownError:$e,isStopped:ke}=this;ie?z.error($e):ke&&z.complete()}asObservable(){const z=new s.y;return z.source=this,z}}return pe.create=(q,z)=>new le(q,z),pe})();class le extends de{constructor(q,z){super(),this.destination=q,this.source=z}next(q){var z,ie;null===(ie=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ie||ie.call(z,q)}error(q){var z,ie;null===(ie=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ie||ie.call(z,q)}complete(){var q,z;null===(z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===z||z.call(q)}_subscribe(q){var z,ie;return null!==(ie=null===(z=this.source)||void 0===z?void 0:z.subscribe(q))&&void 0!==ie?ie:ee.Lc}}},930:(Xe,we,F)=>{F.d(we,{Hp:()=>He,Lv:()=>ie});var s=F(576),ee=F(727),L=F(2416),he=F(7849),se=F(5032);const _e=pe("C",void 0,void 0);function pe(De,Ee,Ie){return{kind:De,value:Ee,error:Ie}}var q=F(3410),z=F(2806);class ie extends ee.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,ee.Nn)(Ee)&&Ee.add(this)):this.destination=Qe}static create(Ee,Ie,ze){return new He(Ee,Ie,ze)}next(Ee){this.isStopped?Ze(function le(De){return pe("N",De,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ze(function de(De){return pe("E",void 0,De)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ze(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ke(De,Ee){return $e.call(De,Ee)}class Ne{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Ee)}catch(ze){ge(ze)}}error(Ee){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Ee)}catch(ze){ge(ze)}else ge(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ie){ge(Ie)}}}class He extends ie{constructor(Ee,Ie,ze){let Ge;if(super(),(0,s.m)(Ee)||!Ee)Ge={next:null!=Ee?Ee:void 0,error:null!=Ie?Ie:void 0,complete:null!=ze?ze:void 0};else{let G;this&&L.v.useDeprecatedNextContext?(G=Object.create(Ee),G.unsubscribe=()=>this.unsubscribe(),Ge={next:Ee.next&&ke(Ee.next,G),error:Ee.error&&ke(Ee.error,G),complete:Ee.complete&&ke(Ee.complete,G)}):Ge=Ee}this.destination=new Ne(Ge)}}function ge(De){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(De):(0,he.h)(De)}function Ze(De,Ee){const{onStoppedNotification:Ie}=L.v;Ie&&q.z.setTimeout(()=>Ie(De,Ee))}const Qe={closed:!0,next:se.Z,error:function Se(De){throw De},complete:se.Z}},727:(Xe,we,F)=>{F.d(we,{Lc:()=>_e,w0:()=>se,Nn:()=>de});var s=F(576);const L=(0,F(3888).d)(pe=>function(z){pe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ie,$e)=>`${$e+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var he=F(8737);class se{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(ke){q=ke instanceof L?ke.errors:[ke]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const ke of $e)try{le(ke)}catch(Ne){q=null!=q?q:[],Ne instanceof L?q=[...q,...Ne.errors]:q.push(Ne)}}if(q)throw new L(q)}}add(q){var z;if(q&&q!==this)if(this.closed)le(q);else{if(q instanceof se){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(q)}}_hasParent(q){const{_parentage:z}=this;return z===q||Array.isArray(z)&&z.includes(q)}_addParent(q){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(q),z):z?[z,q]:q}_removeParent(q){const{_parentage:z}=this;z===q?this._parentage=null:Array.isArray(z)&&(0,he.P)(z,q)}remove(q){const{_finalizers:z}=this;z&&(0,he.P)(z,q),q instanceof se&&q._removeParent(this)}}se.EMPTY=(()=>{const pe=new se;return pe.closed=!0,pe})();const _e=se.EMPTY;function de(pe){return pe instanceof se||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function le(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(Xe,we,F)=>{F.d(we,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,we,F)=>{F.d(we,{E:()=>ee});const ee=new(F(8306).y)(se=>se.complete())},8996:(Xe,we,F)=>{F.d(we,{D:()=>Ee});var s=F(8421),ee=F(5363),L=F(9468),_e=F(8306),le=F(2202),pe=F(576),q=F(9672);function ie(Ie,ze){if(!Ie)throw new Error("Iterable cannot be null");return new _e.y(Ge=>{(0,q.f)(Ge,ze,()=>{const G=Ie[Symbol.asyncIterator]();(0,q.f)(Ge,ze,()=>{G.next().then(Ce=>{Ce.done?Ge.complete():Ge.next(Ce.value)})},0,!0)})})}var $e=F(3670),ke=F(8239),Ne=F(1144),He=F(6495),ge=F(2206),Se=F(4532),Ze=F(3260);function Ee(Ie,ze){return ze?function De(Ie,ze){if(null!=Ie){if((0,$e.c)(Ie))return function he(Ie,ze){return(0,s.Xf)(Ie).pipe((0,L.R)(ze),(0,ee.Q)(ze))}(Ie,ze);if((0,Ne.z)(Ie))return function de(Ie,ze){return new _e.y(Ge=>{let G=0;return ze.schedule(function(){G===Ie.length?Ge.complete():(Ge.next(Ie[G++]),Ge.closed||this.schedule())})})}(Ie,ze);if((0,ke.t)(Ie))return function se(Ie,ze){return(0,s.Xf)(Ie).pipe((0,L.R)(ze),(0,ee.Q)(ze))}(Ie,ze);if((0,ge.D)(Ie))return ie(Ie,ze);if((0,He.T)(Ie))return function z(Ie,ze){return new _e.y(Ge=>{let G;return(0,q.f)(Ge,ze,()=>{G=Ie[le.h](),(0,q.f)(Ge,ze,()=>{let Ce,Y;try{({value:Ce,done:Y}=G.next())}catch(oe){return void Ge.error(oe)}Y?Ge.complete():Ge.next(Ce)},0,!0)}),()=>(0,pe.m)(null==G?void 0:G.return)&&G.return()})}(Ie,ze);if((0,Ze.L)(Ie))return function Qe(Ie,ze){return ie((0,Ze.Q)(Ie),ze)}(Ie,ze)}throw(0,Se.z)(Ie)}(Ie,ze):(0,s.Xf)(Ie)}},8421:(Xe,we,F)=>{F.d(we,{Xf:()=>$e});var s=F(655),ee=F(1144),L=F(8239),he=F(8306),se=F(3670),_e=F(2206),de=F(4532),le=F(6495),pe=F(3260),q=F(576),z=F(7849),ie=F(8822);function $e(De){if(De instanceof he.y)return De;if(null!=De){if((0,se.c)(De))return function ke(De){return new he.y(Ee=>{const Ie=De[ie.L]();if((0,q.m)(Ie.subscribe))return Ie.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,ee.z)(De))return function Ne(De){return new he.y(Ee=>{for(let Ie=0;Ie<De.length&&!Ee.closed;Ie++)Ee.next(De[Ie]);Ee.complete()})}(De);if((0,L.t)(De))return function He(De){return new he.y(Ee=>{De.then(Ie=>{Ee.closed||(Ee.next(Ie),Ee.complete())},Ie=>Ee.error(Ie)).then(null,z.h)})}(De);if((0,_e.D)(De))return Se(De);if((0,le.T)(De))return function ge(De){return new he.y(Ee=>{for(const Ie of De)if(Ee.next(Ie),Ee.closed)return;Ee.complete()})}(De);if((0,pe.L)(De))return function Ze(De){return Se((0,pe.Q)(De))}(De)}throw(0,de.z)(De)}function Se(De){return new he.y(Ee=>{(function Qe(De,Ee){var Ie,ze,Ge,G;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,s.KL)(De);!(ze=yield Ie.next()).done;)if(Ee.next(ze.value),Ee.closed)return}catch(Ce){Ge={error:Ce}}finally{try{ze&&!ze.done&&(G=Ie.return)&&(yield G.call(Ie))}finally{if(Ge)throw Ge.error}}Ee.complete()})})(De,Ee).catch(Ie=>Ee.error(Ie))})}},6451:(Xe,we,F)=>{F.d(we,{T:()=>_e});var s=F(8189),ee=F(8421),L=F(515),he=F(3269),se=F(8996);function _e(...de){const le=(0,he.yG)(de),pe=(0,he._6)(de,1/0),q=de;return q.length?1===q.length?(0,ee.Xf)(q[0]):(0,s.J)(pe)((0,se.D)(q,le)):L.E}},5403:(Xe,we,F)=>{F.d(we,{x:()=>ee});var s=F(930);function ee(he,se,_e,de,le){return new L(he,se,_e,de,le)}class L extends s.Lv{constructor(se,_e,de,le,pe,q){super(se),this.onFinalize=pe,this.shouldUnsubscribe=q,this._next=_e?function(z){try{_e(z)}catch(ie){se.error(ie)}}:super._next,this._error=le?function(z){try{le(z)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(Xe,we,F)=>{F.d(we,{U:()=>L});var s=F(4482),ee=F(5403);function L(he,se){return(0,s.e)((_e,de)=>{let le=0;_e.subscribe((0,ee.x)(de,pe=>{de.next(he.call(se,pe,le++))}))})}},8189:(Xe,we,F)=>{F.d(we,{J:()=>L});var s=F(5577),ee=F(4671);function L(he=1/0){return(0,s.z)(ee.y,he)}},5577:(Xe,we,F)=>{F.d(we,{z:()=>le});var s=F(4004),ee=F(8421),L=F(4482),he=F(9672),se=F(5403),de=F(576);function le(pe,q,z=1/0){return(0,de.m)(q)?le((ie,$e)=>(0,s.U)((ke,Ne)=>q(ie,ke,$e,Ne))((0,ee.Xf)(pe(ie,$e))),z):("number"==typeof q&&(z=q),(0,L.e)((ie,$e)=>function _e(pe,q,z,ie,$e,ke,Ne,He){const ge=[];let Se=0,Ze=0,Qe=!1;const De=()=>{Qe&&!ge.length&&!Se&&q.complete()},Ee=ze=>Se<ie?Ie(ze):ge.push(ze),Ie=ze=>{ke&&q.next(ze),Se++;let Ge=!1;(0,ee.Xf)(z(ze,Ze++)).subscribe((0,se.x)(q,G=>{null==$e||$e(G),ke?Ee(G):q.next(G)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Se--;ge.length&&Se<ie;){const G=ge.shift();Ne?(0,he.f)(q,Ne,()=>Ie(G)):Ie(G)}De()}catch(G){q.error(G)}}))};return pe.subscribe((0,se.x)(q,Ee,()=>{Qe=!0,De()})),()=>{null==He||He()}}(ie,$e,pe,z)))}},5363:(Xe,we,F)=>{F.d(we,{Q:()=>he});var s=F(9672),ee=F(4482),L=F(5403);function he(se,_e=0){return(0,ee.e)((de,le)=>{de.subscribe((0,L.x)(le,pe=>(0,s.f)(le,se,()=>le.next(pe),_e),()=>(0,s.f)(le,se,()=>le.complete(),_e),pe=>(0,s.f)(le,se,()=>le.error(pe),_e)))})}},3099:(Xe,we,F)=>{F.d(we,{B:()=>_e});var s=F(8996),ee=F(5698),L=F(7579),he=F(930),se=F(4482);function _e(le={}){const{connector:pe=(()=>new L.x),resetOnError:q=!0,resetOnComplete:z=!0,resetOnRefCountZero:ie=!0}=le;return $e=>{let ke=null,Ne=null,He=null,ge=0,Se=!1,Ze=!1;const Qe=()=>{null==Ne||Ne.unsubscribe(),Ne=null},De=()=>{Qe(),ke=He=null,Se=Ze=!1},Ee=()=>{const Ie=ke;De(),null==Ie||Ie.unsubscribe()};return(0,se.e)((Ie,ze)=>{ge++,!Ze&&!Se&&Qe();const Ge=He=null!=He?He:pe();ze.add(()=>{ge--,0===ge&&!Ze&&!Se&&(Ne=de(Ee,ie))}),Ge.subscribe(ze),ke||(ke=new he.Hp({next:G=>Ge.next(G),error:G=>{Ze=!0,Qe(),Ne=de(De,q,G),Ge.error(G)},complete:()=>{Se=!0,Qe(),Ne=de(De,z),Ge.complete()}}),(0,s.D)(Ie).subscribe(ke))})($e)}}function de(le,pe,...q){return!0===pe?(le(),null):!1===pe?null:pe(...q).pipe((0,ee.q)(1)).subscribe(()=>le())}},9468:(Xe,we,F)=>{F.d(we,{R:()=>ee});var s=F(4482);function ee(L,he=0){return(0,s.e)((se,_e)=>{_e.add(L.schedule(()=>se.subscribe(_e),he))})}},5698:(Xe,we,F)=>{F.d(we,{q:()=>he});var s=F(515),ee=F(4482),L=F(5403);function he(se){return se<=0?()=>s.E:(0,ee.e)((_e,de)=>{let le=0;_e.subscribe((0,L.x)(de,pe=>{++le<=se&&(de.next(pe),se<=le&&de.complete())}))})}},8505:(Xe,we,F)=>{F.d(we,{b:()=>se});var s=F(576),ee=F(4482),L=F(5403),he=F(4671);function se(_e,de,le){const pe=(0,s.m)(_e)||de||le?{next:_e,error:de,complete:le}:_e;return pe?(0,ee.e)((q,z)=>{var ie;null===(ie=pe.subscribe)||void 0===ie||ie.call(pe);let $e=!0;q.subscribe((0,L.x)(z,ke=>{var Ne;null===(Ne=pe.next)||void 0===Ne||Ne.call(pe,ke),z.next(ke)},()=>{var ke;$e=!1,null===(ke=pe.complete)||void 0===ke||ke.call(pe),z.complete()},ke=>{var Ne;$e=!1,null===(Ne=pe.error)||void 0===Ne||Ne.call(pe,ke),z.error(ke)},()=>{var ke,Ne;$e&&(null===(ke=pe.unsubscribe)||void 0===ke||ke.call(pe)),null===(Ne=pe.finalize)||void 0===Ne||Ne.call(pe)}))}):he.y}},4408:(Xe,we,F)=>{F.d(we,{o:()=>se});var s=F(727);class ee extends s.w0{constructor(de,le){super()}schedule(de,le=0){return this}}const L={setInterval(_e,de,...le){const{delegate:pe}=L;return(null==pe?void 0:pe.setInterval)?pe.setInterval(_e,de,...le):setInterval(_e,de,...le)},clearInterval(_e){const{delegate:de}=L;return((null==de?void 0:de.clearInterval)||clearInterval)(_e)},delegate:void 0};var he=F(8737);class se extends ee{constructor(de,le){super(de,le),this.scheduler=de,this.work=le,this.pending=!1}schedule(de,le=0){if(this.closed)return this;this.state=de;const pe=this.id,q=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(q,pe,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(q,this.id,le),this}requestAsyncId(de,le,pe=0){return L.setInterval(de.flush.bind(de,this),pe)}recycleAsyncId(de,le,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return le;L.clearInterval(le)}execute(de,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(de,le);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,le){let q,pe=!1;try{this.work(de)}catch(z){pe=!0,q=z||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:de,scheduler:le}=this,{actions:pe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(pe,this),null!=de&&(this.id=this.recycleAsyncId(le,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,we,F)=>{F.d(we,{v:()=>L});var s=F(6063);class ee{constructor(se,_e=ee.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,de){return new this.schedulerActionCtor(this,se).schedule(de,_e)}}ee.now=s.l.now;class L extends ee{constructor(se,_e=ee.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let de;this._active=!0;do{if(de=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,de){for(;se=_e.shift();)se.unsubscribe();throw de}}}},4986:(Xe,we,F)=>{F.d(we,{P:()=>he,z:()=>L});var s=F(4408);const L=new(F(7565).v)(s.o),he=L},6063:(Xe,we,F)=>{F.d(we,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Xe,we,F)=>{F.d(we,{z:()=>s});const s={setTimeout(ee,L,...he){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,L,...he):setTimeout(ee,L,...he)},clearTimeout(ee){const{delegate:L}=s;return((null==L?void 0:L.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(Xe,we,F)=>{F.d(we,{h:()=>ee});const ee=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,we,F)=>{F.d(we,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,we,F)=>{F.d(we,{_6:()=>_e,jO:()=>he,yG:()=>se});var s=F(576),ee=F(3532);function L(de){return de[de.length-1]}function he(de){return(0,s.m)(L(de))?de.pop():void 0}function se(de){return(0,ee.K)(L(de))?de.pop():void 0}function _e(de,le){return"number"==typeof L(de)?de.pop():le}},8737:(Xe,we,F)=>{function s(ee,L){if(ee){const he=ee.indexOf(L);0<=he&&ee.splice(he,1)}}F.d(we,{P:()=>s})},3888:(Xe,we,F)=>{function s(ee){const he=ee(se=>{Error.call(se),se.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}F.d(we,{d:()=>s})},2806:(Xe,we,F)=>{F.d(we,{O:()=>he,x:()=>L});var s=F(2416);let ee=null;function L(se){if(s.v.useDeprecatedSynchronousErrorHandling){const _e=!ee;if(_e&&(ee={errorThrown:!1,error:null}),se(),_e){const{errorThrown:de,error:le}=ee;if(ee=null,de)throw le}}else se()}function he(se){s.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(Xe,we,F)=>{function s(ee,L,he,se=0,_e=!1){const de=L.schedule(function(){he(),_e?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(de),!_e)return de}F.d(we,{f:()=>s})},4671:(Xe,we,F)=>{function s(ee){return ee}F.d(we,{y:()=>s})},1144:(Xe,we,F)=>{F.d(we,{z:()=>s});const s=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(Xe,we,F)=>{F.d(we,{D:()=>ee});var s=F(576);function ee(L){return Symbol.asyncIterator&&(0,s.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(Xe,we,F)=>{function s(ee){return"function"==typeof ee}F.d(we,{m:()=>s})},3670:(Xe,we,F)=>{F.d(we,{c:()=>L});var s=F(8822),ee=F(576);function L(he){return(0,ee.m)(he[s.L])}},6495:(Xe,we,F)=>{F.d(we,{T:()=>L});var s=F(2202),ee=F(576);function L(he){return(0,ee.m)(null==he?void 0:he[s.h])}},8239:(Xe,we,F)=>{F.d(we,{t:()=>ee});var s=F(576);function ee(L){return(0,s.m)(null==L?void 0:L.then)}},3260:(Xe,we,F)=>{F.d(we,{L:()=>he,Q:()=>L});var s=F(655),ee=F(576);function L(se){return(0,s.FC)(this,arguments,function*(){const de=se.getReader();try{for(;;){const{value:le,done:pe}=yield(0,s.qq)(de.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(le)}}finally{de.releaseLock()}})}function he(se){return(0,ee.m)(null==se?void 0:se.getReader)}},3532:(Xe,we,F)=>{F.d(we,{K:()=>ee});var s=F(576);function ee(L){return L&&(0,s.m)(L.schedule)}},4482:(Xe,we,F)=>{F.d(we,{A:()=>ee,e:()=>L});var s=F(576);function ee(he){return(0,s.m)(null==he?void 0:he.lift)}function L(he){return se=>{if(ee(se))return se.lift(function(_e){try{return he(_e,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,we,F)=>{function s(){}F.d(we,{Z:()=>s})},7849:(Xe,we,F)=>{F.d(we,{h:()=>L});var s=F(2416),ee=F(3410);function L(he){ee.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw he;se(he)})}},4532:(Xe,we,F)=>{function s(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(we,{z:()=>s})},655:(Xe,we,F)=>{function he(Y,oe){var ne={};for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&oe.indexOf(ve)<0&&(ne[ve]=Y[ve]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ve=Object.getOwnPropertySymbols(Y);ce<ve.length;ce++)oe.indexOf(ve[ce])<0&&Object.prototype.propertyIsEnumerable.call(Y,ve[ce])&&(ne[ve[ce]]=Y[ve[ce]])}return ne}function le(Y,oe,ne,ve){return new(ne||(ne=Promise))(function(Fe,ft){function Kt(cn){try{Ye(ve.next(cn))}catch(Pn){ft(Pn)}}function jt(cn){try{Ye(ve.throw(cn))}catch(Pn){ft(Pn)}}function Ye(cn){cn.done?Fe(cn.value):function ce(Fe){return Fe instanceof ne?Fe:new ne(function(ft){ft(Fe)})}(cn.value).then(Kt,jt)}Ye((ve=ve.apply(Y,oe||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function Se(Y,oe,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ve=ne.apply(Y,oe||[]),Fe=[];return ce={},ft("next"),ft("throw"),ft("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function ft(dn){ve[dn]&&(ce[dn]=function(sn){return new Promise(function(Yi,en){Fe.push([dn,sn,Yi,en])>1||Kt(dn,sn)})})}function Kt(dn,sn){try{!function jt(dn){dn.value instanceof ge?Promise.resolve(dn.value.v).then(Ye,cn):Pn(Fe[0][2],dn)}(ve[dn](sn))}catch(Yi){Pn(Fe[0][3],Yi)}}function Ye(dn){Kt("next",dn)}function cn(dn){Kt("throw",dn)}function Pn(dn,sn){dn(sn),Fe.shift(),Fe.length&&Kt(Fe[0][0],Fe[0][1])}}function Qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function ie(Y){var oe="function"==typeof Symbol&&Symbol.iterator,ne=oe&&Y[oe],ve=0;if(ne)return ne.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ve>=Y.length&&(Y=void 0),{value:Y&&Y[ve++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ne={},ve("next"),ve("throw"),ve("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ve(Fe){ne[Fe]=Y[Fe]&&function(ft){return new Promise(function(Kt,jt){!function ce(Fe,ft,Kt,jt){Promise.resolve(jt).then(function(Ye){Fe({value:Ye,done:Kt})},ft)}(Kt,jt,(ft=Y[Fe](ft)).done,ft.value)})}}}F.d(we,{FC:()=>Se,KL:()=>Qe,_T:()=>he,mG:()=>le,qq:()=>ge})},5e3:(Xe,we,F)=>{F.d(we,{$8M:()=>Tc,$Z:()=>k1,AFp:()=>vg,AaK:()=>le,Akn:()=>Ys,AsE:()=>Hh,BQk:()=>N,CHM:()=>$o,CRH:()=>sp,CZH:()=>Ey,CqO:()=>Hi,DdM:()=>KT,EJc:()=>kI,EpF:()=>Rw,F$t:()=>zE,F4k:()=>UE,FYo:()=>oy,FiY:()=>kr,G48:()=>on,Gf:()=>dI,GfV:()=>ay,GkF:()=>Ws,Gpc:()=>z,HTZ:()=>Ib,Hh0:()=>ag,Hsn:()=>GE,JOm:()=>k,LFG:()=>lt,LSH:()=>hh,Lbi:()=>MI,MAs:()=>SE,NdJ:()=>Ks,OlP:()=>Mn,Oqu:()=>Ww,PXZ:()=>jD,Q6J:()=>LE,QGY:()=>Pw,Qsj:()=>qT,R0b:()=>ko,RDi:()=>bu,Rgc:()=>fd,SBq:()=>rg,Sil:()=>ND,Suo:()=>rp,TTD:()=>ms,TgZ:()=>kw,Tol:()=>zw,Udp:()=>V_,VKq:()=>YT,VLi:()=>UD,W1O:()=>fI,WLB:()=>pd,X6Q:()=>Cg,XFs:()=>vt,Xpm:()=>_t,Y36:()=>P_,YKP:()=>og,YNc:()=>TE,Yjl:()=>dl,Yz7:()=>sn,ZZ4:()=>or,_Bn:()=>HT,_UZ:()=>BE,_Vd:()=>Wh,_c5:()=>GI,_uU:()=>lT,aQg:()=>hp,c2e:()=>Ty,cJS:()=>en,cg1:()=>Kf,dDg:()=>Sy,deG:()=>Am,dqk:()=>qt,eFA:()=>RI,ekj:()=>jw,f3M:()=>Vt,g9A:()=>$b,h0i:()=>Kh,hGG:()=>QD,hij:()=>H_,iGM:()=>uI,ifc:()=>Yt,ip1:()=>Cy,kEZ:()=>QT,kL8:()=>G_,l5B:()=>JT,lG2:()=>Xl,n5z:()=>Ec,oAB:()=>Ji,oJD:()=>dh,oxw:()=>Lw,q4F:()=>Gi,qLn:()=>vh,qOj:()=>ww,qZA:()=>Ow,qbA:()=>Xc,rFY:()=>Qh,sBO:()=>qD,sIi:()=>kh,s_b:()=>tu,soG:()=>Iy,tBr:()=>mr,tb:()=>Zb,tp0:()=>$a,uIk:()=>Vf,vHH:()=>Ne,vpe:()=>Ya,wAp:()=>Ct,xp6:()=>a_,ynx:()=>Do,z2F:()=>xy,zSh:()=>fw,zs3:()=>Wa});var s=F(7579),ee=F(727),L=F(8306),he=F(6451),se=F(3099);function _e(a){for(let l in a)if(a[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function de(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function le(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(le).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=_e({__forward_ref__:_e});function z(a){return a.__forward_ref__=z,a.toString=function(){return le(this())},a}function ie(a){return $e(a)?a():a}function $e(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===z}class Ne extends Error{constructor(l,u){super(function He(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ge(a){return"string"==typeof a?a:null==a?"":String(a)}function Se(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ge(a)}function Ee(a,l){const u=l?` in ${l}`:"";throw new Ne(-201,`No provider for ${Se(a)} found${u}`)}function jt(a,l){null==a&&function Ye(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function sn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function en(a){return{providers:a.providers||[],imports:a.imports||[]}}function zt(a){return ls(a,cs)||ls(a,ur)}function ls(a,l){return a.hasOwnProperty(l)?a[l]:null}function Qi(a){return a&&(a.hasOwnProperty(lo)||a.hasOwnProperty(Zr))?a[lo]:null}const cs=_e({\u0275prov:_e}),lo=_e({\u0275inj:_e}),ur=_e({ngInjectableDef:_e}),Zr=_e({ngInjectorDef:_e});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Er;function Nn(a){const l=Er;return Er=a,l}function co(a,l,u){const d=zt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&vt.Optional?null:void 0!==l?l:void Ee(le(a),"Injector")}function hi(a){return{toString:a}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),Yt=(()=>{return(a=Yt||(Yt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Yt;var a})();const ut="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Ai="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=ut||"undefined"!=typeof global&&global||Et||Ai,ki={},H=[],Z=_e({\u0275cmp:_e}),W=_e({\u0275dir:_e}),xe=_e({\u0275pipe:_e}),$=_e({\u0275mod:_e}),te=_e({\u0275fac:_e}),Pe=_e({__NG_ELEMENT_ID__:_e});let et=0;function _t(a){return hi(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||H,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Yt.Emulated,id:"c",styles:a.styles||H,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,_=a.features,w=a.pipes;return d.id+=et++,d.inputs=ul(a.inputs,u),d.outputs=ul(a.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(yn):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(It):null,d})}function yn(a){return ti(a)||function Xi(a){return a[W]||null}(a)}function It(a){return function Rs(a){return a[xe]||null}(a)}const ei={};function Ji(a){return hi(()=>{const l={type:a.type,bootstrap:a.bootstrap||H,declarations:a.declarations||H,imports:a.imports||H,exports:a.exports||H,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ei[a.id]=a.type),l})}function ul(a,l){if(null==a)return ki;const u={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=d,l&&(l[p]=_)}return u}const Xl=_t;function dl(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ti(a){return a[Z]||null}function ni(a,l){const u=a[$]||null;if(!u&&!0===l)throw new Error(`Type ${le(a)} does not have '\u0275mod' property.`);return u}function wn(a){return Array.isArray(a)&&"object"==typeof a[1]}function hs(a){return Array.isArray(a)&&!0===a[1]}function nc(a){return 0!=(8&a.flags)}function Md(a){return 2==(2&a.flags)}function ps(a){return 1==(1&a.flags)}function fs(a){return null!==a.template}function Oi(a){return 0!=(512&a[2])}function Pi(a,l){return a.hasOwnProperty(te)?a[te]:null}class jo{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ms(){return Da}function Da(a){return a.type.prototype.ngOnChanges&&(a.setInput=Up),Vd}function Vd(){const a=zo(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===ki)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Up(a,l,u,d){const p=zo(a)||function Aa(a,l){return a[Gn]=l}(a,{previous:ki,current:null}),_=p.current||(p.current={}),w=p.previous,C=this.declaredInputs[u],T=w[C];_[C]=new jo(T&&T.currentValue,l,w===ki),a[d]=l}ms.ngInherit=!0;const Gn="__ngSimpleChanges__";function zo(a){return a[Gn]||null}let ka;function bu(a){ka=a}function _s(){return void 0!==ka?ka:"undefined"!=typeof document?document:void 0}function pn(a){return!!a.listen}const gl={createRenderer:(a,l)=>_s()};function an(a){for(;Array.isArray(a);)a=a[0];return a}function mo(a,l){return an(l[a])}function vi(a,l){return an(l[a.index])}function In(a,l){return a.data[l]}function wi(a,l){const u=l[a];return wn(u)?u:u[0]}function qo(a){return 4==(4&a[2])}function Ns(a){return 128==(128&a[2])}function Kr(a,l){return null==l?null:a[l]}function vs(a){a[18]=0}function Oa(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const wt={lFrame:Na(null),bindingsEnabled:!0};function oc(){return wt.bindingsEnabled}function Ae(){return wt.lFrame.lView}function Gt(){return wt.lFrame.tView}function $o(a){return wt.lFrame.contextLView=a,a[8]}function En(){let a=ac();for(;null!==a&&64===a.type;)a=a.parent;return a}function ac(){return wt.lFrame.currentTNode}function xr(a,l){const u=wt.lFrame;u.currentTNode=a,u.isParent=l}function Su(){return wt.lFrame.isParent}function xu(){wt.lFrame.isParent=!1}function Fi(){const a=wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function yo(){return wt.lFrame.bindingIndex++}function Yr(a){const l=wt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function uc(a,l){const u=wt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Pa(l)}function Pa(a){wt.lFrame.currentDirectiveIndex=a}function hc(){return wt.lFrame.currentQueryIndex}function jd(a){wt.lFrame.currentQueryIndex=a}function zd(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function pc(a,l,u){if(u&vt.SkipSelf){let p=l,_=a;for(;!(p=p.parent,null!==p||u&vt.Host||(p=zd(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;l=p,a=_}const d=wt.lFrame=Gd();return d.currentTNode=l,d.lView=a,!0}function Wo(a){const l=Gd(),u=a[1];wt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Gd(){const a=wt.lFrame,l=null===a?null:a.child;return null===l?Na(a):l}function Na(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function qd(){const a=wt.lFrame;return wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const fc=qd;function gr(){const a=qd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function pi(){return wt.lFrame.selectedIndex}function Ko(a){wt.lFrame.selectedIndex=a}function qn(){const a=wt.lFrame;return In(a.tView,a.selectedIndex)}function vl(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:O}=_;w&&(a.contentHooks||(a.contentHooks=[])).push(-u,w),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function Ls(a,l,u){Zd(a,l,3,u)}function Yo(a,l,u,d){(3&a[2])===u&&Zd(a,l,u,d)}function ii(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Zd(a,l,u,d){const _=null!=d?d:-1,w=l.length-1;let C=0;for(let T=void 0!==d?65535&a[18]:0;T<w;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=d&&C>=d)break}else l[T]<0&&(a[18]+=65536),(C<_||-1==_)&&(Tm(a,u,l,T),a[18]=(4294901760&a[18])+T+2),T++}function Tm(a,l,u,d){const p=u[d]<0,_=u[d+1],C=a[p?-u[d]:u[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(C)}finally{}}}else try{_.call(C)}finally{}}class Fa{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Ar(a,l,u){const d=pn(a);let p=0;for(;p<u.length;){const _=u[p];if("number"==typeof _){if(0!==_)break;p++;const w=u[p++],C=u[p++],T=u[p++];d?a.setAttribute(l,C,T,w):l.setAttributeNS(w,C,T)}else{const w=_,C=u[++p];Bs(w)?d&&a.setProperty(l,w,C):d?a.setAttribute(l,w,C):l.setAttribute(w,C),p++}}return p}function Mr(a){return 3===a||4===a||6===a}function Bs(a){return 64===a.charCodeAt(0)}function La(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?u=p:0===u||Zn(a,u,p,null,-1===u||2===u?l[++d]:null)}}return a}function Zn(a,l,u,d,p){let _=0,w=a.length;if(-1===l)w=-1;else for(;_<a.length;){const C=a[_++];if("number"==typeof C){if(C===l){w=-1;break}if(C>l){w=_-1;break}}}for(;_<a.length;){const C=a[_];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==p&&(a[_+1]=p));if(d===a[_+1])return void(a[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(a.splice(w,0,l),_=w+1),a.splice(_++,0,u),null!==d&&a.splice(_++,0,d),null!==p&&a.splice(_++,0,p)}function Jo(a){return-1!==a}function Xo(a){return 32767&a}function Us(a,l){let u=function nn(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let Va=!0;function ea(a){const l=Va;return Va=a,l}let Ba=0;function ws(a,l){const u=bs(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Pt(d.data,a),Pt(l,null),Pt(d.blueprint,null));const p=bi(a,l),_=a.injectorIndex;if(Jo(p)){const w=Xo(p),C=Us(p,l),T=C[1].data;for(let A=0;A<8;A++)l[_+A]=C[w+A]|T[w+A]}return l[_+8]=p,_}function Pt(a,l){a.push(0,0,0,0,0,0,0,0,l)}function bs(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function bi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,p=l;for(;null!==p;){const _=p[1],w=_.type;if(d=2===w?_.declTNode:1===w?p[6]:null,null===d)return-1;if(u++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function wl(a,l,u){!function _c(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Pe)&&(d=u[Pe]),null==d&&(d=u[Pe]=Ba++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function Ua(a,l,u){if(u&vt.Optional)return a;Ee(l,"NodeInjector")}function bl(a,l,u,d){if(u&vt.Optional&&void 0===d&&(d=null),0==(u&(vt.Self|vt.Host))){const p=a[9],_=Nn(void 0);try{return p?p.get(l,d,u&vt.Optional):co(l,d,u&vt.Optional)}finally{Nn(_)}}return Ua(d,l,u)}function Ru(a,l,u,d=vt.Default,p){if(null!==a){const _=function Cl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Pe)?a[Pe]:void 0;return"number"==typeof l?l>=0?255&l:vc:l}(u);if("function"==typeof _){if(!pc(l,a,d))return d&vt.Host?Ua(p,u,d):bl(l,u,d,p);try{const w=_(d);if(null!=w||d&vt.Optional)return w;Ee(u)}finally{fc()}}else if("number"==typeof _){let w=null,C=bs(a,l),T=-1,A=d&vt.Host?l[16][6]:null;for((-1===C||d&vt.SkipSelf)&&(T=-1===C?bi(a,l):l[C+8],-1!==T&&Yd(d,!1)?(w=l[1],C=Xo(T),l=Us(T,l)):C=-1);-1!==C;){const O=l[1];if(Cc(_,C,O.data)){const B=Dm(C,l,u,w,d,A);if(B!==vo)return B}T=l[C+8],-1!==T&&Yd(d,l[1].data[C+8]===A)&&Cc(_,C,l)?(w=O,C=Xo(T),l=Us(T,l)):C=-1}}}return bl(l,u,d,p)}const vo={};function vc(){return new wo(En(),Ae())}function Dm(a,l,u,d,p,_){const w=l[1],C=w.data[a+8],O=wc(C,w,u,null==d?Md(C)&&Va:d!=w&&0!=(3&C.type),p&vt.Host&&_===C);return null!==O?bc(l,w,O,C):vo}function wc(a,l,u,d,p){const _=a.providerIndexes,w=l.data,C=1048575&_,T=a.directiveStart,O=_>>20,j=p?C+O:a.directiveEnd;for(let X=d?C:C+O;X<j;X++){const be=w[X];if(X<T&&u===be||X>=T&&be.type===u)return X}if(p){const X=w[T];if(X&&fs(X)&&X.type===u)return T}return null}function bc(a,l,u,d){let p=a[u];const _=l.data;if(function gc(a){return a instanceof Fa}(p)){const w=p;w.resolving&&function Ze(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${a}${u}`)}(Se(_[u]));const C=ea(w.canSeeViewProviders);w.resolving=!0;const T=w.injectImpl?Nn(w.injectImpl):null;pc(a,d,vt.Default);try{p=a[u]=w.factory(void 0,_,a,d),l.firstCreatePass&&u>=d.directiveStart&&function mv(a,l,u){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=l.type.prototype;if(d){const w=Da(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,w)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==T&&Nn(T),ea(C),w.resolving=!1,fc()}}return p}function Cc(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Yd(a,l){return!(a&vt.Self||a&vt.Host&&l)}class wo{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Ru(this._tNode,this._lView,l,d,u)}}function Ec(a){return hi(()=>{const l=a.prototype.constructor,u=l[te]||El(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const _=p[te]||El(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function El(a){return $e(a)?()=>{const l=El(ie(a));return l&&l()}:Pi(a)}function Tc(a){return function yc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let p=0;for(;p<d;){const _=u[p];if(Mr(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof u[p];)p++;else{if(_===l)return u[p+1];p+=2}}}return null}(En(),a)}const Ha="__parameters__";function ja(a,l,u){return hi(()=>{const d=function Pu(a){return function(...u){if(a){const d=a(...u);for(const p in d)this[p]=d[p]}}}(l);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return C.annotation=w,C;function C(T,A,O){const B=T.hasOwnProperty(Ha)?T[Ha]:Object.defineProperty(T,Ha,{value:[]})[Ha];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(w),T}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class Mn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Am=new Mn("AnalyzeForEntryComponents");function Ci(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),Ci(d,l)):l!==a&&l.push(d)}return l}function Li(a,l){a.forEach(u=>Array.isArray(u)?Li(u,l):l(u))}function Ei(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function na(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Jr(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function Vi(a,l,u){let d=za(a,l);return d>=0?a[1|d]=u:(d=~d,function ia(a,l,u,d){let p=a.length;if(p==l)a.push(u,d);else if(1===p)a.push(d,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function xc(a,l){const u=za(a,l);if(u>=0)return a[1|u]}function za(a,l){return function Es(a,l,u){let d=0,p=a.length>>u;for(;p!==d;){const _=d+(p-d>>1),w=a[_<<u];if(l===w)return _<<u;w>l?p=_:d=_+1}return~(p<<u)}(a,l,1)}const Ts={},qa="__NG_DI_FLAG__",sa="ngTempTokenPath",x=/\n/gm,U="__source",J=_e({provide:String,useValue:_e});let ae;function Oe(a){const l=ae;return ae=a,l}function st(a,l=vt.Default){if(void 0===ae)throw new Ne(203,"");return null===ae?co(a,void 0,l):ae.get(a,l&vt.Optional?null:void 0,l)}function lt(a,l=vt.Default){return(function An(){return Er}()||st)(ie(a),l)}const Vt=lt;function Tt(a){const l=[];for(let u=0;u<a.length;u++){const d=ie(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let p,_=vt.Default;for(let w=0;w<d.length;w++){const C=d[w],T=Kn(C);"number"==typeof T?-1===T?p=C.token:_|=T:p=C}l.push(lt(p,_))}else l.push(lt(d))}return l}function ri(a,l){return a[qa]=l,a.prototype[qa]=l,a}function Kn(a){return a[qa]}const mr=ri(ja("Inject",a=>({token:a})),-1),kr=ri(ja("Optional"),8),$a=ri(ja("SkipSelf"),4);let Hu,Nc;function Pc(a){var l;return(null===(l=function sh(){if(void 0===Hu&&(Hu=null,qt.trustedTypes))try{Hu=qt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Hu}())||void 0===l?void 0:l.createHTML(a))||a}function Lm(a){var l;return(null===(l=function Qp(){if(void 0===Nc&&(Nc=null,qt.trustedTypes))try{Nc=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Nc}())||void 0===l?void 0:l.createHTML(a))||a}class Bm{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function To(a){return a instanceof Bm?a.changingThisBreaksApplicationSecurity:a}function zu(a,l){const u=function ef(a){return a instanceof Bm&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}class Hm{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Pc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class jm{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Pc(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Pc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const w=u.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const w0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ah(a){return(a=String(a)).match(w0)||a.match(Lc)?a:"unsafe:"+a}function Is(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Vc(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const Bc=Is("area,br,col,hr,img,wbr"),nf=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gm=Is("rp,rt"),qu=Vc(Bc,Vc(nf,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vc(Gm,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vc(Gm,nf)),lh=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rf=Is("srcset"),$m=Vc(lh,rf,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ch=Is("script,style,template");class sf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!qu.hasOwnProperty(u))return this.sanitizedSomething=!0,!ch.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),w=_.name,C=w.toLowerCase();if(!$m.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=_.value;lh[C]&&(T=ah(T)),rf[C]&&(a=T,T=(a=String(a)).split(",").map(l=>ah(l.trim())).join(", ")),this.buf.push(" ",w,'="',uh(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();qu.hasOwnProperty(u)&&!Bc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(uh(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Ev=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tv=/([^\#-~ |!])/g;function uh(a){return a.replace(/&/g,"&amp;").replace(Ev,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Tv,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tl;function Or(a){return"content"in a&&function Uc(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function dh(a){const l=nr();return l?Lm(l.sanitize(Sn.HTML,a)||""):zu(a,"HTML")?Lm(To(a)):function Iv(a,l){let u=null;try{Tl=Tl||function Fc(a){const l=new jm(a);return function wv(){try{return!!(new window.DOMParser).parseFromString(Pc(""),"text/html")}catch(a){return!1}}()?new Hm(l):l}(a);let d=l?String(l):"";u=Tl.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=u.innerHTML,u=Tl.getInertBodyElement(d)}while(d!==_);return Pc((new sf).sanitizeChildren(Or(u)||u))}finally{if(u){const d=Or(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(_s(),ge(a))}function hh(a){const l=nr();return l?l.sanitize(Sn.URL,a)||"":zu(a,"URL")?To(a):ah(ge(a))}function nr(){const a=Ae();return a&&a[12]}const Zu="__ngContext__";function Ti(a,l){a[Zu]=l}function Hc(a){const l=function Il(a){return a[Zu]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function yh(a){return a.ngOriginalError}function Rv(a,...l){a.error(...l)}class vh{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function Km(a){return a&&a.ngErrorLogger||Rv}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&yh(l);for(;u&&yh(u);)u=yh(u);return u||null}}const la=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function v(a){return a instanceof Function?a():a}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function fe(a,l){return undefined(a,l)}function mt(a){const l=a[3];return hs(l)?l[3]:l}function Pr(a){return Io(a[13])}function Sl(a){return Io(a[4])}function Io(a){for(;null!==a&&!hs(a);)a=a[4];return a}function xl(a,l,u,d,p){if(null!=d){let _,w=!1;hs(d)?_=d:wn(d)&&(w=!0,d=d[0]);const C=an(d);0===a&&null!==u?null==p?Fx(l,u,C):bh(l,u,C,p||null,!0):1===a&&null!==u?bh(l,u,C,p||null,!0):2===a?function Vx(a,l,u){const d=Lv(a,l);d&&function HO(a,l,u,d){pn(a)?a.removeChild(l,u,d):l.removeChild(u)}(a,d,l,u)}(l,C,w):3===a&&l.destroyNode(C),null!=_&&function zO(a,l,u,d,p){const _=u[7];_!==an(u)&&xl(l,a,d,_,p);for(let C=10;C<u.length;C++){const T=u[C];yf(T[1],T,a,l,d,_)}}(l,a,_,u,p)}}function Qu(a,l,u){if(pn(a))return a.createElement(l,u);{const d=null!==u?function wu(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function Nv(a,l){const u=a[9],d=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,Oa(p,-1)),u.splice(d,1)}function gf(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const p=d[17];null!==p&&p!==a&&Nv(p,d),l>0&&(a[u-1][4]=d[4]);const _=na(a,10+l);!function pf(a,l){yf(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const w=_[19];null!==w&&w.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Fv(a,l){if(!(256&l[2])){const u=l[11];pn(u)&&u.destroyNode&&yf(a,l,u,3,null,null),function Ju(a){let l=a[13];if(!l)return t_(a[1],a);for(;l;){let u=null;if(wn(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)wn(l)&&t_(l[1],l),l=l[3];null===l&&(l=a),wn(l)&&t_(l[1],l),u=l&&l[4]}l=u}}(l)}}function t_(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function Rx(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const p=l[u[d]];if(!(p instanceof Fa)){const _=u[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const C=p[_[w]],T=_[w+1];try{T.call(C)}finally{}}else try{_.call(p)}finally{}}}}(a,l),function I0(a,l){const u=a.cleanup,d=l[7];let p=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const w=u[_+1],C="function"==typeof w?w(l):an(l[w]),T=d[p=u[_+2]],A=u[_+3];"boolean"==typeof A?C.removeEventListener(u[_],T,A):A>=0?d[p=A]():d[p=-A].unsubscribe(),_+=2}else{const w=d[p=u[_+1]];u[_].call(w)}if(null!==d){for(let _=p+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&pn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&hs(l[3])){u!==l[3]&&Nv(u,l);const d=l[19];null!==d&&d.detachView(a)}}}function Px(a,l,u){return function Nx(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===Yt.None||p===Yt.Emulated)return null}return vi(d,u)}(a,l.parent,u)}function bh(a,l,u,d,p){pn(a)?a.insertBefore(l,u,d,p):l.insertBefore(u,d,p)}function Fx(a,l,u){pn(a)?a.appendChild(l,u):l.appendChild(u)}function Lx(a,l,u,d,p){null!==d?bh(a,l,u,d,p):Fx(a,l,u)}function Lv(a,l){return pn(a)?a.parentNode(l):l.parentNode}function S0(a,l,u){return Vv(a,l,u)}let Vv=function x0(a,l,u){return 40&a.type?vi(a,u):null};function _f(a,l,u,d){const p=Px(a,d,l),_=l[11],C=S0(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(u))for(let T=0;T<u.length;T++)Lx(_,p,u[T],C,!1);else Lx(_,p,u,C,!1)}function i_(a,l){if(null!==l){const u=l.type;if(3&u)return vi(l,a);if(4&u)return Bv(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return i_(a,d);{const p=a[l.index];return hs(p)?Bv(-1,p):an(p)}}if(32&u)return fe(l,a)()||an(a[l.index]);{const d=r_(a,l);return null!==d?Array.isArray(d)?d[0]:i_(mt(a[16]),d):i_(a,l.next)}}return null}function r_(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Bv(a,l){const u=10+a+1;if(u<l.length){const d=l[u],p=d[1].firstChild;if(null!==p)return i_(d,p)}return l[7]}function D0(a,l,u,d,p,_,w){for(;null!=u;){const C=d[u.index],T=u.type;if(w&&0===l&&(C&&Ti(an(C),d),u.flags|=4),64!=(64&u.flags))if(8&T)D0(a,l,u.child,d,p,_,!1),xl(l,a,p,C,_);else if(32&T){const A=fe(u,d);let O;for(;O=A();)xl(l,a,p,O,_);xl(l,a,p,C,_)}else 16&T?Ux(a,l,d,u,p,_):xl(l,a,p,C,_);u=w?u.projectionNext:u.next}}function yf(a,l,u,d,p,_){D0(u,d,a.firstChild,l,p,_,!1)}function Ux(a,l,u,d,p,_){const w=u[16],T=w[6].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)xl(l,a,p,T[A],_);else D0(a,l,T,w[3],p,_,!0)}function $s(a,l,u){pn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Uv(a,l,u){pn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function A0(a,l,u){let d=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const _=l.length;if(p+_===d||a.charCodeAt(p+_)<=32)return p}u=p+1}}const M0="ng-template";function k0(a,l,u){let d=0;for(;d<a.length;){let p=a[d++];if(u&&"class"===p){if(p=a[d],-1!==A0(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function O0(a){return 4===a.type&&a.value!==M0}function Ch(a,l,u){return l===(4!==a.type||u?a.value:M0)}function Hx(a,l,u){let d=4;const p=a.attrs||[],_=function zx(a){for(let l=0;l<a.length;l++)if(Mr(a[l]))return l;return a.length}(p);let w=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!w)if(4&d){if(d=2|1&d,""!==T&&!Ch(a,T,u)||""===T&&1===l.length){if(ca(d))return!1;w=!0}}else{const A=8&d?T:l[++C];if(8&d&&null!==a.attrs){if(!k0(a.attrs,A,u)){if(ca(d))return!1;w=!0}continue}const B=Hv(8&d?"class":T,p,O0(a),u);if(-1===B){if(ca(d))return!1;w=!0;continue}if(""!==A){let j;j=B>_?"":p[B+1].toLowerCase();const X=8&d?j:null;if(X&&-1!==A0(X,A,0)||2&d&&A!==j){if(ca(d))return!1;w=!0}}}}else{if(!w&&!ca(d)&&!ca(T))return!1;if(w&&ca(T))continue;w=!1,d=T|1&d}}return ca(d)||w}function ca(a){return 0==(1&a)}function Hv(a,l,u,d){if(null===l)return-1;let p=0;if(d||!u){let _=!1;for(;p<l.length;){const w=l[p];if(w===a)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function Gx(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function jv(a,l,u=!1){for(let d=0;d<l.length;d++)if(Hx(a,l[d],u))return!0;return!1}function R0(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function vf(a,l){return a?":not("+l.trim()+")":l}function qx(a){let l=a[0],u=1,d=2,p="",_=!1;for(;u<a.length;){let w=a[u];if("string"==typeof w)if(2&d){const C=a[++u];p+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!ca(w)&&(l+=vf(_,p),p=""),d=w,_=_||!ca(d);u++}return""!==p&&(l+=vf(_,p)),l}const Lt={};function a_(a){Dl(Gt(),Ae(),pi()+a,!1)}function Dl(a,l,u,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Ls(l,_,u)}else{const _=a.preOrderHooks;null!==_&&Yo(l,_,0,u)}Ko(u)}function Al(a,l){return a<<17|l<<2}function Ss(a){return a>>17&32767}function Ui(a){return 2|a}function ua(a){return(131068&a)>>2}function Gc(a,l){return-131069&a|l<<2}function Ml(a){return 1|a}function Yv(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d],_=u[d+1];if(-1!==_){const w=a.data[_];jd(p),w.contentQueries(2,l[_],_)}}}function Ef(a,l,u,d,p,_,w,C,T,A){const O=l.blueprint.slice();return O[0]=p,O[2]=140|d,vs(O),O[3]=O[15]=a,O[8]=u,O[10]=w||a&&a[10],O[11]=C||a&&a[11],O[12]=T||a&&a[12]||null,O[9]=A||a&&a[9]||null,O[6]=_,O[16]=2==l.type?a[16]:O,O}function ed(a,l,u,d,p){let _=a.data[l];if(null===_)_=function p_(a,l,u,d,p){const _=ac(),w=Su(),T=a.data[l]=function Xv(a,l,u,d,p,_){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,u,l,d,p);return null===a.firstChild&&(a.firstChild=T),null!==_&&(w?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(a,l,u,d,p),function Au(){return wt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=d,_.attrs=p;const w=function Zo(){const a=wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return xr(_,!0),_}function Rl(a,l,u,d){if(0===u)return-1;const p=l.length;for(let _=0;_<u;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function pa(a,l,u){Wo(l);try{const d=a.viewQuery;null!==d&&w_(1,d,u);const p=a.template;null!==p&&z0(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Yv(a,l),a.staticViewQueries&&w_(2,a.viewQuery,u);const _=a.components;null!==_&&function j0(a,l){for(let u=0;u<l.length;u++)y_(a,l[u])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,gr()}}function Ut(a,l,u,d){const p=l[2];if(256!=(256&p)){Wo(l);try{vs(l),function lc(a){return wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&z0(a,l,u,2,d);const w=3==(3&p);if(w){const A=a.preOrderCheckHooks;null!==A&&Ls(l,A,null)}else{const A=a.preOrderHooks;null!==A&&Yo(l,A,0,null),ii(l,0)}if(function o1(a){for(let l=Pr(a);null!==l;l=Sl(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const p=u[d],_=p[3];0==(1024&p[2])&&Oa(_,1),p[2]|=1024}}}(l),function Df(a){for(let l=Pr(a);null!==l;l=Sl(l))for(let u=10;u<l.length;u++){const d=l[u],p=d[1];Ns(d)&&Ut(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&Yv(a,l),w){const A=a.contentCheckHooks;null!==A&&Ls(l,A)}else{const A=a.contentHooks;null!==A&&Yo(l,A,1),ii(l,1)}!function H0(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)Ko(~p);else{const _=p,w=u[++d],C=u[++d];uc(w,_),C(2,l[_])}}}finally{Ko(-1)}}(a,l);const C=a.components;null!==C&&function Xx(a,l){for(let u=0;u<l.length;u++)a1(a,l[u])}(l,C);const T=a.viewQuery;if(null!==T&&w_(2,T,d),w){const A=a.viewCheckHooks;null!==A&&Ls(l,A)}else{const A=a.viewHooks;null!==A&&Yo(l,A,2),ii(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,Oa(l[3],-1))}finally{gr()}}}function Tf(a,l,u,d){const p=l[10],w=qo(l);try{!w&&p.begin&&p.begin(),w&&pa(a,l,d),Ut(a,l,u,d)}finally{!w&&p.end&&p.end()}}function z0(a,l,u,d,p){const _=pi(),w=2&d;try{Ko(-1),w&&l.length>20&&Dl(a,l,20,!1),u(d,p)}finally{Ko(_)}}function $c(a,l,u){if(nc(l)){const p=l.directiveEnd;for(let _=l.directiveStart;_<p;_++){const w=a.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}}function Qv(a,l,u){!oc()||(function rw(a,l,u,d){const p=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||ws(u,l),Ti(d,l);const w=u.initialInputs;for(let C=p;C<_;C++){const T=a.data[C],A=fs(T);A&&__(l,u,T);const O=bc(l,a,C,u);Ti(O,l),null!==w&&Y0(0,C-p,O,T,0,w),A&&(wi(u.index,l)[8]=O)}}(a,l,u,vi(u,l)),128==(128&u.flags)&&function Pl(a,l,u){const d=u.directiveStart,p=u.directiveEnd,w=u.index,C=function Mu(){return wt.lFrame.currentDirectiveIndex}();try{Ko(w);for(let T=d;T<p;T++){const A=a.data[T],O=l[T];Pa(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&td(A,O)}}finally{Ko(-1),Pa(C)}}(a,l,u))}function f_(a,l,u=vi){const d=l.localNames;if(null!==d){let p=l.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],C=-1===w?u(l,a):a[w];a[p++]=C}}}function Jv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=g_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function g_(a,l,u,d,p,_,w,C,T,A){const O=20+d,B=O+p,j=function m_(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:Lt);return u}(O,B),X="function"==typeof A?A():A;return j[1]={type:a,blueprint:j,template:u,queries:null,viewQuery:C,declTNode:l,data:j.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function G0(a,l,u,d){const p=b_(l);null===u?p.push(d):(p.push(u),a.firstCreatePass&&tE(a).push(d,p.length-1))}function Sf(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,p):u[d]=[l,p]}return u}function tw(a,l,u,d){let p=!1;if(oc()){const _=function W0(a,l,u){const d=a.directiveRegistry;let p=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];jv(u,w.selectors,!1)&&(p||(p=[]),wl(ws(u,l),a,w.type),fs(w)?(sw(a,u),p.unshift(w)):p.push(w))}return p}(a,l,u),w=null===d?null:{"":-1};if(null!==_){p=!0,ow(u,a.data.length,_.length);for(let O=0;O<_.length;O++){const B=_[O];B.providersResolver&&B.providersResolver(B)}let C=!1,T=!1,A=Rl(a,l,_.length,null);for(let O=0;O<_.length;O++){const B=_[O];u.mergedAttrs=La(u.mergedAttrs,B.hostAttrs),K0(a,u,l,A,B),Th(A,B,w),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const j=B.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!T&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),A++}!function q0(a,l){const d=l.directiveEnd,p=a.data,_=l.attrs,w=[];let C=null,T=null;for(let A=l.directiveStart;A<d;A++){const O=p[A],B=O.inputs,j=null===_||O0(l)?null:aw(B,_);w.push(j),C=Sf(B,A,C),T=Sf(O.outputs,A,T)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=C,l.outputs=T}(a,u)}w&&function s1(a,l,u){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const _=u[l[p+1]];if(null==_)throw new Ne(-301,!1);d.push(l[p],_)}}}(u,d,w)}return u.mergedAttrs=La(u.mergedAttrs,u.attrs),p}function nw(a,l,u,d,p,_){const w=_.hostBindings;if(w){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const T=~l.index;(function iw(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=T&&C.push(T),C.push(d,p,w)}}function td(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function sw(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Th(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;fs(l)&&(u[""]=a)}}function ow(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function K0(a,l,u,d,p){a.data[d]=p;const _=p.factory||(p.factory=Pi(p.type)),w=new Fa(_,fs(p),null);a.blueprint[d]=w,u[d]=w,nw(a,l,0,d,Rl(a,u,p.hostVars,Lt),p)}function __(a,l,u){const d=vi(l,a),p=Jv(u),_=a[10],w=Ih(a,Ef(a,p,null,u.onPush?64:16,d,l,_,_.createRenderer(d,u),null,null));a[l.index]=w}function fa(a,l,u,d,p,_){const w=vi(a,l);!function xf(a,l,u,d,p,_,w){if(null==_)pn(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const C=null==w?ge(_):w(_,d||"",p);pn(a)?a.setAttribute(l,p,C,u):u?l.setAttributeNS(u,p,C):l.setAttribute(p,C)}}(l[11],w,_,a.value,u,d,p)}function Y0(a,l,u,d,p,_){const w=_[l];if(null!==w){const C=d.setInput;for(let T=0;T<w.length;){const A=w[T++],O=w[T++],B=w[T++];null!==C?d.setInput(u,B,A,O):u[O]=B}}}function aw(a,l){let u=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[d+1])),d+=2}else d+=2;else d+=4}return u}function J0(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function a1(a,l){const u=wi(l,a);if(Ns(u)){const d=u[1];80&u[2]?Ut(d,u,d.template,u[8]):u[5]>0&&lw(u)}}function lw(a){for(let d=Pr(a);null!==d;d=Sl(d))for(let p=10;p<d.length;p++){const _=d[p];if(1024&_[2]){const w=_[1];Ut(w,_,w.template,_[8])}else _[5]>0&&lw(_)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const p=wi(u[d],a);Ns(p)&&p[5]>0&&lw(p)}}function y_(a,l){const u=wi(l,a),d=u[1];(function Af(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),pa(d,u,u[8])}function Ih(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function v_(a){for(;a;){a[2]|=64;const l=mt(a);if(Oi(a)&&!l)return a;a=l}return null}function eE(a){!function cw(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],d=Hc(u),p=d[1];Tf(p,d,p.template,u)}}(a[8])}function w_(a,l,u){jd(0),l(a,u)}const l1=(()=>Promise.resolve(null))();function b_(a){return a[7]||(a[7]=[])}function tE(a){return a.cleanup||(a.cleanup=[])}function hw(a,l){const u=a[9],d=u?u.get(vh,null):null;d&&d.handleError(l)}function nE(a,l,u,d,p){for(let _=0;_<u.length;){const w=u[_++],C=u[_++],T=l[w],A=a.data[w];null!==A.setInput?A.setInput(T,p,d,C):T[C]=p}}function Nl(a,l,u){const d=mo(l,a);!function Yu(a,l,u){pn(a)?a.setValue(l,u):l.textContent=u}(a[11],d,u)}function C_(a,l,u){let d=u?a.styles:null,p=u?a.classes:null,_=0;if(null!==l)for(let w=0;w<l.length;w++){const C=l[w];"number"==typeof C?_=C:1==_?p=pe(p,C):2==_&&(d=pe(d,C+": "+l[++w]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=p:a.classesWithoutHost=p}const Fl=new Mn("INJECTOR",-1);class iE{get(l,u=Ts){if(u===Ts){const d=new Error(`NullInjectorError: No provider for ${le(l)}!`);throw d.name="NullInjectorError",d}return u}}const fw=new Mn("Set Injector scope."),kf={},c1={};let nd;function Sh(){return void 0===nd&&(nd=new iE),nd}function rE(a,l=null,u=null,d){const p=xh(a,l,u,d);return p._resolveInjectorDefTypes(),p}function xh(a,l=null,u=null,d){return new E_(a,u,l||Sh(),d)}class E_{constructor(l,u,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];u&&Li(u,C=>this.processProvider(C,l,u)),Li([l],C=>this.processInjectorType(C,[],_)),this.records.set(Fl,Dh(void 0,this));const w=this.records.get(fw);this.scope=null!=w?w.value:null,this.source=p||("object"==typeof l?null:le(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Ts,d=vt.Default){this.assertNotDestroyed();const p=Oe(this),_=Nn(void 0);try{if(!(d&vt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function d1(a){return"function"==typeof a||"object"==typeof a&&a instanceof Mn}(l)&&zt(l);C=T&&this.injectableDefInScope(T)?Dh(gw(l),kf):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&vt.Self?Sh():this.parent).get(l,u=d&vt.Optional&&u===Ts?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[sa]=w[sa]||[]).unshift(le(l)),p)throw w;return function oa(a,l,u,d){const p=a[sa];throw l[U]&&p.unshift(l[U]),a.message=function Gs(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=le(l);if(Array.isArray(l))p=l.map(le).join(" -> ");else if("object"==typeof l){let _=[];for(let w in l)if(l.hasOwnProperty(w)){let C=l[w];_.push(w+":"+("string"==typeof C?JSON.stringify(C):le(C)))}p=`{${_.join(", ")}}`}return`${u}${d?"("+d+")":""}[${p}]: ${a.replace(x,"\n  ")}`}("\n"+a.message,p,u,d),a.ngTokenPath=p,a[sa]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{Nn(_),Oe(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,p)=>l.push(le(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(l,u,d){if(!(l=ie(l)))return!1;let p=Qi(l);const _=null==p&&l.ngModule||void 0,w=void 0===_?l:_,C=-1!==d.indexOf(w);if(void 0!==_&&(p=Qi(_)),null==p)return!1;if(null!=p.imports&&!C){let O;d.push(w);try{Li(p.imports,B=>{this.processInjectorType(B,u,d)&&(void 0===O&&(O=[]),O.push(B))})}finally{}if(void 0!==O)for(let B=0;B<O.length;B++){const{ngModule:j,providers:X}=O[B];Li(X,be=>this.processProvider(be,j,X||H))}}this.injectorDefTypes.add(w);const T=Pi(w)||(()=>new w);this.records.set(w,Dh(T,kf));const A=p.providers;if(null!=A&&!C){const O=l;Li(A,B=>this.processProvider(B,O,A))}return void 0!==_&&void 0!==l.providers}processProvider(l,u,d){let p=id(l=ie(l))?l:ie(l&&l.provide);const _=function oE(a,l,u){return T_(a)?Dh(void 0,a.useValue):Dh(aE(a),kf)}(l);if(id(l)||!0!==l.multi)this.records.get(p);else{let w=this.records.get(p);w||(w=Dh(void 0,kf,!0),w.factory=()=>Tt(w.multi),this.records.set(p,w)),p=l,w.multi.push(l)}this.records.set(p,_)}hydrate(l,u){return u.value===kf&&(u.value=c1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function u1(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ie(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function gw(a){const l=zt(a),u=null!==l?l.factory:Pi(a);if(null!==u)return u;if(a instanceof Mn)throw new Ne(204,!1);if(a instanceof Function)return function sE(a){const l=a.length;if(l>0)throw Jr(l,"?"),new Ne(204,!1);const u=function Cr(a){const l=a&&(a[cs]||a[ur]);if(l){const u=function Di(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ne(204,!1)}function aE(a,l,u){let d;if(id(a)){const p=ie(a);return Pi(p)||gw(p)}if(T_(a))d=()=>ie(a.useValue);else if(function lE(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Tt(a.deps||[]));else if(function So(a){return!(!a||!a.useExisting)}(a))d=()=>lt(ie(a.useExisting));else{const p=ie(a&&(a.useClass||a.provide));if(!function S_(a){return!!a.deps}(a))return Pi(p)||gw(p);d=()=>new p(...Tt(a.deps))}return d}function Dh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function T_(a){return null!==a&&"object"==typeof a&&J in a}function id(a){return"function"==typeof a}let Wa=(()=>{class a{static create(u,d){var p;if(Array.isArray(u))return rE({name:""},d,u,"");{const _=null!==(p=u.name)&&void 0!==p?p:"";return rE({name:_},u.parent,u.providers,_)}}}return a.THROW_IF_NOT_FOUND=Ts,a.NULL=new iE,a.\u0275prov=sn({token:a,providedIn:"any",factory:()=>lt(Fl)}),a.__NG_ELEMENT_ID__=-1,a})();function m1(a,l){vl(Hc(a)[1],En())}function ww(a){let l=function mE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let p;if(fs(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ne(903,"");p=l.\u0275dir}if(p){if(u){d.push(p);const w=a;w.inputs=bw(a.inputs),w.declaredInputs=bw(a.declaredInputs),w.outputs=bw(a.outputs);const C=p.hostBindings;C&&v1(a,C);const T=p.viewQuery,A=p.contentQueries;if(T&&y1(a,T),A&&_E(a,A),de(a.inputs,p.inputs),de(a.declaredInputs,p.declaredInputs),de(a.outputs,p.outputs),fs(p)&&p.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const C=_[w];C&&C.ngInherit&&C(a),C===ww&&(u=!1)}}l=Object.getPrototypeOf(l)}!function _1(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=La(p.hostAttrs,u=La(u,p.hostAttrs))}}(d)}function bw(a){return a===ki?{}:a===H?[]:a}function y1(a,l){const u=a.viewQuery;a.viewQuery=u?(d,p)=>{l(d,p),u(d,p)}:l}function _E(a,l){const u=a.contentQueries;a.contentQueries=u?(d,p,_)=>{l(d,p,_),u(d,p,_)}:l}function v1(a,l){const u=a.hostBindings;a.hostBindings=u?(d,p)=>{l(d,p),u(d,p)}:l}let x_=null;function rd(){if(!x_){const a=qt.Symbol;if(a&&a.iterator)x_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(x_=d)}}}return x_}function kh(a){return!!D_(a)&&(Array.isArray(a)||!(a instanceof Map)&&rd()in a)}function D_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ka(a,l,u){return a[l]=u}function Ff(a,l){return a[l]}function Nr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function sd(a,l,u,d){const p=Nr(a,l,u);return Nr(a,l+1,d)||p}function Lf(a,l,u,d,p){const _=sd(a,l,u,d);return Nr(a,l+2,p)||_}function xo(a,l,u,d,p,_){const w=sd(a,l,u,d);return sd(a,l+2,p,_)||w}function Vf(a,l,u,d){const p=Ae();return Nr(p,yo(),l)&&(Gt(),fa(qn(),p,a,l,u,d)),Vf}function Ph(a,l,u,d,p,_){const C=sd(a,function Dr(){return wt.lFrame.bindingIndex}(),u,p);return Yr(2),C?l+ge(u)+d+ge(p)+_:Lt}function TE(a,l,u,d,p,_,w,C){const T=Ae(),A=Gt(),O=a+20,B=A.firstCreatePass?function EE(a,l,u,d,p,_,w,C,T){const A=l.consts,O=ed(l,a,4,w||null,Kr(A,C));tw(l,u,O,Kr(A,T)),vl(l,O);const B=O.tViews=g_(2,O,d,p,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,O),B.queries=l.queries.embeddedTView(O)),O}(O,A,T,l,u,d,p,_,w):A.data[O];xr(B,!1);const j=T[11].createComment("");_f(A,T,j,B),Ti(j,T),Ih(T,T[O]=J0(j,T,j,B)),ps(B)&&Qv(A,T,B),null!=w&&f_(T,B,C)}function SE(a){return function ys(a,l){return a[l]}(function Hd(){return wt.lFrame.contextLView}(),20+a)}function P_(a,l=vt.Default){const u=Ae();return null===u?lt(a,l):Ru(En(),u,ie(a),l)}function k1(){throw new Error("invalid")}function LE(a,l,u){const d=Ae();return Nr(d,yo(),l)&&function Zs(a,l,u,d,p,_,w,C){const T=vi(l,u);let O,A=l.inputs;!C&&null!=A&&(O=A[d])?(nE(a,u,O,d,p),Md(l)&&function t1(a,l){const u=wi(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function $0(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=w?w(p,l.value||"",d):p,pn(_)?_.setProperty(T,d,p):Bs(d)||(T.setProperty?T.setProperty(d,p):T[d]=p))}(Gt(),qn(),d,a,l,d[11],u,!1),LE}function VE(a,l,u,d,p){const w=p?"class":"style";nE(a,u,l.inputs[w],w,d)}function kw(a,l,u,d){const p=Ae(),_=Gt(),w=20+a,C=p[11],T=p[w]=Qu(C,l,function Em(){return wt.lFrame.currentNamespace}()),A=_.firstCreatePass?function yR(a,l,u,d,p,_,w){const C=l.consts,A=ed(l,a,2,p,Kr(C,_));return tw(l,u,A,Kr(C,w)),null!==A.attrs&&C_(A,A.attrs,!1),null!==A.mergedAttrs&&C_(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(w,_,p,0,l,u,d):_.data[w];xr(A,!0);const O=A.mergedAttrs;null!==O&&Ar(C,T,O);const B=A.classes;null!==B&&Uv(C,T,B);const j=A.styles;return null!==j&&$s(C,T,j),64!=(64&A.flags)&&_f(_,p,T,A),0===function yl(){return wt.lFrame.elementDepthCount}()&&Ti(T,p),function Tu(){wt.lFrame.elementDepthCount++}(),ps(A)&&(Qv(_,p,A),$c(_,A,p)),null!==d&&f_(p,A),kw}function Ow(){let a=En();Su()?xu():(a=a.parent,xr(a,!1));const l=a;!function sc(){wt.lFrame.elementDepthCount--}();const u=Gt();return u.firstCreatePass&&(vl(u,a),nc(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Sm(a){return 0!=(16&a.flags)}(l)&&VE(u,l,Ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Wd(a){return 0!=(32&a.flags)}(l)&&VE(u,l,Ae(),l.stylesWithoutHost,!1),Ow}function BE(a,l,u,d){return kw(a,l,u,d),Ow(),BE}function Do(a,l,u){const d=Ae(),p=Gt(),_=a+20,w=p.firstCreatePass?function ga(a,l,u,d,p){const _=l.consts,w=Kr(_,d),C=ed(l,a,8,"ng-container",w);return null!==w&&C_(C,w,!0),tw(l,u,C,Kr(_,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(_,p,d,l,u):p.data[_];xr(w,!0);const C=d[_]=d[11].createComment("");return _f(p,d,C,w),Ti(C,d),ps(w)&&(Qv(p,d,w),$c(p,w,d)),null!=u&&f_(d,w),Do}function N(){let a=En();const l=Gt();return Su()?xu():(a=a.parent,xr(a,!1)),l.firstCreatePass&&(vl(l,a),nc(a)&&l.queries.elementEnd(a)),N}function Ws(a,l,u){return Do(a,l,u),N(),Ws}function Rw(){return Ae()}function Pw(a){return!!a&&"function"==typeof a.then}function UE(a){return!!a&&"function"==typeof a.subscribe}const Hi=UE;function Ks(a,l,u,d){const p=Ae(),_=Gt(),w=En();return function HE(a,l,u,d,p,_,w,C){const T=ps(d),O=a.firstCreatePass&&tE(a),B=l[8],j=b_(l);let X=!0;if(3&d.type||C){const Ue=vi(d,l),nt=C?C(Ue):Ue,Me=j.length,yt=C?Zt=>C(an(Zt[d.index])):d.index;if(pn(u)){let Zt=null;if(!C&&T&&(Zt=function Nw(a,l,u,d){const p=a.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===u&&p[_+1]===d){const C=l[7],T=p[_+2];return C.length>T?C[T]:null}"string"==typeof w&&(_+=2)}return null}(a,l,p,d.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=_,Zt.__ngLastListenerFn__=_,X=!1;else{_=Fw(d,l,B,_,!1);const Wt=u.listen(nt,p,_);j.push(_,Wt),O&&O.push(p,yt,Me,Me+1)}}else _=Fw(d,l,B,_,!0),nt.addEventListener(p,_,w),j.push(_),O&&O.push(p,yt,Me,w)}else _=Fw(d,l,B,_,!1);const be=d.outputs;let Be;if(X&&null!==be&&(Be=be[p])){const Ue=Be.length;if(Ue)for(let nt=0;nt<Ue;nt+=2){const xs=l[Be[nt]][Be[nt+1]].subscribe(_),Ro=j.length;j.push(_,xs),O&&O.push(p,d.index,Ro,-(Ro+1))}}}(_,p,p[11],w,a,l,!!u,d),Ks}function jE(a,l,u,d){try{return!1!==u(d)}catch(p){return hw(a,p),!1}}function Fw(a,l,u,d,p){return function _(w){if(w===Function)return d;const C=2&a.flags?wi(a.index,l):l;0==(32&l[2])&&v_(C);let T=jE(l,0,d,w),A=_.__ngNextListenerFn__;for(;A;)T=jE(l,0,A,w)&&T,A=A.__ngNextListenerFn__;return p&&!1===T&&(w.preventDefault(),w.returnValue=!1),T}}function Lw(a=1){return function jp(a){return(wt.lFrame.contextLView=function ku(a,l){for(;a>0;)l=l[15],a--;return l}(a,wt.lFrame.contextLView))[8]}(a)}function O1(a,l){let u=null;const d=function jx(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const _=l[p];if("*"!==_){if(null===d?jv(a,_,!0):R0(d,_))return p}else u=p}return u}function zE(a){const l=Ae()[16][6];if(!l.projection){const d=l.projection=Jr(a?a.length:1,null),p=d.slice();let _=l.child;for(;null!==_;){const w=a?O1(_,a):0;null!==w&&(p[w]?p[w].projectionNext=_:d[w]=_,p[w]=_),_=_.next}}}function GE(a,l=0,u){const d=Ae(),p=Gt(),_=ed(p,20+a,16,null,u||null);null===_.projection&&(_.projection=l),xu(),64!=(64&_.flags)&&function Bx(a,l,u){Ux(l[11],0,l,u,Px(a,u,l),S0(u.parent||l[6],u,l))}(p,d,_)}function WE(a,l,u,d,p){const _=a[u+1],w=null===l;let C=d?Ss(_):ua(_),T=!1;for(;0!==C&&(!1===T||w);){const O=a[C+1];qf(a[C],l)&&(T=!0,a[C+1]=d?Ml(O):Ui(O)),C=d?Ss(O):ua(O)}T&&(a[u+1]=d?Ui(_):Ml(_))}function qf(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&za(a,l)>=0}const Ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $f(a){return a.substring(Ii.key,Ii.keyEnd)}function KE(a){return a.substring(Ii.value,Ii.valueEnd)}function YE(a,l){const u=Ii.textEnd;return u===l?-1:(l=Ii.keyEnd=function JE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Ii.key=l,u),Kc(a,l,u))}function QE(a,l){const u=Ii.textEnd;let d=Ii.key=Kc(a,l,u);return u===d?-1:(d=Ii.keyEnd=function Uw(a,l,u){let d;for(;l<u&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,u),d=Hw(a,d,u),d=Ii.value=Kc(a,d,u),d=Ii.valueEnd=function Zf(a,l,u){let d=-1,p=-1,_=-1,w=l,C=w;for(;w<u;){const T=a.charCodeAt(w++);if(59===T)return C;34===T||39===T?C=w=XE(a,T,w,u):l===w-4&&85===_&&82===p&&76===d&&40===T?C=w=XE(a,41,w,u):T>32&&(C=w),_=p,p=d,d=-33&T}return C}(a,d,u),Hw(a,d,u))}function Bw(a){Ii.key=0,Ii.keyEnd=0,Ii.value=0,Ii.valueEnd=0,Ii.textEnd=a.length}function Kc(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Hw(a,l,u,d){return(l=Kc(a,l,u))<u&&l++,l}function XE(a,l,u,d){let p=-1,_=u;for(;_<d;){const w=a.charCodeAt(_++);if(w==l&&92!==p)return _;p=92==w&&92===p?0:w}throw new Error}function V_(a,l,u){return ma(a,l,u,!1),V_}function jw(a,l){return ma(a,l,null,!0),jw}function Ys(a){_a(rT,tT,a,!1)}function tT(a,l){for(let u=function F1(a){return Bw(a),QE(a,Kc(a,0,Ii.textEnd))}(l);u>=0;u=QE(l,u))rT(a,$f(l),KE(l))}function zw(a){_a(Vi,Ao,a,!0)}function Ao(a,l){for(let u=function N1(a){return Bw(a),YE(a,Kc(a,0,Ii.textEnd))}(l);u>=0;u=YE(l,u))Vi(a,$f(l),!0)}function ma(a,l,u,d){const p=Ae(),_=Gt(),w=Yr(2);_.firstUpdatePass&&Wf(_,a,w,d),l!==Lt&&Nr(p,w,l)&&sT(_,_.data[pi()],p,p[11],a,p[w+1]=function V1(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=le(To(a)))),a}(l,u),d,w)}function _a(a,l,u,d){const p=Gt(),_=Yr(2);p.firstUpdatePass&&Wf(p,null,_,d);const w=Ae();if(u!==Lt&&Nr(w,_,u)){const C=p.data[pi()];if(aT(C,d)&&!nT(p,_)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(u=pe(T,u||"")),VE(p,C,w,u,d)}else!function L1(a,l,u,d,p,_,w,C){p===Lt&&(p=H);let T=0,A=0,O=0<p.length?p[0]:null,B=0<_.length?_[0]:null;for(;null!==O||null!==B;){const j=T<p.length?p[T+1]:void 0,X=A<_.length?_[A+1]:void 0;let Be,be=null;O===B?(T+=2,A+=2,j!==X&&(be=B,Be=X)):null===B||null!==O&&O<B?(T+=2,be=O):(A+=2,be=B,Be=X),null!==be&&sT(a,l,u,d,be,Be,w,C),O=T<p.length?p[T]:null,B=A<_.length?_[A]:null}}(p,C,w,w[11],w[_+1],w[_+1]=function B_(a,l,u){if(null==u||""===u)return H;const d=[],p=To(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)a(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&a(d,_,p[_]);else"string"==typeof p&&l(d,p);return d}(a,l,u),d,_)}}function nT(a,l){return l>=a.expandoStartIndex}function Wf(a,l,u,d){const p=a.data;if(null===p[u+1]){const _=p[pi()],w=nT(a,u);aT(_,d)&&null===l&&!w&&(l=!1),l=function Gw(a,l,u,d){const p=function dc(a){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(u=Uh(u=Zw(null,a,l,u,d),l.attrs,d),_=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==p)if(u=Zw(p,a,l,u,d),null===_){let T=function qw(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==ua(d))return a[Ss(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=Zw(null,a,l,T[1],d),T=Uh(T,l.attrs,d),function $w(a,l,u,d){a[Ss(u?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else _=function iT(a,l,u){let d;const p=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<p;_++)d=Uh(d,a[_].hostAttrs,u);return Uh(d,l.attrs,u)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),u}(p,_,l,d),function R1(a,l,u,d,p,_){let w=_?l.classBindings:l.styleBindings,C=Ss(w),T=ua(w);a[d]=u;let O,A=!1;if(Array.isArray(u)){const B=u;O=B[1],(null===O||za(B,O)>0)&&(A=!0)}else O=u;if(p)if(0!==T){const j=Ss(a[C+1]);a[d+1]=Al(j,C),0!==j&&(a[j+1]=Gc(a[j+1],d)),a[C+1]=function $x(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Al(C,0),0!==C&&(a[C+1]=Gc(a[C+1],d)),C=d;else a[d+1]=Al(T,0),0===C?C=d:a[T+1]=Gc(a[T+1],d),T=d;A&&(a[d+1]=Ui(a[d+1])),WE(a,O,d,!0),WE(a,O,d,!1),function P1(a,l,u,d,p){const _=p?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&za(_,l)>=0&&(u[d+1]=Ml(u[d+1]))}(l,O,a,d,_),w=Al(C,T),_?l.classBindings=w:l.styleBindings=w}(p,_,l,u,w,d)}}function Zw(a,l,u,d,p){let _=null;const w=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<w&&(_=l[C],d=Uh(d,_.hostAttrs,p),_!==a);)C++;return null!==a&&(u.directiveStylingLast=C),d}function Uh(a,l,u){const d=u?1:2;let p=-1;if(null!==l)for(let _=0;_<l.length;_++){const w=l[_];"number"==typeof w?p=w:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Vi(a,w,!!u||l[++_]))}return void 0===a?null:a}function rT(a,l,u){Vi(a,l,To(u))}function sT(a,l,u,d,p,_,w,C){if(!(3&l.type))return;const T=a.data,A=T[C+1];U_(function P0(a){return 1==(1&a)}(A)?oT(T,l,u,p,ua(A),w):void 0)||(U_(_)||function Gv(a){return 2==(2&a)}(A)&&(_=oT(T,null,u,p,C,w)),function mn(a,l,u,d,p){const _=pn(a);if(l)p?_?a.addClass(u,d):u.classList.add(d):_?a.removeClass(u,d):u.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:k.DashCase;if(null==p)_?a.removeStyle(u,d,w):u.style.removeProperty(d);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),w|=k.Important),_?a.setStyle(u,d,p,w):u.style.setProperty(d,p,C?"important":"")}}}(d,w,mo(pi(),u),p,_))}function oT(a,l,u,d,p,_){const w=null===l;let C;for(;p>0;){const T=a[p],A=Array.isArray(T),O=A?T[1]:T,B=null===O;let j=u[p+1];j===Lt&&(j=B?H:void 0);let X=B?xc(j,d):O===d?j:void 0;if(A&&!U_(X)&&(X=xc(T,d)),U_(X)&&(C=X,w))return C;const be=a[p+1];p=w?Ss(be):ua(be)}if(null!==l){let T=_?l.residualClasses:l.residualStyles;null!=T&&(C=xc(T,d))}return C}function U_(a){return void 0!==a}function aT(a,l){return 0!=(a.flags&(l?16:32))}function lT(a,l=""){const u=Ae(),d=Gt(),p=a+20,_=d.firstCreatePass?ed(d,p,1,l,null):d.data[p],w=u[p]=function wh(a,l){return pn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);_f(d,u,w,_),xr(_,!1)}function Ww(a){return H_("",a,""),Ww}function H_(a,l,u){const d=Ae(),p=function Rh(a,l,u,d){return Nr(a,yo(),u)?l+ge(u)+d:Lt}(d,a,l,u);return p!==Lt&&Nl(d,pi(),p),H_}function Hh(a,l,u,d,p){const _=Ae(),w=Ph(_,a,l,u,d,p);return w!==Lt&&Nl(_,pi(),w),Hh}const jh=void 0;var CT=["en",[["a","p"],["AM","PM"],jh],[["AM","PM"],jh,jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jh,"{1} 'at' {0}",jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IR(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let zh={};function Kf(a){const l=function $_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=q_(l);if(u)return u;const d=l.split("-")[0];if(u=q_(d),u)return u;if("en"===d)return CT;throw new Error(`Missing locale data for the locale "${a}".`)}function G_(a){return Kf(a)[Ct.PluralCase]}function q_(a){return a in zh||(zh[a]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[a]),zh[a]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const yr="en-US";let ST=yr;function eg(a,l,u,d,p){if(a=ie(a),Array.isArray(a))for(let _=0;_<a.length;_++)eg(a[_],l,u,d,p);else{const _=Gt(),w=Ae();let C=id(a)?a:ie(a.provide),T=aE(a);const A=En(),O=1048575&A.providerIndexes,B=A.directiveStart,j=A.providerIndexes>>20;if(id(a)||!a.multi){const X=new Fa(T,p,P_),be=fb(C,l,p?O:O+j,B);-1===be?(wl(ws(A,w),_,C),iy(_,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(X),w.push(X)):(u[be]=X,w[be]=X)}else{const X=fb(C,l,O+j,B),be=fb(C,l,O,O+j),Be=X>=0&&u[X],Ue=be>=0&&u[be];if(p&&!Ue||!p&&!Be){wl(ws(A,w),_,C);const nt=function ng(a,l,u,d,p){const _=new Fa(a,u,P_);return _.multi=[],_.index=l,_.componentProviders=0,UT(_,p,d&&!u),_}(p?tg:Vr,u.length,p,d,T);!p&&Ue&&(u[be].providerFactory=nt),iy(_,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(nt),w.push(nt)}else iy(_,a,X>-1?X:be,UT(u[p?be:X],T,!p&&d));!p&&d&&Ue&&u[be].componentProviders++}}}function iy(a,l,u,d){const p=id(l),_=function I_(a){return!!a.useClass}(l);if(p||_){const T=(_?ie(l.useClass):l).prototype.ngOnDestroy;if(T){const A=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const O=A.indexOf(u);-1===O?A.push(u,[d,T]):A[O+1].push(d,T)}else A.push(u,T)}}}function UT(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function fb(a,l,u,d){for(let p=u;p<d;p++)if(l[p]===a)return p;return-1}function Vr(a,l,u,d){return gb(this.multi,[])}function tg(a,l,u,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=bc(u,u[1],this.providerFactory.index,d);_=C.slice(0,w),gb(p,_);for(let T=w;T<C.length;T++)_.push(C[T])}else _=[],gb(p,_);return _}function gb(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function HT(a,l=[]){return u=>{u.providersResolver=(d,p)=>function pD(a,l,u){const d=Gt();if(d.firstCreatePass){const p=fs(a);eg(u,d.data,d.blueprint,p,!0),eg(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class ig{}class mb{resolveComponentFactory(l){throw function ry(a){const l=Error(`No component factory found for ${le(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Wh=(()=>{class a{}return a.NULL=new mb,a})();function zT(){return ud(En(),Ae())}function ud(a,l){return new rg(vi(a,l))}let rg=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=zT,a})();function GT(a){return a instanceof rg?a.nativeElement:a}class oy{}let qT=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function _b(){const a=Ae(),u=wi(En().index,a);return function mD(a){return a[11]}(wn(u)?u:a)}(),a})(),yb=(()=>{class a{}return a.\u0275prov=sn({token:a,providedIn:"root",factory:()=>null}),a})();class ay{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Gi=new ay("13.3.10"),qi={};function dd(a,l,u,d,p=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&d.push(an(_)),hs(_))for(let C=10;C<_.length;C++){const T=_[C],A=T[1].firstChild;null!==A&&dd(T[1],T,A,d)}const w=u.type;if(8&w)dd(a,l,u.child,d);else if(32&w){const C=fe(u,l);let T;for(;T=C();)d.push(T)}else if(16&w){const C=r_(l,u);if(Array.isArray(C))d.push(...C);else{const T=mt(l[16]);dd(T[1],T,C,d,!0)}}u=p?u.projectionNext:u.next}return d}class hd{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return dd(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(hs(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(gf(l,d),na(u,d))}this._attachedToViewContainer=!1}Fv(this._lView[1],this._lView)}onDestroy(l){G0(this._lView[1],this._lView,null,l)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Mf(a,l,u){const d=l[10];d.begin&&d.begin();try{Ut(a,l,a.template,u)}catch(p){throw hw(l,p),p}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ai(a,l){yf(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=l}}class _D extends hd{constructor(l){super(l),this._view=l}detectChanges(){eE(this._view)}checkNoChanges(){}get context(){return null}}class $T extends Wh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ti(l);return new sg(u,this.ngModule)}}function vb(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class sg extends ig{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function s_(a){return a.map(qx).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return vb(this.componentDef.inputs)}get outputs(){return vb(this.componentDef.outputs)}create(l,u,d,p){const _=(p=p||this.ngModule)?function vD(a,l){return{get:(u,d,p)=>{const _=a.get(u,qi,p);return _!==qi||d===qi?_:l.get(u,d,p)}}}(l,p.injector):l,w=_.get(oy,gl),C=_.get(yb,null),T=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=d?function If(a,l,u){if(pn(a))return a.selectRootElement(l,u===Yt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Qu(w.createRenderer(null,this.componentDef),A,function yD(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(A)),B=this.componentDef.onPush?576:528,j=function gE(a,l){return{components:[],scheduler:a||la,clean:l1,playerHandler:l||null,flags:0}}(),X=g_(0,null,null,1,0,null,null,null,null,null),be=Ef(null,X,j,B,null,null,w,T,C,_);let Be,Ue;Wo(be);try{const nt=function Mh(a,l,u,d,p,_){const w=u[1];u[20]=a;const T=ed(w,20,2,"#host",null),A=T.mergedAttrs=l.hostAttrs;null!==A&&(C_(T,A,!0),null!==a&&(Ar(p,a,A),null!==T.classes&&Uv(p,a,T.classes),null!==T.styles&&$s(p,a,T.styles)));const O=d.createRenderer(a,l),B=Ef(u,Jv(l),null,l.onPush?64:16,u[20],T,d,O,_||null,null);return w.firstCreatePass&&(wl(ws(T,u),w,l.type),sw(w,T),ow(T,u.length,1)),Ih(u,B),u[20]=B}(O,this.componentDef,be,w,T);if(O)if(d)Ar(T,O,["ng-version",Gi.full]);else{const{attrs:Me,classes:yt}=function o_(a){const l=[],u=[];let d=1,p=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===p?""!==_&&l.push(_,a[++d]):8===p&&u.push(_);else{if(!ca(p))break;p=_}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Me&&Ar(T,O,Me),yt&&yt.length>0&&Uv(T,O,yt.join(" "))}if(Ue=In(X,20),void 0!==u){const Me=Ue.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Zt=u[yt];Me.push(null!=Zt?Array.from(Zt):null)}}Be=function fE(a,l,u,d,p){const _=u[1],w=function r1(a,l,u){const d=En();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),K0(a,d,l,Rl(a,l,1,null),u));const p=bc(l,a,d.directiveStart,d);Ti(p,l);const _=vi(d,l);return _&&Ti(_,l),p}(_,u,l);if(d.components.push(w),a[8]=w,p&&p.forEach(T=>T(w,l)),l.contentQueries){const T=En();l.contentQueries(1,w,T.directiveStart)}const C=En();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ko(C.index),nw(u[1],C,0,C.directiveStart,C.directiveEnd,l),td(l,w)),w}(nt,this.componentDef,be,j,[m1]),pa(X,be,null)}finally{gr()}return new bb(this.componentType,Be,ud(Ue,be),be,Ue)}}class bb extends class fD{}{constructor(l,u,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new _D(p),this.componentType=l}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Kh{}class og{}const Jc=new Map;class Tb extends Kh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $T(this);const d=ni(l);this._bootstrapComponents=v(d.bootstrap),this._r3Injector=xh(l,u,[{provide:Kh,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver}],le(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Wa.THROW_IF_NOT_FOUND,d=vt.Default){return l===Wa||l===Kh||l===Fl?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Yh extends og{constructor(l){super(),this.moduleType=l,null!==ni(l)&&function wD(a){const l=new Set;!function u(d){const p=ni(d,!0),_=p.id;null!==_&&(function Cb(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${le(l)} vs ${le(l.name)}`)}(_,Jc.get(_),d),Jc.set(_,d));const w=v(p.imports);for(const C of w)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new Tb(this.moduleType,l)}}function KT(a,l,u){const d=Fi()+a,p=Ae();return p[d]===Lt?Ka(p,d,u?l.call(u):l()):Ff(p,d)}function YT(a,l,u,d){return function Br(a,l,u,d,p,_){const w=l+u;return Nr(a,w,p)?Ka(a,w+1,_?d.call(_,p):d(p)):Jh(a,w+1)}(Ae(),Fi(),a,l,u,d)}function pd(a,l,u,d,p){return function Sb(a,l,u,d,p,_,w){const C=l+u;return sd(a,C,p,_)?Ka(a,C+2,w?d.call(w,p,_):d(p,_)):Jh(a,C+2)}(Ae(),Fi(),a,l,u,d,p)}function QT(a,l,u,d,p,_){return function Xh(a,l,u,d,p,_,w,C){const T=l+u;return Lf(a,T,p,_,w)?Ka(a,T+3,C?d.call(C,p,_,w):d(p,_,w)):Jh(a,T+3)}(Ae(),Fi(),a,l,u,d,p,_)}function JT(a,l,u,d,p,_,w){return function lg(a,l,u,d,p,_,w,C,T){const A=l+u;return xo(a,A,p,_,w,C)?Ka(a,A+4,T?d.call(T,p,_,w,C):d(p,_,w,C)):Jh(a,A+4)}(Ae(),Fi(),a,l,u,d,p,_,w)}function Xc(a,l,u,d,p,_,w,C){const T=Fi()+a,A=Ae(),O=xo(A,T,u,d,p,_);return Nr(A,T+4,w)||O?Ka(A,T+5,C?l.call(C,u,d,p,_,w):l(u,d,p,_,w)):Ff(A,T+5)}function Ib(a,l,u,d,p,_,w,C,T){const A=Fi()+a,O=Ae(),B=xo(O,A,u,d,p,_);return sd(O,A+4,w,C)||B?Ka(O,A+6,T?l.call(T,u,d,p,_,w,C):l(u,d,p,_,w,C)):Ff(O,A+6)}function ag(a,l,u,d,p,_,w,C,T,A){const O=Fi()+a,B=Ae();let j=xo(B,O,u,d,p,_);return Lf(B,O+4,w,C,T)||j?Ka(B,O+7,A?l.call(A,u,d,p,_,w,C,T):l(u,d,p,_,w,C,T)):Ff(B,O+7)}function Qh(a,l,u,d){return function xb(a,l,u,d,p,_){let w=l+u,C=!1;for(let T=0;T<p.length;T++)Nr(a,w++,p[T])&&(C=!0);return C?Ka(a,w,d.apply(_,p)):Jh(a,w)}(Ae(),Fi(),a,l,u,d)}function Jh(a,l){const u=a[l];return u===Lt?void 0:u}function cy(a){return l=>{setTimeout(a,void 0,l)}}const Ya=class ug extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var p,_,w;let C=l,T=u||(()=>null),A=d;if(l&&"object"==typeof l){const B=l;C=null===(p=B.next)||void 0===p?void 0:p.bind(B),T=null===(_=B.error)||void 0===_?void 0:_.bind(B),A=null===(w=B.complete)||void 0===w?void 0:w.bind(B)}this.__isAsync&&(T=cy(T),C&&(C=cy(C)),A&&(A=cy(A)));const O=super.subscribe({next:C,error:T,complete:A});return l instanceof ee.w0&&l.add(O),O}};function Ob(){return this._results[rd()]()}class ep{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=rd(),d=ep.prototype;d[u]||(d[u]=Ob)}get changes(){return this._changes||(this._changes=new Ya)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const p=Ci(l);(this._changesDetected=!function Fu(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],_=l[d];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(d._results,p,u))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fd=(()=>{class a{}return a.__NG_ELEMENT_ID__=rI,a})();const nI=fd,iI=class extends nI{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=Ef(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(u)),pa(u,d,l),new hd(d)}};function rI(){return uy(En(),Ae())}function uy(a,l){return 4&a.type?new iI(l,a,ud(a,l)):null}let tu=(()=>{class a{}return a.__NG_ELEMENT_ID__=sI,a})();function sI(){return oI(En(),Ae())}const dy=tu,tp=class extends dy{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){const l=bi(this._hostTNode,this._hostLView);if(Jo(l)){const u=Us(l,this._hostLView),d=Xo(l);return new wo(u[1].data[d+8],u)}return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=nu(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const p=l.createEmbeddedView(u||{});return this.insert(p,d),p}createComponent(l,u,d,p,_){const w=l&&!function Qr(a){return"function"==typeof a}(l);let C;if(w)C=u;else{const B=u||{};C=B.index,d=B.injector,p=B.projectableNodes,_=B.ngModuleRef}const T=w?l:new sg(ti(l)),A=d||this.parentInjector;if(!_&&null==T.ngModule){const j=(w?A:this.parentInjector).get(Kh,null);j&&(_=j)}const O=T.create(A,p,void 0,_);return this.insert(O.hostView,C),O}insert(l,u){const d=l._lView,p=d[1];if(function _l(a){return hs(a[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const B=d[3],j=new tp(B,B[6],B[3]);j.detach(j.indexOf(l))}}const _=this._adjustIndex(u),w=this._lContainer;!function ff(a,l,u,d){const p=10+d,_=u.length;d>0&&(u[p-1][4]=l),d<_-10?(l[4]=u[p],Ei(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const w=l[17];null!==w&&u!==w&&function e_(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(w,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(p,d,w,_);const C=Bv(_,w),T=d[11],A=Lv(T,w[7]);return null!==A&&function zc(a,l,u,d,p,_){d[0]=p,d[6]=l,yf(a,d,u,1,p,_)}(p,w[6],T,d,A,C),l.attachToViewContainerRef(),Ei(dg(w),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=nu(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=gf(this._lContainer,u);d&&(na(dg(this._lContainer),u),Fv(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=gf(this._lContainer,u);return d&&null!=na(dg(this._lContainer),u)?new hd(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function nu(a){return a[8]}function dg(a){return a[8]||(a[8]=[])}function oI(a,l){let u;const d=l[a.index];if(hs(d))u=d;else{let p;if(8&a.type)p=an(d);else{const _=l[11];p=_.createComment("");const w=vi(a,l);bh(_,Lv(_,w),p,function jO(a,l){return pn(a)?a.nextSibling(l):l.nextSibling}(_,w),!1)}l[a.index]=u=J0(d,l,p,a),Ih(l,u)}return new tp(u,a,l)}class Vl{constructor(l){this.queryList=l,this.matches=null}clone(){return new Vl(this.queryList)}setDirty(){this.queryList.setDirty()}}class hy{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let _=0;_<d;_++){const w=u.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new hy(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==pI(l,u).matches&&this.queries[u].setDirty()}}class lI{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Bl{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const p=null!==u?u.length:0,_=this.getByIndex(d).embeddedTView(l,p);_&&(_.indexInDeclarationView=d,null!==u?u.push(_):u=[_])}return null!==u?new Bl(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class va{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new va(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(l,u,py(u,_)),this.matchTNodeWithReadOption(l,u,wc(u,l,_,!1,!1))}else d===fd?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,wc(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===rg||p===tu||p===fd&&4&u.type)this.addMatch(u.index,-2);else{const _=wc(u,l,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function py(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function gy(a,l,u,d){return-1===u?function fy(a,l){return 11&a.type?ud(a,l):4&a.type?uy(a,l):null}(l,a):-2===u?function cI(a,l,u){return u===rg?ud(l,a):u===fd?uy(l,a):u===tu?oI(l,a):void 0}(a,l,d):bc(a,a[1],u,l)}function On(a,l,u,d){const p=l[19].queries[d];if(null===p.matches){const _=a.data,w=u.matches,C=[];for(let T=0;T<w.length;T+=2){const A=w[T];C.push(A<0?null:gy(l,_[A],w[T+1],u.metadata.read))}p.matches=C}return p.matches}function ip(a,l,u,d){const p=a.queries.getByIndex(u),_=p.matches;if(null!==_){const w=On(a,l,p,u);for(let C=0;C<_.length;C+=2){const T=_[C];if(T>0)d.push(w[C/2]);else{const A=_[C+1],O=l[-T];for(let B=10;B<O.length;B++){const j=O[B];j[17]===j[3]&&ip(j[1],j,A,d)}if(null!==O[9]){const B=O[9];for(let j=0;j<B.length;j++){const X=B[j];ip(X[1],X,A,d)}}}}}return d}function uI(a){const l=Ae(),u=Gt(),d=hc();jd(d+1);const p=pI(u,d);if(a.dirty&&qo(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const _=p.crossesNgTemplate?ip(u,l,d,[]):On(u,l,p,d);a.reset(_,GT),a.notifyOnChanges()}return!0}return!1}function dI(a,l,u){const d=Gt();d.firstCreatePass&&(hI(d,new lI(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),Pb(d,Ae(),l)}function rp(a,l,u,d){const p=Gt();if(p.firstCreatePass){const _=En();hI(p,new lI(l,u,d),_.index),function ED(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}Pb(p,Ae(),u)}function sp(){return function CD(a,l){return a[19].queries[l].queryList}(Ae(),hc())}function Pb(a,l,u){const d=new ep(4==(4&u));G0(a,l,d,d.destroy),null===l[19]&&(l[19]=new hy),l[19].queries.push(new Vl(d))}function hI(a,l,u){null===a.queries&&(a.queries=new Bl),a.queries.track(new va(l,u))}function pI(a,l){return a.queries.getByIndex(l)}function fI(a,l){return uy(a,l)}function yg(...a){}const Cy=new Mn("Application Initializer");let Ey=(()=>{class a{constructor(u){this.appInits=u,this.resolve=yg,this.reject=yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Pw(_))u.push(_);else if(Hi(_)){const w=new Promise((C,T)=>{_.subscribe({complete:C,error:T})});u.push(w)}}Promise.all(u).then(()=>{d()}).catch(p=>{this.reject(p)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(lt(Cy,8))},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const vg=new Mn("AppId",{providedIn:"root",factory:function qb(){return`${Ul()}${Ul()}${Ul()}`}});function Ul(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $b=new Mn("Platform Initializer"),MI=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zb=new Mn("appBootstrapListener");let Ty=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Iy=new Mn("LocaleId",{providedIn:"root",factory:()=>Vt(Iy,vt.Optional|vt.SkipSelf)||function Xs(){return"undefined"!=typeof $localize&&$localize.locale||yr}()}),kI=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wb{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ND=(()=>{class a{compileModuleSync(u){return new Yh(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),_=v(ni(u).declarations).reduce((w,C)=>{const T=ti(C);return T&&w.push(new sg(T)),w},[]);return new Wb(d,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const VD=(()=>Promise.resolve(0))();function op(a){"undefined"==typeof Zone?VD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ko{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&u,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function BD(){let a=qt.requestAnimationFrame,l=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Kb(a){const l=()=>{!function su(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(qt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Yb(a),a.isCheckStableRunning=!0,ru(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Yb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,p,_,w,C)=>{try{return Ve(a),u.invokeTask(p,_,w,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),fi(a)}},onInvoke:(u,d,p,_,w,C,T)=>{try{return Ve(a),u.invoke(p,_,w,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),fi(a)}},onHasTask:(u,d,p,_)=>{u.hasTask(p,_),d===p&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Yb(a),ru(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,d,p,_)=>(u.handleError(p,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ko.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ko.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,l,br,yg,yg);try{return _.runTask(w,u,d)}finally{_.cancelTask(w)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const br={};function ru(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Yb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ve(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function fi(a){a._nesting--,ru(a)}class bg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,p){return l.apply(u,d)}}let Sy=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ko.assertNotInAngularZone(),op(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())op(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(lt(ko))},a.\u0275prov=sn({token:a,factory:a.\u0275fac}),a})(),ct=(()=>{class a{constructor(){this._applications=new Map,We.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return We.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class Mt{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function UD(a){We=a}let We=new Mt,ue=null;const Re=new Mn("AllowMultipleToken"),Zi=new Mn("PlatformOnDestroy");class jD{constructor(l,u){this.name=l,this.token=u}}function RI(a,l,u=[]){const d=`Platform: ${l}`,p=new Mn(d);return(_=[])=>{let w=ss();if(!w||w.injector.get(Re,!1)){const C=[...u,..._,{provide:p,useValue:!0}];a?a(C):function zD(a){if(ue&&!ue.get(Re,!1))throw new Ne(400,"");ue=a;const l=a.get(NI),u=a.get($b,null);u&&u.forEach(d=>d())}(function GD(a=[],l){return Wa.create({name:l,providers:[{provide:fw,useValue:"platform"},{provide:Zi,useValue:()=>ue=null},...a]})}(C,d))}return function PI(a){const l=ss();if(!l)throw new Ne(401,"");return l}()}}function ss(){var a;return null!==(a=null==ue?void 0:ue.get(NI))&&void 0!==a?a:null}let NI=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const C=function FI(a,l){let u;return u="noop"===a?new bg:("zone.js"===a?void 0:a)||new ko({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:ko,useValue:C}];return C.run(()=>{const A=Wa.create({providers:T,parent:this.injector,name:u.moduleType.name}),O=u.create(A),B=O.injector.get(vh,null);if(!B)throw new Ne(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:X=>{B.handleError(X)}});O.onDestroy(()=>{Qn(this._modules,O),j.unsubscribe()})}),function Bt(a,l,u){try{const d=u();return Pw(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(B,C,()=>{const j=O.injector.get(Ey);return j.runInitializers(),j.donePromise.then(()=>(function Y1(a){jt(a,"Expected localeId to be defined"),"string"==typeof a&&(ST=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Iy,yr)||yr),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,d=[]){const p=md({},d);return function OI(a,l,u){const d=new Yh(u);return Promise.resolve(d)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const d=u.injector.get(xy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ne(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Zi,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(lt(Wa))},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function md(a,l){return Array.isArray(l)?l.reduce(md,a):Object.assign(Object.assign({},a),l)}let xy=(()=>{class a{constructor(u,d,p,_){this._zone=u,this._injector=d,this._exceptionHandler=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new L.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ko.assertNotInAngularZone(),op(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{ko.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,he.T)(w,C.pipe((0,se.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Ne(405,"");let p;p=u instanceof ig?u:this._injector.get(Wh).resolveComponentFactory(u),this.componentTypes.push(p.componentType);const _=function HD(a){return a.isBoundToModule}(p)?void 0:this._injector.get(Kh),C=p.create(Wa.NULL,[],d||p.selector,_),T=C.location.nativeElement,A=C.injector.get(Sy,null),O=A&&C.injector.get(ct);return A&&O&&O.registerApplication(T,A),C.onDestroy(()=>{this.detachView(C.hostView),Qn(this.components,C),O&&O.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Qn(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Zb,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(lt(ko),lt(Wa),lt(vh),lt(Ey))},a.\u0275prov=sn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Qn(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let ou=!0,Qb=!1;function Cg(){return Qb=!0,ou}function on(){if(Qb)throw new Error("Cannot enable prod mode after platform setup.");ou=!1}let qD=(()=>{class a{}return a.__NG_ELEMENT_ID__=Wi,a})();function Wi(a){return function $D(a,l,u){if(Md(a)&&!u){const d=wi(a.index,l);return new hd(d,d)}return 47&a.type?new hd(l[16],l):null}(En(),Ae(),16==(16&a))}class Ay{constructor(){}supports(l){return kh(l)}create(l){return new UI(l)}}const Sg=(a,l)=>l;class UI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Sg}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,p=0,_=null;for(;u||d;){const w=!d||u&&u.currentIndex<Jb(d,p,_)?u:d,C=Jb(w,p,_),T=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{_||(_=[]);const A=C-p,O=T-p;if(A!=O){for(let j=0;j<A;j++){const X=j<_.length?_[j]:_[j]=0,be=X+j;O<=be&&be<A&&(_[j]=X+1)}_[w.previousIndex]=O-A}}C!==T&&l(w,C,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!kh(l))throw new Ne(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,_,w,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)_=l[C],w=this._trackByFn(C,_),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,_,w,C)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,w,C),d=!0),u=u._next}else p=0,function vE(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[rd()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,C=>{w=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,C,w,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,w,p),d=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,p){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,p)):l=this._addAfter(new HI(u,d),_,p),l}_verifyReinsertion(l,u,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,_=l._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new dp),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dp),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class HI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class My{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class dp{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new My,this.map.set(u,d)),d.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jb(a,l,u){const d=a.previousIndex;if(null===d)return d;let p=0;return u&&d<u.length&&(p=u[d]),d+l+p}class jI{constructor(){}supports(l){return l instanceof Map||D_(l)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||D_(l)))throw new Ne(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,d);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new zI(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class zI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xb(){return new or([new Ay])}let or=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Xb()),deps:[[a,new $a,new kr]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(null!=d)return d;throw new Ne(901,"")}}return a.\u0275prov=sn({token:a,providedIn:"root",factory:Xb}),a})();function xn(){return new hp([new jI])}let hp=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||xn()),deps:[[a,new $a,new kr]]}}find(u){const d=this.factories.find(_=>_.supports(u));if(d)return d;throw new Ne(901,"")}}return a.\u0275prov=sn({token:a,providedIn:"root",factory:xn}),a})();const GI=RI(null,"core",[]);let QD=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(lt(xy))},a.\u0275mod=Ji({type:a}),a.\u0275inj=en({}),a})()},3942:(Xe,we,F)=>{F.d(we,{Z:()=>Ne});var s=F(2090),ee=F(4859),L=F(9681),he=F(1877);class se{constructor(ge,Se){this._delegate=ge,this.firebase=Se,(0,L._addComponent)(ge,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ge,Se=L._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ge);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Ze=Qe.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Se})}_removeServiceInstance(ge,Se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Se)}_addComponent(ge){(0,L._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,L._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function pe(){const He=function le(He){const ge={},Se={__esModule:!0,initializeApp:function De(Ge,G={}){const Ce=L.initializeApp(Ge,G);if((0,s.r3)(ge,Ce.name))return ge[Ce.name];const Y=new He(Ce,Se);return ge[Ce.name]=Y,Y},app:Qe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Ge){const G=Ge.name,Ce=G.replace("-compat","");if(L._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Y=(oe=Qe())=>{if("function"!=typeof oe[Ce])throw de.create("invalid-app-argument",{appName:G});return oe[Ce]()};void 0!==Ge.serviceProps&&(0,s.ZB)(Y,Ge.serviceProps),Se[Ce]=Y,He.prototype[Ce]=function(...oe){return this._getService.bind(this,G).apply(this,Ge.multipleInstances?oe:[])}}return"PUBLIC"===Ge.type?Se[Ce]:null},removeApp:function Ze(Ge){delete ge[Ge]},useAsService:function ze(Ge,G){return"serverAuth"===G?null:G},modularAPIs:L}};function Qe(Ge){if(!(0,s.r3)(ge,Ge=Ge||L._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ge});return ge[Ge]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ee(){return Object.keys(ge).map(Ge=>ge[Ge])}}),Qe.App=He,Se}(se);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(Se){(0,s.ZB)(He,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),He}(),z=new he.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=q;!function ke(He){(0,L.registerVersion)("@firebase/app-compat","0.1.26",He)}()},9681:(Xe,we,F)=>{F.r(we),F.d(we,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>cs,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>sn,_apps:()=>cn,_clearComponents:()=>ls,_components:()=>Pn,_getProvider:()=>en,_registerComponent:()=>Yi,_removeServiceInstance:()=>zt,deleteApp:()=>vt,getApp:()=>ur,getApps:()=>Zr,initializeApp:()=>lo,onLog:()=>Nn,registerVersion:()=>An,setLogLevel:()=>co});var s=F(5861),ee=F(4859),L=F(1877),he=F(2090),se=F(8766);class _e{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function de($){const te=$.getComponent();return"VERSION"===(null==te?void 0:te.type)}(Pe)){const et=Pe.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Pe=>Pe).join(" ")}}const le="@firebase/app",q=new L.Yd("@firebase/app"),jt="[DEFAULT]",Ye={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,Pn=new Map;function dn($,te){try{$.container.addComponent(te)}catch(Pe){q.debug(`Component ${te.name} failed to register with FirebaseApp ${$.name}`,Pe)}}function sn($,te){$.container.addOrOverwriteComponent(te)}function Yi($){const te=$.name;if(Pn.has(te))return q.debug(`There were multiple attempts to register component ${te}.`),!1;Pn.set(te,$);for(const Pe of cn.values())dn(Pe,$);return!0}function en($,te){const Pe=$.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),$.container.getProvider(te)}function zt($,te,Pe=jt){en($,te).clearInstance(Pe)}function ls(){Pn.clear()}const Di=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Qi{constructor(te,Pe,et){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const cs="9.8.2";function lo($,te={}){"object"!=typeof te&&(te={name:te});const Pe=Object.assign({name:jt,automaticDataCollectionEnabled:!1},te),et=Pe.name;if("string"!=typeof et||!et)throw Di.create("bad-app-name",{appName:String(et)});const _t=cn.get(et);if(_t){if((0,he.vZ)($,_t.options)&&(0,he.vZ)(Pe,_t.config))return _t;throw Di.create("duplicate-app",{appName:et})}const Dt=new ee.H0(et);for(const It of Pn.values())Dt.addComponent(It);const yn=new Qi($,Pe,Dt);return cn.set(et,yn),yn}function ur($=jt){const te=cn.get($);if(!te)throw Di.create("no-app",{appName:$});return te}function Zr(){return Array.from(cn.values())}function vt($){return Er.apply(this,arguments)}function Er(){return(Er=(0,s.Z)(function*($){const te=$.name;cn.has(te)&&(cn.delete(te),yield Promise.all($.container.getProviders().map(Pe=>Pe.delete())),$.isDeleted=!0)})).apply(this,arguments)}function An($,te,Pe){var et;let _t=null!==(et=Ye[$])&&void 0!==et?et:$;Pe&&(_t+=`-${Pe}`);const Dt=_t.match(/\s|\//),yn=te.match(/\s|\//);if(Dt||yn){const It=[`Unable to register library "${_t}" with version "${te}":`];return Dt&&It.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Dt&&yn&&It.push("and"),yn&&It.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void q.warn(It.join(" "))}Yi(new ee.wA(`${_t}-version`,()=>({library:_t,version:te}),"VERSION"))}function Nn($,te){if(null!==$&&"function"!=typeof $)throw Di.create("invalid-log-argument");(0,L.Am)($,te)}function co($){(0,L.Ub)($)}const Fn="firebase-heartbeat-store";let Tr=null;function Vo(){return Tr||(Tr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:($,te)=>{0===te&&$.createObjectStore(Fn)}}).catch($=>{throw Di.create("storage-open",{originalErrorMessage:$.message})})),Tr}function ut(){return(ut=(0,s.Z)(function*($){try{return(yield Vo()).transaction(Fn).objectStore(Fn).get(Ir($))}catch(te){throw Di.create("storage-get",{originalErrorMessage:te.message})}})).apply(this,arguments)}function Et($,te){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,s.Z)(function*($,te){try{const et=(yield Vo()).transaction(Fn,"readwrite");return yield et.objectStore(Fn).put(te,Ir($)),et.done}catch(Pe){throw Di.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function Ir($){return`${$.name}!${$.options.appId}`}class Mi{constructor(te){this.container=te,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Z(Pe),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var te=this;return(0,s.Z)(function*(){const et=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=ki();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==_t&&!te._heartbeatsCache.heartbeats.some(Dt=>Dt.date===_t))return te._heartbeatsCache.heartbeats.push({date:_t,agent:et}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Dt=>{const yn=new Date(Dt.date).valueOf();return Date.now()-yn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,s.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Pe=ki(),{heartbeatsToSend:et,unsentEntries:_t}=function H($,te=1024){const Pe=[];let et=$.slice();for(const _t of $){const Dt=Pe.find(yn=>yn.agent===_t.agent);if(Dt){if(Dt.dates.push(_t.date),W(Pe)>te){Dt.dates.pop();break}}else if(Pe.push({agent:_t.agent,dates:[_t.date]}),W(Pe)>te){Pe.pop();break}et=et.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:et}}(te._heartbeatsCache.heartbeats),Dt=(0,he.L)(JSON.stringify({version:2,heartbeats:et}));return te._heartbeatsCache.lastSentHeartbeatDate=Pe,_t.length>0?(te._heartbeatsCache.heartbeats=_t,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Dt})()}}function ki(){return(new Date).toISOString().substring(0,10)}class Z{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,s.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Yt($){return ut.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Pe=this;return(0,s.Z)(function*(){var et;if(yield Pe._canUseIndexedDBPromise){const Dt=yield Pe.read();return Et(Pe.app,{lastSentHeartbeatDate:null!==(et=te.lastSentHeartbeatDate)&&void 0!==et?et:Dt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Pe=this;return(0,s.Z)(function*(){var et;if(yield Pe._canUseIndexedDBPromise){const Dt=yield Pe.read();return Et(Pe.app,{lastSentHeartbeatDate:null!==(et=te.lastSentHeartbeatDate)&&void 0!==et?et:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...te.heartbeats]})}})()}}function W($){return(0,he.L)(JSON.stringify({version:2,heartbeats:$})).length}!function xe($){Yi(new ee.wA("platform-logger",te=>new _e(te),"PRIVATE")),Yi(new ee.wA("heartbeat",te=>new Mi(te),"PRIVATE")),An(le,"0.7.25",$),An(le,"0.7.25","esm2017"),An("fire-js","")}("")},4859:(Xe,we,F)=>{F.d(we,{H0:()=>le,wA:()=>L,zt:()=>se});var s=F(5861),ee=F(2090);class L{constructor(q,z,ie){this.name=q,this.instanceFactory=z,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const he="[DEFAULT]";class se{constructor(q,z){this.name=q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(z)){const ie=new ee.BH;if(this.instancesDeferred.set(z,ie),this.isInitialized(z)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:z});$e&&ie.resolve($e)}catch($e){}}return this.instancesDeferred.get(z).promise}getImmediate(q){var z;const ie=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),$e=null!==(z=null==q?void 0:q.optional)&&void 0!==z&&z;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if($e)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function de(pe){return"EAGER"===pe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:he})}catch(z){}for(const[z,ie]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:$e});ie.resolve(ke)}catch(ke){}}}}clearInstance(q=he){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,s.Z)(function*(){const z=Array.from(q.instances.values());yield Promise.all([...z.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...z.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=he){return this.instances.has(q)}getOptions(q=he){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:z={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ie,options:z});for(const[ke,Ne]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&Ne.resolve($e);return $e}onInit(q,z){var ie;const $e=this.normalizeInstanceIdentifier(z),ke=null!==(ie=this.onInitCallbacks.get($e))&&void 0!==ie?ie:new Set;ke.add(q),this.onInitCallbacks.set($e,ke);const Ne=this.instances.get($e);return Ne&&q(Ne,$e),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,z){const ie=this.onInitCallbacks.get(z);if(ie)for(const $e of ie)try{$e(q,z)}catch(ke){}}getOrInitializeService({instanceIdentifier:q,options:z={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=q,pe===he?void 0:pe),options:z}),this.instances.set(q,ie),this.instancesOptions.set(q,z),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch($e){}var pe;return ie||null}normalizeInstanceIdentifier(q=he){return this.component?this.component.multipleInstances?q:he:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const z=this.getProvider(q.name);if(z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const z=new se(q,this);return this.providers.set(q,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,we,F)=>{F.d(we,{Am:()=>pe,Ub:()=>le,Yd:()=>de,in:()=>ee});const s=[];var ee=(()=>{return(q=ee||(ee={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",ee;var q})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},he=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},_e=(q,z,...ie)=>{if(z<q.logLevel)return;const $e=(new Date).toISOString(),ke=se[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${$e}]  ${q.name}:`,...ie)};class de{constructor(z){this.name=z,this._logLevel=he,this._logHandler=_e,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function le(q){s.forEach(z=>{z.setLogLevel(q)})}function pe(q,z){for(const ie of s){let $e=null;z&&z.level&&($e=L[z.level]),ie.userLogHandler=null===q?null:(ke,Ne,...He)=>{const ge=He.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Ze){return null}}).filter(Se=>Se).join(" ");Ne>=(null!=$e?$e:ke.logLevel)&&q({level:ee[Ne].toLowerCase(),message:ge,args:He,type:ke.name})}}}},8766:(Xe,we,F)=>{F.d(we,{Lj:()=>De,X3:()=>Qe});var s=F(5861);let L,he;const de=new WeakMap,le=new WeakMap,pe=new WeakMap,q=new WeakMap,z=new WeakMap;let ke={get(G,Ce,Y){if(G instanceof IDBTransaction){if("done"===Ce)return le.get(G);if("objectStoreNames"===Ce)return G.objectStoreNames||pe.get(G);if("store"===Ce)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Se(G[Ce])},set:(G,Ce,Y)=>(G[Ce]=Y,!0),has:(G,Ce)=>G instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in G};function ge(G){return"function"==typeof G?function He(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ce){return G.apply(Ze(this),Ce),Se(de.get(this))}:function(...Ce){return Se(G.apply(Ze(this),Ce))}:function(Ce,...Y){const oe=G.call(Ze(this),Ce,...Y);return pe.set(oe,Ce.sort?Ce.sort():[Ce]),Se(oe)}}(G):(G instanceof IDBTransaction&&function $e(G){if(le.has(G))return;const Ce=new Promise((Y,oe)=>{const ne=()=>{G.removeEventListener("complete",ve),G.removeEventListener("error",ce),G.removeEventListener("abort",ce)},ve=()=>{Y(),ne()},ce=()=>{oe(G.error||new DOMException("AbortError","AbortError")),ne()};G.addEventListener("complete",ve),G.addEventListener("error",ce),G.addEventListener("abort",ce)});le.set(G,Ce)}(G),((G,Ce)=>Ce.some(Y=>G instanceof Y))(G,function se(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,ke):G)}function Se(G){if(G instanceof IDBRequest)return function ie(G){const Ce=new Promise((Y,oe)=>{const ne=()=>{G.removeEventListener("success",ve),G.removeEventListener("error",ce)},ve=()=>{Y(Se(G.result)),ne()},ce=()=>{oe(G.error),ne()};G.addEventListener("success",ve),G.addEventListener("error",ce)});return Ce.then(Y=>{Y instanceof IDBCursor&&de.set(Y,G)}).catch(()=>{}),z.set(Ce,G),Ce}(G);if(q.has(G))return q.get(G);const Ce=ge(G);return Ce!==G&&(q.set(G,Ce),z.set(Ce,G)),Ce}const Ze=G=>z.get(G);function Qe(G,Ce,{blocked:Y,upgrade:oe,blocking:ne,terminated:ve}={}){const ce=indexedDB.open(G,Ce),Fe=Se(ce);return oe&&ce.addEventListener("upgradeneeded",ft=>{oe(Se(ce.result),ft.oldVersion,ft.newVersion,Se(ce.transaction))}),Y&&ce.addEventListener("blocked",()=>Y()),Fe.then(ft=>{ve&&ft.addEventListener("close",()=>ve()),ne&&ft.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Fe}function De(G,{blocked:Ce}={}){const Y=indexedDB.deleteDatabase(G);return Ce&&Y.addEventListener("blocked",()=>Ce()),Se(Y).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],ze=new Map;function Ge(G,Ce){if(!(G instanceof IDBDatabase)||Ce in G||"string"!=typeof Ce)return;if(ze.get(Ce))return ze.get(Ce);const Y=Ce.replace(/FromIndex$/,""),oe=Ce!==Y,ne=Ie.includes(Y);if(!(Y in(oe?IDBIndex:IDBObjectStore).prototype)||!ne&&!Ee.includes(Y))return;const ve=function(){var ce=(0,s.Z)(function*(Fe,...ft){const Kt=this.transaction(Fe,ne?"readwrite":"readonly");let jt=Kt.store;return oe&&(jt=jt.index(ft.shift())),(yield Promise.all([jt[Y](...ft),ne&&Kt.done]))[0]});return function(ft){return ce.apply(this,arguments)}}();return ze.set(Ce,ve),ve}!function Ne(G){ke=G(ke)}(G=>UB(BB({},G),{get:(Ce,Y,oe)=>Ge(Ce,Y)||G.get(Ce,Y,oe),has:(Ce,Y)=>!!Ge(Ce,Y)||G.has(Ce,Y)}))},5861:(Xe,we,F)=>{function s(L,he,se,_e,de,le,pe){try{var q=L[le](pe),z=q.value}catch(ie){return void se(ie)}q.done?he(z):Promise.resolve(z).then(_e,de)}function ee(L){return function(){var he=this,se=arguments;return new Promise(function(_e,de){var le=L.apply(he,se);function pe(z){s(le,_e,de,pe,q,"next",z)}function q(z){s(le,_e,de,pe,q,"throw",z)}pe(void 0)})}}F.d(we,{Z:()=>ee})}},Xe=>{Xe(Xe.s=5895)}]);
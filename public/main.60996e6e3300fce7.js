"use strict";var x7=Object.defineProperty,D7=Object.defineProperties,A7=Object.getOwnPropertyDescriptors,VB=Object.getOwnPropertySymbols,M7=Object.prototype.hasOwnProperty,k7=Object.prototype.propertyIsEnumerable,BB=(Xe,we,F)=>we in Xe?x7(Xe,we,{enumerable:!0,configurable:!0,writable:!0,value:F}):Xe[we]=F,UB=(Xe,we)=>{for(var F in we||(we={}))M7.call(we,F)&&BB(Xe,F,we[F]);if(VB)for(var F of VB(we))k7.call(we,F)&&BB(Xe,F,we[F]);return Xe},HB=(Xe,we)=>D7(Xe,A7(we));(self.webpackChunkpranavam=self.webpackChunkpranavam||[]).push([[179],{2011:(Xe,we,F)=>{F.d(we,{Dh:()=>le,GT:()=>_e,cc:()=>ke,hO:()=>qe,on:()=>$,pX:()=>se,xv:()=>fe});var s=F(5e3),ee=F(127),L=F(5813);Xe=F.hmd(Xe);const he=["ngOnDestroy"],se=(Se,We,Qe,De={})=>new Proxy(Se,{get:(Ee,Ie)=>Qe.runOutsideAngular(()=>{var ze;if(Se[Ie])return(null===(ze=null==De?void 0:De.spy)||void 0===ze?void 0:ze.get)&&De.spy.get(Ie,Se[Ie]),Se[Ie];if(he.indexOf(Ie)>-1)return()=>{};const Ge=We.toPromise().then(G=>{const Ce=G&&G[Ie];return"function"==typeof Ce?Ce.bind(G):Ce&&Ce.then?Ce.then(Y=>Qe.run(()=>Y)):Qe.run(()=>Ce)});return new Proxy(()=>{},{get:(G,Ce)=>Ge[Ce],apply:(G,Ce,Y)=>Ge.then(oe=>{var ne;const ve=oe&&oe(...Y);return(null===(ne=null==De?void 0:De.spy)||void 0===ne?void 0:ne.apply)&&De.spy.apply(Ie,Y,ve),ve})})})}),_e=(Se,We)=>{We.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(De=>{Object.defineProperty(Se.prototype,De,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,De))})})};class de{constructor(We){return We}}const le=new s.OlP("angularfire2.app.options"),fe=new s.OlP("angularfire2.app.name");function $(Se,We,Qe){const Ee="object"==typeof Qe&&Qe||{};Ee.name=Ee.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const ze=ee.Z.apps.filter(Ge=>Ge&&Ge.name===Ee.name)[0]||We.runOutsideAngular(()=>ee.Z.initializeApp(Se,Ee));try{JSON.stringify(Se)!==JSON.stringify(ze.options)&&z("error",`${ze.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new de(ze)}const z=(Se,...We)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...We)},ie={provide:de,useFactory:$,deps:[le,s.R0b,[new s.FiY,fe]]};let qe=(()=>{class Se{constructor(Qe){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",s.q4F.full,Qe.toString())}static initializeApp(Qe,De){return{ngModule:Se,providers:[{provide:le,useValue:Qe},{provide:fe,useValue:De}]}}}return Se.\u0275fac=function(Qe){return new(Qe||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[ie]}),Se})();function ke(Se,We,Qe,De,Ee){const[,Ie,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Se)||[];if(Ie)return function Pe(Se,We){try{return Se.toString()===We.toString()}catch(Qe){return Se===We}}(Ee,ze)||(ge("error",`${We} was already initialized on the ${Qe} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ee,was:ze})),Ie;{const Ge=De();return globalThis.\u0275AngularfireInstanceCache.push([Se,Ge,Ee]),Ge}}const He=!!Xe.hot,ge=(Se,...We)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,we,F)=>{F.d(we,{q4:()=>bi,iC:()=>mu,HU:()=>Tc,vb:()=>Lf,JM:()=>Pa});var s=F(5e3),ee=F(5867),L=F(5861),he=F(9681),se=F(2090),_e=F(4859),de=F(1877),le=F(8766);const fe="@firebase/installations",$="0.5.9",ie=`w:${$}`,qe="FIS_v2",We=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function De({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ee(S){return{token:S.token,requestStatus:2,expiresIn:oe(S.expiresIn),creationTime:Date.now()}}function Ie(S,x){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(S,x){const U=(yield x.json()).error;return We.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ge({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function G(S,{refreshToken:x}){const O=Ge(S);return O.append("Authorization",function ne(S){return`${qe} ${S}`}(x)),O}function Ce(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function oe(S){return Number(S.replace("s","000"))}function ve(S,x){return ue.apply(this,arguments)}function ue(){return(ue=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:O}){const U=De(S),J=Ge(S),ae=x.getImmediate({optional:!0});if(ae){const dt=yield ae.getHeartbeatsHeader();dt&&J.append("x-firebase-client",dt)}const st={method:"POST",headers:J,body:JSON.stringify({fid:O,authVersion:qe,appId:S.appId,sdkVersion:ie})},lt=yield Ce(()=>fetch(U,st));if(lt.ok){const dt=yield lt.json();return{fid:dt.fid||O,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Ee(dt.authToken)}}throw yield Ie("Create Installation",lt)})).apply(this,arguments)}function Fe(S){return new Promise(x=>{setTimeout(x,S)})}const Wt=/^[cdef][\w-]{21}$/;function Ye(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const O=function ln(S){return function pt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Wt.test(O)?O:""}catch(S){return""}}function On(S){return`${S.appName}!${S.appId}`}const cn=new Map;function rn(S,x){const O=On(S);jt(O,x),function is(S,x){const O=function Si(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=S=>{jt(S.data.key,S.data.fid)}),yr}();O&&O.postMessage({key:S,fid:x}),function Zi(){0===cn.size&&yr&&(yr.close(),yr=null)}()}(O,x)}function jt(S,x){const O=cn.get(S);if(O)for(const U of O)U(x)}let yr=null;const ar="firebase-installations-store";let zr=null;function vt(){return zr||(zr=(0,le.X3)("firebase-installations-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(ar)}})),zr}function vr(S,x){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(S,x){const O=On(S),J=(yield vt()).transaction(ar,"readwrite"),ae=J.objectStore(ar),Re=yield ae.get(O);return yield ae.put(x,O),yield J.done,(!Re||Re.fid!==x.fid)&&rn(S,x.fid),x})).apply(this,arguments)}function Nn(S){return io.apply(this,arguments)}function io(){return(io=(0,L.Z)(function*(S){const x=On(S),U=(yield vt()).transaction(ar,"readwrite");yield U.objectStore(ar).delete(x),yield U.done})).apply(this,arguments)}function lr(S,x){return ui.apply(this,arguments)}function ui(){return(ui=(0,L.Z)(function*(S,x){const O=On(S),J=(yield vt()).transaction(ar,"readwrite"),ae=J.objectStore(ar),Re=yield ae.get(O),st=x(Re);return void 0===st?yield ae.delete(O):yield ae.put(st,O),yield J.done,st&&(!Re||Re.fid!==st.fid)&&rn(S,st.fid),st})).apply(this,arguments)}function Pn(S){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(S){let x;const O=yield lr(S.appConfig,U=>{const J=ko(U),ae=Zt(S,J);return x=ae.registrationPromise,ae.installationEntry});return""===O.fid?{installationEntry:yield x}:{installationEntry:O,registrationPromise:x}})).apply(this,arguments)}function ko(S){return Ro(S||{fid:Ye(),registrationStatus:0})}function Zt(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(We.create("app-offline"))};const O={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},U=function ct(S,x){return Et.apply(this,arguments)}(S,O);return{installationEntry:O,registrationPromise:U}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:xi(S)}:{installationEntry:x}}function Et(){return(Et=(0,L.Z)(function*(S,x){try{const O=yield ve(S,x);return vr(S.appConfig,O)}catch(O){throw Qe(O)&&409===O.customData.serverCode?yield Nn(S.appConfig):yield vr(S.appConfig,{fid:x.fid,registrationStatus:0}),O}})).apply(this,arguments)}function xi(S){return br.apply(this,arguments)}function br(){return(br=(0,L.Z)(function*(S){let x=yield Gt(S.appConfig);for(;1===x.registrationStatus;)yield Fe(100),x=yield Gt(S.appConfig);if(0===x.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield Pn(S);return U||O}return x})).apply(this,arguments)}function Gt(S){return lr(S,x=>{if(!x)throw We.create("installation-not-found");return Ro(x)})}function Ro(S){return function Di(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Ai(S,x){return H.apply(this,arguments)}function H(){return(H=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},O){const U=W(S,O),J=G(S,O),ae=x.getImmediate({optional:!0});if(ae){const dt=yield ae.getHeartbeatsHeader();dt&&J.append("x-firebase-client",dt)}const st={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ie,appId:S.appId}})},lt=yield Ce(()=>fetch(U,st));if(lt.ok)return Ee(yield lt.json());throw yield Ie("Generate Auth Token",lt)})).apply(this,arguments)}function W(S,{fid:x}){return`${De(S)}/${x}/authTokens:generate`}function Z(S){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(S,x=!1){let O;const U=yield lr(S.appConfig,ae=>{if(!Dt(ae))throw We.create("not-registered");const Re=ae.authToken;if(!x&&yn(Re))return ae;if(1===Re.requestStatus)return O=q(S,x),ae;{if(!navigator.onLine)throw We.create("app-offline");const st=Jn(ae);return O=et(S,st),st}});return O?yield O:U.authToken})).apply(this,arguments)}function q(S,x){return te.apply(this,arguments)}function te(){return(te=(0,L.Z)(function*(S,x){let O=yield Ne(S.appConfig);for(;1===O.authToken.requestStatus;)yield Fe(100),O=yield Ne(S.appConfig);const U=O.authToken;return 0===U.requestStatus?Z(S,x):U})).apply(this,arguments)}function Ne(S){return lr(S,x=>{if(!Dt(x))throw We.create("not-registered");return function Ki(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function et(S,x){return _t.apply(this,arguments)}function _t(){return(_t=(0,L.Z)(function*(S,x){try{const O=yield Ai(S,x),U=Object.assign(Object.assign({},x),{authToken:O});return yield vr(S.appConfig,U),O}catch(O){if(!Qe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield vr(S.appConfig,U)}else yield Nn(S.appConfig);throw O}})).apply(this,arguments)}function Dt(S){return void 0!==S&&2===S.registrationStatus}function yn(S){return 2===S.requestStatus&&!function It(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+36e5}(S)}function Jn(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}function el(){return(el=(0,L.Z)(function*(S){const x=S,{installationEntry:O,registrationPromise:U}=yield Pn(x);return U?U.catch(console.error):Z(x).catch(console.error),O.fid})).apply(this,arguments)}function tl(){return(tl=(0,L.Z)(function*(S,x=!1){const O=S;return yield Xn(O),(yield Z(O,x)).token})).apply(this,arguments)}function Xn(S){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,L.Z)(function*(S){const{registrationPromise:x}=yield Pn(S);x&&(yield x)})).apply(this,arguments)}function _a(S){return We.create("missing-app-config-values",{valueName:S})}const cr="installations",ft=S=>{const x=S.getProvider("app").getImmediate(),O=function gi(S){if(!S||!S.options)throw _a("App Configuration");if(!S.name)throw _a("App Name");const x=["projectId","apiKey","appId"];for(const O of x)if(!S.options[O])throw _a(O);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:O,heartbeatServiceProvider:(0,he._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},dn=S=>{const x=S.getProvider("app").getImmediate(),O=(0,he._getProvider)(x,cr).getImmediate();return{getId:()=>function Vl(S){return el.apply(this,arguments)}(O),getToken:J=>function Bl(S){return tl.apply(this,arguments)}(O,J)}};(function dr(){(0,he._registerComponent)(new _e.wA(cr,ft,"PUBLIC")),(0,he._registerComponent)(new _e.wA("installations-internal",dn,"PRIVATE"))})(),(0,he.registerVersion)(fe,$),(0,he.registerVersion)(fe,$,"esm2017");const ss="@firebase/remote-config",Fn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cs{constructor(x,O,U,J){this.client=x,this.storage=O,this.storageCache=U,this.logger=J}isCachedDataFresh(x,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,J=U<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${J}.`),J}fetch(x){var O=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(x.cacheMaxAgeMillis,U))return J;x.eTag=J&&J.eTag;const ae=yield O.client.fetch(x),Re=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Re.push(O.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Re),ae})()}}function wd(S=navigator){return S.languages&&S.languages[0]||S.language}class ki{constructor(x,O,U,J,ae,Re){this.firebaseInstallations=x,this.sdkVersion=O,this.namespace=U,this.projectId=J,this.apiKey=ae,this.appId=Re}fetch(x){var O=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},lt={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:O.appId,language_code:wd()},dt={method:"POST",headers:st,body:JSON.stringify(lt)},Lt=fetch(Re,dt),Tt=new Promise((xr,Kr)=>{x.signal.addEventListener(()=>{const Va=new Error("The operation was aborted.");Va.name="AbortError",Kr(Va)})});let ni;try{yield Promise.race([Lt,Tt]),ni=yield Lt}catch(xr){let Kr="fetch-client-network";throw"AbortError"===xr.name&&(Kr="fetch-timeout"),Fn.create(Kr,{originalErrorMessage:xr.message})}let Zn=ni.status;const Xo=ni.headers.get("ETag")||void 0;let Bs,fr;if(200===ni.status){let xr;try{xr=yield ni.json()}catch(Kr){throw Fn.create("fetch-client-parse",{originalErrorMessage:Kr.message})}Bs=xr.entries,fr=xr.state}if("INSTANCE_STATE_UNSPECIFIED"===fr?Zn=500:"NO_CHANGE"===fr?Zn=304:("NO_TEMPLATE"===fr||"EMPTY_CONFIG"===fr)&&(Bs={}),304!==Zn&&200!==Zn)throw Fn.create("fetch-status",{httpStatus:Zn});return{status:Zn,eTag:Xo,config:Bs}})()}}class am{constructor(x,O){this.client=x,this.storage=O}fetch(x){var O=this;return(0,L.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(x,U)})()}attemptFetch(x,{throttleEndTimeMillis:O,backoffCount:U}){var J=this;return(0,L.Z)(function*(){yield function ao(S,x){return new Promise((O,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(O,J);S.addEventListener(()=>{clearTimeout(ae),U(Fn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,O);try{const ae=yield J.client.fetch(x);return yield J.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function bd(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ae))throw ae;const Re={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Re),J.attemptFetch(x,Re)}})()}}class Cd{constructor(x,O,U,J,ae){this.app=x,this._client=O,this._storageCache=U,this._storage=J,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sc(S,x){const O=S.target.error||void 0;return Fn.create(x,{originalErrorMessage:O&&O.message})}const lo="app_namespace_store";class dm{constructor(x,O,U,J=function cm(){return new Promise((S,x)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{x(sc(U,"storage-open"))},O.onsuccess=U=>{S(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(O){x(Fn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=x,this.appName=O,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var O=this;return(0,L.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([lo],"readonly").objectStore(lo),lt=O.createCompositeKey(x);try{const dt=st.get(lt);dt.onerror=Lt=>{ae(sc(Lt,"storage-get"))},dt.onsuccess=Lt=>{const Tt=Lt.target.result;J(Tt?Tt.value:void 0)}}catch(dt){ae(Fn.create("storage-get",{originalErrorMessage:dt&&dt.message}))}})})()}set(x,O){var U=this;return(0,L.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ae,Re)=>{const lt=J.transaction([lo],"readwrite").objectStore(lo),dt=U.createCompositeKey(x);try{const Lt=lt.put({compositeKey:dt,value:O});Lt.onerror=Tt=>{Re(sc(Tt,"storage-set"))},Lt.onsuccess=()=>{ae()}}catch(Lt){Re(Fn.create("storage-set",{originalErrorMessage:Lt&&Lt.message}))}})})()}delete(x){var O=this;return(0,L.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([lo],"readwrite").objectStore(lo),lt=O.createCompositeKey(x);try{const dt=st.delete(lt);dt.onerror=Lt=>{ae(sc(Lt,"storage-delete"))},dt.onsuccess=()=>{J()}}catch(dt){ae(Fn.create("storage-delete",{originalErrorMessage:dt&&dt.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Td{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,L.Z)(function*(){const O=x.storage.getLastFetchStatus(),U=x.storage.getLastSuccessfulFetchTimestampMillis(),J=x.storage.getActiveConfig(),ae=yield O;ae&&(x.lastFetchStatus=ae);const Re=yield U;Re&&(x.lastSuccessfulFetchTimestampMillis=Re);const st=yield J;st&&(x.activeConfig=st)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function zl(){return Id.apply(this,arguments)}function Id(){return(Id=(0,L.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}!function va(){(0,he._registerComponent)(new _e.wA("remote-config",function S(x,{instanceIdentifier:O}){const U=x.getProvider("app").getImmediate(),J=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!(0,se.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Re,appId:st}=U.options;if(!ae)throw Fn.create("registration-project-id");if(!Re)throw Fn.create("registration-api-key");if(!st)throw Fn.create("registration-app-id");const lt=new dm(st,U.name,O=O||"firebase"),dt=new Td(lt),Lt=new de.Yd(ss);Lt.logLevel=de.in.ERROR;const Tt=new ki(J,he.SDK_VERSION,O,ae,Re,st),ni=new am(Tt,lt),Zn=new cs(ni,lt,dt,Lt),Xo=new Cd(U,Zn,dt,lt,Lt);return function gn(S){const x=(0,se.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Xo),Xo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(ss,"0.3.8"),(0,he.registerVersion)(ss,"0.3.8","esm2017")}();const Sd="/firebase-messaging-sw.js",Ri="/firebase-cloud-messaging-push-scope",Po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wa="google.c.a.c_id",xd="google.c.a.c_l",Mf="google.c.a.ts",zn="google.c.a.e";var ba=(()=>{return(S=ba||(ba={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ba;var S})();function Qi(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dd(S){const O=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),J=new Uint8Array(U.length);for(let ae=0;ae<U.length;++ae)J[ae]=U.charCodeAt(ae);return J}const Oi="fcm_token_details_db",Cr="fcm_token_object_Store";function oc(S){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Oi))return null;let x=null;return(yield(0,le.X3)(Oi,5,{upgrade:(U=(0,L.Z)(function*(J,ae,Re,st){var lt;if(ae<2||!J.objectStoreNames.contains(Cr))return;const dt=st.objectStore(Cr),Lt=yield dt.index("fcmSenderId").get(S);if(yield dt.clear(),Lt)if(2===ae){const Tt=Lt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;x={token:Tt.fcmToken,createTime:null!==(lt=Tt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:Qi(Tt.vapidKey)}}}else if(3===ae){const Tt=Lt;x={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Qi(Tt.auth),p256dh:Qi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Qi(Tt.vapidKey)}}}else if(4===ae){const Tt=Lt;x={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Qi(Tt.auth),p256dh:Qi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Qi(Tt.vapidKey)}}}}),function(ae,Re,st,lt){return U.apply(this,arguments)})})).close(),yield(0,le.Lj)(Oi),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),ac(x)?x:null;var U}),Ad.apply(this,arguments)}function ac(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const hs="firebase-messaging-store";let kf=null;function fn(){return kf||(kf=(0,le.X3)("firebase-messaging-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(hs)}})),kf}function sl(S){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,L.Z)(function*(S){const x=_i(S),U=yield(yield fn()).transaction(hs).objectStore(hs).get(x);if(U)return U;{const J=yield oc(S.appConfig.senderId);if(J)return yield on(S,J),J}})).apply(this,arguments)}function on(S,x){return ol.apply(this,arguments)}function ol(){return(ol=(0,L.Z)(function*(S,x){const O=_i(S),J=(yield fn()).transaction(hs,"readwrite");return yield J.objectStore(hs).put(x,O),yield J.done,x})).apply(this,arguments)}function Gl(S){return uo.apply(this,arguments)}function uo(){return(uo=(0,L.Z)(function*(S){const x=_i(S),U=(yield fn()).transaction(hs,"readwrite");yield U.objectStore(hs).delete(x),yield U.done})).apply(this,arguments)}function _i({appConfig:S}){return S.appId}const Tn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fs(S,x){return yi.apply(this,arguments)}function yi(){return(yi=(0,L.Z)(function*(S,x){const O=yield Ta(S),U=co(x),J={method:"POST",headers:O,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(ps(S.appConfig),J)).json()}catch(Re){throw Tn.create("token-subscribe-failed",{errorInfo:Re})}if(ae.error)throw Tn.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw Tn.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function Vo(S,x){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,L.Z)(function*(S,x){const O=yield Ta(S),U=co(x.subscriptionOptions),J={method:"PATCH",headers:O,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(`${ps(S.appConfig)}/${x.token}`,J)).json()}catch(Re){throw Tn.create("token-update-failed",{errorInfo:Re})}if(ae.error)throw Tn.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw Tn.create("token-update-no-token");return ae.token})).apply(this,arguments)}function al(S,x){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(S,x){const U={method:"DELETE",headers:yield Ta(S)};try{const ae=yield(yield fetch(`${ps(S.appConfig)}/${x}`,U)).json();if(ae.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(J){throw Tn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function ps({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Ta(S){return wt.apply(this,arguments)}function wt(){return(wt=(0,L.Z)(function*({appConfig:S,installations:x}){const O=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function co({p256dh:S,auth:x,endpoint:O,vapidKey:U}){const J={web:{endpoint:O,auth:x,p256dh:S}};return U!==Po&&(J.web.applicationPubKey=U),J}const cc=6048e5;function ll(S){return dc.apply(this,arguments)}function dc(){return(dc=(0,L.Z)(function*(S){const x=yield Bo(S.swRegistration,S.vapidKey),O={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:Qi(x.getKey("auth")),p256dh:Qi(x.getKey("p256dh"))},U=yield sl(S.firebaseDependencies);if(U){if(Wl(U.subscriptionOptions,O))return Date.now()>=U.createTime+cc?hc(S,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield al(S.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Ae(S.firebaseDependencies,O)}return Ae(S.firebaseDependencies,O)})).apply(this,arguments)}function $l(S){return ql.apply(this,arguments)}function ql(){return(ql=(0,L.Z)(function*(S){const x=yield sl(S.firebaseDependencies);x&&(yield al(S.firebaseDependencies,x.token),yield Gl(S.firebaseDependencies));const O=yield S.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function hc(S,x){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,L.Z)(function*(S,x){try{const O=yield Vo(S.firebaseDependencies,x),U=Object.assign(Object.assign({},x),{token:O,createTime:Date.now()});return yield on(S.firebaseDependencies,U),O}catch(O){throw yield $l(S),O}})).apply(this,arguments)}function Ae(S,x){return zt.apply(this,arguments)}function zt(){return(zt=(0,L.Z)(function*(S,x){const U={token:yield fs(S,x),createTime:Date.now(),subscriptionOptions:x};return yield on(S,U),U.token})).apply(this,arguments)}function Bo(S,x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,L.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dd(x)})})).apply(this,arguments)}function Wl(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}function Uo(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Er(S,x){if(!x.notification)return;S.notification={};const O=x.notification.title;O&&(S.notification.title=O);const U=x.notification.body;U&&(S.notification.body=U);const J=x.notification.image;J&&(S.notification.image=J)}(x,S),function fc(S,x){!x.data||(S.data=x.data)}(x,S),function pc(S,x){if(!x.fcmOptions)return;S.fcmOptions={};const O=x.fcmOptions.link;O&&(S.fcmOptions.link=O);const U=x.fcmOptions.analytics_label;U&&(S.fcmOptions.analyticsLabel=U)}(x,S),x}function gc(S){return"object"==typeof S&&!!S&&wa in S}function Md(S,x){const O=[];for(let U=0;U<S.length;U++)O.push(S.charAt(U)),U<x.length&&O.push(x.charAt(U));return O.join("")}function ks(S){return Tn.create("missing-app-config-values",{valueName:S})}Md("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Md("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ni{constructor(x,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function hm(S){if(!S||!S.options)throw ks("App Configuration Object");if(!S.name)throw ks("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:O}=S;for(const U of x)if(!O[U])throw ks(U);return{appName:S.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:J,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Tr(S){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,L.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Sd,{scope:Ri}),S.swRegistration.update().catch(()=>{})}catch(x){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function ho(S,x){return qr.apply(this,arguments)}function qr(){return(qr=(0,L.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield Tr(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function mc(S,x){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,L.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=Po)})).apply(this,arguments)}function _c(){return(_c=(0,L.Z)(function*(S,x){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield mc(S,null==x?void 0:x.vapidKey),yield ho(S,null==x?void 0:x.serviceWorkerRegistration),ll(S)})).apply(this,arguments)}function Sa(S,x,O){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,L.Z)(function*(S,x,O){const U=Jl(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[wa],message_name:O[xd],message_time:O[Mf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jl(S){switch(S){case ba.NOTIFICATION_CLICKED:return"notification_open";case ba.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rd(){return(Rd=(0,L.Z)(function*(S,x){const O=x.data;if(!O.isFirebaseMessaging)return;S.onMessageHandler&&O.messageType===ba.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Uo(O)):S.onMessageHandler.next(Uo(O)));const U=O.data;gc(U)&&"1"===U[zn]&&(yield Sa(S,O.messageType,U))})).apply(this,arguments)}const Xl="@firebase/messaging",Od=S=>{const x=new Ni(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function kd(S,x){return Rd.apply(this,arguments)}(x,O)),x},xa=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:U=>function Yl(S,x){return _c.apply(this,arguments)}(x,U)}};function eu(){return hr.apply(this,arguments)}function hr(){return(hr=(0,L.Z)(function*(){try{yield(0,se.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nd(){(0,he._registerComponent)(new _e.wA("messaging",Od,"PUBLIC")),(0,he._registerComponent)(new _e.wA("messaging-internal",xa,"PRIVATE")),(0,he.registerVersion)(Xl,"0.9.13"),(0,he.registerVersion)(Xl,"0.9.13","esm2017")}();const Pd="analytics",fm="firebase_id",Rs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zo="https://www.googletagmanager.com/gtag/js",ti=new de.Yd("@firebase/analytics");function Fd(S){return Promise.all(S.map(x=>x.catch(O=>O)))}function pm(S,x){const O=document.createElement("script");O.src=`${zo}?l=${S}&id=${x}`,O.async=!0,document.head.appendChild(O)}function Da(S,x,O,U,J,ae){return tu.apply(this,arguments)}function tu(){return(tu=(0,L.Z)(function*(S,x,O,U,J,ae){const Re=U[J];try{if(Re)yield x[Re];else{const lt=(yield Fd(O)).find(dt=>dt.measurementId===J);lt&&(yield x[lt.appId])}}catch(st){ti.error(st)}S("config",J,ae)})).apply(this,arguments)}function gm(S,x,O,U,J){return Os.apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(S,x,O,U,J){try{let ae=[];if(J&&J.send_to){let Re=J.send_to;Array.isArray(Re)||(Re=[Re]);const st=yield Fd(O);for(const lt of Re){const dt=st.find(Tt=>Tt.measurementId===lt),Lt=dt&&x[dt.appId];if(!Lt){ae=[];break}ae.push(Lt)}}0===ae.length&&(ae=Object.values(x)),yield Promise.all(ae),S("event",U,J||{})}catch(ae){ti.error(ae)}})).apply(this,arguments)}function Ld(){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(zo))return x;return null}const $n=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Aa=new class Ns{constructor(x={},O=1e3){this.throttleMetadata=x,this.intervalMillis=O}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,O){this.throttleMetadata[x]=O}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function qn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function $o(S){return qo.apply(this,arguments)}function qo(){return(qo=(0,L.Z)(function*(S){var x;const{appId:O,apiKey:U}=S,J={method:"GET",headers:qn(U)},ae=Rs.replace("{app-id}",O),Re=yield fetch(ae,J);if(200!==Re.status&&304!==Re.status){let st="";try{const lt=yield Re.json();(null===(x=lt.error)||void 0===x?void 0:x.message)&&(st=lt.error.message)}catch(lt){}throw $n.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:st})}return Re.json()})).apply(this,arguments)}function tn(S){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,L.Z)(function*(S,x=Aa,O){const{appId:U,apiKey:J,measurementId:ae}=S.options;if(!U)throw $n.create("no-app-id");if(!J){if(ae)return{measurementId:ae,appId:U};throw $n.create("no-api-key")}const Re=x.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new vc;return setTimeout((0,L.Z)(function*(){st.abort()}),void 0!==O?O:6e4),Ma({appId:U,apiKey:J,measurementId:ae},Re,st,x)})).apply(this,arguments)}function Ma(S,x,O){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,L.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:O},U,J=Aa){const{appId:ae,measurementId:Re}=S;try{yield Vd(U,x)}catch(st){if(Re)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Re};throw st}try{const st=yield $o(S);return J.deleteThrottleMetadata(ae),st}catch(st){if(!Nf(st)){if(J.deleteThrottleMetadata(ae),Re)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Re};throw st}const lt=503===Number(st.customData.httpStatus)?(0,se.$s)(O,J.intervalMillis,30):(0,se.$s)(O,J.intervalMillis),dt={throttleEndTimeMillis:Date.now()+lt,backoffCount:O+1};return J.setThrottleMetadata(ae,dt),ti.debug(`Calling attemptFetch again in ${lt} millis`),Ma(S,dt,U,J)}})).apply(this,arguments)}function Vd(S,x){return new Promise((O,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(O,J);S.addEventListener(()=>{clearTimeout(ae),U($n.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Nf(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}class vc{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function ka(){return iu.apply(this,arguments)}function iu(){return(iu=(0,L.Z)(function*(){if(!(0,se.hl)())return ti.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return ti.warn($n.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function Nt(){return(Nt=(0,L.Z)(function*(S,x,O,U,J,ae,Re){var st;const lt=tn(S);lt.then(Zn=>{O[Zn.measurementId]=Zn.appId,S.options.measurementId&&Zn.measurementId!==S.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>ti.error(Zn)),x.push(lt);const dt=ka().then(Zn=>{if(Zn)return U.getId()}),[Lt,Tt]=yield Promise.all([lt,dt]);Ld()||pm(ae,Lt.measurementId),J("js",new Date);const ni=null!==(st=null==Re?void 0:Re.config)&&void 0!==st?st:{};return ni.origin="firebase",ni.update=!0,null!=Tt&&(ni[fm]=Tt),J("config",Lt.measurementId,ni),Lt.measurementId})).apply(this,arguments)}class ms{constructor(x){this.app=x}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},cl=[];const ru={};let wc,fo,Ra="dataLayer",su=!1;function au(S,x,O){!function ou(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((U,J)=>`(${J+1}) ${U}`).join(" "),O=$n.create("invalid-analytics-context",{errorInfo:x});ti.warn(O.message)}}();const U=S.options.appId;if(!U)throw $n.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw $n.create("no-api-key");ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[U])throw $n.create("already-exists",{id:U});if(!su){!function Go(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(Ra);const{wrappedGtag:ae,gtagCore:Re}=function mm(S,x,O,U,J){let ae=function(...Re){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ae=window[J]),window[J]=function nu(S,x,O,U){function ae(){return(ae=(0,L.Z)(function*(Re,st,lt){try{"event"===Re?yield gm(S,x,O,st,lt):"config"===Re?yield Da(S,x,O,U,st,lt):S("set",st)}catch(dt){ti.error(dt)}})).apply(this,arguments)}return function J(Re,st,lt){return ae.apply(this,arguments)}}(ae,S,x,O),{gtagCore:ae,wrappedGtag:window[J]}}(vi,cl,ru,Ra,"gtag");fo=ae,wc=Re,su=!0}return vi[U]=function gs(S,x,O,U,J,ae,Re){return Nt.apply(this,arguments)}(S,cl,ru,x,wc,Ra,O),new ms(S)}function lu(){return(lu=(0,L.Z)(function*(S,x,O,U,J){if(J&&J.global)S("event",O,U);else{const ae=yield x;S("event",O,Object.assign(Object.assign({},U),{send_to:ae}))}})).apply(this,arguments)}function Na(){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,L.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}const Pf="@firebase/analytics";!function bm(){(0,he._registerComponent)(new _e.wA(Pd,(x,{options:O})=>au(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,he._registerComponent)(new _e.wA("analytics-internal",function S(x){try{const O=x.getProvider(Pd).getImmediate();return{logEvent:(U,J,ae)=>function wm(S,x,O,U){S=(0,se.m9)(S),function hl(S,x,O,U,J){return lu.apply(this,arguments)}(fo,vi[S.app.options.appId],x,O,U).catch(J=>ti.error(J))}(O,U,J,ae)}}catch(O){throw $n.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,he.registerVersion)(Pf,"0.7.9"),(0,he.registerVersion)(Pf,"0.7.9","esm2017")}();var Cm=F(4408),zd=F(7565);const Zo=new class Wn extends zd.v{}(class hu extends Cm.o{constructor(x,O){super(x,O),this.scheduler=x,this.work=O}schedule(x,O=0){return O>0?super.schedule(x,O):(this.delay=O,this.state=x,this.scheduler.flush(this),this)}execute(x,O){return O>0||this.closed?super.execute(x,O):this._execute(x,O)}requestAsyncId(x,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(x,O,U):x.flush(this)}});var Cc=F(4986),Ec=F(8505),wi=F(9468),Pi=F(5363);const bi=new s.GfV("7.3.0"),Ko="__angularfire_symbol__analyticsIsSupportedValue",Zr="__angularfire_symbol__analyticsIsSupported",Ls="__angularfire_symbol__remoteConfigIsSupportedValue",_s="__angularfire_symbol__remoteConfigIsSupported",Yo="__angularfire_symbol__messagingIsSupportedValue",Ff="__angularfire_symbol__messagingIsSupported";function Pa(S,x,O){if(x){if(1===x.length)return x[0];const ae=x.filter(Re=>Re.app===O);if(1===ae.length)return ae[0]}return O.container.getProvider(S).getImmediate({optional:!0})}globalThis[Zr]||(globalThis[Zr]=Na().then(S=>globalThis[Ko]=S).catch(()=>globalThis[Ko]=!1)),globalThis[Ff]||(globalThis[Ff]=eu().then(S=>globalThis[Yo]=S).catch(()=>globalThis[Yo]=!1)),globalThis[_s]||(globalThis[_s]=zl().then(S=>globalThis[Ls]=S).catch(()=>globalThis[Ls]=!1));const Lf=(S,x)=>{const O=x?[x]:(0,ee.C6)(),U=[];return O.forEach(J=>{J.container.getProvider(S).instances.forEach(Re=>{U.includes(Re)||U.push(Re)})}),U};function ys(){}class Vf{constructor(x,O=Zo){this.zone=x,this.delegate=O}now(){return this.delegate.now()}schedule(x,O,U){const J=this.zone;return this.delegate.schedule(function(Re){J.runGuarded(()=>{x.apply(this,[Re])})},O,U)}}class pu{constructor(x){this.zone=x,this.task=null}call(x,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ys,{},ys,ys)),O.pipe((0,Ec.b)({next:U,complete:U,error:U})).subscribe(x).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tc=(()=>{class S{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Vf(Zone.current)),this.insideAngular=O.run(()=>new Vf(Zone.current,Cc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(O){return new(O||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Vs(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function mu(S){return Vs(),function vs(S){return function(O){return(O=O.lift(new pu(S.ngZone))).pipe((0,wi.R)(S.outsideAngular),(0,Pi.Q)(S.insideAngular))}}(Vs())(S)}},2090:(Xe,we,F)=>{F.d(we,{$s:()=>Gt,BH:()=>qe,DV:()=>Jt,Dv:()=>io,G6:()=>Ge,GJ:()=>rn,L:()=>le,LL:()=>ue,Mn:()=>Ie,Pz:()=>Ht,Sg:()=>ke,UG:()=>ge,UI:()=>is,US:()=>_e,Wj:()=>Pn,Yr:()=>ze,ZB:()=>z,ZR:()=>ve,b$:()=>Qe,cI:()=>Wt,d:()=>De,dS:()=>ko,eu:()=>Ce,g5:()=>L,gK:()=>lr,gQ:()=>ar,h$:()=>de,hl:()=>G,hu:()=>ee,jU:()=>Se,lb:()=>wr,m9:()=>Ai,ne:()=>zr,p$:()=>$,pd:()=>no,r3:()=>Wi,ru:()=>We,tV:()=>fe,uI:()=>He,ug:()=>Zt,vZ:()=>yr,w1:()=>Ee,w9:()=>cn,xO:()=>Zi,xb:()=>jt,z$:()=>Pe,zI:()=>Y,zd:()=>rs});const ee=function(H,W){if(!H)throw L(W)},L=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},he=function(H){const W=[];let Z=0;for(let xe=0;xe<H.length;xe++){let q=H.charCodeAt(xe);q<128?W[Z++]=q:q<2048?(W[Z++]=q>>6|192,W[Z++]=63&q|128):55296==(64512&q)&&xe+1<H.length&&56320==(64512&H.charCodeAt(xe+1))?(q=65536+((1023&q)<<10)+(1023&H.charCodeAt(++xe)),W[Z++]=q>>18|240,W[Z++]=q>>12&63|128,W[Z++]=q>>6&63|128,W[Z++]=63&q|128):(W[Z++]=q>>12|224,W[Z++]=q>>6&63|128,W[Z++]=63&q|128)}return W},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,W){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let q=0;q<H.length;q+=3){const te=H[q],Ne=q+1<H.length,et=Ne?H[q+1]:0,_t=q+2<H.length,Dt=_t?H[q+2]:0;let Jn=(15&et)<<2|Dt>>6,Ki=63&Dt;_t||(Ki=64,Ne||(Jn=64)),xe.push(Z[te>>2],Z[(3&te)<<4|et>>4],Z[Jn],Z[Ki])}return xe.join("")},encodeString(H,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(H):this.encodeByteArray(he(H),W)},decodeString(H,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(H):function(H){const W=[];let Z=0,xe=0;for(;Z<H.length;){const q=H[Z++];if(q<128)W[xe++]=String.fromCharCode(q);else if(q>191&&q<224){const te=H[Z++];W[xe++]=String.fromCharCode((31&q)<<6|63&te)}else if(q>239&&q<365){const _t=((7&q)<<18|(63&H[Z++])<<12|(63&H[Z++])<<6|63&H[Z++])-65536;W[xe++]=String.fromCharCode(55296+(_t>>10)),W[xe++]=String.fromCharCode(56320+(1023&_t))}else{const te=H[Z++],Ne=H[Z++];W[xe++]=String.fromCharCode((15&q)<<12|(63&te)<<6|63&Ne)}}return W.join("")}(this.decodeStringToByteArray(H,W))},decodeStringToByteArray(H,W){this.init_();const Z=W?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let q=0;q<H.length;){const te=Z[H.charAt(q++)],et=q<H.length?Z[H.charAt(q)]:0;++q;const Dt=q<H.length?Z[H.charAt(q)]:64;++q;const It=q<H.length?Z[H.charAt(q)]:64;if(++q,null==te||null==et||null==Dt||null==It)throw Error();xe.push(te<<2|et>>4),64!==Dt&&(xe.push(et<<4&240|Dt>>2),64!==It&&xe.push(Dt<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},de=function(H){const W=he(H);return _e.encodeByteArray(W,!0)},le=function(H){return de(H).replace(/\./g,"")},fe=function(H){try{return _e.decodeString(H,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function $(H){return z(void 0,H)}function z(H,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return W}for(const Z in W)!W.hasOwnProperty(Z)||!ie(Z)||(H[Z]=z(H[Z],W[Z]));return H}function ie(H){return"__proto__"!==H}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Z)=>{this.resolve=W,this.reject=Z})}wrapCallback(W){return(Z,xe)=>{Z?this.reject(Z):this.resolve(xe),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Z):W(Z,xe))}}}function ke(H,W){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=W||"demo-project",q=H.iat||0,te=H.sub||H.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:q,exp:q+3600,auth_time:q,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},H);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Ne)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Se(){return"object"==typeof self&&self.self===self}function We(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Pe().indexOf("Electron/")>=0}function Ee(){const H=Pe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ie(){return Pe().indexOf("MSAppHost/")>=0}function ze(){return!1}function Ge(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function Ce(){return new Promise((H,W)=>{try{let Z=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(xe);q.onsuccess=()=>{q.result.close(),Z||self.indexedDB.deleteDatabase(xe),H(!0)},q.onupgradeneeded=()=>{Z=!1},q.onerror=()=>{var te;W((null===(te=q.error)||void 0===te?void 0:te.message)||"")}}catch(Z){W(Z)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(W,Z,xe){super(Z),this.code=W,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(W,Z,xe){this.service=W,this.serviceName=Z,this.errors=xe}create(W,...Z){const xe=Z[0]||{},q=`${this.service}/${W}`,te=this.errors[W],Ne=te?function Fe(H,W){return H.replace(pt,(Z,xe)=>{const q=W[xe];return null!=q?String(q):`<${xe}?>`})}(te,xe):"Error";return new ve(q,`${this.serviceName}: ${Ne} (${q}).`,xe)}}const pt=/\{\$([^}]+)}/g;function Wt(H){return JSON.parse(H)}function Ht(H){return JSON.stringify(H)}const Ye=function(H){let W={},Z={},xe={},q="";try{const te=H.split(".");W=Wt(fe(te[0])||""),Z=Wt(fe(te[1])||""),q=te[2],xe=Z.d||{},delete Z.d}catch(te){}return{header:W,claims:Z,data:xe,signature:q}},cn=function(H){const Z=Ye(H).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},rn=function(H){const W=Ye(H).claims;return"object"==typeof W&&!0===W.admin};function Wi(H,W){return Object.prototype.hasOwnProperty.call(H,W)}function Jt(H,W){if(Object.prototype.hasOwnProperty.call(H,W))return H[W]}function jt(H){for(const W in H)if(Object.prototype.hasOwnProperty.call(H,W))return!1;return!0}function is(H,W,Z){const xe={};for(const q in H)Object.prototype.hasOwnProperty.call(H,q)&&(xe[q]=W.call(Z,H[q],q,H));return xe}function yr(H,W){if(H===W)return!0;const Z=Object.keys(H),xe=Object.keys(W);for(const q of Z){if(!xe.includes(q))return!1;const te=H[q],Ne=W[q];if(Si(te)&&Si(Ne)){if(!yr(te,Ne))return!1}else if(te!==Ne)return!1}for(const q of xe)if(!Z.includes(q))return!1;return!0}function Si(H){return null!==H&&"object"==typeof H}function Zi(H){const W=[];for(const[Z,xe]of Object.entries(H))Array.isArray(xe)?xe.forEach(q=>{W.push(encodeURIComponent(Z)+"="+encodeURIComponent(q))}):W.push(encodeURIComponent(Z)+"="+encodeURIComponent(xe));return W.length?"&"+W.join("&"):""}function rs(H){const W={};return H.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[q,te]=xe.split("=");W[decodeURIComponent(q)]=decodeURIComponent(te)}}),W}function no(H){const W=H.indexOf("?");if(!W)return"";const Z=H.indexOf("#",W);return H.substring(W,Z>0?Z:void 0)}class ar{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,Z){Z||(Z=0);const xe=this.W_;if("string"==typeof W)for(let It=0;It<16;It++)xe[It]=W.charCodeAt(Z)<<24|W.charCodeAt(Z+1)<<16|W.charCodeAt(Z+2)<<8|W.charCodeAt(Z+3),Z+=4;else for(let It=0;It<16;It++)xe[It]=W[Z]<<24|W[Z+1]<<16|W[Z+2]<<8|W[Z+3],Z+=4;for(let It=16;It<80;It++){const Jn=xe[It-3]^xe[It-8]^xe[It-14]^xe[It-16];xe[It]=4294967295&(Jn<<1|Jn>>>31)}let Dt,yn,q=this.chain_[0],te=this.chain_[1],Ne=this.chain_[2],et=this.chain_[3],_t=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(Dt=et^te&(Ne^et),yn=1518500249):(Dt=te^Ne^et,yn=1859775393):It<60?(Dt=te&Ne|et&(te|Ne),yn=2400959708):(Dt=te^Ne^et,yn=3395469782);const Jn=(q<<5|q>>>27)+Dt+_t+yn+xe[It]&4294967295;_t=et,et=Ne,Ne=4294967295&(te<<30|te>>>2),te=q,q=Jn}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+Ne&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(W,Z){if(null==W)return;void 0===Z&&(Z=W.length);const xe=Z-this.blockSize;let q=0;const te=this.buf_;let Ne=this.inbuf_;for(;q<Z;){if(0===Ne)for(;q<=xe;)this.compress_(W,q),q+=this.blockSize;if("string"==typeof W){for(;q<Z;)if(te[Ne]=W.charCodeAt(q),++Ne,++q,Ne===this.blockSize){this.compress_(te),Ne=0;break}}else for(;q<Z;)if(te[Ne]=W[q],++Ne,++q,Ne===this.blockSize){this.compress_(te),Ne=0;break}}this.inbuf_=Ne,this.total_+=Z}digest(){const W=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&Z,Z/=256;this.compress_(this.buf_);let xe=0;for(let q=0;q<5;q++)for(let te=24;te>=0;te-=8)W[xe]=this.chain_[q]>>te&255,++xe;return W}}function zr(H,W){const Z=new vt(H,W);return Z.subscribe.bind(Z)}class vt{constructor(W,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{W(this)}).catch(xe=>{this.error(xe)})}next(W){this.forEachObserver(Z=>{Z.next(W)})}error(W){this.forEachObserver(Z=>{Z.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Z,xe){let q;if(void 0===W&&void 0===Z&&void 0===xe)throw new Error("Missing Observer.");q=function Dn(H,W){if("object"!=typeof H||null===H)return!1;for(const Z of W)if(Z in H&&"function"==typeof H[Z])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Z,complete:xe},void 0===q.next&&(q.next=Nn),void 0===q.error&&(q.error=Nn),void 0===q.complete&&(q.complete=Nn);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Ne){}}),this.observers.push(q),te}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,W)}sendOne(W,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Z(this.observers[W])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}const io=function(H,W,Z,xe){let q;if(xe<W?q="at least "+W:xe>Z&&(q=0===Z?"none":"no more than "+Z),q)throw new Error(H+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+q+".")};function lr(H,W){return`${H} failed: ${W} argument `}function Pn(H,W,Z,xe){if((!xe||Z)&&"function"!=typeof Z)throw new Error(lr(H,W)+"must be a valid function.")}function wr(H,W,Z,xe){if((!xe||Z)&&("object"!=typeof Z||null===Z))throw new Error(lr(H,W)+"must be a valid context object.")}const ko=function(H){const W=[];let Z=0;for(let xe=0;xe<H.length;xe++){let q=H.charCodeAt(xe);if(q>=55296&&q<=56319){const te=q-55296;xe++,ee(xe<H.length,"Surrogate pair missing trail surrogate."),q=65536+(te<<10)+(H.charCodeAt(xe)-56320)}q<128?W[Z++]=q:q<2048?(W[Z++]=q>>6|192,W[Z++]=63&q|128):q<65536?(W[Z++]=q>>12|224,W[Z++]=q>>6&63|128,W[Z++]=63&q|128):(W[Z++]=q>>18|240,W[Z++]=q>>12&63|128,W[Z++]=q>>6&63|128,W[Z++]=63&q|128)}return W},Zt=function(H){let W=0;for(let Z=0;Z<H.length;Z++){const xe=H.charCodeAt(Z);xe<128?W++:xe<2048?W+=2:xe>=55296&&xe<=56319?(W+=4,Z++):W+=3}return W};function Gt(H,W=1e3,Z=2){const xe=W*Math.pow(Z,H),q=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+q)}function Ai(H){return H&&H._delegate?H._delegate:H}},4160:(Xe,we,F)=>{var s=F(5e3);let ee=null;function L(){return ee}const de=new s.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function fe(){return(0,s.LFG)(z)}()},providedIn:"platform"}),n})();const $=new s.OlP("Location Initialized");let z=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function qe(){return new z((0,s.LFG)(de))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Pe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(n){const t=(0,s.LFG)(de).location;return new Qe((0,s.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const We=new s.OlP("appBaseHref");let Qe=(()=>{class n extends ge{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+He(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+He(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(We,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends ge{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+He(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+He(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(We,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Pe(Ge(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function ze(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ge(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=ke,n.stripTrailingSlash=Pe,n.\u0275fac=function(e){return new(e||n)(s.LFG(ge),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ie(){return new Ee((0,s.LFG)(ge),(0,s.LFG)(le))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}function ya(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let En=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class so{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new so(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),No(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{No(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function No(n,t){n.context.$implicit=t.item}let Xt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function Hl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let mi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Mi=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),cs=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})(),zn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Fo="browser";function Ca(n){return"server"===n}let ac=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ea((0,s.LFG)(de),window)}),n})();class Ea{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function hs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=lc(this.window.history)||lc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function lc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fn{}class Lo extends class sl extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new Lo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ol(){return on=on||document.querySelector("base"),on?on.getAttribute("href"):null}();return null==e?null:function uo(n){Gl=Gl||document.createElement("a"),Gl.setAttribute("href",n);const t=Gl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){on=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ya(document.cookie,t)}}let Gl,on=null;const _i=new s.OlP("TRANSITION_ID"),Tn=[{provide:s.ip1,useFactory:function uc(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[_i,de,s.zs3],multi:!0}];class fs{static init(){(0,s.VLi)(new fs)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(p){u=u||p,o--,0==o&&i(u)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let yi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Vo=new s.OlP("EventManagerPlugins");let Ms=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class al{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let $r=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ps=(()=>{class n extends $r{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ta),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ta))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ta(n){L().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},co=/%COMP%/g;function Ia(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ia(n,r,e):(r=r.replace(co,n),e.push(r))}return e}function Ae(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Bo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Cn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Er(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ia(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(ps),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Cn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wt[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ae(i)):this.eventManager.addEventListener(t,e,Ae(i))}}class Er extends Cn{constructor(t,e,i,r){super(t),this.component=i;const o=Ia(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function ql(n){return"_ngcontent-%COMP%".replace(co,n)}(r+"-"+i.id),this.hostAttr=function hc(n){return"_nghost-%COMP%".replace(co,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class fc extends Cn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ia(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pc=(()=>{class n extends al{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=["alt","control","meta","shift"],hm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ks={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tr=(()=>{class n extends al{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(gc.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),u+=p+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function Zl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ks.hasOwnProperty(t)&&(t=ks[t]))}return hm[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gc.forEach(o=>{o!=r&&Ni[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Fo},{provide:s.g9A,useValue:function ho(){Lo.makeCurrent(),fs.init()},multi:!0},{provide:de,useFactory:function mc(){return(0,s.RDi)(document),document},deps:[]}]),_c=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function qr(){return new s.qLn},deps:[]},{provide:Vo,useClass:pc,multi:!0,deps:[de,s.R0b,s.Lbi]},{provide:Vo,useClass:Tr,multi:!0,deps:[de]},{provide:Bo,useClass:Bo,deps:[Ms,ps,s.AFp]},{provide:s.FYo,useExisting:Bo},{provide:$r,useExisting:ps},{provide:ps,useClass:ps,deps:[de]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Ms,useClass:Ms,deps:[Vo,s.R0b]},{provide:fn,useClass:yi,deps:[]}];let Sa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:_i,useExisting:s.AFp},Tn]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:_c,imports:[zn,s.hGG]}),n})();"undefined"!=typeof window&&window;class Ld{}const $n="*";function Ir(n,t){return{type:7,name:n,definitions:t,options:{}}}function Sr(n,t=null){return{type:4,styles:t,timings:n}}function Aa(n,t=null){return{type:2,steps:n,options:t}}function qn(n){return{type:6,styles:n,offset:null}}function $o(n,t,e){return{type:0,name:n,styles:t,options:e}}function tn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ps(n,t=null){return{type:8,animation:n,options:t}}function Ma(n=null){return{type:9,options:n}}function Wo(n,t=null){return{type:10,animation:n,options:t}}function Vd(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function vc(n){Promise.resolve(null).then(n)}class ka{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class iu{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?vc(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Nt=!1;function vi(n){return new s.vHH(3e3,Nt)}function Wn(){return"undefined"!=typeof window&&void 0!==window.document}function Zo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wr(n){switch(n.length){case 0:return new ka;case 1:return n[0];default:return new iu(n)}}function Cc(n,t,e,i,r={},o={}){const u=[],h=[];let p=-1,y=null;if(i.forEach(E=>{const I=E.offset,M=I==p,N=M&&y||{};Object.keys(E).forEach(V=>{let Q=V,ye=E[V];if("offset"!==V)switch(Q=t.normalizePropertyName(Q,u),ye){case"!":ye=r[V];break;case $n:ye=o[V];break;default:ye=t.normalizeStyleValue(V,Q,ye,u)}N[Q]=ye}),M||h.push(N),y=N,p=I}),u.length)throw function Ud(n){return new s.vHH(3502,Nt)}();return h}function Ec(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&wi(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wi(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wi(e,"destroy",n)))}}function wi(n,t,e){const i=e.totalTime,o=Pi(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Pi(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function bi(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Ko(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Zr=(n,t)=>!1,Ls=(n,t,e)=>[],_s=null;function Yo(n){const t=n.parentNode||n.host;return t===_s?null:t}(Zo()||"undefined"!=typeof Element)&&(Wn()?(_s=(()=>document.documentElement)(),Zr=(n,t)=>{for(;t;){if(t===n)return!0;t=Yo(t)}return!1}):Zr=(n,t)=>n.contains(t),Ls=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Qo=null,Fi=!1;function fu(n){Qo||(Qo=function Pa(){return"undefined"!=typeof document?document.body:null}()||{},Fi=!!Qo.style&&"WebkitAppearance"in Qo.style);let t=!0;return Qo.style&&!function Gd(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Qo.style,!t&&Fi&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Qo.style)),t}const Lf=Zr,ys=Ls;let pu=(()=>{class n{validateStyleProperty(e){return fu(e)}matchesElement(e,i){return!1}containsElement(e,i){return Lf(e,i)}getParentElement(e){return Yo(e)}query(e,i,r){return ys(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],p){return new ka(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Tc=(()=>{class n{}return n.NOOP=new pu,n})();const _o="ng-enter",Fa="ng-leave",mu="ng-trigger",vs=".ng-trigger",La="ng-animating",Jo=".ng-animating";function S(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:x(parseFloat(t[1]),t[2])}function x(n,t){return"s"===t?1e3*n:n}function O(n,t,e){return n.hasOwnProperty("duration")?n:function U(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(vi()),{duration:0,delay:0,easing:""};r=x(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=x(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!e){let h=!1,p=t.length;r<0&&(t.push(function cl(){return new s.vHH(3100,Nt)}()),h=!0),o<0&&(t.push(function ru(){return new s.vHH(3101,Nt)}()),h=!0),h&&t.splice(p,0,vi())}return{duration:r,delay:o,easing:u}}(n,t,e)}function J(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Re(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else J(n,e);return e}function st(n,t,e){return e?t+":"+e+";":""}function lt(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=st(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=st(0,Va(e),n.style[e]));n.setAttribute("style",t)}function dt(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Kr(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Zo()&&lt(n))}function Lt(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Kr(e);n.style[i]=""}),Zo()&&lt(n))}function Tt(n){return Array.isArray(n)?1==n.length?n[0]:Aa(n):n}const Zn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xo(n){let t=[];if("string"==typeof n){let e;for(;e=Zn.exec(n);)t.push(e[1]);Zn.lastIndex=0}return t}function Bs(n,t,e){const i=n.toString(),r=i.replace(Zn,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function dl(n){return new s.vHH(3003,Nt)}()),h=""),h.toString()});return r==i?n:r}function fr(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const xr=/-+([a-z0-9])/g;function Kr(n){return n.replace(xr,(...t)=>t[1].toUpperCase())}function Va(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ji(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function wc(n){return new s.vHH(3004,Nt)}()}}function Ic(n,t){return window.getComputedStyle(n)[t]}function Im(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function u0(n,t,e){if(":"==n[0]){const p=function $d(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function go(n){return new s.vHH(3016,Nt)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Oa(n){return new s.vHH(3015,Nt)}()),t;const r=i[1],o=i[2],u=i[3];t.push(Dc(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(Dc(u,r))}(i,e,t)):e.push(n),e}const qd=new Set(["true","1"]),Wd=new Set(["false","0"]);function Dc(n,t){const e=qd.has(n)||Wd.has(n),i=qd.has(t)||Wd.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?qd.has(n):Wd.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?qd.has(t):Wd.has(t)),u&&h}}const wu=new RegExp("s*:selfs*,?","g");function Uf(n,t,e,i){return new c0(n).build(t,e,i)}class c0{constructor(t){this._driver=t}build(t,e,i){const r=new xm(e);this._resetContextStyleTimingState(r);const o=Ji(this,Tt(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function su(){return new s.vHH(3006,Nt)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,o.push(this.visitState(p,e))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,e);i+=p.queryCount,r+=p.depCount,u.push(p)}else e.errors.push(function ym(){return new s.vHH(3007,Nt)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{if(Ac(h)){const p=h;Object.keys(p).forEach(y=>{Xo(p[y]).forEach(E=>{u.hasOwnProperty(E)||o.add(E)})})}}),o.size&&(fr(o.values()),e.errors.push(function ou(n,t){return new s.vHH(3008,Nt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ji(this,Tt(t.animation),e);return{type:1,matchers:Im(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ba(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ji(this,i,e)),options:Ba(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Ji(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Ba(t.options)}}visitAnimate(t,e){const i=function Am(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jf(O(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=jf(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=O(e,t);return jf(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:qn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=qn(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,e);p.isEmptyStep=h,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==$n?i.push(u):e.errors.push(function au(n){return new s.vHH(3002,Nt)}()):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(Ac(u)){const h=u,p=h.easing;if(p&&(o=p,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const p=e.collectedStyles[e.currentQuerySelector],y=p[h];let E=!0;y&&(o!=r&&o>=y.startTime&&r<=y.endTime&&(e.errors.push(function lu(n,t,e,i,r){return new s.vHH(3010,Nt)}()),E=!1),o=y.startTime),E&&(p[h]={startTime:o,endTime:r}),e.options&&function ni(n,t,e){const i=t.params||{},r=Xo(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Ra(n){return new s.vHH(3001,Nt)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Bd(){return new s.vHH(3011,Nt)}()),i;let o=0;const u=[];let h=!1,p=!1,y=0;const E=t.steps.map(je=>{const Je=this._makeStyleAst(je,e);let it=null!=Je.offset?Je.offset:function Dm(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Ac(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Ac(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Je.styles),rt=0;return null!=it&&(o++,rt=Je.offset=it),p=p||rt<0||rt>1,h=h||rt<y,y=rt,u.push(rt),Je});p&&e.errors.push(function po(){return new s.vHH(3012,Nt)}()),h&&e.errors.push(function uu(){return new s.vHH(3200,Nt)}());const I=t.steps.length;let M=0;o>0&&o<I?e.errors.push(function fl(){return new s.vHH(3202,Nt)}()):0==o&&(M=1/(I-1));const N=I-1,V=e.currentTime,Q=e.currentAnimateTimings,ye=Q.duration;return E.forEach((je,Je)=>{const it=M>0?Je==N?1:M*Je:u[Je],rt=it*ye;e.currentTime=V+Q.delay+rt,Q.duration=rt,this._validateStyleAst(je,e),je.offset=it,i.styles.push(je)}),i}visitReference(t,e){return{type:8,animation:Ji(this,Tt(t.animation),e),options:Ba(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ba(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ba(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function bu(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(wu,"")),n=n.replace(/@\*/g,vs).replace(/@\w+/g,e=>vs+"-"+e.substr(1)).replace(/:animating/g,Jo),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,bi(e.collectedStyles,e.currentQuerySelector,{});const h=Ji(this,Tt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Ba(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function cu(){return new s.vHH(3013,Nt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:O(t.timings,e.errors,!0);return{type:12,animation:Ji(this,Tt(t.animation),e),timings:i,options:null}}}class xm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ac(n){return!Array.isArray(n)&&"object"==typeof n}function Ba(n){return n?(n=J(n)).params&&(n.params=function Hf(n){return n?J(n):null}(n.params)):n={},n}function jf(n,t,e){return{duration:n,delay:t,easing:e}}function zf(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class Kd{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Mc=new RegExp(":enter","g"),d0=new RegExp(":leave","g");function $f(n,t,e,i,r,o={},u={},h,p,y=[]){return(new h0).buildKeyframes(n,t,e,i,r,o,u,h,p,y)}class h0{buildKeyframes(t,e,i,r,o,u,h,p,y,E=[]){y=y||new Kd;const I=new Mm(t,e,y,r,o,E,[]);I.options=p,I.currentTimeline.setStyles([u],null,I.errors,p),Ji(this,i,I);const M=I.timelines.filter(N=>N.containsAnimation());if(Object.keys(h).length){let N;for(let V=M.length-1;V>=0;V--){const Q=M[V];if(Q.element===e){N=Q;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([h],null,I.errors,p)}return M.length?M.map(N=>N.buildKeyframes()):[zf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?S(i.duration):null,h=null!=i.delay?S(i.delay):null;return 0!==u&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ji(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kc);const u=S(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ji(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?S(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Ji(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return O(e.params?Bs(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?S(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kc);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((y,E)=>{e.currentQueryIndex=E;const I=e.createSubContext(t.options,y);o&&I.delayNextStep(o),y===e.element&&(p=I.currentTimeline),Ji(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let p=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const E=e.currentTimeline;p&&E.delayNextStep(p);const I=E.currentTime;Ji(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const kc={};class Mm{constructor(t,e,i,r,o,u,h,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Cu(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=S(i.duration)),null!=i.delay&&(r.delay=S(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=Bs(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Mm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=kc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new km(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(Mc,"."+this._enterClassName)).replace(d0,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function Fs(n){return new s.vHH(3014,Nt)}()),h}}class Cu{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Cu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||$n,this._currentKeyframe[e]=$n}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function dv(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=$n})):Re(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const p=Bs(u[h],o,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:$n),this._updateStyle(h,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Re(h,!0);Object.keys(y).forEach(E=>{const I=y[E];"!"==I?t.add(E):I==$n&&e.add(E)}),i||(y.offset=p/this.duration),r.push(y)});const o=t.size?fr(t.values()):[],u=e.size?fr(e.values()):[];if(i){const h=r[0],p=J(h);h.offset=0,p.offset=1,r=[h,p]}return zf(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class km extends Cu{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,p=Re(t[0],!1);p.offset=0,o.push(p);const y=Re(t[0],!1);y.offset=Rm(h),o.push(y);const E=t.length-1;for(let I=1;I<=E;I++){let M=Re(t[I],!1);M.offset=Rm((e+M.offset*i)/u),o.push(M)}i=u,e=0,r="",t=o}return zf(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Rm(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class hv{}class Yd extends hv{normalizePropertyName(t,e){return Kr(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(Om[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function fo(n,t){return new s.vHH(3005,Nt)}())}return u+o}}const Om=(()=>function ws(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Tu(n,t,e,i,r,o,u,h,p,y,E,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:E,totalTime:I,errors:M}}const Iu={};class qf{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Nm(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,h,p,y,E){const I=[],M=this.ast.options&&this.ast.options.params||Iu,V=this.buildStyles(i,h&&h.params||Iu,I),Q=p&&p.params||Iu,ye=this.buildStyles(r,Q,I),je=new Set,Je=new Map,it=new Map,rt="void"===r,At={params:Object.assign(Object.assign({},M),Q)},Rt=E?[]:$f(t,e,this.ast.animation,o,u,V,ye,At,y,I);let nn=0;if(Rt.forEach(qi=>{nn=Math.max(qi.duration+qi.delay,nn)}),I.length)return Tu(e,this._triggerName,i,r,rt,V,ye,[],[],Je,it,nn,I);Rt.forEach(qi=>{const eo=qi.element,NB=bi(Je,eo,{});qi.preStyleProps.forEach(rm=>NB[rm]=!0);const a0=bi(it,eo,{});qi.postStyleProps.forEach(rm=>a0[rm]=!0),eo!==e&&je.add(eo)});const Qn=fr(je.values());return Tu(e,this._triggerName,i,r,rt,V,ye,Rt,Qn,Je,it,nn)}}class Pm{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=J(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let p=u[h];p.length>1&&(p=Bs(p,r,e));const y=this.normalizer.normalizePropertyName(h,e);p=this.normalizer.normalizeStyleValue(h,y,p,e),i[y]=p})}}),i}}class g0{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new Pm(r.style,r.options&&r.options.params||{},i)}),Qd(this.states,"true","1"),Qd(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new qf(t,r,this.states))}),this.fallbackTransition=function Rc(n,t,e){return new qf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Qd(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Wf=new Kd;class m0{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Uf(this._driver,e,i,[]);if(i.length)throw function Hd(n){return new s.vHH(3503,Nt)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Cc(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const h=new Map;if(o?(u=$f(this._driver,e,o,_o,Fa,{},{},i,Wf,r),u.forEach(E=>{const I=bi(h,E.element,{});E.postStyleProps.forEach(M=>I[M]=null)})):(r.push(function An(){return new s.vHH(3300,Nt)}()),u=[]),r.length)throw function vm(n){return new s.vHH(3504,Nt)}();h.forEach((E,I)=>{Object.keys(E).forEach(M=>{E[M]=this._driver.computeStyle(I,M,$n)})});const y=Wr(u.map(E=>{const I=h.get(E.element);return this._buildPlayer(E,{},I)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function lv(n){return new s.vHH(3301,Nt)}();return e}listen(t,e,i,r){const o=Pi(e,"","","");return Ec(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fv="ng-animate-queued",Jd="ng-animate-disabled",Xd=[],pl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dr="__ng_removed";class Su{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function vv(n){return null!=n?n:null}(i?t.value:t),i){const o=J(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const In="void",eh=new Su(In);class _v{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function wm(n,t){return new s.vHH(3302,Nt)}();if(null==i||0==i.length)throw function Pf(n){return new s.vHH(3303,Nt)}();if(!function Oc(n){return"start"==n||"done"==n}(i))throw function jd(n,t){return new s.vHH(3400,Nt)}();const o=bi(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=bi(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Xi(t,mu),Xi(t,mu+"-"+e),h[e]=eh),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(u);p>=0&&o.splice(p,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function bm(n){return new s.vHH(3401,Nt)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new nh(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Xi(t,mu),Xi(t,mu+"-"+e),this._engine.statesByElement.set(t,h={}));let p=h[e];const y=new Su(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[e]=y,p||(p=eh),y.value!==In&&p.value===y.value){if(!function Ci(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,y.params)){const Q=[],ye=o.matchStyles(p.value,p.params,Q),je=o.matchStyles(y.value,y.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Lt(t,ye),dt(t,je)})}return}const M=bi(this._engine.playersByElement,t,[]);M.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let N=o.matchTransition(p.value,y.value,t,y.params),V=!1;if(!N){if(!r)return;N=o.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:N,fromState:p,toState:y,player:u,isFallbackTransition:V}),V||(Xi(t,fv),u.onStart(()=>{ii(t,fv)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const ye=this._engine.playersByElement.get(t);if(ye){let je=ye.indexOf(u);je>=0&&ye.splice(je,1)}}),this.players.push(u),M.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,vs,!0);i.forEach(r=>{if(r[Dr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(p=>{if(u.set(p,o[p].value),this._triggers[p]){const y=this.trigger(t,p,In,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Wr(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const p=this._triggers[u].fallbackTransition,y=i[u]||eh,E=new Su(In),I=new nh(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:p,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Dr];(!o||o===pl)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Xi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=Pi(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,Ec(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class th{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new _v(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(ih(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ih(e))return;const o=e[Dr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xi(t,Jd)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ii(t,Jd))}removeNode(t,e,i,r){if(ih(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Dr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return ih(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,vs,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Jo,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wr(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Dr];if(i&&i.setForRemoval){if(t[Dr]=pl,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Jd))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Wr(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Cm(n){return new s.vHH(3402,Nt)}()}_flushAnimations(t,e){const i=new Kd,r=[],o=new Map,u=[],h=new Map,p=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(ht=>{E.add(ht);const xt=this.driver.query(ht,".ng-animate-queued",!0);for(let Ot=0;Ot<xt.length;Ot++)E.add(xt[Ot])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),N=wv(M,this.collectedEnterElements),V=new Map;let Q=0;N.forEach((ht,xt)=>{const Ot=_o+Q++;V.set(xt,Ot),ht.forEach(pn=>Xi(pn,Ot))});const ye=[],je=new Set,Je=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const xt=this.collectedLeaveElements[ht],Ot=xt[Dr];Ot&&Ot.setForRemoval&&(ye.push(xt),je.add(xt),Ot.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(pn=>je.add(pn)):Je.add(xt))}const it=new Map,rt=wv(M,Array.from(je));rt.forEach((ht,xt)=>{const Ot=Fa+Q++;it.set(xt,Ot),ht.forEach(pn=>Xi(pn,Ot))}),t.push(()=>{N.forEach((ht,xt)=>{const Ot=V.get(xt);ht.forEach(pn=>ii(pn,Ot))}),rt.forEach((ht,xt)=>{const Ot=it.get(xt);ht.forEach(pn=>ii(pn,Ot))}),ye.forEach(ht=>{this.processLeaveNode(ht)})});const At=[],Rt=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(e).forEach(Ot=>{const pn=Ot.player,jr=Ot.element;if(At.push(pn),this.collectedEnterElements.length){const to=jr[Dr];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(Ot.triggerName)){const sm=to.previousTriggersValues.get(Ot.triggerName),Df=this.statesByElement.get(Ot.element);Df&&Df[Ot.triggerName]&&(Df[Ot.triggerName].value=sm)}return void pn.destroy()}}const rc=!I||!this.driver.containsElement(I,jr),ma=it.get(jr),xf=V.get(jr),pi=this._buildInstruction(Ot,i,xf,ma,rc);if(pi.errors&&pi.errors.length)return void Rt.push(pi);if(rc)return pn.onStart(()=>Lt(jr,pi.fromStyles)),pn.onDestroy(()=>dt(jr,pi.toStyles)),void r.push(pn);if(Ot.isFallbackTransition)return pn.onStart(()=>Lt(jr,pi.fromStyles)),pn.onDestroy(()=>dt(jr,pi.toStyles)),void r.push(pn);const LB=[];pi.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||LB.push(to)}),pi.timelines=LB,i.append(jr,pi.timelines),u.push({instruction:pi,player:pn,element:jr}),pi.queriedElements.forEach(to=>bi(h,to,[]).push(pn)),pi.preStyleProps.forEach((to,sm)=>{const Df=Object.keys(to);if(Df.length){let om=p.get(sm);om||p.set(sm,om=new Set),Df.forEach(HR=>om.add(HR))}}),pi.postStyleProps.forEach((to,sm)=>{const Df=Object.keys(to);let om=y.get(sm);om||y.set(sm,om=new Set),Df.forEach(HR=>om.add(HR))})});if(Rt.length){const ht=[];Rt.forEach(xt=>{ht.push(function zd(n,t){return new s.vHH(3505,Nt)}())}),At.forEach(xt=>xt.destroy()),this.reportError(ht)}const nn=new Map,Qn=new Map;u.forEach(ht=>{const xt=ht.element;i.has(xt)&&(Qn.set(xt,xt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,nn))}),r.forEach(ht=>{const xt=ht.element;this._getPreviousPlayers(xt,!1,ht.namespaceId,ht.triggerName,null).forEach(pn=>{bi(nn,xt,[]).push(pn),pn.destroy()})});const qi=ye.filter(ht=>gl(ht,p,y)),eo=new Map;Vm(eo,this.driver,Je,y,$n).forEach(ht=>{gl(ht,p,y)&&qi.push(ht)});const a0=new Map;N.forEach((ht,xt)=>{Vm(a0,this.driver,new Set(ht),p,"!")}),qi.forEach(ht=>{const xt=eo.get(ht),Ot=a0.get(ht);eo.set(ht,Object.assign(Object.assign({},xt),Ot))});const rm=[],PB=[],FB={};u.forEach(ht=>{const{element:xt,player:Ot,instruction:pn}=ht;if(i.has(xt)){if(E.has(xt))return Ot.onDestroy(()=>dt(xt,pn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(pn.totalTime),void r.push(Ot);let jr=FB;if(Qn.size>1){let ma=xt;const xf=[];for(;ma=ma.parentNode;){const pi=Qn.get(ma);if(pi){jr=pi;break}xf.push(ma)}xf.forEach(pi=>Qn.set(pi,jr))}const rc=this._buildAnimation(Ot.namespaceId,pn,nn,o,a0,eo);if(Ot.setRealPlayer(rc),jr===FB)rm.push(Ot);else{const ma=this.playersByElement.get(jr);ma&&ma.length&&(Ot.parentPlayer=Wr(ma)),r.push(Ot)}}else Lt(xt,pn.fromStyles),Ot.onDestroy(()=>dt(xt,pn.toStyles)),PB.push(Ot),E.has(xt)&&r.push(Ot)}),PB.forEach(ht=>{const xt=o.get(ht.element);if(xt&&xt.length){const Ot=Wr(xt);ht.setRealPlayer(Ot)}}),r.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<ye.length;ht++){const xt=ye[ht],Ot=xt[Dr];if(ii(xt,Fa),Ot&&Ot.hasAnimation)continue;let pn=[];if(h.size){let rc=h.get(xt);rc&&rc.length&&pn.push(...rc);let ma=this.driver.query(xt,Jo,!0);for(let xf=0;xf<ma.length;xf++){let pi=h.get(ma[xf]);pi&&pi.length&&pn.push(...pi)}}const jr=pn.filter(rc=>!rc.destroyed);jr.length?Kf(this,xt,jr):this.processLeaveNode(xt)}return ye.length=0,rm.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const xt=this.players.indexOf(ht);this.players.splice(xt,1)}),ht.play()}),rm}elementContainsData(t,e){let i=!1;const r=e[Dr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const p=!o||o==In;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,E=y!==o,I=bi(i,y,[]);this._getPreviousPlayers(y,E,u,h,e.toState).forEach(N=>{const V=N.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),N.destroy(),I.push(N)})}Lt(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,p=e.element,y=[],E=new Set,I=new Set,M=e.timelines.map(V=>{const Q=V.element;E.add(Q);const ye=Q[Dr];if(ye&&ye.removedBeforeQueried)return new ka(V.duration,V.delay);const je=Q!==p,Je=function Yf(n){const t=[];return Nc(n,t),t}((i.get(Q)||Xd).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===Q),it=o.get(Q),rt=u.get(Q),At=Cc(0,this._normalizer,0,V.keyframes,it,rt),Rt=this._buildPlayer(V,At,Je);if(V.subTimeline&&r&&I.add(Q),je){const nn=new nh(t,h,Q);nn.setRealPlayer(Rt),y.push(nn)}return Rt});y.forEach(V=>{bi(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function yv(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),E.forEach(V=>Xi(V,La));const N=Wr(M);return N.onDestroy(()=>{E.forEach(V=>ii(V,La)),dt(p,e.toStyles)}),I.forEach(V=>{bi(r,V,[]).push(N)}),N}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ka(t.duration,t.delay)}}class nh{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ka,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Ec(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ih(n){return n&&1===n.nodeType}function Lm(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Vm(n,t,e,i,r){const o=[];e.forEach(p=>o.push(Lm(p)));const u=[];i.forEach((p,y)=>{const E={};p.forEach(I=>{const M=E[I]=t.computeStyle(y,I,r);(!M||0==M.length)&&(y[Dr]=mv,u.push(y))}),n.set(y,E)});let h=0;return e.forEach(p=>Lm(p,o[h++])),u}function wv(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=e.has(y)?y:r.has(y)?1:u(y),o.set(h,p),p}return t.forEach(h=>{const p=u(h);1!==p&&e.get(p).push(h)}),e}function Xi(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ii(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Kf(n,t,e){Wr(e).onDone(()=>n.processLeaveNode(t))}function Nc(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof iu?Nc(i.players,t):t.push(i)}}function gl(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class xu{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new th(t,e,i),this._timelineEngine=new m0(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],E=Uf(this._driver,o,p,[]);if(p.length)throw function Na(n,t){return new s.vHH(3404,Nt)}();h=function p0(n,t,e){return new g0(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=Ko(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=Ko(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let bv=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Lt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function er(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Pc(r)&&(t=t||{},t[r]=n[r])}return t}function Pc(n){return"display"===n||"position"===n}class rh{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Ic(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Cv{validateStyleProperty(t){return fu(t)}matchesElement(t,e){return!1}containsElement(t,e){return Lf(t,e)}getParentElement(t){return Yo(t)}query(t,e,i){return ys(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y={},E=u.filter(M=>M instanceof rh);(function Em(n,t){return 0===n||0===t})(i,r)&&E.forEach(M=>{let N=M.currentSnapshot;Object.keys(N).forEach(V=>y[V]=N[V])}),e=function Bf(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(p){h[p]=Ic(n,p)})}}return t}(t,e=e.map(M=>Re(M,!1)),y);const I=function Qf(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=er(t[0]),t.length>1&&(i=er(t[t.length-1]))):t&&(e=er(t)),e||i?new bv(n,e,i):null}(t,e);return new rh(t,e,p,I)}}let sh=(()=>{class n extends Ld{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Aa(e):e;return Fc(this._renderer,null,i,"register",[r]),new Jf(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Jf extends class _m{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ev(this._id,t,e||{},this._renderer)}}class Ev{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Fc(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Fc(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const ea="@.disabled";let ah=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(o);return E||(E=new Bm("",o,this.engine),this._rendererCache.set(o,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(p),new Tv(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(xu),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Bm{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==ea?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Tv extends Bm{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ea?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function lh(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function Um(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let Ar=(()=>{class n extends xu{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(Tc),s.LFG(hv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Hm=new s.OlP("AnimationModuleType"),Us=[{provide:Ld,useClass:sh},{provide:hv,useFactory:function Xf(){return new Yd}},{provide:xu,useClass:Ar},{provide:s.FYo,useFactory:function ep(n,t,e){return new ah(n,t,e)},deps:[Bo,xu,s.R0b]}],Du=[{provide:Tc,useFactory:()=>new Cv},{provide:Hm,useValue:"BrowserAnimations"},...Us],jm=[{provide:Tc,useClass:pu},{provide:Hm,useValue:"NoopAnimations"},...Us];let zm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?jm:Du}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Du,imports:[Sa]}),n})();var ta=F(3269),Ln=F(8996);function bt(...n){const t=(0,ta.yG)(n);return(0,Ln.D)(n,t)}var Li=F(8306),Vn=F(5577),v=F(576);function g(n,t){return(0,v.m)(t)?(0,Vn.z)(n,t,1):(0,Vn.z)(n,1)}var m=F(4482),b=F(5403);function D(n,t){return(0,m.e)((e,i)=>{let r=0;e.subscribe((0,b.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var k=F(4004);class K{}class pe{}class Le{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Le;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Le?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class tt{encodeKey(t){return Mr(t)}encodeValue(t){return Mr(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gt=/%(\d[a-f0-9])/gi,ri={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Mr(n){return encodeURIComponent(n).replace(gt,(t,e)=>{var i;return null!==(i=ri[e])&&void 0!==i?i:t})}function ml(n){return`${n}`}class vo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mt(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(u)||[];p.push(h),e.set(u,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new vo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ml(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ml(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class _l{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Lc(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function tp(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Vc(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Au{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function uh(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Le),this.context||(this.context=new _l),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new vo,this.urlWithParams=e}serializeBody(){return null===this.body?null:Lc(this.body)||tp(this.body)||Vc(this.body)||function np(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vc(this.body)?null:tp(this.body)?this.body.type||null:Lc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,E=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((M,N)=>M.set(N,t.setHeaders[N]),y)),t.setParams&&(E=Object.keys(t.setParams).reduce((M,N)=>M.set(N,t.setParams[N]),E)),new Au(i,r,u,{params:E,headers:y,context:I,reportProgress:p,responseType:o,withCredentials:h})}}var si=(()=>((si=si||{})[si.Sent=0]="Sent",si[si.UploadProgress=1]="UploadProgress",si[si.ResponseHeader=2]="ResponseHeader",si[si.DownloadProgress=3]="DownloadProgress",si[si.Response=4]="Response",si[si.User=5]="User",si))();class Bc{constructor(t,e=200,i="OK"){this.headers=t.headers||new Le,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ip extends Bc{constructor(t={}){super(t),this.type=si.ResponseHeader}clone(t={}){return new ip({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Gm extends Bc{constructor(t={}){super(t),this.type=si.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Gm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sv extends Bc{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function rp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xv=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Au)o=e;else{let p,y;p=r.headers instanceof Le?r.headers:new Le(r.headers),r.params&&(y=r.params instanceof vo?r.params:new vo({fromObject:r.params})),o=new Au(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=bt(o).pipe(g(p=>this.handler.handle(p)));if(e instanceof Au||"events"===r.observe)return u;const h=u.pipe(D(p=>p instanceof Gm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,k.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,k.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,k.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,k.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new vo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,rp(r,i))}post(e,i,r={}){return this.request("POST",e,rp(r,i))}put(e,i,r={}){return this.request("PUT",e,rp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class $m{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const y0=new s.OlP("HTTP_INTERCEPTORS");let Dx=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const v0=/^\)\]\}',?\n/;let Av=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Li.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((N,V)=>r.setRequestHeader(N,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&r.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();r.responseType="json"!==N?N:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const N=r.statusText||"OK",V=new Le(r.getAllResponseHeaders()),Q=function w0(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new ip({headers:V,status:r.status,statusText:N,url:Q}),u},p=()=>{let{headers:N,status:V,statusText:Q,url:ye}=h(),je=null;204!==V&&(je=void 0===r.response?r.responseText:r.response),0===V&&(V=je?200:0);let Je=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof je){const it=je;je=je.replace(v0,"");try{je=""!==je?JSON.parse(je):null}catch(rt){je=it,Je&&(Je=!1,je={error:rt,text:je})}}Je?(i.next(new Gm({body:je,headers:N,status:V,statusText:Q,url:ye||void 0})),i.complete()):i.error(new Sv({error:je,headers:N,status:V,statusText:Q,url:ye||void 0}))},y=N=>{const{url:V}=h(),Q=new Sv({error:N,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(Q)};let E=!1;const I=N=>{E||(i.next(h()),E=!0);let V={type:si.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(V.total=N.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},M=N=>{let V={type:si.UploadProgress,loaded:N.loaded};N.lengthComputable&&(V.total=N.total),i.next(V)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:si.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sp=new s.OlP("XSRF_COOKIE_NAME"),qm=new s.OlP("XSRF_HEADER_NAME");class op{}let Wm=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ya(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(s.Lbi),s.LFG(sp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(op),s.LFG(qm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Mv=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(y0,[]);this.chain=i.reduceRight((r,o)=>new $m(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pe),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ap=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Zm,useClass:Dx}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:sp,useValue:e.cookieName}:[],e.headerName?{provide:qm,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Zm,{provide:y0,useExisting:Zm,multi:!0},{provide:op,useClass:Wm},{provide:sp,useValue:"XSRF-TOKEN"},{provide:qm,useValue:"X-XSRF-TOKEN"}]}),n})(),Nx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xv,{provide:K,useClass:Mv},Av,{provide:pe,useExisting:Av}],imports:[[ap.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var mn=F(7579);class Hs extends mn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:kv}=Array,{getPrototypeOf:C0,prototype:$R,keys:E0}=Object;function T0(n){if(1===n.length){const t=n[0];if(kv(t))return{args:t,keys:null};if(function I0(n){return n&&"object"==typeof n&&C0(n)===$R}(t)){const e=E0(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var dh=F(4671);const{isArray:Fx}=Array;function Rv(n){return(0,k.U)(t=>function na(n,t){return Fx(t)?n(...t):n(t)}(n,t))}function Ov(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Lx=F(9672);function S0(n,t,e){n?(0,Lx.f)(e,n,t):t()}function lp(n,t){const e=(0,v.m)(n)?n:()=>n,i=r=>r.error(e());return new Li.y(t?r=>t.schedule(i,0,r):i)}const Km=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ym=F(8189);function Qm(...n){return function Ft(){return(0,Ym.J)(1)}()((0,Ln.D)(n,(0,ta.yG)(n)))}var yl=F(8421);function Nv(n){return new Li.y(t=>{(0,yl.Xf)(n()).subscribe(t)})}var vl=F(515),bs=F(727);function Pv(){return(0,m.e)((n,t)=>{let e=null;n._refCount++;const i=(0,b.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Hx extends Li.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,m.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bs.w0;const e=this.getSubject();t.add(this.source.subscribe((0,b.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bs.w0.EMPTY)}return t}refCount(){return Pv()(this)}}function Vi(n,t){return(0,m.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,b.x)(i,p=>{null==r||r.unsubscribe();let y=0;const E=o++;(0,yl.Xf)(n(p,E)).subscribe(r=(0,b.x)(i,I=>i.next(t?t(p,I,E,y++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var ia=F(5698);function Mu(...n){const t=(0,ta.yG)(n);return(0,m.e)((e,i)=>{(t?Qm(n,e,t):Qm(n,e)).subscribe(i)})}function x0(n,t,e,i,r){return(o,u)=>{let h=e,p=t,y=0;o.subscribe((0,b.x)(u,E=>{const I=y++;p=h?n(p,E,I):(h=!0,E),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}function wl(n,t){return(0,m.e)(x0(n,t,arguments.length>=2,!0))}function Uc(n){return(0,m.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,b.x)(e,void 0,void 0,u=>{o=(0,yl.Xf)(n(u,Uc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Jm(n){return n<=0?()=>vl.E:(0,m.e)((t,e)=>{let i=[];t.subscribe((0,b.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function jx(n=Xm){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Xm(){return new Km}function up(n){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function bl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):dh.y,(0,ia.q)(1),e?up(t):jx(()=>new Km))}var Yr=F(8505);class Cl{constructor(t,e){this.id=t,this.url=e}}class Lv extends Cl{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cp extends Cl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class D0 extends Cl{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class A0 extends Cl{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WR extends Cl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zx extends Cl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZR extends Cl{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M0 extends Cl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k0 extends Cl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class e_{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KR{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YR{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QR{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JR{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class XR{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function dp(n){return new XR(n)}const $x="ngNavigationCancelingError";function O0(n){const t=Error("NavigationCancelingError: "+n);return t[$x]=!0,t}function Vv(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ra(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!t_(n[r],t[r]))return!1;return!0}function t_(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Bv(n){return Array.prototype.concat.apply([],n)}function n_(n){return n.length>0?n[n.length-1]:null}function Bn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function sa(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):bt(n)}const Uv={exact:function P0(n,t,e){if(!Ru(n.segments,t.segments)||!El(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!P0(n.children[i],t.children[i],e))return!1;return!0},subset:Hc},N0={exact:function Zx(n,t){return ra(n,t)},subset:function hp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>t_(n[e],t[e]))},ignored:()=>!0};function Hv(n,t,e){return Uv[e.paths](n.root,t.root,e.matrixParams)&&N0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Hc(n,t,e){return i_(n,t,t.segments,e)}function i_(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ru(r,e)||t.hasChildren()||!El(r,e,i))}if(n.segments.length===e.length){if(!Ru(n.segments,e)||!El(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Hc(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ru(n.segments,r)&&El(n.segments,r,i)&&n.children[Kt])&&i_(n.children[Kt],t,o,i)}}function El(n,t,e){return t.every((i,r)=>N0[e](n[r].parameters,i.parameters))}class oa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dp(this.queryParams)),this._queryParamMap}toString(){return s_.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Bn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o_(this)}}class fp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=dp(this.parameters)),this._parameterMap}toString(){return B0(this)}}function Ru(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class r_{}class zv{parse(t){const e=new qv(t);return new oa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hh(t.root,!0)}`,i=function Yx(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${pp(e)}=${pp(r)}`).join("&"):`${pp(e)}=${pp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function L0(n){return encodeURI(n)}(t.fragment)}`:""}`}}const s_=new zv;function o_(n){return n.segments.map(t=>B0(t)).join("/")}function hh(n,t){if(!n.hasChildren())return o_(n);if(t){const e=n.children[Kt]?hh(n.children[Kt],!1):"",i=[];return Bn(n.children,(r,o)=>{o!==Kt&&i.push(`${o}:${hh(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function jv(n,t){let e=[];return Bn(n.children,(i,r)=>{r===Kt&&(e=e.concat(t(i,r)))}),Bn(n.children,(i,r)=>{r!==Kt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Kt?[hh(n.children[Kt],!1)]:[`${r}:${hh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${o_(n)}/${e[0]}`:`${o_(n)}/(${e.join("//")})`}}function Kx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pp(n){return Kx(n).replace(/%3B/gi,";")}function Gv(n){return Kx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gp(n){return decodeURIComponent(n)}function V0(n){return gp(n.replace(/\+/g,"%20"))}function B0(n){return`${Gv(n.path)}${function js(n){return Object.keys(n).map(t=>`;${Gv(t)}=${Gv(n[t])}`).join("")}(n.parameters)}`}const Qx=/^[^\/()?;=#]+/;function $v(n){const t=n.match(Qx);return t?t[0]:""}const tO=/^[^=?&#]+/,nO=/^[^&#]+/;class qv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Kt]=new Bt(t,e)),i}parseSegment(){const t=$v(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new fp(gp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$v(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=$v(this.remaining);r&&(i=r,this.capture(i))}t[gp(e)]=gp(i)}parseQueryParam(t){const e=function U0(n){const t=n.match(tO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Jx(n){const t=n.match(nO);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=V0(e),o=V0(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$v(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Kt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Kt]:new Bt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Wv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Zv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Kv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Kv(t,this._root).map(e=>e.value)}}function Zv(n,t){if(n===t.value)return t;for(const e of t.children){const i=Zv(n,e);if(i)return i}return null}function Kv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Kv(n,e);if(i.length)return i.unshift(t),i}return[]}class Tl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class H0 extends Wv{constructor(t,e){super(t),this.snapshot=e,mp(this,t)}toString(){return this.snapshot.toString()}}function Yv(n,t){const e=function Xx(n,t){const u=new a_([],{},{},"",{},Kt,t,null,n.root,-1,{});return new aa("",new Tl(u,[]))}(n,t),i=new Hs([new fp("",{})]),r=new Hs({}),o=new Hs({}),u=new Hs({}),h=new Hs(""),p=new fh(i,r,u,h,o,Kt,t,e.root);return p.snapshot=e.root,new H0(new Tl(p,[]),e)}class fh{constructor(t,e,i,r,o,u,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,k.U)(t=>dp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,k.U)(t=>dp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qv(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function j0(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class a_{constructor(t,e,i,r,o,u,h,p,y,E,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aa extends Wv{constructor(t,e){super(e),this.url=t,mp(this,e)}toString(){return z0(this._root)}}function mp(n,t){t.value._routerState=n,t.children.forEach(e=>mp(n,e))}function z0(n){const t=n.children.length>0?` { ${n.children.map(z0).join(", ")} } `:"";return`${n.value}${t}`}function Jv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ra(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ra(t.params,e.params)||n.params.next(e.params),function qx(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ra(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ra(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function G0(n,t){const e=ra(n.params,t.params)&&function F0(n,t){return Ru(n,t)&&n.every((e,i)=>ra(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||G0(n.parent,t.parent))}function _p(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function eD(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _p(n,i,r);return _p(n,i)})}(n,t,e);return new Tl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>_p(n,h)),u}}const i=function tD(n){return new fh(new Hs(n.url),new Hs(n.params),new Hs(n.queryParams),new Hs(n.fragment),new Hs(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>_p(n,o));return new Tl(i,r)}}function l_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yp(n){return"object"==typeof n&&null!=n&&n.outlets}function ph(n,t,e,i,r){let o={};if(i&&Bn(i,(h,p)=>{o[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===t)return new oa(e,o,r);const u=u_(n,t,e);return new oa(u,o,r)}function u_(n,t,e){const i={};return Bn(n.children,(r,o)=>{i[o]=r===t?e:u_(r,t,e)}),new Bt(n.segments,i)}class q0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&l_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(yp);if(r&&r!==n_(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vp{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function c_(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return tw(n,t,e);const i=function nD(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(yp(h))break;const p=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!iw(p,y,u))return o;i+=2}else{if(!iw(p,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Bt(n.segments.slice(0,i.pathIndex),{});return o.children[Kt]=new Bt(n.segments.slice(i.pathIndex),n.children),tw(o,0,r)}return i.match&&0===r.length?new Bt(n.segments,{}):i.match&&!n.hasChildren()?d_(n,t,e):i.match?tw(n,0,r):d_(n,t,e)}function tw(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const i=function rO(n){return yp(n[0])?n[0].outlets:{[Kt]:n}}(e),r={};return Bn(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=c_(n.children[u],t,o))}),Bn(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Bt(n.segments,r)}}function d_(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(yp(o)){const p=Z0(o.outlets);return new Bt(i,p)}if(0===r&&l_(e[0])){i.push(new fp(n.segments[t].path,nw(e[0]))),r++;continue}const u=yp(o)?o.outlets[Kt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&l_(h)?(i.push(new fp(u,nw(h))),r+=2):(i.push(new fp(u,{})),r++)}return new Bt(i,{})}function Z0(n){const t={};return Bn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=d_(new Bt([],{}),0,e))}),t}function nw(n){const t={};return Bn(n,(e,i)=>t[i]=`${e}`),t}function iw(n,t,e){return n==e.path&&ra(t,e.parameters)}class Il{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Jv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=jc(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Bn(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=jc(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=jc(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=jc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new JR(o.value.snapshot))}),t.children.length&&this.forwardEvent(new YR(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Jv(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Jv(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function h_(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=p,u.outlet&&u.outlet.activateWith(r,p),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class rw{constructor(t,e){this.routes=t,this.module=e}}function Ou(n){return"function"==typeof n}function Sl(n){return n instanceof oa}const zc=Symbol("INITIAL_VALUE");function gh(){return Vi(n=>function Vx(...n){const t=(0,ta.yG)(n),e=(0,ta.jO)(n),{args:i,keys:r}=T0(n);if(0===i.length)return(0,Ln.D)([],t);const o=new Li.y(function Bx(n,t,e=dh.y){return i=>{S0(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)S0(t,()=>{const y=(0,Ln.D)(n[p],t);let E=!1;y.subscribe((0,b.x)(i,I=>{o[p]=I,E||(E=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Ov(r,u):dh.y));return e?o.pipe(Rv(e)):o}(n.map(t=>t.pipe((0,ia.q)(1),Mu(zc)))).pipe(wl((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==zc?r:(o===zc&&(i=!0),i||!1!==o&&u!==e.length-1&&!Sl(o)?r:o),t)},zc),D(t=>t!==zc),(0,k.U)(t=>Sl(t)?t:!0===t),(0,ia.q)(1)))}class Q0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mh,this.attachRef=null}}class mh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Q0,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let f_=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Kt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new ow(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mh),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ow{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===fh?this.route:t===mh?this.childContexts:this.parent.get(t,e)}}let J0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[f_],encapsulation:2}),n})();function X0(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];eE(i,_h(t,i))}}function eE(n,t){n.children&&X0(n.children,t)}function _h(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function p_(n){const t=n.children&&n.children.map(p_),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Kt&&(e.component=J0),e}function wo(n){return n.outlet||Kt}function tE(n,t){const e=n.filter(i=>wo(i)===t);return e.push(...n.filter(i=>wo(i)!==t)),e}const Gc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g_(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Gc):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Vv)(e,n,t);if(!o)return Object.assign({},Gc);const u={};Bn(o.posParams,(p,y)=>{u[y]=p.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function m_(n,t,e,i,r="corrected"){if(e.length>0&&function Ua(n,t,e){return e.some(i=>bp(n,t,i)&&wo(i)!==Kt)}(n,e,i)){const u=new Bt(t,function sD(n,t,e,i){const r={};r[Kt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&wo(o)!==Kt){const u=new Bt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[wo(o)]=u}return r}(n,t,i,new Bt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function aw(n,t,e){return e.some(i=>bp(n,t,i))}(n,e,i)){const u=new Bt(n.segments,function rD(n,t,e,i,r,o){const u={};for(const h of i)if(bp(n,e,h)&&!r[wo(h)]){const p=new Bt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[wo(h)]=p}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Bt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function bp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function lw(n,t,e,i){return!!(wo(n)===i||i!==Kt&&bp(t,e,n))&&("**"===n.path||g_(t,n,e).matched)}function uw(n,t,e){return 0===t.length&&!n.children[e]}class Cp{constructor(t){this.segmentGroup=t||null}}class nE{constructor(t){this.urlTree=t}}function Ep(n){return lp(new Cp(n))}function iE(n){return lp(new nE(n))}class sE{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=m_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Kt).pipe((0,k.U)(o=>this.createUrlTree(cw(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Uc(o=>{if(o instanceof nE)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Cp?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Kt).pipe((0,k.U)(r=>this.createUrlTree(cw(r),t.queryParams,t.fragment))).pipe(Uc(r=>{throw r instanceof Cp?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Bt([],{[Kt]:t}):t;return new oa(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,k.U)(o=>new Bt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Ln.D)(r).pipe(g(o=>{const u=i.children[o],h=tE(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,k.U)(p=>({segment:p,outlet:o})))}),wl((o,u)=>(o[u.outlet]=u.segment,o),{}),function Fv(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):dh.y,Jm(1),e?up(t):jx(()=>new Km))}())}expandSegment(t,e,i,r,o,u){return(0,Ln.D)(i).pipe(g(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Uc(y=>{if(y instanceof Cp)return bt(null);throw y}))),bl(h=>!!h),Uc((h,p)=>{if(h instanceof Km||"EmptyError"===h.name)return uw(e,r,o)?bt(new Bt([],{})):Ep(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return lw(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Ep(e):Ep(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?iE(o):this.lineralizeSegments(i,o).pipe((0,Vn.z)(u=>{const h=new Bt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:E}=g_(e,r,o);if(!h)return Ep(e);const I=this.applyRedirectCommands(p,r.redirectTo,E);return r.redirectTo.startsWith("/")?iE(I):this.lineralizeSegments(r,I).pipe((0,Vn.z)(M=>this.expandSegment(t,e,i,M.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?bt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,k.U)(I=>(i._loadedConfig=I,new Bt(r,{})))):bt(new Bt(r,{}));const{matched:u,consumedSegments:h,remainingSegments:p}=g_(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,Vn.z)(E=>{const I=E.module,M=E.routes,{segmentGroup:N,slicedSegments:V}=m_(e,h,p,M),Q=new Bt(N.segments,N.children);if(0===V.length&&Q.hasChildren())return this.expandChildren(I,M,Q).pipe((0,k.U)(it=>new Bt(h,it)));if(0===M.length&&0===V.length)return bt(new Bt(h,{}));const ye=wo(i)===o;return this.expandSegment(I,Q,M,V,ye?Kt:o,!0).pipe((0,k.U)(Je=>new Bt(h.concat(Je.segments),Je.children)))})):Ep(e)}getChildConfig(t,e,i){return e.children?bt(new rw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?bt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Vn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,k.U)(o=>(e._loadedConfig=o,o))):function rE(n){return lp(O0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):bt(new rw([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?bt(r.map(u=>{const h=t.get(u);let p;if(function Y0(n){return n&&Ou(n.canLoad)}(h))p=h.canLoad(e,i);else{if(!Ou(h))throw new Error("Invalid CanLoad guard");p=h(e,i)}return sa(p)})).pipe(gh(),(0,Yr.b)(u=>{if(!Sl(u))return;const h=O0(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,k.U)(u=>!0===u)):bt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[Kt])return lp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Kt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new oa(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Bn(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return Bn(e.children,(h,p)=>{u[p]=this.createSegmentGroup(t,h,i,r)}),new Bt(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function cw(n){const t={};for(const i of Object.keys(n.children)){const o=cw(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function aD(n){if(1===n.numberOfChildren&&n.children[Kt]){const t=n.children[Kt];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}class lD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yh{constructor(t,e){this.component=t,this.route=e}}function uD(n,t,e){const i=n._root;return Qr(i,t?t._root:null,e,[i.value])}function Tp(n,t,e){const i=function lO(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Qr(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=jc(t);return n.children.forEach(u=>{(function uO(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function cO(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ru(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ru(n.url,t.url)||!ra(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G0(n,t)||!ra(n.queryParams,t.queryParams);default:return!G0(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new lD(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Qr(n,t,o.component?h?h.children:null:e,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new yh(h.outlet.component,u))}else u&&vh(t,h,r),r.canActivateChecks.push(new lD(i)),Qr(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),Bn(o,(u,h)=>vh(u,e.getContext(h),r)),r}function vh(n,t,e){const i=jc(n),r=n.value;Bn(i,(o,u)=>{vh(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new yh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class hD{}function cE(n){return new Li.y(t=>t.error(n))}class pD{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=m_(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Kt);if(null===e)return null;const i=new a_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Tl(i,e),o=new aa(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=Qv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=tE(t,o),p=this.processSegmentGroup(h,u,o);if(null===p)return null;i.push(...p)}const r=$c(i);return function gD(n){n.sort((t,e)=>t.value.outlet===Kt?-1:e.value.outlet===Kt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return uw(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!lw(t,e,i,r))return null;let o,u=[],h=[];if("**"===t.path){const N=i.length>0?n_(i).parameters:{};o=new a_(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hE(t),wo(t),t.component,t,wh(e),dE(e)+i.length,y_(t))}else{const N=g_(e,t,i);if(!N.matched)return null;u=N.consumedSegments,h=N.remainingSegments,o=new a_(u,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hE(t),wo(t),t.component,t,wh(e),dE(e)+u.length,y_(t))}const p=function mD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:y,slicedSegments:E}=m_(e,u,h,p.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===E.length&&y.hasChildren()){const N=this.processChildren(p,y);return null===N?null:[new Tl(o,N)]}if(0===p.length&&0===E.length)return[new Tl(o,[])];const I=wo(t)===r,M=this.processSegment(p,y,E,I?Kt:r);return null===M?null:[new Tl(o,M)]}}function __(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function $c(n){const t=[],e=new Set;for(const i of n){if(!__(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=$c(i.children);t.push(new Tl(i.value,r))}return t.filter(i=>!e.has(i))}function wh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function hE(n){return n.data||{}}function y_(n){return n.resolve||{}}function Sp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xp(n){return Vi(t=>{const e=n(t);return e?(0,Ln.D)(e).pipe((0,k.U)(()=>t)):bt(t)})}class Eh extends class Ch{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Nu=new s.OlP("ROUTES");class Wc{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,k.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new rw(Bv(u.injector.get(Nu,void 0,s.XFs.Self|s.XFs.Optional)).map(p_),u)}),Uc(o=>{throw e._loader$=void 0,o}));return e._loader$=new Hx(r,()=>new mn.x).pipe(Pv()),e._loader$}loadModuleFactory(t){return sa(t()).pipe((0,Vn.z)(e=>e instanceof s.YKP?bt(e):(0,Ln.D)(this.compiler.compileModuleAsync(e))))}}class Ih{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Sh(n){throw n}function xh(n,t,e){return t.parse("/")}function fw(n,t){return bt(null)}const fE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class n{constructor(e,i,r,o,u,h,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mn.x,this.errorHandler=Sh,this.malformedUriErrorHandler=xh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fw,afterPreactivation:fw},this.urlHandlingStrategy=new Ih,this.routeReuseStrategy=new Eh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const I=u.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Wx(){return new oa(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wc(u,h,M=>this.triggerEvent(new R0(M)),M=>this.triggerEvent(new e_(M))),this.routerState=Yv(this.currentUrlTree,this.rootComponentType),this.transitions=new Hs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(D(r=>0!==r.id),(0,k.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Vi(r=>{let o=!1,u=!1;return bt(r).pipe((0,Yr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vi(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return pw(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe(Vi(I=>{const M=this.transitions.getValue();return i.next(new Lv(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?vl.E:Promise.resolve(I)}),function aO(n,t,e,i){return Vi(r=>function oO(n,t,e,i,r){return new sE(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,k.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yr.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function Ha(n,t,e,i,r){return(0,Vn.z)(o=>function fD(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new pD(n,t,e,i,r,o).recognize();return null===u?cE(new hD):bt(u)}catch(u){return cE(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,k.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yr.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(N,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new WR(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:N,source:V,restoredState:Q,extras:ye}=h,je=new Lv(M,this.serializeUrl(N),V,Q);i.next(je);const Je=Yv(N,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},h),{targetSnapshot:Je,urlAfterRedirects:N,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),vl.E}),xp(h=>{const{targetSnapshot:p,id:y,extractedUrl:E,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:N}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:E,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!N})}),(0,Yr.b)(h=>{const p=new zx(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,k.U)(h=>Object.assign(Object.assign({},h),{guards:uD(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function aE(n,t){return(0,Vn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?bt(Object.assign(Object.assign({},e),{guardsResult:!0})):function lE(n,t,e,i){return(0,Ln.D)(n).pipe((0,Vn.z)(r=>function hw(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?bt(o.map(h=>{const p=Tp(h,t,r);let y;if(function iD(n){return n&&Ou(n.canDeactivate)}(p))y=sa(p.canDeactivate(n,t,e,i));else{if(!Ou(p))throw new Error("Invalid CanDeactivate guard");y=sa(p(n,t,e,i))}return y.pipe(bl())})).pipe(gh()):bt(!0)}(r.component,r.route,e,t,i)),bl(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Vn.z)(h=>h&&function sO(n){return"boolean"==typeof n}(h)?function cD(n,t,e,i){return(0,Ln.D)(t).pipe(g(r=>Qm(function uE(n,t){return null!==n&&t&&t(new KR(n)),bt(!0)}(r.route.parent,i),function dO(n,t){return null!==n&&t&&t(new QR(n)),bt(!0)}(r.route,i),function dD(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function oE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Nv(()=>bt(u.guards.map(p=>{const y=Tp(p,u.node,e);let E;if(function wp(n){return n&&Ou(n.canActivateChild)}(y))E=sa(y.canActivateChild(i,n));else{if(!Ou(y))throw new Error("Invalid CanActivateChild guard");E=sa(y(i,n))}return E.pipe(bl())})).pipe(gh())));return bt(o).pipe(gh())}(n,r.path,e),function dw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(o=>Nv(()=>{const u=Tp(o,t,e);let h;if(function sw(n){return n&&Ou(n.canActivate)}(u))h=sa(u.canActivate(t,n));else{if(!Ou(u))throw new Error("Invalid CanActivate guard");h=sa(u(t,n))}return h.pipe(bl())}));return bt(r).pipe(gh())}(n,r.route,e))),bl(r=>!0!==r,!0))}(i,o,n,t):bt(h)),(0,k.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Yr.b)(h=>{if(Sl(h.guardsResult)){const y=O0(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new ZR(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),xp(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,Yr.b)(p=>{const y=new M0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Vi(p=>{let y=!1;return bt(p).pipe(function Ip(n,t){return(0,Vn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return bt(e);let o=0;return(0,Ln.D)(r).pipe(g(u=>function kr(n,t,e,i){return function qc(n,t,e,i){const r=Sp(n);if(0===r.length)return bt({});const o={};return(0,Ln.D)(r).pipe((0,Vn.z)(u=>function bo(n,t,e,i){const r=Tp(n,t,i);return sa(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Yr.b)(h=>{o[u]=h}))),Jm(1),(0,Vn.z)(()=>Sp(o).length===r.length?bt(o):vl.E))}(n._resolve,n,t,i).pipe((0,k.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),Qv(n,e).resolve),null)))}(u.route,i,n,t)),(0,Yr.b)(()=>o++),Jm(1),(0,Vn.z)(u=>o===r.length?bt(e):vl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yr.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,Yr.b)(p=>{const y=new k0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),xp(h=>{const{targetSnapshot:p,id:y,extractedUrl:E,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:N}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:E,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!N})}),(0,k.U)(h=>{const p=function $0(n,t,e){const i=_p(n,t._root,e?e._root:void 0);return new H0(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,Yr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,k.U)(i=>(new Il(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Yr.b)({next(){o=!0},complete(){o=!0}}),function qR(n){return(0,m.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Uc(h=>{if(u=!0,function ku(n){return n&&n[$x]}(h)){const p=Sl(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const y=new D0(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),p?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pw(r.source)};this.scheduleNavigation(E,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new A0(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return vl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const p=Object.assign({},u);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){X0(e),this.config=e.map(p_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,E=p?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),function Xv(n,t,e,i,r){if(0===e.length)return ph(t.root,t.root,t.root,i,r);const o=function ew(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new q0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Bn(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new q0(e,t,i)}(e);if(o.toRoot())return ph(t.root,t.root,new Bt([],{}),i,r);const u=function W0(n,t,e){if(n.isAbsolute)return new vp(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new vp(o,o===t.root,0)}const i=l_(n.commands[0])?0:1;return function iO(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new vp(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?tw(u.segmentGroup,u.index,o.commands):c_(u.segmentGroup,u.index,o.commands);return ph(t.root,u.segmentGroup,h,i,r)}(y,this.currentUrlTree,e,I,null!=E?E:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Sl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function gE(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},fE):!1===i?Object.assign({},pE):i,Sl(e))return Hv(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Hv(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new cp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var h,p;if(this.disposed)return Promise.resolve(!1);let y,E,I;u?(y=u.resolve,E=u.reject,I=u.promise):I=new Promise((V,Q)=>{y=V,E=Q});const M=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),N=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):N=0,this.setTransition({id:M,targetPageId:N,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:y,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new D0(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function pw(n){return"imperative"!==n}let v_=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new mn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Zc(this.skipLocationChange),replaceUrl:Zc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rr),s.Y36(fh),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Dp=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new mn.x,this.subscription=e.events.subscribe(o=>{o instanceof cp&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Zc(this.skipLocationChange),replaceUrl:Zc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rr),s.Y36(fh),s.Y36(ge))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function Zc(n){return""===n||!!n}let mE=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof cp&&this.update()})}ngAfterContentInit(){bt(this.links.changes,this.linksWithHrefs.changes,bt(null)).pipe((0,Ym.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Ln.D)(i).pipe((0,Ym.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function _E(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(v_,8),s.Y36(Dp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,v_,5),s.Suo(r,Dp,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class yE{}class gw{preload(t,e){return bt(null)}}let wE=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Wc(r,i,p=>e.triggerEvent(new R0(p)),p=>e.triggerEvent(new e_(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(D(e=>e instanceof cp),g(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Ln.D)(r).pipe((0,Ym.J)(),(0,k.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?bt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Vn.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(yE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),mw=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Gx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Gx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=new s.OlP("ROUTER_CONFIGURATION"),_w=new s.OlP("ROUTER_FORROOT_GUARD"),yD=[Ee,{provide:r_,useClass:zv},{provide:Rr,useFactory:function fO(n,t,e,i,r,o,u={},h,p){const y=new Rr(null,n,t,e,i,r,Bv(o));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function pO(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),u.enableTracing&&y.events.subscribe(E=>{var I,M;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(M=console.groupEnd)||void 0===M||M.call(console)}),y},deps:[r_,mh,Ee,s.zs3,s.Sil,Nu,Kc,[class Th{},new s.FiY],[class bh{},new s.FiY]]},mh,{provide:fh,useFactory:function gO(n){return n.routerState.root},deps:[Rr]},wE,gw,class vE{preload(t,e){return e().pipe(Uc(()=>bt(null)))}},{provide:Kc,useValue:{enableTracing:!1}}];function vD(){return new s.PXZ("Router",Rr)}let wD=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[yD,bE(e),{provide:_w,useFactory:vw,deps:[[Rr,new s.FiY,new s.tp0]]},{provide:Kc,useValue:i||{}},{provide:ge,useFactory:yw,deps:[le,[new s.tBr(We),new s.FiY],Kc]},{provide:mw,useFactory:bD,deps:[Rr,ac,Kc]},{provide:yE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:gw},{provide:s.PXZ,multi:!0,useFactory:vD},[ww,{provide:s.ip1,multi:!0,useFactory:CE,deps:[ww]},{provide:EE,useFactory:mO,deps:[ww]},{provide:s.tb,multi:!0,useExisting:EE}]]}}static forChild(e){return{ngModule:n,providers:[bE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_w,8),s.LFG(Rr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function bD(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new mw(n,t,e)}function yw(n,t,e={}){return e.useHash?new De(n,t):new Qe(n,t)}function vw(n){return"guarded"}function bE(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Nu,multi:!0,useValue:n}]}let ww=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mn.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(Rr),u=this.injector.get(Kc);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Kc),r=this.injector.get(wE),o=this.injector.get(mw),u=this.injector.get(Rr),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function CE(n){return n.appInitializer.bind(n)}function mO(n){return n.bootstrapListener.bind(n)}const EE=new s.OlP("Router Initializer");var w_=F(6451),b_=F(5363),TE=F(6063);class C_ extends mn.x{constructor(t=1/0,e=1/0,i=TE.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let p=1;p<i.length&&i[p]<=u;p+=2)h=p;h&&i.splice(0,h+1)}}}var IE=F(3099);function E_(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,IE.B)({connector:()=>new C_(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function SE(n,t){return(0,v.m)(t)?Vi(()=>n,t):Vi(()=>n)}var bw=F(9468),Mn=F(5813),Jr=F(2011);F(5867);var Te=F(5861),la=F(9681),Co=F(4859),P=F(2090),zs=F(1877);const Tw=new Map,Iw={activated:!1,tokenObservers:[]},OE={initialized:!1,enabled:!1};function Bi(n){return Tw.get(n)||Iw}function Gs(n,t){Tw.set(n,t)}function kp(){return OE}class FE{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function LE(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const pr=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Aw(n){if(!Bi(n).activated)throw pr.create("use-before-activation",{appName:n.name})}function S_(n,t){return x_.apply(this,arguments)}function x_(){return(x_=(0,Te.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(I){throw pr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw pr.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw pr.create("fetch-parse-error",{originalErrorMessage:I.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function xD(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Np="firebase-app-check-store";let Pp=null;function jE(){return Pp||(Pp=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(pr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Np,{keyPath:"compositeKey"})}}catch(e){t(pr.create("storage-open",{originalErrorMessage:e.message}))}}),Pp)}function Pu(){return(Pu=(0,Te.Z)(function*(n,t){const i=(yield jE()).transaction(Np,"readwrite"),o=i.objectStore(Np).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=p=>{u()},i.onerror=p=>{var y;h(pr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Fp=new zs.Yd("@firebase/app-check");function D_(n,t){return(0,P.hl)()?function zE(n,t){return function Mw(n,t){return Pu.apply(this,arguments)}(function Rw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Fp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ZE(){return kp().enabled}function Nw(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,Te.Z)(function*(){const n=kp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ca={error:"UNKNOWN_ERROR"};function KE(n){return P.US.encodeString(JSON.stringify(n),!1)}function Lp(n){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,Te.Z)(function*(n,t=!1){const e=n.app;Aw(e);const i=Bi(e);let o,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&A_(p)&&(r=p)}if(!t&&r&&A_(r))return{token:r.token};let h,u=!1;if(ZE()){i.exchangeTokenPromise||(i.exchangeTokenPromise=S_(xD(e,yield Nw()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0);const p=yield i.exchangeTokenPromise;return yield D_(e,p),Gs(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),u=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Fp.warn(p.message):Fp.error(p),o=p}return r?(h={token:r.token},Gs(e,Object.assign(Object.assign({},i),{token:r})),yield D_(e,r)):h=QE(o),u&&Ah(e,h),h})).apply(this,arguments)}function Lw(n,t){const e=Bi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Gs(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function YE(n){const{app:t}=n,e=Bi(t);let i=e.tokenRefresher;i||(i=function Vw(n){const{app:t}=n;return new FE((0,Te.Z)(function*(){let i;if(i=Bi(t).token?yield Lp(n,!0):yield Lp(n),i.error)throw i.error}),()=>!0,()=>{const e=Bi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Gs(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Ah(n,t){const e=Bi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function A_(n){return n.expireTimeMillis-Date.now()>0}function QE(n){return{token:KE(ca),error:n}}class kD{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Bi(this.app);for(const e of t)Lw(this.app,e.next);return Promise.resolve()}}const uT="app-check-internal";!function PD(){(0,la._registerComponent)(new Co.wA("app-check",n=>function JE(n,t){return new kD(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(uT).initialize()})),(0,la._registerComponent)(new Co.wA(uT,n=>function XE(n){return{getToken:t=>Lp(n,t),addTokenListener:t=>function Fw(n,t,e,i){const{app:r}=n,o=Bi(r),u={next:e,error:i,type:t};if(Gs(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&A_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),YE(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>YE(n))}(n,"INTERNAL",t),removeTokenListener:t=>Lw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,la.registerVersion)("@firebase/app-check","0.5.8")}();class O_{constructor(){return(0,Mn.vb)("app-check")}}"undefined"!=typeof window&&window;var gT=F(127);const mT=new s.OlP("angularfire2.auth.use-emulator"),Vp=new s.OlP("angularfire2.auth.settings"),_T=new s.OlP("angularfire2.auth.tenant-id"),N_=new s.OlP("angularfire2.auth.langugage-code"),P_=new s.OlP("angularfire2.auth.use-device-language"),yT=new s.OlP("angularfire.auth.persistence"),Ct=(n,t,e,i,r,o,u,h)=>(0,Jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),u)for(const[y,E]of Object.entries(u))p.settings[y]=E;return h&&p.setPersistence(h),p},[e,i,r,o,u,h]);let F_=(()=>{class n{constructor(e,i,r,o,u,h,p,y,E,I,M,N){const V=new mn.x,Q=bt(void 0).pipe((0,b_.Q)(u.outsideAngular),Vi(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8775)))),(0,k.U)(()=>(0,Jr.on)(e,o,i)),(0,k.U)(ye=>Ct(ye,o,h,y,E,I,p,M)),E_({bufferSize:1,refCount:!1}));if(Ca(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Q.pipe(bl()).subscribe();const je=Q.pipe(Vi(rt=>rt.getRedirectResult().then(At=>At,()=>null)),Mn.iC,E_({bufferSize:1,refCount:!1})),Je=Q.pipe(Vi(rt=>new Li.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onAuthStateChanged(Rt=>At.next(Rt),Rt=>At.error(Rt),()=>At.complete()))})))),it=Q.pipe(Vi(rt=>new Li.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onIdTokenChanged(Rt=>At.next(Rt),Rt=>At.error(Rt),()=>At.complete()))}))));this.authState=je.pipe(SE(Je),(0,bw.R)(u.outsideAngular),(0,b_.Q)(u.insideAngular)),this.user=je.pipe(SE(it),(0,bw.R)(u.outsideAngular),(0,b_.Q)(u.insideAngular)),this.idToken=this.user.pipe(Vi(rt=>rt?(0,Ln.D)(rt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(Vi(rt=>rt?(0,Ln.D)(rt.getIdTokenResult()):bt(null))),this.credential=(0,w_.T)(je,V,this.authState.pipe(D(rt=>!rt))).pipe((0,k.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,bw.R)(u.outsideAngular),(0,b_.Q)(u.insideAngular))}return(0,Jr.pX)(this,Q,o,{spy:{apply:(ye,je,Je)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&Je.then(it=>V.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jr.Dh),s.LFG(Jr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(mT,8),s.LFG(Vp,8),s.LFG(_T,8),s.LFG(N_,8),s.LFG(P_,8),s.LFG(yT,8),s.LFG(O_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bp=(()=>{class n{constructor(e,i){this.angularFireAuth=e,this._router=i,this.isAuth=!1,this.isAuthContent=new Hs(this.isAuth),this.isAuthExpose=this.isAuthContent.asObservable(),this.angularFireAuth.authState.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthContent.next(!0),this._router.navigate(["pranavam/dashboard"])):(localStorage.removeItem("user"),this.isAuthContent.next(!1))})}isAuthenticated(){return null!=JSON.parse(localStorage.getItem("user"))}signIn(e,i){this.angularFireAuth.signInWithEmailAndPassword(e,i).then(r=>{}).catch(r=>{console.log("Something is wrong:",r.message)})}SignOut(){this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this._router.navigate(["login"])})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F_),s.LFG(Rr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xl=(()=>{class n{constructor(e,i){this._authService=e,this._router=i}canActivate(e,i){return!!this._authService.isAuthenticated()||(this._router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bp),s.LFG(Rr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zD(n,t){if(1&n&&s._UZ(0,"img",6),2&n){const e=s.oxw(2);s.Q6J("src",e.image,s.LSH)}}function L_(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(3);s.Tol(e.icon),s.Q6J("ngClass","p-chip-icon")}}function V_(n,t){if(1&n&&s.YNc(0,L_,1,3,"span",7),2&n){const e=s.oxw(2);s.Q6J("ngIf",e.icon)}}function oi(n,t){if(1&n&&(s.TgZ(0,"div",9),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label)}}function DO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).close(r)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.removeIcon),s.Q6J("ngClass","pi-chip-remove-icon")}}function vT(n,t){if(1&n&&(s.TgZ(0,"div",1),s.Hsn(1),s.YNc(2,zD,1,1,"img",2),s.YNc(3,V_,1,1,"ng-template",null,3,s.W1O),s.YNc(5,oi,2,1,"div",4),s.YNc(6,DO,1,3,"span",5),s.qZA()),2&n){const e=s.MAs(4),i=s.oxw();s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.image)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.label),s.xp6(1),s.Q6J("ngIf",i.removable)}}const GD=["*"];let $D=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new s.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(e){this.visible=!1,this.onRemove.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove"},ngContentSelectors:GD,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,vT,7,8,"div",0)),2&e&&s.Q6J("ngIf",i.visible)},directives:[Xt,En,Mi],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),wT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})(),bT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:144,vars:0,consts:[[1,"container-fluid","p-0"],[1,"h3","mb-3"],[1,"row"],[1,"col-12","col-lg-4","col-xxl-3","d-flex"],[1,"card","flex-fill","w-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body","d-flex","w-100"],[1,"align-self-center","chart","chart-lg","tile"],["label","Action","styleClass","mr-2"],["label","Comedy","styleClass","mr-2"],["label","Mystery","styleClass","mr-2"],["label","ComedyComedyComedyComedy","styleClass","mr-2"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1)(2,"strong"),s._uU(3,"Analytics"),s.qZA(),s._uU(4," Dashboard"),s.qZA(),s.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"h5",6),s._uU(10,"Monthly Sales"),s.qZA()(),s.TgZ(11,"div",7)(12,"div",8),s._UZ(13,"p-chip",9)(14,"br")(15,"p-chip",10)(16,"br")(17,"p-chip",11)(18,"br")(19,"p-chip",9)(20,"br")(21,"p-chip",10)(22,"br")(23,"p-chip",11)(24,"br")(25,"p-chip",9)(26,"br")(27,"p-chip",10)(28,"br")(29,"p-chip",11)(30,"br")(31,"p-chip",9)(32,"br")(33,"p-chip",10)(34,"br")(35,"p-chip",11)(36,"br")(37,"p-chip",9)(38,"br")(39,"p-chip",10)(40,"br")(41,"p-chip",11)(42,"br")(43,"p-chip",9)(44,"br")(45,"p-chip",10)(46,"br")(47,"p-chip",11)(48,"br")(49,"p-chip",9)(50,"br")(51,"p-chip",10)(52,"br")(53,"p-chip",11)(54,"br"),s.qZA()()()(),s.TgZ(55,"div",3)(56,"div",4)(57,"div",5)(58,"h5",6),s._uU(59,"Monthly Sales"),s.qZA()(),s.TgZ(60,"div",7)(61,"div",8),s._UZ(62,"p-chip",9)(63,"br")(64,"p-chip",10)(65,"br")(66,"p-chip",11)(67,"br")(68,"p-chip",9)(69,"br")(70,"p-chip",10)(71,"br")(72,"p-chip",11)(73,"br")(74,"p-chip",9)(75,"br")(76,"p-chip",10)(77,"br")(78,"p-chip",11)(79,"br")(80,"p-chip",9)(81,"br")(82,"p-chip",10)(83,"br")(84,"p-chip",11)(85,"br")(86,"p-chip",9)(87,"br")(88,"p-chip",10)(89,"br")(90,"p-chip",11)(91,"br")(92,"p-chip",9)(93,"br")(94,"p-chip",10)(95,"br")(96,"p-chip",11)(97,"br")(98,"p-chip",9)(99,"br")(100,"p-chip",10)(101,"br")(102,"p-chip",11)(103,"br"),s.qZA()()()(),s.TgZ(104,"div",3)(105,"div",4)(106,"div",5)(107,"h5",6),s._uU(108,"Monthly Sales"),s.qZA()(),s.TgZ(109,"div",7)(110,"div",8),s._UZ(111,"p-chip",9)(112,"p-chip",12)(113,"p-chip",11)(114,"p-chip",9)(115,"p-chip",10)(116,"p-chip",11)(117,"p-chip",9)(118,"p-chip",10)(119,"p-chip",11)(120,"p-chip",9)(121,"br")(122,"p-chip",10)(123,"br")(124,"p-chip",11)(125,"br")(126,"p-chip",9)(127,"br")(128,"p-chip",10)(129,"br")(130,"p-chip",11)(131,"br")(132,"p-chip",9)(133,"br")(134,"p-chip",10)(135,"br")(136,"p-chip",11)(137,"br")(138,"p-chip",9)(139,"br")(140,"p-chip",10)(141,"br")(142,"p-chip",11)(143,"br"),s.qZA()()()()()())},directives:[$D],styles:[".tile[_ngcontent-%COMP%]{height:200px!important;max-height:200px;min-height:200px!important;overflow:scroll}"]}),n})();class ot{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,u,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((u=t.length)!=e.length)return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var p=t instanceof Date,y=e instanceof Date;if(p!=y)return!1;if(p&&y)return t.getTime()==e.getTime();var E=t instanceof RegExp,I=e instanceof RegExp;if(E!=I)return!1;if(E&&I)return t.toString()==e.toString();var M=Object.keys(t);if((u=M.length)!==Object.keys(e).length)return!1;for(o=u;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[h=M[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,u=i.length;o<u;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>e){i.splice(u,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var qw=0;function Oh(){return"pr_id_"+ ++qw}var Ui=function qD(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,u,h)=>{u&&(u.style.zIndex=String(((o,u)=>{let h=n.length>0?n[n.length-1]:{key:o,value:u},p=h.value+(h.key===o?0:u)+1;return n.push({key:o,value:p}),p})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(u=>u.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Up=["*"];let gr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Yc=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[gr.STARTS_WITH,gr.CONTAINS,gr.NOT_CONTAINS,gr.ENDS_WITH,gr.EQUALS,gr.NOT_EQUALS],numeric:[gr.EQUALS,gr.NOT_EQUALS,gr.LESS_THAN,gr.LESS_THAN_OR_EQUAL_TO,gr.GREATER_THAN,gr.GREATER_THAN_OR_EQUAL_TO],date:[gr.DATE_IS,gr.DATE_IS_NOT,gr.DATE_BEFORE,gr.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new mn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();var da=(()=>{return(n=da||(da={}))[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",da;var n})();let Qc=(()=>{class n{constructor(){this.requireConfirmationSource=new mn.x,this.acceptConfirmationSource=new mn.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ww=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return ot.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r),u=ot.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==u.indexOf(o,u.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(ot.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,u){let h=[];if(e)for(let p of e)for(let y of i){let E=ot.resolveFieldData(p,y);if(this.filters[o](E,r,u)){h.push(p);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fu=(()=>{class n{constructor(){this.messageSource=new mn.x,this.clearSource=new mn.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Lu=(()=>{class n{constructor(){this.clickSource=new mn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CT=(()=>{class n{}return n.AND="and",n.OR="or",n})(),ZD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Up,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),ha=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),To=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})();var U_=F(4986);function Hp(){return(0,m.e)((n,t)=>{let e,i=!1;n.subscribe((0,b.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function Zw(n,t=dh.y){return n=null!=n?n:YD,(0,m.e)((e,i)=>{let r,o=!0;e.subscribe((0,b.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function YD(n,t){return n===t}F(8775);var at,QD=F(3942),MO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Vu={},Nh=Nh||{},Pt=MO||self;function H_(){}function j_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Dl(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Kw="closure_uid_"+(1e9*Math.random()>>>0),XD=0;function e1(n,t,e){return n.call.apply(n.bind,arguments)}function t1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function tr(n,t,e){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e1:t1).apply(null,arguments)}function z_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function mr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function qs(){this.s=this.s,this.o=this.o}var ET={};qs.prototype.s=!1,qs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function JD(n){return Object.prototype.hasOwnProperty.call(n,Kw)&&n[Kw]||(n[Kw]=++XD)}(this);delete ET[n]}},qs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TT=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Yw=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function Qw(n){return Array.prototype.concat.apply([],arguments)}function Jw(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Ph(n){return/^[\s\xa0]*$/.test(n)}var es,IT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Or(n,t){return-1!=n.indexOf(t)}function G_(n,t){return n<t?-1:n>t?1:0}e:{var ST=Pt.navigator;if(ST){var xT=ST.userAgent;if(xT){es=xT;break e}}es=""}function jp(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function DT(n){const t={};for(const e in n)t[e]=n[e];return t}var Xw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AT(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Xw.length;o++)e=Xw[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function eb(n){return eb[" "](n),n}eb[" "]=H_;var $_,n,o1=Or(es,"Opera"),Fh=Or(es,"Trident")||Or(es,"MSIE"),MT=Or(es,"Edge"),tb=MT||Fh,kT=Or(es,"Gecko")&&!(Or(es.toLowerCase(),"webkit")&&!Or(es,"Edge"))&&!(Or(es,"Trident")||Or(es,"MSIE"))&&!Or(es,"Edge"),RT=Or(es.toLowerCase(),"webkit")&&!Or(es,"Edge");function nb(){var n=Pt.document;return n?n.documentMode:void 0}e:{var ib="",q_=(n=es,kT?/rv:([^\);]+)(\)|;)/.exec(n):MT?/Edge\/([\d\.]+)/.exec(n):Fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RT?/WebKit\/(\S+)/.exec(n):o1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(q_&&(ib=q_?q_[1]:""),Fh){var rb=nb();if(null!=rb&&rb>parseFloat(ib)){$_=String(rb);break e}}$_=ib}var a1={};var OT=Pt.document&&Fh&&(nb()||parseInt($_,10))||void 0,sb=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",H_,t),Pt.removeEventListener("test",H_,t)}catch(e){}return n}();function Nr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Gp(n,t){if(Nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(kT){e:{try{eb(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ob[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gp.Z.h.call(this)}}Nr.prototype.h=function(){this.defaultPrevented=!0},mr(Gp,Nr);var ob={2:"touch",3:"pen",4:"mouse"};Gp.prototype.h=function(){Gp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $p="closure_listenable_"+(1e6*Math.random()|0),NT=0;function u1(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++NT,this.ca=this.fa=!1}function qp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Z_(n){this.src=n,this.g={},this.h=0}function K_(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=TT(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(qp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function PT(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}Z_.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=PT(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new u1(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var ab="closure_lm_"+(1e6*Math.random()|0),Lh={};function FT(n,t,e,i,r){if(i&&i.once)return LT(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)FT(n,t[o],e,i,r);return null}return e=Q_(e),n&&n[$p]?n.N(t,e,Dl(i)?!!i.capture:!!i,r):Jc(n,t,e,!1,i,r)}function Jc(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Dl(r)?!!r.capture:!!r,h=lb(n);if(h||(n[ab]=h=new Z_(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function Wp(){var t=d1;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)sb||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(VT(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function LT(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)LT(n,t[o],e,i,r);return null}return e=Q_(e),n&&n[$p]?n.O(t,e,Dl(i)?!!i.capture:!!i,r):Jc(n,t,e,!0,i,r)}function c1(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)c1(n,t[o],e,i,r);else i=Dl(i)?!!i.capture:!!i,e=Q_(e),n&&n[$p]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=PT(o=n.g[t],e,i,r))&&(qp(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=lb(n))&&(t=n.g[t.toString()],n=-1,t&&(n=PT(t,e,i,r)),(e=-1<n?t[n]:null)&&Y_(e))}function Y_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[$p])K_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(VT(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=lb(t))?(K_(e,n),0==e.h&&(e.src=null,t[ab]=null)):qp(n)}}}function VT(n){return n in Lh?Lh[n]:Lh[n]="on"+n}function d1(n,t){if(n.ca)n=!0;else{t=new Gp(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Y_(n),n=e.call(i,t)}return n}function lb(n){return(n=n[ab])instanceof Z_?n:null}var ub="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q_(n){return"function"==typeof n?n:(n[ub]||(n[ub]=function(t){return n.handleEvent(t)}),n[ub])}function Hi(){qs.call(this),this.i=new Z_(this),this.P=this,this.I=null}function ji(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Nr(t,n);else if(t instanceof Nr)t.target=t.target||n;else{var r=t;AT(t=new Nr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Xc(u,i,!0,t)&&r}if(r=Xc(u=t.g=n,i,!0,t)&&r,r=Xc(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Xc(u=t.g=e[o],i,!1,t)&&r}function Xc(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,p=u.ia||u.src;u.fa&&K_(n.i,u),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}mr(Hi,qs),Hi.prototype[$p]=!0,Hi.prototype.removeEventListener=function(n,t,e,i){c1(this,n,t,e,i)},Hi.prototype.M=function(){if(Hi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)qp(e[i]);delete n.g[t],n.h--}}this.I=null},Hi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Hi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var ed=Pt.JSON.stringify;function h1(){var n=UT;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var db,cb=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new f1,n=>n.reset());class f1{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function p1(n){Pt.setTimeout(()=>{throw n},0)}function Zp(n,t){db||function kO(){var n=Pt.Promise.resolve(void 0);db=function(){n.then(Vh)}}(),hb||(db(),hb=!0),UT.add(n,t)}var hb=!1,UT=new class BT{constructor(){this.h=this.g=null}add(t,e){const i=cb.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Vh(){for(var n;n=h1();){try{n.h.call(n.g)}catch(e){p1(e)}var t=cb;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}hb=!1}function Kp(n,t){Hi.call(this),this.h=n||1,this.g=t||Pt,this.j=tr(this.kb,this),this.l=Date.now()}function Bu(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function HT(n,t,e){if("function"==typeof n)e&&(n=tr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Pt.setTimeout(n,t||0)}function fb(n){n.g=HT(()=>{n.g=null,n.i&&(n.i=!1,fb(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}mr(Kp,Hi),(at=Kp.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ji(this,"tick"),this.da&&(Bu(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){Kp.Z.M.call(this),Bu(this),delete this.g};class g1 extends qs{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:fb(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J_(n){qs.call(this),this.h=n,this.g={}}mr(J_,qs);var pb=[];function m1(n,t,e,i){Array.isArray(e)||(e&&(pb[0]=e.toString()),e=pb);for(var r=0;r<e.length;r++){var o=FT(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function gb(n){jp(n.g,function(t,e){this.g.hasOwnProperty(e)&&Y_(t)},n),n.g={}}function Bh(){this.g=!0}function td(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function $T(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return ed(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}J_.prototype.M=function(){J_.Z.M.call(this),gb(this)},J_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bh.prototype.Aa=function(){this.g=!1},Bh.prototype.info=function(){};var Uu={},mb=null;function Yp(){return mb=mb||new Hi}function qT(n){Nr.call(this,Uu.Ma,n)}function Uh(n){const t=Yp();ji(t,new qT(t,n))}function Hh(n,t){Nr.call(this,Uu.STAT_EVENT,n),this.stat=t}function Pr(n){const t=Yp();ji(t,new Hh(t,n))}function _b(n,t){Nr.call(this,Uu.Na,n),this.size=t}function jh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},t)}Uu.Ma="serverreachability",mr(qT,Nr),Uu.STAT_EVENT="statevent",mr(Hh,Nr),Uu.Na="timingevent",mr(_b,Nr);var Qp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vb(){}function ZT(){}vb.prototype.h=null;var Cb,Jp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wb(){Nr.call(this,"d")}function bb(){Nr.call(this,"c")}function Hu(){}function Xp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new J_(this),this.P=ja,this.W=new Kp(n=tb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}mr(wb,Nr),mr(bb,Nr),mr(Hu,vb),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},Cb=new Hu;var ja=45e3,Eb={},zh={};function nd(n,t,e){n.K=1,n.v=qh(fa(t)),n.s=e,n.U=!0,KT(n,null)}function KT(n,t){n.F=Date.now(),ju(n),n.A=fa(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),v1(e.h,"t",i),n.C=0,e=n.l.H,n.h=new X_,n.g=Vb(n.l,e?t:null,!n.s),0<n.O&&(n.L=new g1(tr(n.Ia,n,n.g),n.O)),m1(n.V,n.g,"readystatechange",n.gb),t=n.H?DT(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Uh(1),function jT(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");u=2<=I.length&&"type"==I[1]?u+(E+"=")+y+"&":u+(E+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function YT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function QT(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=ey(n,e),r==zh){4==t&&(n.o=4,Pr(14),i=!1),td(n.j,n.m,null,"[Incomplete Response]");break}if(r==Eb){n.o=4,Pr(15),td(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}td(n.j,n.m,r,null),eg(n,r)}YT(n)&&r!=zh&&r!=Eb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),hy(t),t.L=!0,Pr(11))):(td(n.j,n.m,e,"[Invalid Chunked Response]"),zu(n),Gh(n))}function ey(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?zh:(e=Number(t.substring(e,i)),isNaN(e)?Eb:(i+=1)+e>t.length?zh:(t=t.substr(i,e),n.C=i+e,t))}function ju(n){n.Y=Date.now()+n.P,JT(n,n.P)}function JT(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jh(tr(n.eb,n),t)}function ty(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function Gh(n){0==n.l.G||n.I||Fb(n.l,n)}function zu(n){ty(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Bu(n.W),gb(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function eg(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||tg(e.i,n)))if(e.I=n.N,!n.J&&tg(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=jh(tr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;lg(e),Nb(e)}CI(e),Pr(18)}if(1>=fI(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else kl(e,11)}else if((n.J||e.g==n)&&lg(e),!Ph(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const E=y[3];null!=E&&(e.ma=E,e.h.info("VER="+e.ma));const I=y[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const N=n.g;if(N){const V=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var o=i.i;!o.g&&(Or(V,"spdy")||Or(V,"quic")||Or(V,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(oy(o,o.h),o.h=null))}if(i.D){const Q=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,kn(i.F,i.D,Q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=EI(i,i.H?i.la:null,i.W),u.J){xb(i.i,u);var h=u,p=i.K;p&&h.setTimeout(p),h.B&&(ty(h),ju(h)),i.g=u}else ag(i);0<e.l.length&&Pb(e)}else"stop"!=y[0]&&"close"!=y[0]||kl(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?kl(e,7):cy(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Uh(4)}catch(y){}}function Tb(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(j_(n)||"string"==typeof n)Yw(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(j_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function XT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(j_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function $h(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof $h)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function eI(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Al(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Al(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Al(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(at=Xp.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const t=this.L;t&&3==Ga(n)?t.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const E=Ga(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>E)&&(3!=E||tb||this.g&&(this.h.h||this.g.ga()||Rb(this.g)))){this.I||4!=E||7==t||Uh(8==t||0>=I?3:2),ty(this);var e=this.g.ba();this.N=e;t:if(YT(this)){var i=Rb(this.g);n="";var r=i.length,o=4==Ga(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zu(this),Gh(this);var u="";break t}this.h.i=new Pt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function zT(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,E,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Pr(12),zu(this),Gh(this);break e}td(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eg(this,e)}this.U?(QT(this,E,u),tb&&this.i&&3==E&&(m1(this.V,this.W,"tick",this.fb),this.W.start())):(td(this.j,this.m,u,null),eg(this,u)),4==E&&zu(this),this.i&&!this.I&&(4==E?Fb(this.l,this):(this.i=!1,ju(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),zu(this),Gh(this)}}}catch(E){}},at.fb=function(){if(this.g){var n=Ga(this.g),t=this.g.ga();this.C<t.length&&(ty(this),QT(this,n,t),this.i&&4!=n&&ju(this))}},at.cancel=function(){this.I=!0,zu(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function GT(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Uh(3),Pr(17)),zu(this),this.o=2,Gh(this)):JT(this,this.Y-n)},(at=$h.prototype).R=function(){eI(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},at.T=function(){return eI(this),this.g.concat()},at.get=function(n,t){return Al(this.h,n)?this.h[n]:t},at.set=function(n,t){Al(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},at.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var ny=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ml(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ml){this.g=void 0!==t?t:n.g,iy(this,n.j),this.s=n.s,ry(this,n.i),sy(this,n.m),this.l=n.l,t=n.h;var e=new zi;e.i=t.i,t.g&&(e.g=new $h(t.g),e.h=t.h),nI(this,e),this.o=n.o}else n&&(e=String(n).match(ny))?(this.g=!!t,iy(this,e[1]||"",!0),this.s=Wh(e[2]||""),ry(this,e[3]||"",!0),sy(this,e[4]),this.l=Wh(e[5]||"",!0),nI(this,e[6]||"",!0),this.o=Wh(e[7]||"")):(this.g=!!t,this.h=new zi(null,this.g))}function fa(n){return new Ml(n)}function iy(n,t,e){n.j=e?Wh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ry(n,t,e){n.i=e?Wh(t,!0):t}function sy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function nI(n,t,e){t instanceof zi?(n.h=t,function w1(n,t){t&&!n.j&&(Ws(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(lI(this,i),v1(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Zh(t,oI)),n.h=new zi(t,n.g))}function kn(n,t,e){n.h.set(t,e)}function qh(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,_1),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ml.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Zh(t,Ib,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Zh(t,Ib,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Zh(e,"/"==e.charAt(0)?y1:sI,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Zh(e,aI)),n.join("")};var Ib=/[#\/\?@]/g,sI=/[#\?:]/g,y1=/[#\?]/g,oI=/[#\?@]/g,aI=/#/g;function zi(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ws(n){n.g||(n.g=new $h,n.h=0,n.i&&function tI(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function lI(n,t){Ws(n),t=za(n,t),Al(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Al((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&eI(n)))}function uI(n,t){return Ws(n),t=za(n,t),Al(n.g.h,t)}function v1(n,t,e){lI(n,t),0<e.length&&(n.i=null,n.g.set(za(n,t),Jw(e)),n.h+=e.length)}function za(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function cI(n){this.l=n||dI,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=zi.prototype).add=function(n,t){Ws(this),this.i=null,n=za(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},at.forEach=function(n,t){Ws(this),this.g.forEach(function(e,i){Yw(e,function(r){n.call(t,r,i,this)},this)},this)},at.T=function(){Ws(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},at.R=function(n){Ws(this);var t=[];if("string"==typeof n)uI(this,n)&&(t=Qw(t,this.g.get(za(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=Qw(t,n[e])}return t},at.set=function(n,t){return Ws(this),this.i=null,uI(this,n=za(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},at.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var dI=10;function hI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fI(n){return n.h?1:n.g?n.g.size:0}function tg(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function oy(n,t){n.g?n.g.add(t):n.h=t}function xb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ng(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Jw(n.i)}function ig(){}function RO(){this.g=new ig}function pI(n,t,e){const i=e||"";try{Tb(n,function(r,o){let u=r;Dl(r)&&(u=ed(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function rg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function Gu(n){this.l=n.$b||null,this.j=n.ib||!1}function sg(n,t){Hi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Db,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cI.prototype.cancel=function(){if(this.i=ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ig.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},ig.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},mr(Gu,vb),Gu.prototype.g=function(){return new sg(this.l,this.j)},Gu.prototype.i=function(n){return function(){return n}}({}),mr(sg,Hi);var Db=0;function ay(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function id(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ly(n)}function ly(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=sg.prototype).open=function(n,t){if(this.readyState!=Db)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ly(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Pt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,id(this)),this.readyState=Db},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ly(this)),this.g&&(this.readyState=3,ly(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ay(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?id(this):ly(this),3==this.readyState&&ay(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,id(this))},at.Ta=function(n){this.g&&(this.response=n,id(this))},at.ha=function(){this.g&&id(this)},at.setRequestHeader=function(n,t){this.v.append(n,t)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(sg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var C1=Pt.JSON.parse;function Ti(n){Hi.call(this),this.headers=new $h,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ab,this.K=this.L=!1}mr(Ti,Hi);var Ab="",gI=/^https?$/i,E1=["POST","PUT"];function _I(n){return"content-type"==n.toLowerCase()}function yI(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,vI(n),uy(n)}function vI(n){n.D||(n.D=!0,ji(n,"complete"),ji(n,"error"))}function Mb(n){if(n.h&&void 0!==Nh&&(!n.C[1]||4!=Ga(n)||2!=n.ba()))if(n.v&&4==Ga(n))HT(n.Fa,0,n);else if(ji(n,"readystatechange"),4==Ga(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(ny)[1]||null;if(!r&&Pt.self&&Pt.self.location){var o=Pt.self.location.protocol;r=o.substr(0,o.length-1)}i=!gI.test(r?r.toLowerCase():"")}e=i}if(e)ji(n,"complete"),ji(n,"success");else{n.m=6;try{var u=2<Ga(n)?n.g.statusText:""}catch(p){u=""}n.j=u+" ["+n.ba()+"]",vI(n)}}finally{uy(n)}}}function uy(n,t){if(n.g){kb(n);const e=n.g,i=n.C[0]?H_:null;n.g=null,n.C=null,t||ji(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function kb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function Ga(n){return n.g?n.g.readyState:0}function Rb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ab:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ob(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function wI(n){let t="";return jp(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):kn(n,t,e))}function og(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function T1(n){this.za=0,this.l=[],this.h=new Bh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=og("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=og("baseRetryDelayMs",5e3,n),this.$a=og("retryDelaySeedMs",1e4,n),this.Ya=og("forwardChannelMaxRetries",2,n),this.ra=og("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new cI(n&&n.concurrentRequestLimit),this.Ca=new RO,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cy(n){if(I1(n),3==n.G){var t=n.V++,e=fa(n.F);kn(e,"SID",n.J),kn(e,"RID",t),kn(e,"TYPE","terminate"),dy(n,e),(t=new Xp(n,n.h,t,void 0)).K=2,t.v=qh(fa(e)),e=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(e=Pt.navigator.sendBeacon(t.v.toString(),"")),!e&&Pt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Vb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ju(t)}Lb(n)}function Nb(n){n.g&&(hy(n),n.g.cancel(),n.g=null)}function I1(n){Nb(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),lg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function bI(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Pb(n)}function Pb(n){hI(n.i)||n.m||(n.m=!0,Zp(n.Ha,n),n.C=0)}function S1(n,t){var e;e=t?t.m:n.V++;const i=fa(n.F);kn(i,"SID",n.J),kn(i,"RID",e),kn(i,"AID",n.U),dy(n,i),n.o&&n.s&&Ob(i,n.o,n.s),e=new Xp(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=x1(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),oy(n.i,e),nd(e,i,t)}function dy(n,t){n.j&&Tb({},function(e,i){kn(t,i,e)})}function x1(n,t,e){e=Math.min(n.l.length,e);var i=n.j?tr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let p=0;p<e;p++){let y=r[p].h;const E=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),h=!1;else try{pI(E,u,"req"+y+"_")}catch(I){i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function ag(n){n.g||n.u||(n.Y=1,Zp(n.Ga,n),n.A=0)}function CI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=jh(tr(n.Ga,n),D1(n,n.A)),n.A++,0))}function hy(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function fy(n){n.g=new Xp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=fa(n.oa);kn(t,"RID","rpc"),kn(t,"SID",n.J),kn(t,"CI",n.N?"0":"1"),kn(t,"AID",n.U),dy(n,t),kn(t,"TYPE","xmlhttp"),n.o&&n.s&&Ob(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=qh(fa(t)),e.s=null,e.U=!0,KT(e,n)}function lg(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function Fb(n,t){var e=null;if(n.g==t){lg(n),hy(n),n.g=null;var i=2}else{if(!tg(n.i,t))return;e=t.D,xb(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ji(i=Yp(),new _b(i,e,t,r)),Pb(n)}else ag(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function OO(n,t){return!(fI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=jh(tr(n.Ha,n,t),D1(n,n.C)),n.C++,0)))}(n,t)||2==i&&CI(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:kl(n,5);break;case 4:kl(n,10);break;case 3:kl(n,6);break;default:kl(n,2)}}function D1(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function kl(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=tr(n.jb,n);e||(e=new Ml("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||iy(e,"https"),qh(e)),function b1(n,t){const e=new Bh;if(Pt.Image){const i=new Image;i.onload=z_(rg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=z_(rg,e,i,"TestLoadImage: error",!1,t),i.onabort=z_(rg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=z_(rg,e,i,"TestLoadImage: timeout",!1,t),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Pr(2);n.G=0,n.j&&n.j.va(t),Lb(n),I1(n)}function Lb(n){n.G=0,n.I=-1,n.j&&((0!=ng(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Jw(n.l),n.l.length=0),n.j.ua())}function EI(n,t,e){let i=function iI(n){return n instanceof Ml?fa(n):new Ml(n,void 0)}(e);if(""!=i.i)t&&ry(i,t+"."+i.i),sy(i,i.m);else{const r=Pt.location;i=function rI(n,t,e,i){var r=new Ml(null,void 0);return n&&iy(r,n),t&&ry(r,t),e&&sy(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&jp(n.aa,function(r,o){kn(i,o,r)}),e=n.sa,(t=n.D)&&e&&kn(i,t,e),kn(i,"VER",n.ma),dy(n,i),i}function Vb(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ti(e&&n.Ba&&!n.qa?new Gu({ib:!0}):n.qa)).L=n.H,t}function A1(){}function py(){if(Fh&&!(10<=Number(OT)))throw Error("Environmental error: no available transport.")}function Zs(n,t){Hi.call(this),this.g=new T1(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Ph(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ph(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ug(this)}function gy(n){wb.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function TI(){bb.call(this),this.status=1}function ug(n){this.g=n}(at=Ti.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cb.g(),this.C=function WT(n){return n.h||(n.h=n.i())}(this.u?this.u:Cb),this.g.onreadystatechange=tr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void yI(this,o)}n=e||"";const r=new $h(this.headers);i&&Tb(i,function(o,u){r.set(u,o)}),i=function r1(n){e:{var t=_I;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Pt.FormData&&n instanceof Pt.FormData,!(0<=TT(E1,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kb(this),0<this.B&&((this.K=function mI(n){return Fh&&function l1(){return function s1(n){var t=a1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=IT(String($_)).split("."),e=IT("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=G_(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||G_(0==r[2].length,0==o[2].length)||G_(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.pa,this)):this.A=HT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){yI(this,o)}},at.pa=function(){void 0!==Nh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ji(this,"complete"),ji(this,"abort"),uy(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uy(this,!0)),Ti.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?Mb(this):this.cb())},at.cb=function(){Mb(this)},at.ba=function(){try{return 2<Ga(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),C1(t)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=T1.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Xp(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=DT(o),AT(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=x1(this,r,t),kn(e=fa(this.F),"RID",n),kn(e,"CVER",22),this.D&&kn(e,"X-HTTP-Session-Id",this.D),dy(this,e),this.o&&o&&Ob(e,this.o,o),oy(this.i,r),this.Ra&&kn(e,"TYPE","init"),this.ja?(kn(e,"$req",t),kn(e,"SID","null"),r.$=!0,nd(r,e,null)):nd(r,e,t),this.G=2}}else 3==this.G&&(n?S1(this,n):0==this.l.length||hI(this.i)||S1(this))},at.Ga=function(){if(this.u=null,fy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=jh(tr(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),Nb(this),fy(this))},at.ab=function(){null!=this.v&&(this.v=null,Nb(this),CI(this),Pr(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(at=A1.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},py.prototype.g=function(n,t){return new Zs(n,t)},mr(Zs,Hi),Zs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Zp(tr(n.hb,n,t))),Pr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=EI(n,null,n.W),Pb(n)},Zs.prototype.close=function(){cy(this.g)},Zs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,bI(this.g,t)}else this.v?((t={}).__data__=ed(n),bI(this.g,t)):bI(this.g,n)},Zs.prototype.M=function(){this.g.j=null,delete this.j,cy(this.g),delete this.g,Zs.Z.M.call(this)},mr(gy,wb),mr(TI,bb),mr(ug,A1),ug.prototype.xa=function(){ji(this.g,"a")},ug.prototype.wa=function(n){ji(this.g,new gy(n))},ug.prototype.va=function(n){ji(this.g,new TI(n))},ug.prototype.ua=function(){ji(this.g,"b")},py.prototype.createWebChannel=py.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,Qp.NO_ERROR=0,Qp.TIMEOUT=8,Qp.HTTP_ERROR=6,yb.COMPLETE="complete",ZT.EventType=Jp,Jp.OPEN="a",Jp.CLOSE="b",Jp.ERROR="c",Jp.MESSAGE="d",Hi.prototype.listen=Hi.prototype.N,Ti.prototype.listenOnce=Ti.prototype.O,Ti.prototype.getLastError=Ti.prototype.La,Ti.prototype.getLastErrorCode=Ti.prototype.Da,Ti.prototype.getStatus=Ti.prototype.ba,Ti.prototype.getResponseJson=Ti.prototype.Qa,Ti.prototype.getResponseText=Ti.prototype.ga,Ti.prototype.send=Ti.prototype.ea;var NO=Vu.createWebChannelTransport=function(){return new py},PO=Vu.getStatEventTarget=function(){return Yp()},Bb=Vu.ErrorCode=Qp,M1=Vu.EventType=yb,k1=Vu.Event=Uu,R1=Vu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},O1=Vu.FetchXmlHttpFactory=Gu,Kh=Vu.WebChannel=ZT,N1=Vu.XhrIo=Ti;const Io="@firebase/firestore";class _r{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let $u="9.8.0";const qu=new zs.Yd("@firebase/firestore");function Ub(){return qu.logLevel}function Ve(n,...t){if(qu.logLevel<=zs.in.DEBUG){const e=t.map(my);qu.debug(`Firestore (${$u}): ${n}`,...e)}}function di(n,...t){if(qu.logLevel<=zs.in.ERROR){const e=t.map(my);qu.error(`Firestore (${$u}): ${n}`,...e)}}function cg(n,...t){if(qu.logLevel<=zs.in.WARN){const e=t.map(my);qu.warn(`Firestore (${$u}): ${n}`,...e)}}function my(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: `+n;throw di(t),new Error(t)}function Mt(n,t){n||ut()}function Ze(n,t){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends P.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class II{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_r.UNAUTHENTICATED))}shutdown(){}}class F1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class L1{constructor(t){this.t=t,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,Te.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt("string"==typeof i.accessToken),new II(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Mt(null===t||"string"==typeof t),new _r(t)}}class V1{constructor(t,e,i){this.type="FirstParty",this.user=_r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class SI{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new V1(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B1{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mt("string"==typeof e.token),this.p=e.token,new xI(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ts{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function DI(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}ts.A=-1;class AI{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=DI(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Vt(n,t){return n<t?-1:n>t?1:0}function rd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function _y(n){return n+"\0"}class Kn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Kn.fromMillis(Date.now())}static fromDate(t){return Kn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Kn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new Kn(0,0))}static max(){return new St(new Kn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function MI(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Wu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class dg{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===dg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof dg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class sn extends dg{construct(t,e,i){return new sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new sn(e)}static emptyPath(){return new sn([])}}const LO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends dg{construct(t,e,i){return new nr(t,e,i)}static isValidIdentifier(t){return LO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Oe(ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Oe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Oe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Oe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nr(e)}static emptyPath(){return new nr([])}}class sd{constructor(t){this.fields=t,t.sort(nr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class $i{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new $i(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new $i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const H1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function od(n){if(Mt(!!n),"string"==typeof n){let t=0;const e=H1.exec(n);if(Mt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hi(n.seconds),nanos:hi(n.nanos)}}function hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yh(n){return"string"==typeof n?$i.fromBase64String(n):$i.fromUint8Array(n)}function kI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function j1(n){const t=n.mapValue.fields.__previous_value__;return kI(t)?j1(t):t}function hg(n){const t=od(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(t.seconds,t.nanos)}class yy{constructor(t,e,i,r,o,u,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Rl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}function fg(n){return null==n}function Qh(n){return 0===n&&1/n==-1/0}function Zu(n){return"number"==typeof n&&Number.isInteger(n)&&!Qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(sn.fromString(t))}static fromName(t){return new $e(sn.fromString(t).popFirst(5))}static empty(){return new $e(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new sn(t.slice()))}}const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jh={nullValue:"NULL_VALUE"};function ad(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kI(n)?4:zb(n)?9007199254740991:10:ut()}function So(n,t){if(n===t)return!0;const e=ad(n);if(e!==ad(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hg(n).isEqual(hg(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=od(i.timestampValue),u=od(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Yh(n.bytesValue).isEqual(Yh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return hi(i.geoPointValue.latitude)===hi(r.geoPointValue.latitude)&&hi(i.geoPointValue.longitude)===hi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return hi(i.integerValue)===hi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=hi(i.doubleValue),u=hi(r.doubleValue);return o===u?Qh(o)===Qh(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return rd(n.arrayValue.values||[],t.arrayValue.values||[],So);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(MI(o)!==MI(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!So(o[h],u[h])))return!1;return!0}(n,t);default:return ut()}var r}function ld(n,t){return void 0!==(n.values||[]).find(e=>So(e,t))}function pa(n,t){if(n===t)return 0;const e=ad(n),i=ad(t);if(e!==i)return Vt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=hi(r.integerValue||r.doubleValue),h=hi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return z1(n.timestampValue,t.timestampValue);case 4:return z1(hg(n),hg(t));case 5:return Vt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Yh(r),h=Yh(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=Vt(u[p],h[p]);if(0!==y)return y}return Vt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Vt(hi(r.latitude),hi(o.latitude));return 0!==u?u:Vt(hi(r.longitude),hi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=pa(u[p],h[p]);if(y)return y}return Vt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===$a.mapValue&&o===$a.mapValue)return 0;if(r===$a.mapValue)return 1;if(o===$a.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const I=Vt(h[E],y[E]);if(0!==I)return I;const M=pa(u[h[E]],p[y[E]]);if(0!==M)return M}return Vt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw ut()}}function z1(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Vt(n,t);const e=od(n),i=od(t),r=Vt(e.seconds,i.seconds);return 0!==r?r:Vt(e.nanos,i.nanos)}function pg(n){return RI(n)}function RI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=od(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yh(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=RI(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${RI(i.fields[h])}`;return o+"}"}(n.mapValue):ut();var t}function Xh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function vy(n){return!!n&&"integerValue"in n}function gg(n){return!!n&&"arrayValue"in n}function OI(n){return!!n&&"nullValue"in n}function NI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wy(n){return!!n&&"mapValue"in n}function ef(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Wu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ef(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ef(n.arrayValue.values[e]);return t}return Object.assign({},n)}function zb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function PI(n){return"nullValue"in n?Jh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xh(Rl.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function G1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xh(Rl.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$a:ut()}function FI(n,t){const e=pa(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Gb(n,t){const e=pa(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!wy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ef(e)}setAll(t){let e=nr.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=ef(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());wy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return So(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];wy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Wu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ir(ef(this.value))}}function $1(n){const t=[];return Wu(n.fields,(e,i)=>{const r=new nr([e]);if(wy(i)){const o=$1(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new sd(t)}class Sn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Sn(t,0,St.min(),St.min(),ir.empty(),0)}static newFoundDocument(t,e,i){return new Sn(t,1,e,St.min(),i,0)}static newNoDocument(t,e){return new Sn(t,2,e,St.min(),ir.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,St.min(),ir.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tf{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function $b(n){return n.fields.find(t=>2===t.kind)}function ud(n){return n.fields.filter(t=>2!==t.kind)}tf.UNKNOWN_ID=-1;class qb{constructor(t,e){this.fieldPath=t,this.kind=e}}class by{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new by(0,qa.min())}}function LI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new Kn(e+1,0):new Kn(e,i));return new qa(r,$e.empty(),t)}function q1(n){return new qa(n.readTime,n.key,-1)}class qa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new qa(St.min(),$e.empty(),-1)}static max(){return new qa(St.max(),$e.empty(),-1)}}function W1(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:Vt(n.largestBatchId,t.largestBatchId))}class Ii{constructor(t,e){this.comparator=t,this.root=e||Fr.EMPTY}insert(t,e){return new Ii(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(t){return new Ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wb(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wb(this.root,t,this.comparator,!0)}}class Wb{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:Fr.RED,this.left=null!=r?r:Fr.EMPTY,this.right=null!=o?o:Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Fr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Fr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(t){this.comparator=t,this.data=new Ii(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Z1(this.data.getIterator())}getIteratorFrom(t){return new Z1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof xn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new xn(this.comparator);return e.data=t,e}}class Z1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mg(n){return n.hasNext()?n.getNext():void 0}class VO{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.P=null}}function K1(n,t=null,e=[],i=[],r=null,o=null,u=null){return new VO(n,t,e,i,r,o,u)}function a(n){const t=Ze(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+pg(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),fg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>pg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>pg(i)).join(",")),t.P=e}return t.P}function c(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Me(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!So(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!$t(n.startAt,t.startAt)&&$t(n.endAt,t.endAt)}function d(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function f(n,t){return n.filters.filter(e=>e instanceof C&&e.field.isEqual(t))}function _(n,t,e){let i=Jh,r=!0;for(const o of f(n,t)){let u=Jh,h=!0;switch(o.op){case"<":case"<=":u=PI(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Jh}FI({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];FI({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function w(n,t,e){let i=$a,r=!0;for(const o of f(n,t)){let u=$a,h=!0;switch(o.op){case">=":case">":u=G1(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=$a}Gb({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Gb({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class C extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new T(t,e,i):"array-contains"===e?new j(t,i):"in"===e?new X(t,i):"not-in"===e?new be(t,i):"array-contains-any"===e?new Be(t,i):new C(t,e,i)}static V(t,e,i){return"in"===e?new A(t,i):new R(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(pa(e,this.value)):null!==e&&ad(this.value)===ad(e)&&this.v(pa(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class T extends C{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.v(e)}}class A extends C{constructor(t,e){super(t,"in",e),this.keys=B(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class R extends C{constructor(t,e){super(t,"not-in",e),this.keys=B(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function B(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class j extends C{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gg(e)&&ld(e.arrayValue,this.value)}}class X extends C{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ld(this.value.arrayValue,e)}}class be extends C{constructor(t,e){super(t,"not-in",e)}matches(t){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ld(this.value.arrayValue,e)}}class Be extends C{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ld(this.value.arrayValue,i))}}class Ue{constructor(t,e){this.position=t,this.inclusive=e}}class nt{constructor(t,e="asc"){this.field=t,this.dir=e}}function Me(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function yt(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?$e.comparator($e.fromName(u.referenceValue),e.key):pa(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function $t(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!So(n.position[e],t.position[e]))return!1;return!0}class qt{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function Cs(n,t,e,i,r,o,u,h){return new qt(n,t,e,i,r,o,u,h)}function xo(n){return new qt(n)}function _g(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yg(n){for(const t of n.filters)if(t.S())return t.field;return null}function vg(n){return null!==n.collectionGroup}function Ku(n){const t=Ze(n);if(null===t.D){t.D=[];const e=yg(t),i=_g(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new nt(e)),t.D.push(new nt(nr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new nt(nr.keyField(),o))}}}return t.D}function Es(n){const t=Ze(n);if(!t.C)if("F"===t.limitType)t.C=K1(t.path,t.collectionGroup,Ku(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Ku(t))e.push(new nt(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Ue(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ue(t.startAt.position,t.startAt.inclusive):null;t.C=K1(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function Cy(n,t,e){return new qt(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cd(n,t){return c(Es(n),Es(t))&&n.limitType===t.limitType}function Ey(n){return`${a(Es(n))}|lt:${n.limitType}`}function Y1(n){return`Query(target=${function l(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${pg(i.value)}`;var i}).join(", ")}]`),fg(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>pg(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>pg(e)).join(",")),`Target(${t})`}(Es(n))}; limitType=${n.limitType})`}function Q1(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=yt(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Ku(e),i)||e.endAt&&!function(r,o,u){const h=yt(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Ku(e),i)));var e,i}function BO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UO(n){return(t,e)=>{let i=!1;for(const r of Ku(n)){const o=$B(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function $B(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),p=u.data.field(r);return null!==h&&null!==p?pa(h,p):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function HO(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function jO(n){return{integerValue:""+n}}function zO(n,t){return Zu(t)?jO(t):HO(n,t)}class VI{constructor(){this._=void 0}}function qB(n,t,e){return n instanceof Ty?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof wg?$O(n,t):n instanceof bg?qO(n,t):function(i,r){const o=GO(i,r),u=WO(o)+WO(i.k);return vy(o)&&vy(i.k)?jO(u):HO(i.M,u)}(n,t)}function WB(n,t,e){return n instanceof wg?$O(n,t):n instanceof bg?qO(n,t):e}function GO(n,t){return n instanceof Iy?vy(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ty extends VI{}class wg extends VI{constructor(t){super(),this.elements=t}}function $O(n,t){const e=ZO(t);for(const i of n.elements)e.some(r=>So(r,i))||e.push(i);return{arrayValue:{values:e}}}class bg extends VI{constructor(t){super(),this.elements=t}}function qO(n,t){let e=ZO(t);for(const i of n.elements)e=e.filter(r=>!So(r,i));return{arrayValue:{values:e}}}class Iy extends VI{constructor(t,e){super(),this.M=t,this.k=e}}function WO(n){return hi(n.integerValue||n.doubleValue)}function ZO(n){return gg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kb{constructor(t,e){this.field=t,this.transform=e}}class KB{constructor(t,e){this.version=t,this.transformResults=e}}class rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function BI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class UI{}function YB(n,t,e){n instanceof Yb?function(i,r,o){const u=i.value.clone(),h=JO(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Cg?function(i,r,o){if(!BI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=JO(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(QO(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function J1(n,t,e){var r;n instanceof Yb?function(i,r,o){if(!BI(i.precondition,r))return;const u=i.value.clone(),h=XO(i.fieldTransforms,o,r);u.setAll(h),r.convertToFoundDocument(YO(r),u).setHasLocalMutations()}(n,t,e):n instanceof Cg?function(i,r,o){if(!BI(i.precondition,r))return;const u=XO(i.fieldTransforms,o,r),h=r.data;h.setAll(QO(i)),h.setAll(u),r.convertToFoundDocument(YO(r),h).setHasLocalMutations()}(n,t,e):BI(n.precondition,r=t)&&r.convertToNoDocument(St.min())}function QB(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=GO(i.transform,r||null);null!=o&&(null==e&&(e=ir.empty()),e.set(i.field,o))}return e||null}function KO(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&rd(e,i,(r,o)=>function ZB(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof wg&&i instanceof wg||e instanceof bg&&i instanceof bg?rd(e.elements,i.elements,So):e instanceof Iy&&i instanceof Iy?So(e.k,i.k):e instanceof Ty&&i instanceof Ty);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function YO(n){return n.isFoundDocument()?n.version:St.min()}class Yb extends UI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Cg extends UI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function QO(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function JO(n,t,e){const i=new Map;Mt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,WB(u,h,e[r]))}return i}function XO(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,qB(o,u,t))}return i}class Qb extends UI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class X1 extends UI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class JB{constructor(t){this.count=t}}var sr,un;function eN(n){switch(n){default:return ut();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function tN(n){if(void 0===n)return di("GRPC error has no .code"),ce.UNKNOWN;switch(n){case sr.OK:return ce.OK;case sr.CANCELLED:return ce.CANCELLED;case sr.UNKNOWN:return ce.UNKNOWN;case sr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sr.INTERNAL:return ce.INTERNAL;case sr.UNAVAILABLE:return ce.UNAVAILABLE;case sr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sr.NOT_FOUND:return ce.NOT_FOUND;case sr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sr.ABORTED:return ce.ABORTED;case sr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sr.DATA_LOSS:return ce.DATA_LOSS;default:return ut()}}(un=sr||(sr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class nf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Wu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return jb(this.inner)}size(){return this.innerSize}}const XB=new Ii($e.comparator);function Wa(){return XB}const eU=new Ii($e.comparator);function eA(...n){let t=eU;for(const e of n)t=t.insert(e.key,e);return t}function Jb(){return new nf(n=>n.toString(),(n,t)=>n.isEqual(t))}const tU=new Ii($e.comparator),nU=new xn($e.comparator);function wn(...n){let t=nU;for(const e of n)t=t.add(e);return t}const iU=new xn(Vt);function HI(){return iU}class Xb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,eC.createSynthesizedTargetChangeForCurrentChange(t,e)),new Xb(St.min(),i,HI(),Wa(),wn())}}class eC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new eC($i.EMPTY_BYTE_STRING,e,wn(),wn(),wn())}}class jI{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class nN{constructor(t,e){this.targetId=t,this.$=e}}class iN{constructor(t,e,i=$i.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class rN{constructor(){this.B=0,this.L=oN(),this.U=$i.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=wn(),e=wn(),i=wn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new eC(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=oN()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class rU{constructor(t){this.nt=t,this.st=new Map,this.it=Wa(),this.rt=sN(),this.ot=new xn(Vt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(d(o))if(0===i){const u=new $e(o.path);this.ct(e,u,Sn.newNoDocument(u,St.min()))}else Mt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&d(h.target)){const p=new $e(h.target.path);null!==this.it.get(p)||this.It(u,p)||this.ct(u,p,Sn.newNoDocument(p,t))}o.j&&(e.set(u,o.H()),o.J())}});let i=wn();this.rt.forEach((o,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.wt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,u)=>u.setReadTime(t));const r=new Xb(t,e,this.ot,this.it,i);return this.it=Wa(),this.rt=sN(),this.ot=new xn(Vt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new rN,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new xn(Vt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new rN),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function sN(){return new Ii($e.comparator)}function oN(){return new Ii($e.comparator)}const sU={asc:"ASCENDING",desc:"DESCENDING"},oU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aU{constructor(t,e){this.databaseId=t,this.N=e}}function tC(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aN(n,t){return n.N?t.toBase64():t.toUint8Array()}function lU(n,t){return tC(n,t.toTimestamp())}function Lr(n){return Mt(!!n),St.fromTimestamp(function(t){const e=od(t);return new Kn(e.seconds,e.nanos)}(n))}function tA(n,t){return(e=n,new sn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function lN(n){const t=sn.fromString(n);return Mt(_N(t)),t}function nC(n,t){return tA(n.databaseId,t.path)}function Yu(n,t){const e=lN(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(cN(e))}function nA(n,t){return tA(n.databaseId,t)}function uN(n){const t=lN(n);return 4===t.length?sn.emptyPath():cN(t)}function iC(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cN(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dN(n,t,e){return{name:nC(n,t),fields:e.value.mapValue.fields}}function hN(n,t,e){const i=Yu(n,t.name),r=Lr(t.updateTime),o=new ir({mapValue:{fields:t.fields}}),u=Sn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function rC(n,t){let e;if(t instanceof Yb)e={update:dN(n,t.key,t.value)};else if(t instanceof Qb)e={delete:nC(n,t.key)};else if(t instanceof Cg)e={update:dN(n,t.key,t.data),updateMask:_U(t.fieldMask)};else{if(!(t instanceof X1))return ut();e={verify:nC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Ty)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Iy)return{fieldPath:o.field.canonicalString(),increment:u.k};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:lU(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function iA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?rr.updateTime(Lr(r.updateTime)):void 0!==r.exists?rr.exists(r.exists):rr.none():rr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Mt("REQUEST_TIME"===u.setToServerValue),h=new Ty):"appendMissingElements"in u?h=new wg(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new bg(u.removeAllFromArray.values||[]):"increment"in u?h=new Iy(o,u.increment):ut();const p=nr.fromServerFormat(u.fieldPath);return new Kb(p,h)}(n,r)):[];var r;if(t.update){const r=Yu(n,t.update.name),o=new ir({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new sd((t.updateMask.fieldPaths||[]).map(y=>nr.fromServerFormat(y)));return new Cg(r,o,u,e,i)}return new Yb(r,o,e,i)}if(t.delete){const r=Yu(n,t.delete);return new Qb(r,e)}if(t.verify){const r=Yu(n,t.verify);return new X1(r,e)}return ut()}function fN(n,t){return{documents:[nA(n,t.path)]}}function pN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=nA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=nA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(E=>function(I){if("=="===I.op){if(NI(I.value))return{unaryFilter:{field:Sy(I.field),op:"IS_NAN"}};if(OI(I.value))return{unaryFilter:{field:Sy(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(NI(I.value))return{unaryFilter:{field:Sy(I.field),op:"IS_NOT_NAN"}};if(OI(I.value))return{unaryFilter:{field:Sy(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sy(I.field),op:pU(I.op),value:I.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:Sy((E=y).field),direction:fU(E.dir)};var E})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(y=t.limit,n.N||fg(y)?y:{value:y});var y,h,p;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function gN(n){let t=uN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Mt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let o=[];e.where&&(o=mN(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new nt(xy((I=E).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(E){let I;return I="object"==typeof E?E.value:E,fg(I)?null:I}(e.limit));let p=null;var E;e.startAt&&(p=new Ue((E=e.startAt).values||[],!!E.before));let y=null;return e.endAt&&(y=function(E){return new Ue(E.values||[],!E.before)}(e.endAt)),Cs(t,r,u,o,h,"F",p,y)}function mN(n){return n?void 0!==n.unaryFilter?[mU(n)]:void 0!==n.fieldFilter?[gU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>mN(t)).reduce((t,e)=>t.concat(e)):ut():[]}function fU(n){return sU[n]}function pU(n){return oU[n]}function Sy(n){return{fieldPath:n.canonicalString()}}function xy(n){return nr.fromServerFormat(n.fieldPath)}function gU(n){return C.create(xy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function mU(n){switch(n.unaryFilter.op){case"IS_NAN":const t=xy(n.unaryFilter.field);return C.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=xy(n.unaryFilter.field);return C.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xy(n.unaryFilter.field);return C.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=xy(n.unaryFilter.field);return C.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function _U(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _N(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ks(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=yN(t)),t=yU(n.get(e),t);return yN(t)}function yU(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function yN(n){return n+"\x01\x01"}function Qu(n){const t=n.length;if(Mt(t>=2),2===t)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ut(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ut()}o=u+2}return new sn(i)}const vN=["userId","batchId"];function zI(n,t){return[n,Ks(t)]}function wN(n,t,e){return[n,Ks(t),e]}const vU={},wU=["prefixPath","collectionGroup","readTime","documentId"],bU=["prefixPath","collectionGroup","documentId"],CU=["collectionGroup","readTime","prefixPath","documentId"],EU=["canonicalId","targetId"],TU=["targetId","path"],IU=["path","targetId"],SU=["collectionId","parent"],xU=["indexId","uid"],DU=["uid","sequenceNumber"],AU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MU=["indexId","uid","orderedDocumentKey"],kU=["userId","collectionPath","documentId"],RU=["userId","collectionPath","largestBatchId"],OU=["userId","collectionGroup","largestBatchId"],bN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NU=[...bN,"documentOverlays"],CN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],PU=[...CN,"indexConfiguration","indexState","indexEntries"],EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,i)=>{e(t)})}static reject(t){return new me((e,i)=>{i(t)})}static waitFor(t){return new me((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},p=>i(p))}),u=!0,o===r&&e()})}static or(t){let e=me.resolve(!1);for(const i of t)e=e.next(r=>r?me.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class GI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Gi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new sC(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=rA(i.target.error);this.At.reject(new sC(t,r))}}static open(t,e,i,r){try{return new GI(e,t.transaction(r,i))}catch(o){throw new sC(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new LU(e)}}class Ol{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Ol.Vt((0,P.z$)())&&di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),Tg(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,P.hl)())return!1;if(Ol.St())return!0;const t=(0,P.z$)(),e=Ol.Vt(t),i=0<e&&e<10,r=Ol.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Te.Z)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new sC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Oe(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Oe(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new sC(t,h))},o.onupgradeneeded=u=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Pt.kt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Te.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const p=GI.open(o.db,t,u?"readonly":"readwrite",i),y=r(p).next(E=>(p.bt(),E)).catch(E=>(p.abort(E),me.reject(E))).toPromise();return y.catch(()=>{}),yield p.Rt,y}catch(p){const y="FirebaseError"!==p.name&&h<3;if(Ve("SimpleDb","Transaction failed with error:",p.message,"Retrying:",y),o.close(),!y)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class FU{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Tg(this.Ft.delete())}}class sC extends Oe{constructor(t,e){super(ce.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Eg(n){return"IndexedDbTransactionError"===n.name}class LU{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Tg(i)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),Tg(this.store.add(t))}get(t){return Tg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),Tg(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),Tg(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new me((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new me((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,u,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new me((i,r)=>{e.onerror=o=>{const u=rA(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new me((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const p=new FU(h),y=e(h.primaryKey,h.value,p);if(y instanceof me){const E=y.catch(I=>(p.done(),me.reject(I)));i.push(E)}p.isDone?r():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Tg(n){return new me((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=rA(i.target.error);e(r)}})}let IN=!1;function rA(n){const t=Ol.Vt((0,P.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IN||(IN=!0,setTimeout(()=>{throw i},0)),i}}return n}class SN extends TN{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Vr(n,t){const e=Ze(n);return Ol.xt(e.Ht,t)}class sA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&YB(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&J1(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&J1(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),wn())}isEqual(t){return this.batchId===t.batchId&&rd(this.mutations,t.mutations,(e,i)=>KO(e,i))&&rd(this.baseMutations,t.baseMutations,(e,i)=>KO(e,i))}}class oA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Mt(t.mutations.length===i.length);let r=tU;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new oA(t,e,i,r)}}class aA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rf{constructor(t,e,i,r,o=St.min(),u=St.min(),h=$i.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new rf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new rf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class xN{constructor(t){this.Jt=t}}function DN(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:$I(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:nC(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:tC(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ig(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:Ig(t.version)}}var r,o;return i}function $I(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ig(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sg(n){const t=new Kn(n.seconds,n.nanoseconds);return St.fromTimestamp(t)}function Dy(n,t){const e=(t.baseMutations||[]).map(o=>iA(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>iA(n.Jt,o)),r=Kn.fromMillis(t.localWriteTimeMs);return new sA(t.batchId,r,e,i)}function oC(n){const t=Sg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Sg(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Mt(1===(r=n.query).documents.length),i=Es(xo(uN(r.documents[0])))):i=Es(gN(n.query)),new rf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,$i.fromBase64String(n.resumeToken))}function AN(n,t){const e=Ig(t.snapshotVersion),i=Ig(t.lastLimboFreeSnapshotVersion);let r;r=d(t.target)?fN(n.Jt,t.target):pN(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:a(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function lA(n){const t=gN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Cy(t,t.limit,"L"):t}function uA(n,t){return new aA(t.largestBatchId,iA(n.Jt,t.overlayMutation))}function MN(n,t){const e=t.path.lastSegment();return[n,Ks(t.path.popLast()),e]}class BU{getBundleMetadata(t,e){return kN(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return kN(t).put({bundleId:(i=e).id,createTime:Ig(Lr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return RN(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:lA(r.bundledQuery),readTime:Sg(r.readTime)};var r})}saveNamedQuery(t,e){return RN(t).put({name:(i=e).name,readTime:Ig(Lr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function kN(n){return Vr(n,"bundles")}function RN(n){return Vr(n,"namedQueries")}class cA{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new cA(t,e.uid||"")}getOverlay(t,e){return aC(t).get(MN(this.userId,e)).next(i=>i?uA(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new aA(e,u);r.push(this.Xt(t,h))}),me.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Ks(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(aC(t).Qt("collectionPathOverlayIndex",h))}),me.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Jb(),o=Ks(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return aC(t).qt("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=uA(this.M,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Jb();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return aC(t).Wt({index:"collectionGroupOverlayIndex",range:h},(p,y,E)=>{const I=uA(this.M,y);o.size()<r||I.largestBatchId===u?(o.set(I.getKey(),I),u=I.largestBatchId):E.done()}).next(()=>o)}Xt(t,e){return aC(t).put(function(i,r,o){const[u,h,p]=MN(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:rC(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function aC(n){return Vr(n,"documentOverlays")}class xg{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(hi(t.integerValue));else if("doubleValue"in t){const i=hi(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Qh(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Yh(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?zb(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ut()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),$e.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function UU(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function ON(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=UU(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}xg.fe=new xg;class HU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=ON(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=ON(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class jU{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class zU{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class lC{constructor(){this.De=new HU,this.Ce=new jU(this.De),this.xe=new zU(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Dg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Dg(this.indexId,this.documentKey,this.arrayValue,i)}}function Ag(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=NN(n.arrayValue,t.arrayValue),0!==e?e:(e=NN(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function NN(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class GU{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=$b(t);if(void 0!==e&&!this.Be(e))return!1;const i=ud(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class $U{constructor(){this.qe=new dA}addToCollectionParentIndex(t,e){return this.qe.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(qa.min())}updateCollectionGroup(t,e,i){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class dA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new xn(sn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new xn(sn.comparator)).toArray()}}const qI=new Uint8Array(0);class qU{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new dA,this.Ge=new nf(i=>a(i),(i,r)=>c(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const o={collectionId:i,parent:Ks(r)};return PN(t).put(o)}return me.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[_y(e),""],!1,!0);return PN(t).qt(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Qu(u.parent))}return i})}addFieldIndex(t,e){const i=WI(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=WI(t),r=ZI(t),o=uC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=uC(t);let r=!0;const o=new Map;return me.forEach(this.Qe(e),u=>this.je(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=wn();const h=[];return me.forEach(o,(p,y)=>{var E;Ve("IndexedDbIndexManager",`Using index ${E=p,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${a(e)}`);const I=function(it,rt){const At=$b(rt);if(void 0===At)return null;for(const Rt of f(it,At.fieldPath))switch(Rt.op){case"array-contains-any":return Rt.value.arrayValue.values||[];case"array-contains":return[Rt.value]}return null}(y,p),M=function(it,rt){const At=new Map;for(const Rt of ud(rt))for(const nn of f(it,Rt.fieldPath))switch(nn.op){case"==":case"in":At.set(Rt.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return At.set(Rt.fieldPath.canonicalString(),nn.value),Array.from(At.values())}return null}(y,p),N=function(it,rt){const At=[];let Rt=!0;for(const nn of ud(rt)){const Qn=0===nn.kind?_(it,nn.fieldPath,it.startAt):w(it,nn.fieldPath,it.startAt);At.push(Qn.value),Rt&&(Rt=Qn.inclusive)}return new Ue(At,Rt)}(y,p),V=function(it,rt){const At=[];let Rt=!0;for(const nn of ud(rt)){const Qn=0===nn.kind?w(it,nn.fieldPath,it.endAt):_(it,nn.fieldPath,it.endAt);At.push(Qn.value),Rt&&(Rt=Qn.inclusive)}return new Ue(At,Rt)}(y,p),Q=this.We(p,y,N),ye=this.We(p,y,V),je=this.ze(p,y,M),Je=this.He(p.indexId,I,Q,N.inclusive,ye,V.inclusive,je);return me.forEach(Je,it=>i.Gt(it,e.limit).next(rt=>{rt.forEach(At=>{const Rt=$e.fromSegments(At.documentKey);u.has(Rt)||(u=u.add(Rt),h.push(Rt))})}))}).next(()=>h)}return me.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,o,u,h){const p=(null!=e?e.length:1)*Math.max(i.length,o.length),y=p/(null!=e?e.length:1),E=[];for(let I=0;I<p;++I){const M=e?this.Je(e[I/y]):qI,N=this.Ye(t,M,i[I%y],r),V=this.Xe(t,M,o[I%y],u),Q=h.map(ye=>this.Ye(t,M,ye,!0));E.push(...this.createRange(N,V,Q))}return E}Ye(t,e,i,r){const o=new Dg(t,$e.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new Dg(t,$e.empty(),e,i);return r?o.ke():o}je(t,e){const i=new GU(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.$e(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new xn(nr.comparator),p=!1;for(const y of u.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?p=!0:h=h.add(E.field))}for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new lC;for(const r of ud(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Ne(r.kind);xg.fe.Zt(o,u)}return i.Se()}Je(t){const e=new lC;return xg.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new lC;return xg.fe.Zt(Xh(this.databaseId,e),i.Ne(function(r){const o=ud(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new lC);let o=0;for(const u of ud(t)){const h=i[o++];for(const p of r)if(this.en(e,u.fieldPath)&&gg(h))r=this.nn(r,u,h);else{const y=p.Ne(u.kind);xg.fe.Zt(h,y)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const p=new lC;p.seed(h.Se()),xg.fe.Zt(u,p.Ne(e.kind)),o.push(p)}return o}en(t,e){return!!t.filters.find(i=>i instanceof C&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=WI(t),r=ZI(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const u=[];return me.forEach(o,h=>r.get([h.indexId,this.uid]).next(p=>{u.push(function(y,E){const I=E?new by(E.sequenceNumber,new qa(Sg(E.readTime),new $e(Qu(E.documentKey)),E.largestBatchId)):by.empty(),M=y.fields.map(([N,V])=>new qb(nr.fromServerFormat(N),V));return new tf(y.indexId,y.collectionGroup,M,I)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Vt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=WI(t),o=ZI(t);return this.rn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>me.forEach(h,p=>{return o.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Ig((M=i).readTime),documentKey:Ks(M.documentKey.path),largestBatchId:M.largestBatchId});var M})))}updateIndexEntries(t,e){const i=new Map;return me.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?me.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),me.forEach(h,p=>this.on(t,r,p).next(y=>{const E=this.un(o,p);return y.isEqual(E)?me.resolve():this.an(t,o,p,y,E)}))))})}cn(t,e,i,r){return uC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return uC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=uC(t);let o=new xn(Ag);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(u,h)=>{o=o.add(new Dg(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}un(t,e){let i=new xn(Ag);const r=this.Ze(e,t);if(null==r)return i;const o=$b(e);if(null!=o){const u=t.data.field(o.fieldPath);if(gg(u))for(const h of u.arrayValue.values||[])i=i.add(new Dg(e.indexId,t.key,this.Je(h),r))}else i=i.add(new Dg(e.indexId,t.key,qI,r));return i}an(t,e,i,r,o){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,p,y,E,I){const M=h.getIterator(),N=p.getIterator();let V=mg(M),Q=mg(N);for(;V||Q;){let ye=!1,je=!1;if(V&&Q){const Je=y(V,Q);Je<0?je=!0:Je>0&&(ye=!0)}else null!=V?je=!0:ye=!0;ye?(E(Q),Q=mg(N)):je?(I(V),V=mg(M)):(V=mg(M),Q=mg(N))}}(r,o,Ag,h=>{u.push(this.cn(t,e,i,h))},h=>{u.push(this.hn(t,e,i,h))}),me.waitFor(u)}rn(t){let e=1;return ZI(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Ag(u,h)).filter((u,h,p)=>!h||0!==Ag(u,p[h-1]));const r=[];r.push(t);for(const u of i){const h=Ag(u,t),p=Ag(u,e);if(0===h)r[0]=t.ke();else if(h>0&&p<0)r.push(u),r.push(u.ke());else if(p>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,qI,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,qI,[]]));return o}getMinOffset(t,e){let i;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?(!i||W1(o.indexState.offset,i)<0)&&(i=o.indexState.offset):i=qa.min()})).next(()=>i)}}function PN(n){return Vr(n,"collectionParents")}function uC(n){return Vr(n,"indexEntries")}function WI(n){return Vr(n,"indexConfiguration")}function ZI(n){return Vr(n,"indexState")}const FN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Do(t,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function LN(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const p=i.Wt({range:u},(E,I,M)=>(h++,M.delete()));o.push(p.next(()=>{Mt(1===h)}));const y=[];for(const E of e.mutations){const I=wN(t,E.key.path,e.batchId);o.push(r.delete(I)),y.push(E.key)}return me.waitFor(o).next(()=>y)}function KI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class hA{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Mt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new hA(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sf(t).Wt({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Ay(t),u=sf(t);return u.add({}).next(h=>{Mt("number"==typeof h);const p=new sA(h,e,i,r),y=function(M,N,V){const Q=V.baseMutations.map(je=>rC(M.Jt,je)),ye=V.mutations.map(je=>rC(M.Jt,je));return{userId:N,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:Q,mutations:ye}}(this.M,this.userId,p),E=[];let I=new xn((M,N)=>Vt(M.canonicalString(),N.canonicalString()));for(const M of r){const N=wN(this.userId,M.key.path,h);I=I.add(M.key.path.popLast()),E.push(u.put(y)),E.push(o.put(N,vU))}return I.forEach(M=>{E.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.ln[h]=p.keys()}),me.waitFor(E).next(()=>p)})}lookupMutationBatch(t,e){return sf(t).get(e).next(i=>i?(Mt(i.userId===this.userId),Dy(this.M,i)):null)}fn(t,e){return this.ln[e]?me.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return sf(t).Wt({index:"userMutationsIndex",range:r},(u,h,p)=>{h.userId===this.userId&&(Mt(h.batchId>=i),o=Dy(this.M,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return sf(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sf(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Dy(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=zI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Ay(t).Wt({range:r},(u,h,p)=>{const[y,E,I]=u,M=Qu(E);if(y===this.userId&&e.path.isEqual(M))return sf(t).get(I).next(N=>{if(!N)throw ut();Mt(N.userId===this.userId),o.push(Dy(this.M,N))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xn(Vt);const r=[];return e.forEach(o=>{const u=zI(this.userId,o.path),h=IDBKeyRange.lowerBound(u),p=Ay(t).Wt({range:h},(y,E,I)=>{const[M,N,V]=y,Q=Qu(N);M===this.userId&&o.path.isEqual(Q)?i=i.add(V):I.done()});r.push(p)}),me.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=zI(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new xn(Vt);return Ay(t).Wt({range:u},(p,y,E)=>{const[I,M,N]=p,V=Qu(M);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(N)):E.done()}).next(()=>this.dn(t,h))}dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(sf(t).get(o).next(u=>{if(null===u)throw ut();Mt(u.userId===this.userId),i.push(Dy(this.M,u))}))}),me.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return LN(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),me.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ay(t).Wt({range:i},(o,u,h)=>{if(o[0]===this.userId){const p=Qu(o[1]);r.push(p)}else h.done()}).next(()=>{Mt(0===r.length)})})}containsKey(t,e){return VN(t,this.userId,e)}wn(t){return BN(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function VN(n,t,e){const i=zI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Ay(n).Wt({range:o,jt:!0},(h,p,y)=>{const[E,I,M]=h;E===t&&I===r&&(u=!0),y.done()}).next(()=>u)}function sf(n){return Vr(n,"mutations")}function Ay(n){return Vr(n,"documentMutations")}function BN(n){return Vr(n,"mutationQueues")}class Mg{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new Mg(0)}static yn(){return new Mg(-1)}}class WU{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new Mg(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>St.fromTimestamp(new Kn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>My(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Mt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return My(t).Wt((u,h)=>{const p=oC(h);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>me.waitFor(o)).next(()=>r)}forEachTarget(t,e){return My(t).Wt((i,r)=>{const o=oC(r);e(o)})}pn(t){return UN(t).get("targetGlobalKey").next(e=>(Mt(null!==e),e))}In(t,e){return UN(t).put("targetGlobalKey",e)}Tn(t,e){return My(t).put(AN(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=a(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return My(t).Wt({range:r,index:"queryTargetsIndex"},(u,h,p)=>{const y=oC(h);c(e,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=of(t);return e.forEach(u=>{const h=Ks(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),me.waitFor(r)}removeMatchingKeys(t,e,i){const r=of(t);return me.forEach(e,o=>{const u=Ks(o.path);return me.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=of(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=of(t);let o=wn();return r.Wt({range:i,jt:!0},(u,h,p)=>{const y=Qu(u[1]),E=new $e(y);o=o.add(E)}).next(()=>o)}containsKey(t,e){const i=Ks(e.path),r=IDBKeyRange.bound([i],[_y(i)],!1,!0);let o=0;return of(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],p,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}Et(t,e){return My(t).get(e).next(i=>i?oC(i):null)}}function My(n){return Vr(n,"targets")}function UN(n){return Vr(n,"targetGlobal")}function of(n){return Vr(n,"targetDocuments")}function kg(n){return fA.apply(this,arguments)}function fA(){return fA=(0,Te.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==EN)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),fA.apply(this,arguments)}function HN([n,t],[e,i]){const r=Vt(n,e);return 0===r?Vt(t,i):r}class ZU{constructor(t){this.An=t,this.buffer=new xn(HN),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();HN(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class KU{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Te.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Eg(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield kg(r)}yield e.Sn(t)}))}}class YU{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return me.resolve(ts.A);const i=new ZU(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(FN)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FN):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,o,u,h,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),Ub()<=zs.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(y-p)+`ms\nTotal Duration: ${y-E}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class QU{constructor(t,e){this.db=t,this.garbageCollector=new YU(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return YI(t,i)}removeReference(t,e,i){return YI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return YI(t,e)}On(t,e){return function(i,r){let o=!1;return BN(i).zt(u=>VN(i,u,r).next(h=>(h&&(o=!0),me.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Mn(t,(u,h)=>{if(h<=e){const p=this.On(t,u).next(y=>{if(!y)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,St.min()),of(t).delete([0,Ks(u.path)])))});r.push(p)}}).next(()=>me.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return YI(t,e)}Mn(t,e){const i=of(t);let r,o=ts.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(o!==ts.A&&e(new $e(Qu(r)),o),o=y,r=p):o=ts.A}).next(()=>{o!==ts.A&&e(new $e(Qu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function YI(n,t){return of(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ks(t.path),sequenceNumber:i}));var i}class jN{constructor(){this.changes=new nf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?me.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JU{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Rg(t).put(i)}removeEntry(t,e,i){return Rg(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],$I(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Sn.newInvalidDocument(e);return Rg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(cC(e))},(r,o)=>{i=this.$n(e,o)}).next(()=>i)}Bn(t,e){let i={size:0,document:Sn.newInvalidDocument(e)};return Rg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(cC(e))},(r,o)=>{i={document:this.$n(e,o),size:KI(o)}}).next(()=>i)}getEntries(t,e){let i=Wa();return this.Ln(t,e,(r,o)=>{const u=this.$n(r,o);i=i.insert(r,u)}).next(()=>i)}Un(t,e){let i=Wa(),r=new Ii($e.comparator);return this.Ln(t,e,(o,u)=>{const h=this.$n(o,u);i=i.insert(o,h),r=r.insert(o,KI(u))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return me.resolve();let r=new xn($N);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(cC(r.first()),cC(r.last())),u=r.getIterator();let h=u.getNext();return Rg(t).Wt({index:"documentKeyIndex",range:o},(p,y,E)=>{const I=$e.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&$N(h,I)<0;)i(h,null),h=u.getNext();h&&h.isEqual(I)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?E.Ut(cC(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),$I(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rg(t).qt(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=Wa();for(const p of u){const y=this.$n($e.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Wa();const u=GN(e,i),h=GN(e,qa.max());return Rg(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,y,E)=>{const I=this.$n($e.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(I.key,I),o.size===r&&E.done()}).next(()=>o)}newChangeBuffer(t){return new XU(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return zN(t).get("remoteDocumentGlobalKey").next(e=>(Mt(!!e),e))}Fn(t,e){return zN(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function VU(n,t){let e;if(t.document)e=hN(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=Sg(t.noDocument.readTime);e=Sn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=$e.fromSegments(t.unknownDocument.path),r=Sg(t.unknownDocument.version);e=Sn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Kn(i[0],i[1]);return St.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Sn.newInvalidDocument(t)}}class XU extends jN{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new nf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new xn((o,u)=>Vt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Gn.get(o);if(e.push(this.Kn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const p=DN(this.Kn.M,u);r=r.add(o.path.popLast()),i+=KI(p)-h.size,e.push(this.Kn.addEntry(t,o,p))}else if(i-=h.size,this.trackRemovals){const p=DN(this.Kn.M,u.convertToNoDocument(St.min()));e.push(this.Kn.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Kn.updateMetadata(t,i)),me.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((o,u)=>{this.Gn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function zN(n){return Vr(n,"remoteDocumentGlobal")}function Rg(n){return Vr(n,"remoteDocumentsV14")}function cC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function GN(n,t){const e=t.documentKey.path.toArray();return[n,$I(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function $N(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Vt(e[o],i[o]),r)return r;return r=Vt(e.length,i.length),r||(r=Vt(e[e.length-2],i[i.length-2]),r||Vt(e[e.length-1],i[i.length-1]))}class eH{constructor(t){this.M=t}kt(t,e,i,r){const o=new GI("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vN,{unique:!0}),h.createObjectStore("documentMutations"),qN(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=me.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),qN(t)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,p){return p.store("mutations").qt().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vN,{unique:!0});const E=p.store("mutations"),I=y.map(M=>E.put(M));return me.waitFor(I)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(o)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(o))),i<8&&r>=8&&(u=u.next(()=>this.zn(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:kU});p.createIndex("collectionPathOverlayIndex",RU,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",OU,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:wU});p.createIndex("documentKeyIndex",bU),p.createIndex("collectionGroupIndex",CU)}(t)).next(()=>this.Jn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:xU}).createIndex("sequenceNumberIndex",DU,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:AU}).createIndex("documentKeyIndex",MU,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=KI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>me.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(h=>me.forEach(h,p=>{Mt(p.userId===o.userId);const y=Dy(this.M,p);return LN(t,o.userId,y).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((u,h)=>{const p=new sn(u),y=[0,Ks(p)];o.push(e.get(y).next(E=>E?me.resolve():e.put({targetId:0,path:Ks(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>me.waitFor(o))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:SU});const i=e.store("collectionParents"),r=new dA,o=u=>{if(r.add(u)){const h=u.lastSegment(),p=u.popLast();return i.put({collectionId:h,parent:Ks(p)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const p=new sn(u);return o(p.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,h,p],y)=>{const E=Qu(h);return o(E.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=oC(r),u=AN(this.M,o);return e.put(u)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,u)=>{const h=e.store("remoteDocumentsV14"),p=(y=u,y.document?new $e(sn.fromString(y.document.name).popFirst(5)):y.noDocument?$e.fromSegments(y.noDocument.path):y.unknownDocument?$e.fromSegments(y.unknownDocument.path):ut()).path.toArray();var y;const E={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>me.waitFor(r))}}function qN(n){n.createObjectStore("targetDocuments",{keyPath:TU}).createIndex("documentTargetsIndex",IU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EU,{unique:!0}),n.createObjectStore("targetGlobal")}const pA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gA{constructor(t,e,i,r,o,u,h,p,y,E,I=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=o,this.window=u,this.document=h,this.Xn=y,this.Zn=E,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=M=>Promise.resolve(),!gA.vt())throw new Oe(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QU(this,r),this.hs=e+"main",this.M=new xN(p),this.ls=new Ol(this.hs,this.ts,new eH(this.M)),this.fs=new WU(this.referenceDelegate,this.M),this.ds=new JU(this.M),this._s=new BU,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===E&&di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ce.FAILED_PRECONDITION,pA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new ts(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,Te.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,Te.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,Te.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>QI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(Eg(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return dC(t).get("owner").next(e=>me.resolve(this.Ps(e)))}Vs(t){return QI(t).delete(this.clientId)}vs(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vr(i,"clientMetadata");return r.qt().next(o=>{const u=t.Ds(o,18e5),h=o.filter(p=>-1===u.indexOf(p));return me.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?me.resolve(!0):dC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new Oe(ce.FAILED_PRECONDITION,pA);return!1}}return!(!this.networkEnabled||!this.inForeground)||QI(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new SN(e,ts.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>QI(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return hA.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new qU(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return cA.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Ve("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(u=this.ts)?PU:13===u?CN:12===u?NU:11===u?bN:void ut();var u;let h;return this.ls.runTransaction(t,r,o,p=>(h=new SN(p,this.es?this.es.next():ts.A),"readwrite-primary"===e?this.Es(h).next(y=>!!y||this.As(h)).next(y=>{if(!y)throw di(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Oe(ce.FAILED_PRECONDITION,EN);return i(h)}).next(y=>this.bs(h).next(()=>y)):this.$s(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}$s(t){return dC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(ce.FAILED_PRECONDITION,pA)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dC(t).put("owner",e)}static vt(){return Ol.vt()}Rs(t){const e=dC(t);return e.get("owner").next(i=>this.Ps(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(di(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,P.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return di("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){di("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function dC(n){return Vr(n,"owner")}function QI(n){return Vr(n,"clientMetadata")}function mA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class tH{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):vg(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new $e(e)).next(i=>{let r=eA();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let o=eA();return this.indexManager.getCollectionParents(t,r).next(u=>me.forEach(u,h=>{const p=(y=e,E=h.child(r),new qt(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.zs(t,p,i).next(y=>{y.forEach((E,I)=>{o=o.insert(E,I)})})}).next(()=>o))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const u of o)for(const h of u.mutations){const p=h.key;let y=r.get(p);null==y&&(y=Sn.newInvalidDocument(p),r=r.insert(p,y)),J1(h,y,u.localWriteTime),y.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((o,u)=>{Q1(e,u)||(r=r.remove(o))}),r))}}class _A{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=wn(),r=wn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new _A(t,e.fromCache,i,r)}}class WN{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(o=>o||this.ei(t,e,r,i)).next(o=>o||this.ni(t,e))}ti(t,e){return me.resolve(null)}ei(t,e,i,r){return function Zb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(St.min())?this.ni(t,e):this.Zs.Ks(t,i).next(o=>{const u=this.si(e,o);return this.ii(e,u,i,r)?this.ni(t,e):(Ub()<=zs.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Y1(e)),this.ri(t,u,e,LI(r,-1)))})}si(t,e){let i=new xn(UO(t));return e.forEach((r,o)=>{Q1(t,o)&&(i=i.add(o))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ni(t,e){return Ub()<=zs.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Y1(e)),this.Zs.Qs(t,e,qa.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class nH{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new Ii(Vt),this.ai=new nf(o=>a(o),c),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new tH(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function ZN(n,t,e,i){return new nH(n,t,e,i)}function KN(n,t){return yA.apply(this,arguments)}function yA(){return yA=(0,Te.Z)(function*(n,t){const e=Ze(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(o=>(r=o,e.li(t),e.Bs.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let p=wn();for(const y of r){u.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return e.fi.Ks(i,p).next(y=>({di:y,removedBatchIds:u,addedBatchIds:h}))})})}),yA.apply(this,arguments)}function iH(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.hi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const E=p.batch,I=E.keys();let M=me.resolve();return I.forEach(N=>{M=M.next(()=>y.getEntry(h,N)).next(V=>{const Q=p.docVersions.get(N);Mt(null!==Q),V.version.compareTo(Q)<0&&(E.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),M.next(()=>u.Bs.removeMutationBatch(h,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function YN(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function rH(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const h=[];t.targetChanges.forEach((y,E)=>{const I=r.get(E);if(!I)return;h.push(e.fs.removeMatchingKeys(o,y.removedDocuments,E).next(()=>e.fs.addMatchingKeys(o,y.addedDocuments,E)));let M=I.withSequenceNumber(o.currentSequenceNumber);var N,V,Q;t.targetMismatches.has(E)?M=M.withResumeToken($i.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(y.resumeToken,i)),r=r.insert(E,M),V=M,Q=y,(0===(N=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(o,M))});let p=Wa();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(QN(o,u,t.documentUpdates).next(y=>{p=y})),!i.isEqual(St.min())){const y=e.fs.getLastRemoteSnapshotVersion(o).next(E=>e.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return me.waitFor(h).next(()=>u.apply(o)).next(()=>e.fi.Gs(o,p)).next(()=>p)}).then(o=>(e.ui=r,o))}function QN(n,t,e){let i=wn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=Wa();return e.forEach((u,h)=>{const p=r.get(u);h.isNoDocument()&&h.version.isEqual(St.min())?(t.removeEntry(u,h.readTime),o=o.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),o=o.insert(u,h)):Ve("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),o})}function sH(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function ky(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(o=>o?(r=o,me.resolve(r)):e.fs.allocateTargetId(i).next(u=>(r=new rf(t,u,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function Ry(n,t,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Te.Z)(function*(n,t,e){const i=Ze(n),r=i.ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Eg(u))throw u;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),vA.apply(this,arguments)}function JI(n,t,e){const i=Ze(n);let r=St.min(),o=wn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const E=Ze(h),I=E.ai.get(y);return void 0!==I?me.resolve(E.ui.get(I)):E.fs.getTargetData(p,y)}(i,u,Es(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{o=p})}).next(()=>i.oi.Qs(u,t,e?r:St.min(),e?o:wn())).next(h=>(eP(i,BO(t),h),{documents:h,_i:o})))}function JN(n,t){const e=Ze(n),i=Ze(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function XN(n,t){const e=Ze(n),i=e.ci.get(t)||St.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,LI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(eP(e,t,r),r))}function eP(n,t,e){let i=St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ci.set(t,i)}function wA(){return wA=(0,Te.Z)(function*(n,t,e,i){const r=Ze(n);let o=wn(),u=Wa();for(const y of e){const E=t.wi(y.metadata.name);y.document&&(o=o.add(E));const I=t.mi(y);I.setReadTime(t.gi(y.metadata.readTime)),u=u.insert(E,I)}const h=r.hi.newChangeBuffer({trackRemovals:!0}),p=yield ky(r,(y=i,Es(xo(sn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>QN(y,h,u).next(E=>(h.apply(y),E)).next(E=>r.fs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.fs.addMatchingKeys(y,o,p.targetId)).next(()=>r.fi.Gs(y,E)).next(()=>E)))}),wA.apply(this,arguments)}function aH(n,t){return bA.apply(this,arguments)}function bA(){return bA=(0,Te.Z)(function*(n,t,e=wn()){const i=yield ky(n,Es(lA(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Lr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(o,t);const h=i.withResumeToken($i.EMPTY_BYTE_STRING,u);return r.ui=r.ui.insert(h.targetId,h),r.fs.updateTargetData(o,h).next(()=>r.fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.fs.addMatchingKeys(o,e,i.targetId)).next(()=>r._s.saveNamedQuery(o,t))})}),bA.apply(this,arguments)}class lH{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return me.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:Lr(i.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:lA(i.bundledQuery),readTime:Lr(i.readTime)}),me.resolve();var i}}class uH{constructor(){this.overlays=new Ii($e.comparator),this.Ii=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),me.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ii.delete(i)),me.resolve()}getOverlaysForCollection(t,e,i){const r=Jb(),o=e.length+1,u=new $e(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return me.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ii((y,E)=>y-E);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let E=o.get(y.largestBatchId);null===E&&(E=Jb(),o=o.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=Jb(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return me.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new aA(e,i));let o=this.Ii.get(e);void 0===o&&(o=wn(),this.Ii.set(e,o)),this.Ii.set(e,o.add(i.key))}}class CA{constructor(){this.Ti=new xn(Br.Ei),this.Ai=new xn(Br.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new Br(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new Br(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new $e(new sn([])),i=new Br(e,t),r=new Br(e,t+1),o=[];return this.Ai.forEachInRange([i,r],u=>{this.Pi(u),o.push(u.key)}),o}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new $e(new sn([])),i=new Br(e,t),r=new Br(e,t+1);let o=wn();return this.Ai.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Br(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Br{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return $e.comparator(t.key,e.key)||Vt(t.Ci,e.Ci)}static Ri(t,e){return Vt(t.Ci,e.Ci)||$e.comparator(t.key,e.key)}}class cH{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new xn(Br.Ei)}checkEmpty(t){return me.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const o=this.xi;this.xi++;const u=new sA(o,e,i,r);this.Bs.push(u);for(const h of r)this.Ni=this.Ni.add(new Br(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return me.resolve(u)}lookupMutationBatch(t,e){return me.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),o=r<0?0:r;return me.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Br(e,0),r=new Br(e,Number.POSITIVE_INFINITY),o=[];return this.Ni.forEachInRange([i,r],u=>{const h=this.ki(u.Ci);o.push(h)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xn(Vt);return e.forEach(r=>{const o=new Br(r,0),u=new Br(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([o,u],h=>{i=i.add(h.Ci)})}),me.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;$e.isDocumentKey(o)||(o=o.child(""));const u=new Br(new $e(o),0);let h=new xn(Vt);return this.Ni.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.Ci)),!0)},u),me.resolve(this.Oi(h))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Mt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return me.forEach(e.mutations,r=>{const o=new Br(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new Br(e,0),r=this.Ni.firstAfterOrEqual(i);return me.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return me.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class dH{constructor(t){this.$i=t,this.docs=new Ii($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return me.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=Wa();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Sn.newInvalidDocument(r))}),me.resolve(i)}getAllFromCollection(t,e,i){let r=Wa();const o=new $e(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||W1(q1(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return me.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ut()}Bi(t,e){return me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new hH(this)}getSize(t){return me.resolve(this.size)}}class hH extends jN{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),me.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class fH{constructor(t){this.persistence=t,this.Li=new nf(e=>a(e),c),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ui=0,this.qi=new CA,this.targetCount=0,this.Ki=Mg.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),me.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new Mg(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.Tn(e),me.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Li.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Li.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),me.waitFor(o).next(()=>r)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return me.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),me.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),me.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return me.resolve(i)}containsKey(t,e){return me.resolve(this.qi.containsKey(e))}}class pH{constructor(t,e){this.Gi={},this.overlays={},this.es=new ts(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new fH(this),this.indexManager=new $U,this.ds=new dH(i=>this.referenceDelegate.Qi(i)),this.M=new xN(e),this._s=new lH(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uH,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new cH(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Ve("MemoryPersistence","Starting transaction:",t);const r=new gH(this.es.next());return this.referenceDelegate.ji(),i(r).next(o=>this.referenceDelegate.Wi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}zi(t,e){return me.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class gH extends TN{constructor(t){super(),this.currentSequenceNumber=t}}class EA{constructor(t){this.persistence=t,this.Hi=new CA,this.Ji=null}static Yi(t){return new EA(t)}get Xi(){if(this.Ji)return this.Ji;throw ut()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),me.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),me.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xi,i=>{const r=$e.fromPath(i);return this.Zi(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return me.or([()=>me.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function tP(n,t){return`firestore_clients_${n}_${t}`}function nP(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function TA(n,t){return`firestore_targets_${n}_${t}`}class XI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Oe(r.error.code,r.error.message))),u?new XI(t,e,r.state,o):(di("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Oe(i.error.code,i.error.message))),o?new hC(t,i.state,r):(di("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class eS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=HI();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Zu(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new eS(t,o):(di("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class IA{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new IA(e.clientId,e.onlineState):(di("SharedClientState",`Failed to parse online state: ${t}`),null)}}class SA{constructor(){this.activeTargetIds=HI()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xA{constructor(t,e,i,r,o){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Ii(Vt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=tP(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new SA),this.dr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const o=t.getItem(tP(t.persistenceKey,r));if(o){const u=eS.tr(r,o);u&&(t.ar=t.ar.insert(u.clientId,u))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(TA(this.persistenceKey,t));if(i){const r=hC.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(TA(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Te.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(o){let u=ts.A;if(null!=o)try{const h=JSON.parse(o);Mt("number"==typeof h),u=h}catch(h){di("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==ts.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Fr(o)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new XI(this.currentUser,t,e,i),o=nP(this.persistenceKey,this.currentUser,t);this.setItem(o,r.er())}Ar(t){const e=nP(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=TA(this.persistenceKey,t),o=new hC(t,e,i);this.setItem(r,o.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return eS.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return XI.tr(new _r(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return hC.tr(r,e)}pr(t){return IA.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,Te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),o=this.Tr(i),u=[],h=[];return o.forEach(p=>{r.has(p)||u.push(p)}),r.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.Lr(u,h).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=HI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class iP{constructor(){this.Ur=new SA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new SA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mH{Kr(t){}shutdown(){}}class rP{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _H={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class yH{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class vH extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,o){const u=this.ho(t,e);Ve("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(t,u,h,i).then(p=>(Ve("RestConnection","Received: ",p),p),p=>{throw cg("RestConnection",`${t} failed with error: `,p,"url: ",u,"request:",i),p})}_o(t,e,i,r,o){return this.co(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+$u,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.uo}/v1/${e}:${_H[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,u)=>{const h=new N1;h.listenOnce(M1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Bb.NO_ERROR:const y=h.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(y)),o(y);break;case Bb.TIMEOUT:Ve("Connection",'RPC "'+t+'" timed out'),u(new Oe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Bb.HTTP_ERROR:const E=h.getStatus();if(Ve("Connection",'RPC "'+t+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const M=function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(V)>=0?V:ce.UNKNOWN}(I.status);u(new Oe(M,I.message))}else u(new Oe(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Oe(ce.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ve("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);h.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=NO(),u=PO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new O1({})),this.lo(h.initMessageHeaders,e,i),(0,P.uI)()||(0,P.b$)()||(0,P.d)()||(0,P.w1)()||(0,P.Mn)()||(0,P.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ve("Connection","Creating WebChannel: "+p,h);const y=o.createWebChannel(p,h);let E=!1,I=!1;const M=new yH({Jr:V=>{I?Ve("Connection","Not sending because WebChannel is closed:",V):(E||(Ve("Connection","Opening WebChannel transport."),y.open(),E=!0),Ve("Connection","WebChannel sending:",V),y.send(V))},Yr:()=>y.close()}),N=(V,Q,ye)=>{V.listen(Q,je=>{try{ye(je)}catch(Je){setTimeout(()=>{throw Je},0)}})};return N(y,Kh.EventType.OPEN,()=>{I||Ve("Connection","WebChannel transport opened.")}),N(y,Kh.EventType.CLOSE,()=>{I||(I=!0,Ve("Connection","WebChannel transport closed"),M.ro())}),N(y,Kh.EventType.ERROR,V=>{I||(I=!0,cg("Connection","WebChannel transport errored:",V),M.ro(new Oe(ce.UNAVAILABLE,"The operation could not be completed")))}),N(y,Kh.EventType.MESSAGE,V=>{var Q;if(!I){const ye=V.data[0];Mt(!!ye);const je=ye,Je=je.error||(null===(Q=je[0])||void 0===Q?void 0:Q.error);if(Je){Ve("Connection","WebChannel received error:",Je);const it=Je.status;let rt=function(Rt){const nn=sr[Rt];if(void 0!==nn)return tN(nn)}(it),At=Je.message;void 0===rt&&(rt=ce.INTERNAL,At="Unknown error status: "+it+" with message "+Je.message),I=!0,M.ro(new Oe(rt,At)),y.close()}else Ve("Connection","WebChannel received:",ye),M.oo(ye)}}),N(u,k1.STAT_EVENT,V=>{V.stat===R1.PROXY?Ve("Connection","Detected buffering proxy"):V.stat===R1.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.io()},0),M}}function sP(){return"undefined"!=typeof window?window:null}function tS(){return"undefined"!=typeof document?document:null}function fC(n){return new aU(n,!0)}class DA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class oP{constructor(t,e,i,r,o,u,h,p){this.Yn=t,this.Vo=i,this.vo=r,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new DA(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Te.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Te.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Te.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===ce.RESOURCE_EXHAUSTED?(di(e.toString()),di("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Oe(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,Te.Z)(function*(){t.state=0,t.start()}))}jo(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wH extends oP{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=o}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function cU(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ut(),r=t.targetChange.targetIds||[],o=function(p,y){return p.N?(Mt(void 0===y||"string"==typeof y),$i.fromBase64String(y||"")):(Mt(void 0===y||y instanceof Uint8Array),$i.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(p){const y=void 0===p.code?ce.UNKNOWN:tN(p.code);return new Oe(y,p.message||"")}(u);e=new iN(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Yu(n,i.document.name),o=Lr(i.document.updateTime),u=new ir({mapValue:{fields:i.document.fields}}),h=Sn.newFoundDocument(r,o,u);e=new jI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Yu(n,i.document),o=i.readTime?Lr(i.readTime):St.min(),u=Sn.newNoDocument(r,o);e=new jI([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Yu(n,i.document);e=new jI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,o=new JB(i.count||0);e=new nN(i.targetId,o)}}var p;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return St.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?Lr(o.readTime):St.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=iC(this.M),e.addTarget=function(r,o){let u;const h=o.target;return u=d(h)?{documents:fN(r,h)}:{query:pN(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=aN(r,o.resumeToken):o.snapshotVersion.compareTo(St.min())>0&&(u.readTime=tC(r,o.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function hU(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=iC(this.M),e.removeTarget=t,this.Lo(e)}}class bH extends oP{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function dU(n,t){return n&&n.length>0?(Mt(void 0!==t),n.map(e=>function(i,r){let o=Lr(i.updateTime?i.updateTime:r);return o.isEqual(St.min())&&(o=Lr(r)),new KB(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Lr(t.commitTime);return this.listener.tu(i,e)}return Mt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=iC(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>rC(this.M,i))};this.Lo(e)}}class CH extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Oe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(ce.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So._o(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(ce.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class EH{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(di(e),this.uu=!1):Ve("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class TH{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr(h=>{i.enqueueAndForget((0,Te.Z)(function*(){var p;af(u)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Te.Z)(function*(y){const E=Ze(y);E.wu.add(4),yield Oy(E),E.yu.set("Unknown"),E.wu.delete(4),yield pC(E)}),function(y){return p.apply(this,arguments)})(u))}))}),this.yu=new EH(i,r)}}function pC(n){return AA.apply(this,arguments)}function AA(){return AA=(0,Te.Z)(function*(n){if(af(n))for(const t of n.mu)yield t(!0)}),AA.apply(this,arguments)}function Oy(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Te.Z)(function*(n){for(const t of n.mu)yield t(!1)}),MA.apply(this,arguments)}function nS(n,t){const e=Ze(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),OA(e)?RA(e):Py(e).Mo()&&kA(e,t))}function gC(n,t){const e=Ze(n),i=Py(e);e._u.delete(t),i.Mo()&&aP(e,t),0===e._u.size&&(i.Mo()?i.$o():af(e)&&e.yu.set("Unknown"))}function kA(n,t){n.pu.Z(t.targetId),Py(n).Ho(t)}function aP(n,t){n.pu.Z(t),Py(n).Jo(t)}function RA(n){n.pu=new rU({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),Py(n).start(),n.yu.au()}function OA(n){return af(n)&&!Py(n).ko()&&n._u.size>0}function af(n){return 0===Ze(n).wu.size}function lP(n){n.pu=void 0}function IH(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Te.Z)(function*(n){n._u.forEach((t,e)=>{kA(n,t)})}),NA.apply(this,arguments)}function SH(n,t){return PA.apply(this,arguments)}function PA(){return PA=(0,Te.Z)(function*(n,t){lP(n),OA(n)?(n.yu.lu(t),RA(n)):n.yu.set("Unknown")}),PA.apply(this,arguments)}function xH(n,t,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Te.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof iN&&2===t.state&&t.cause)try{yield(i=(0,Te.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield iS(n,i)}else if(t instanceof jI?n.pu.ut(t):t instanceof nN?n.pu._t(t):n.pu.ht(t),!e.isEqual(St.min()))try{const i=yield YN(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.pu.yt(o);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r._u.get(p);y&&r._u.set(p,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const p=r._u.get(h);if(!p)return;r._u.set(h,p.withResumeToken($i.EMPTY_BYTE_STRING,p.snapshotVersion)),aP(r,h);const y=new rf(p.target,h,1,p.sequenceNumber);kA(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield iS(n,i)}var i}),FA.apply(this,arguments)}function iS(n,t,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Te.Z)(function*(n,t,e){if(!Eg(t))throw t;n.wu.add(1),yield Oy(n),n.yu.set("Offline"),e||(e=()=>YN(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield pC(n)}))}),LA.apply(this,arguments)}function uP(n,t){return t().catch(e=>iS(n,e,t))}function Ny(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Te.Z)(function*(n){const t=Ze(n),e=lf(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;DH(t);)try{const r=yield sH(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,AH(t,r)}catch(r){yield iS(t,r)}cP(t)&&dP(t)}),VA.apply(this,arguments)}function DH(n){return af(n)&&n.du.length<10}function AH(n,t){n.du.push(t);const e=lf(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function cP(n){return af(n)&&!lf(n).ko()&&n.du.length>0}function dP(n){lf(n).start()}function MH(n){return BA.apply(this,arguments)}function BA(){return BA=(0,Te.Z)(function*(n){lf(n).nu()}),BA.apply(this,arguments)}function kH(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Te.Z)(function*(n){const t=lf(n);for(const e of n.du)t.Zo(e.mutations)}),UA.apply(this,arguments)}function RH(n,t,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Te.Z)(function*(n,t,e){const i=n.du.shift(),r=oA.from(i,t,e);yield uP(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ny(n)}),HA.apply(this,arguments)}function OH(n,t){return jA.apply(this,arguments)}function jA(){return jA=(0,Te.Z)(function*(n,t){var e;t&&lf(n).Xo&&(yield(e=(0,Te.Z)(function*(i,r){if(eN(o=r.code)&&o!==ce.ABORTED){const u=i.du.shift();lf(i).Fo(),yield uP(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Ny(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),cP(n)&&dP(n)}),jA.apply(this,arguments)}function hP(n,t){return zA.apply(this,arguments)}function zA(){return zA=(0,Te.Z)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=af(e);e.wu.add(3),yield Oy(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield pC(e)}),zA.apply(this,arguments)}function GA(n,t){return $A.apply(this,arguments)}function $A(){return $A=(0,Te.Z)(function*(n,t){const e=Ze(n);t?(e.wu.delete(2),yield pC(e)):t||(e.wu.add(2),yield Oy(e),e.yu.set("Unknown"))}),$A.apply(this,arguments)}function Py(n){return n.Iu||(n.Iu=function(t,e,i){const r=Ze(t);return r.iu(),new wH(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:IH.bind(null,n),eo:SH.bind(null,n),zo:xH.bind(null,n)}),n.mu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Iu.Fo(),OA(n)?RA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),lP(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function lf(n){return n.Tu||(n.Tu=function(t,e,i){const r=Ze(t);return r.iu(),new bH(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:MH.bind(null,n),eo:OH.bind(null,n),eu:kH.bind(null,n),tu:RH.bind(null,n)}),n.mu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Tu.Fo(),yield Ny(n)):(yield n.Tu.stop(),n.du.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class qA{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new qA(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(n,t){if(di("AsyncQueue",`${t}: ${n}`),Eg(n))return new Oe(ce.UNAVAILABLE,`${t}: ${n}`);throw n}class Ly{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=eA(),this.sortedSet=new Ii(this.comparator)}static emptySet(t){return new Ly(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ly)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ly;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class fP{constructor(){this.Eu=new Ii($e.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):ut():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Vy{constructor(t,e,i,r,o,u,h,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Vy(t,e,Ly.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class NH{constructor(){this.Ru=void 0,this.listeners=[]}}class PH{constructor(){this.queries=new nf(t=>Ey(t),cd),this.onlineState="Unknown",this.bu=new Set}}function WA(n,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Te.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new NH),r)try{o.Ru=yield e.onListen(i)}catch(u){const h=Fy(u,`Initialization of query '${Y1(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.Ru&&t.Vu(o.Ru)&&QA(e)}),ZA.apply(this,arguments)}function KA(n,t){return YA.apply(this,arguments)}function YA(){return YA=(0,Te.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),YA.apply(this,arguments)}function FH(n,t){const e=Ze(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Vu(r)&&(i=!0);u.Ru=r}}i&&QA(e)}function LH(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function QA(n){n.bu.forEach(t=>{t.next()})}class JA{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Vy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=Vy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class VH{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class pP{constructor(t){this.M=t}wi(t){return Yu(this.M,t)}mi(t){return t.metadata.exists?hN(this.M,t.document,!1):Sn.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return Lr(t)}}class BH{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gP(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=sn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new pP(this.M);for(const r of t)if(r.metadata.queries){const o=i.wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||wn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Te.Z)(function*(){const e=yield function oH(n,t,e,i){return wA.apply(this,arguments)}(t.localStore,new pP(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield aH(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function gP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class mP{constructor(t){this.key=t}}class _P{constructor(t){this.key=t}}class yP{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=wn(),this.mutatedKeys=wn(),this.Gu=UO(t),this.Qu=new Ly(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new fP,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,I)=>{const M=r.get(E),N=Q1(this.query,I)?I:null,V=!!M&&this.mutatedKeys.has(M.key),Q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let ye=!1;M&&N?M.data.isEqual(N.data)?V!==Q&&(i.track({type:3,doc:N}),ye=!0):this.Hu(M,N)||(i.track({type:2,doc:N}),ye=!0,(p&&this.Gu(N,p)>0||y&&this.Gu(N,y)<0)&&(h=!0)):!M&&N?(i.track({type:0,doc:N}),ye=!0):M&&!N&&(i.track({type:1,doc:M}),ye=!0,(p||y)&&(h=!0)),ye&&(N?(u=u.add(N),o=Q?o.add(E):o.delete(E)):(u=u.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),o=o.delete(E.key),i.track({type:1,doc:E})}return{Qu:u,zu:i,ii:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Au();o.sort((y,E)=>function(I,M){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return N(I)-N(M)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==o.length||p?{snapshot:new Vy(this.query,t.Qu,r,o,t.mutatedKeys,0===h,p,!1),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fP,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=wn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new _P(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new mP(i))}),e}ta(t){this.Uu=t._i,this.Ku=wn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return Vy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class UH{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class HH{constructor(t){this.key=t,this.na=!1}}class jH{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new nf(h=>Ey(h),cd),this.ra=new Map,this.oa=new Set,this.ua=new Ii($e.comparator),this.aa=new Map,this.ca=new CA,this.ha={},this.la=new Map,this.fa=Mg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function zH(n,t){return XA.apply(this,arguments)}function XA(){return XA=(0,Te.Z)(function*(n,t){const e=CM(n);let i,r;const o=e.ia.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ea();else{const u=yield ky(e.localStore,Es(t));e.isPrimaryClient&&nS(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield eM(e,t,i,"current"===h)}return r}),XA.apply(this,arguments)}function eM(n,t,e,i){return tM.apply(this,arguments)}function tM(){return tM=(0,Te.Z)(function*(n,t,e,i){n._a=(E,I,M)=>{return(N=(0,Te.Z)(function*(V,Q,ye,je){let Je=Q.view.Wu(ye);Je.ii&&(Je=yield JI(V.localStore,Q.query,!1).then(({documents:At})=>Q.view.Wu(At,Je)));const it=je&&je.targetChanges.get(Q.targetId),rt=Q.view.applyChanges(Je,V.isPrimaryClient,it);return dM(V,Q.targetId,rt.Xu),rt.snapshot}),function(V,Q,ye,je){return N.apply(this,arguments)})(n,E,I,M);var N};const r=yield JI(n.localStore,t,!0),o=new yP(t,r._i),u=o.Wu(r.documents),h=eC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=o.applyChanges(u,n.isPrimaryClient,h);dM(n,e,p.Xu);const y=new UH(t,e,o);return n.ia.set(t,y),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),p.snapshot}),tM.apply(this,arguments)}function GH(n,t){return nM.apply(this,arguments)}function nM(){return nM=(0,Te.Z)(function*(n,t){const e=Ze(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(o=>!cd(o,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ry(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),gC(e.remoteStore,i.targetId),By(e,i.targetId)}).catch(kg))):(By(e,i.targetId),yield Ry(e.localStore,i.targetId,!0))}),nM.apply(this,arguments)}function iM(){return iM=(0,Te.Z)(function*(n,t,e){const i=EM(n);try{const r=yield function(o,u){const h=Ze(o),p=Kn.now(),y=u.reduce((I,M)=>I.add(M.key),wn());let E;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.fi.Ks(I,y).next(M=>{E=M;const N=[];for(const V of u){const Q=QB(V,E.get(V.key));null!=Q&&N.push(new Cg(V.key,Q,$1(Q.value.mapValue),rr.exists(!0)))}return h.Bs.addMutationBatch(I,p,N,u)})).then(I=>(I.applyToLocalDocumentSet(E),{batchId:I.batchId,changes:E}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let p=o.ha[o.currentUser.toKey()];p||(p=new Ii(Vt)),p=p.insert(u,h),o.ha[o.currentUser.toKey()]=p}(i,r.batchId,e),yield dd(i,r.changes),yield Ny(i.remoteStore)}catch(r){const o=Fy(r,"Failed to persist write");e.reject(o)}}),iM.apply(this,arguments)}function vP(n,t){return rM.apply(this,arguments)}function rM(){return rM=(0,Te.Z)(function*(n,t){const e=Ze(n);try{const i=yield rH(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.aa.get(o);u&&(Mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.na=!0:r.modifiedDocuments.size>0?Mt(u.na):r.removedDocuments.size>0&&(Mt(u.na),u.na=!1))}),yield dd(e,i,t)}catch(i){yield kg(i)}}),rM.apply(this,arguments)}function wP(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((o,u)=>{const h=u.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Ze(o);h.onlineState=u;let p=!1;h.queries.forEach((y,E)=>{for(const I of E.listeners)I.Pu(u)&&(p=!0)}),p&&QA(h)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function qH(n,t,e){return sM.apply(this,arguments)}function sM(){return sM=(0,Te.Z)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),o=r&&r.key;if(o){let u=new Ii($e.comparator);u=u.insert(o,Sn.newNoDocument(o,St.min()));const h=wn().add(o),p=new Xb(St.min(),new Map,new xn(Vt),u,h);yield vP(i,p),i.ua=i.ua.remove(o),i.aa.delete(t),hM(i)}else yield Ry(i.localStore,t,!1).then(()=>By(i,t,e)).catch(kg)}),sM.apply(this,arguments)}function WH(n,t){return oM.apply(this,arguments)}function oM(){return oM=(0,Te.Z)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield iH(e.localStore,t);cM(e,i,null),uM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield dd(e,r)}catch(r){yield kg(r)}}),oM.apply(this,arguments)}function ZH(n,t,e){return aM.apply(this,arguments)}function aM(){return aM=(0,Te.Z)(function*(n,t,e){const i=Ze(n);try{const r=yield function(o,u){const h=Ze(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.Bs.lookupMutationBatch(p,u).next(E=>(Mt(null!==E),y=E.keys(),h.Bs.removeMutationBatch(p,E))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.fi.Ks(p,y))})}(i.localStore,t);cM(i,t,e),uM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield dd(i,r)}catch(r){yield kg(r)}}),aM.apply(this,arguments)}function lM(){return lM=(0,Te.Z)(function*(n,t){const e=Ze(n);af(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Ze(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=Fy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),lM.apply(this,arguments)}function uM(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function cM(n,t,e){const i=Ze(n);let r=i.ha[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function By(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||bP(n,i)})}function bP(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(gC(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),hM(n))}function dM(n,t,e){for(const i of e)i instanceof mP?(n.ca.addReference(i.key,t),YH(n,i)):i instanceof _P?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||bP(n,i.key)):ut()}function YH(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(Ve("SyncEngine","New document in limbo: "+e),n.oa.add(i),hM(n))}function hM(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new $e(sn.fromString(t)),i=n.fa.next();n.aa.set(i,new HH(e)),n.ua=n.ua.insert(e,i),nS(n.remoteStore,new rf(Es(xo(e.path)),i,2,ts.A))}}function dd(n,t,e){return fM.apply(this,arguments)}function fM(){return fM=(0,Te.Z)(function*(n,t,e){const i=Ze(n),r=[],o=[],u=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,p)=>{u.push(i._a(p,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const E=_A.Ys(p.targetId,y);o.push(E)}}))}),yield Promise.all(u),i.sa.zo(r),yield(h=(0,Te.Z)(function*(p,y){const E=Ze(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>me.forEach(y,M=>me.forEach(M.Hs,N=>E.persistence.referenceDelegate.addReference(I,M.targetId,N)).next(()=>me.forEach(M.Js,N=>E.persistence.referenceDelegate.removeReference(I,M.targetId,N)))))}catch(I){if(!Eg(I))throw I;Ve("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const M=I.targetId;if(!I.fromCache){const N=E.ui.get(M),Q=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);E.ui=E.ui.insert(M,Q)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,o))}),fM.apply(this,arguments)}function QH(n,t){return pM.apply(this,arguments)}function pM(){return pM=(0,Te.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const i=yield KN(e.localStore,t);e.currentUser=t,(r=e).la.forEach(u=>{u.forEach(h=>{h.reject(new Oe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield dd(e,i.di)}var r}),pM.apply(this,arguments)}function JH(n,t){const e=Ze(n),i=e.aa.get(t);if(i&&i.na)return wn().add(i.key);{let r=wn();const o=e.ra.get(t);if(!o)return r;for(const u of o){const h=e.ia.get(u);r=r.unionWith(h.view.ju)}return r}}function XH(n,t){return gM.apply(this,arguments)}function gM(){return gM=(0,Te.Z)(function*(n,t){const e=Ze(n),i=yield JI(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&dM(e,t.targetId,r.Xu),r}),gM.apply(this,arguments)}function e3(n,t){return mM.apply(this,arguments)}function mM(){return mM=(0,Te.Z)(function*(n,t){const e=Ze(n);return XN(e.localStore,t).then(i=>dd(e,i))}),mM.apply(this,arguments)}function t3(n,t,e,i){return _M.apply(this,arguments)}function _M(){return _M=(0,Te.Z)(function*(n,t,e,i){const r=Ze(n),o=yield function(u,h){const p=Ze(u),y=Ze(p.Bs);return p.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.fn(E,h).next(I=>I?p.fi.Ks(E,I):me.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Ny(r.remoteStore):"acknowledged"===e||"rejected"===e?(cM(r,t,i||null),uM(r,t),h=t,Ze(Ze(r.localStore).Bs)._n(h)):ut(),yield dd(r,o)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),_M.apply(this,arguments)}function yM(){return yM=(0,Te.Z)(function*(n,t){const e=Ze(n);if(CM(e),EM(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield CP(e,i.toArray());e.da=!0,yield GA(e.remoteStore,!0);for(const o of r)nS(e.remoteStore,o)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(By(e,u),Ry(e.localStore,u,!0))),gC(e.remoteStore,u)}),yield r,yield CP(e,i),function(o){const u=Ze(o);u.aa.forEach((h,p)=>{gC(u.remoteStore,p)}),u.ca.Si(),u.aa=new Map,u.ua=new Ii($e.comparator)}(e),e.da=!1,yield GA(e.remoteStore,!1)}}),yM.apply(this,arguments)}function CP(n,t,e){return vM.apply(this,arguments)}function vM(){return vM=(0,Te.Z)(function*(n,t,e){const i=Ze(n),r=[],o=[];for(const u of t){let h;const p=i.ra.get(u);if(p&&0!==p.length){h=yield ky(i.localStore,Es(p[0]));for(const y of p){const E=i.ia.get(y),I=yield XH(i,E);I.snapshot&&o.push(I.snapshot)}}else{const y=yield JN(i.localStore,u);h=yield ky(i.localStore,y),yield eM(i,EP(y),u,!1)}r.push(h)}return i.sa.zo(o),r}),vM.apply(this,arguments)}function EP(n){return Cs(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function i3(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).Fs()}function r3(n,t,e,i){return wM.apply(this,arguments)}function wM(){return wM=(0,Te.Z)(function*(n,t,e,i){const r=Ze(n);if(r.da)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const o=r.ra.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield XN(r.localStore,BO(o[0])),h=Xb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield dd(r,u,h);break}case"rejected":yield Ry(r.localStore,t,!0),By(r,t,i);break;default:ut()}}),wM.apply(this,arguments)}function s3(n,t,e){return bM.apply(this,arguments)}function bM(){return bM=(0,Te.Z)(function*(n,t,e){const i=CM(n);if(i.da){for(const r of t){if(i.ra.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const o=yield JN(i.localStore,r),u=yield ky(i.localStore,o);yield eM(i,EP(o),u.targetId,!1),nS(i.remoteStore,u)}for(const r of e)i.ra.has(r)&&(yield Ry(i.localStore,r,!1).then(()=>{gC(i.remoteStore,r),By(i,r)}).catch(kg))}}),bM.apply(this,arguments)}function CM(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qH.bind(null,t),t.sa.zo=FH.bind(null,t.eventManager),t.sa.wa=LH.bind(null,t.eventManager),t}function EM(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WH.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZH.bind(null,t),t}class TP{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.Z)(function*(){e.M=fC(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return ZN(this.persistence,new WN,t.initialUser,this.M)}ya(t){return new pH(EA.Yi,this.M)}ga(t){return new iP}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class IP extends TP{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield EM(i.Ta.syncEngine),yield Ny(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return ZN(this.persistence,new WN,t.initialUser,this.M)}pa(t){return new KU(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=mA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new gA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,sP(),tS(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new iP}}class a3 extends IP{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof xA&&(i.sharedClientState.syncEngine={$r:t3.bind(null,r),Br:r3.bind(null,r),Lr:s3.bind(null,r),Fs:i3.bind(null,r),Fr:e3.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var o=(0,Te.Z)(function*(u){yield function n3(n,t){return yM.apply(this,arguments)}(i.Ta.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}ga(t){const e=sP();if(!xA.vt(e))throw new Oe(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class TM{initialize(t,e){var i=this;return(0,Te.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=QH.bind(null,i.syncEngine),yield GA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new PH}createDatastore(t){const e=fC(t.databaseInfo.databaseId),i=new vH(t.databaseInfo);return new CH(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>wP(this.syncEngine,h,0),u=rP.vt()?new rP:new mH,new TH(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,p,y){const E=new jH(i,r,o,u,h,p);return y&&(E.da=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.Z)(function*(e){const i=Ze(e);Ve("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Oy(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function SP(n,t=10240){let e=0;return{read:()=>(0,Te.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class l3{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new Gi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const o=yield t.Sa(r);return new VH(JSON.parse(o),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,Te.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,Te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class u3{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Te.Z)(function*(o,u){const h=Ze(o),p=iC(h.M)+"/documents",y={documents:u.map(N=>nC(h.M,N))},E=yield h._o("BatchGetDocuments",p,y),I=new Map;E.forEach(N=>{const V=function uU(n,t){return"found"in t?function(e,i){Mt(!!i.found);const r=Yu(e,i.found.name),o=Lr(i.found.updateTime),u=new ir({mapValue:{fields:i.found.fields}});return Sn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Mt(!!i.missing),Mt(!!i.readTime);const r=Yu(e,i.missing),o=Lr(i.readTime);return Sn.newNoDocument(r,o)}(n,t):ut()}(h.M,N);I.set(V.key.toString(),V)});const M=[];return u.forEach(N=>{const V=I.get(N.toString());Mt(!!V),M.push(V)}),M}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Qb(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=$e.fromPath(r);t.mutations.push(new X1(o,t.precondition(o)))}),yield(i=(0,Te.Z)(function*(r,o){const u=Ze(r),h=iC(u.M)+"/documents",p={writes:o.map(y=>rC(u.M,y))};yield u.co("Commit",h,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=St.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?rr.updateTime(e):rr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(St.min()))throw new Oe(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(e)}return rr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class c3{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.xa=i.maxAttempts,this.No=new DA(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,Te.Z)(function*(){const e=new u3(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ma(o)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!fg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!eN(e)}return!1}}class d3{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=_r.UNAUTHENTICATED,this.clientId=AI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Te.Z)(function*(h){Ve("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ve("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Fy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function xP(n,t){return IM.apply(this,arguments)}function IM(){return IM=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.Z)(function*(o){i.isEqual(o)||(yield KN(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),IM.apply(this,arguments)}function DP(n,t){return SM.apply(this,arguments)}function SM(){return SM=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield xM(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>hP(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>hP(t.remoteStore,o)),n.onlineComponents=t}),SM.apply(this,arguments)}function xM(n){return DM.apply(this,arguments)}function DM(){return DM=(0,Te.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield xP(n,new TP)),n.offlineComponents}),DM.apply(this,arguments)}function sS(n){return AM.apply(this,arguments)}function AM(){return AM=(0,Te.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield DP(n,new TM)),n.onlineComponents}),AM.apply(this,arguments)}function AP(n){return xM(n).then(t=>t.persistence)}function MM(n){return xM(n).then(t=>t.localStore)}function MP(n){return sS(n).then(t=>t.remoteStore)}function kM(n){return sS(n).then(t=>t.syncEngine)}function Uy(n){return RM.apply(this,arguments)}function RM(){return RM=(0,Te.Z)(function*(n){const t=yield sS(n),e=t.eventManager;return e.onListen=zH.bind(null,t.syncEngine),e.onUnlisten=GH.bind(null,t.syncEngine),e}),RM.apply(this,arguments)}function kP(n,t,e={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,u,h,p){const y=new rS({next:I=>{o.enqueueAndForget(()=>KA(r,E));const M=I.docs.has(u);!M&&I.fromCache?p.reject(new Oe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&h&&"server"===h.source?p.reject(new Oe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),E=new JA(xo(u.path),y,{includeMetadataChanges:!0,ku:!0});return WA(r,E)}(yield Uy(n),n.asyncQueue,t,e,i)})),i.promise}function RP(n,t,e={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,u,h,p){const y=new rS({next:I=>{o.enqueueAndForget(()=>KA(r,E)),I.fromCache&&"server"===h.source?p.reject(new Oe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),E=new JA(u,y,{includeMetadataChanges:!0,ku:!0});return WA(r,E)}(yield Uy(n),n.asyncQueue,t,e,i)})),i.promise}const OP=new Map;function OM(n,t,e){if(!e)throw new Oe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NP(n,t,e,i){if(!0===t&&!0===i)throw new Oe(ce.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function PP(n){if(!$e.isDocumentKey(n))throw new Oe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FP(n){if($e.isDocumentKey(n))throw new Oe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=oS(n);throw new Oe(ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function LP(n,t){if(t<=0)throw new Oe(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class VP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,NP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VP({}),this._settingsFrozen=!1,t instanceof Rl?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(r.options.projectId)}(t))}get app(){if(!this._app)throw new Oe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new FO;switch(e.type){case"gapi":const i=e.client;return Mt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new SI(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=OP.get(t);e&&(Ve("ComponentProvider","Removing Datastore"),OP.delete(t),e.terminate())}(this),Promise.resolve()}}class Yn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yn(this.firestore,t,this._key)}}class Ts{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ts(this.firestore,t,this._query)}}class Ju extends Ts{constructor(t,e,i){super(t,e,xo(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yn(this.firestore,null,new $e(t))}withConverter(t){return new Ju(this.firestore,t,this._path)}}function BP(n,t,...e){if(n=(0,P.m9)(n),OM("collection","path",t),n instanceof mC){const i=sn.fromString(t,...e);return FP(i),new Ju(n,null,i)}{if(!(n instanceof Yn||n instanceof Ju))throw new Oe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return FP(i),new Ju(n.firestore,null,i)}}function aS(n,t,...e){if(n=(0,P.m9)(n),1===arguments.length&&(t=AI.R()),OM("doc","path",t),n instanceof mC){const i=sn.fromString(t,...e);return PP(i),new Yn(n,null,new $e(i))}{if(!(n instanceof Yn||n instanceof Ju))throw new Oe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return PP(i),new Yn(n.firestore,n instanceof Ju?n.converter:null,new $e(i))}}function UP(n,t){return n=(0,P.m9)(n),t=(0,P.m9)(t),(n instanceof Yn||n instanceof Ju)&&(t instanceof Yn||t instanceof Ju)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function HP(n,t){return n=(0,P.m9)(n),t=(0,P.m9)(t),n instanceof Ts&&t instanceof Ts&&n.firestore===t.firestore&&cd(n._query,t._query)&&n.converter===t.converter}class C3{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new DA(this,"async_queue_retry"),this.Qa=()=>{const e=tS();e&&Ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=tS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=tS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new Gi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,Te.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!Eg(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,di("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=qA.createAndSchedule(this,t,e,i,o=>this.Ha(o));return this.La.push(r),r}ja(){this.Ua&&ut()}verifyOperationInProgress(){}Ja(){var t=this;return(0,Te.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function NM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class E3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ai extends mC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new C3,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||jP(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||jP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jP(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new yy(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new d3(n._authCredentials,n._appCheckCredentials,n._queue,i)}function zP(n,t,e){const i=new Gi;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield xP(n,e),yield DP(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function GP(n){if(n._initialized||n._terminated)throw new Oe(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xu($i.fromBase64String(t))}catch(e){throw new Oe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Xu($i.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Og{constructor(t){this._methodName=t}}class lS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}const O3=/^__.*__$/;class N3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Cg(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yb(t,this.data,e,this.fieldTransforms)}}class $P{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Cg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function qP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class uS{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new uS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return hS(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(qP(this.ec)&&O3.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class P3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||fC(t)}lc(t,e,i,r=!1){return new uS({ec:t,methodName:e,hc:i,path:nr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ng(n){const t=n._freezeSettings(),e=fC(n._databaseId);return new P3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cS(n,t,e,i,r,o={}){const u=n.lc(o.merge||o.mergeFields?2:0,t,e,r);VM("Data must be an object, but it was:",u,i);const h=KP(i,u);let p,y;if(o.merge)p=new sd(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const E=[];for(const I of o.mergeFields){const M=BM(t,I,e);if(!u.contains(M))throw new Oe(ce.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);QP(E,M)||E.push(M)}p=new sd(E),y=u.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=u.fieldTransforms;return new N3(new ir(h),p,y)}class _C extends Og{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _C}}function WP(n,t,e){return new uS({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class PM extends Og{_toFieldTransform(t){return new Kb(t.path,new Ty)}isEqual(t){return t instanceof PM}}class F3 extends Og{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=WP(this,t,!0),i=this.fc.map(o=>Pg(o,e)),r=new wg(i);return new Kb(t.path,r)}isEqual(t){return this===t}}class L3 extends Og{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=WP(this,t,!0),i=this.fc.map(o=>Pg(o,e)),r=new bg(i);return new Kb(t.path,r)}isEqual(t){return this===t}}class V3 extends Og{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new Iy(t.M,zO(t.M,this.dc));return new Kb(t.path,e)}isEqual(t){return this===t}}function FM(n,t,e,i){const r=n.lc(1,t,e);VM("Data must be an object, but it was:",r,i);const o=[],u=ir.empty();Wu(i,(p,y)=>{const E=dS(t,p,e);y=(0,P.m9)(y);const I=r.oc(E);if(y instanceof _C)o.push(E);else{const M=Pg(y,I);null!=M&&(o.push(E),u.set(E,M))}});const h=new sd(o);return new $P(u,h,r.fieldTransforms)}function LM(n,t,e,i,r,o){const u=n.lc(1,t,e),h=[BM(t,i,e)],p=[r];if(o.length%2!=0)throw new Oe(ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(BM(t,o[M])),p.push(o[M+1]);const y=[],E=ir.empty();for(let M=h.length-1;M>=0;--M)if(!QP(y,h[M])){const N=h[M];let V=p[M];V=(0,P.m9)(V);const Q=u.oc(N);if(V instanceof _C)y.push(N);else{const ye=Pg(V,Q);null!=ye&&(y.push(N),E.set(N,ye))}}const I=new sd(y);return new $P(E,I,u.fieldTransforms)}function ZP(n,t,e,i=!1){return Pg(e,n.lc(i?4:3,t))}function Pg(n,t){if(YP(n=(0,P.m9)(n)))return VM("Unsupported field value:",t,n),KP(n,t);if(n instanceof Og)return function(e,i){if(!qP(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Pg(u,i.uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,P.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zO(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Kn.fromDate(e);return{timestampValue:tC(i.M,r)}}if(e instanceof Kn){const r=new Kn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tC(i.M,r)}}if(e instanceof lS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xu)return{bytesValue:aN(i.M,e._byteString)};if(e instanceof Yn){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ac(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:tA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${oS(e)}`)}(n,t)}function KP(n,t){const e={};return jb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wu(n,(i,r)=>{const o=Pg(r,t.sc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function YP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof lS||n instanceof Xu||n instanceof Yn||n instanceof Og)}function VM(n,t,e){if(!YP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=oS(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function BM(n,t,e){if((t=(0,P.m9)(t))instanceof hd)return t._internalPath;if("string"==typeof t)return dS(n,t);throw hS("Field path arguments must be of type string or ",n,!1,void 0,e)}const B3=new RegExp("[~\\*/\\[\\]]");function dS(n,t,e){if(t.search(B3)>=0)throw hS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new hd(...t.split("."))._internalPath}catch(i){throw hS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function hS(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Oe(ce.INVALID_ARGUMENT,h+n+p)}function QP(n,t){return n.some(e=>e.isEqual(t))}class yC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class U3 extends yC{data(){return super.data()}}function fS(n,t){return"string"==typeof t?dS(n,t):t instanceof hd?t._internalPath:t._delegate._internalPath}class Fg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fd extends yC{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(fS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class vC extends fd{data(t={}){return super.data(t)}}class uf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Fg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new vC(this._firestore,this._userDataWriter,i.key,i,new Fg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new vC(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new vC(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:H3(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function H3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function JP(n,t){return n instanceof fd&&t instanceof fd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof uf&&t instanceof uf&&n._firestore===t._firestore&&HP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function XP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wC{}function cf(n,...t){for(const e of t)n=e._apply(n);return n}class j3 extends wC{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=Ng(t.firestore),i=function(r,o,u,h,p,y,E){let I;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Oe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){sF(E,y);const N=[];for(const V of E)N.push(rF(h,r,V));I={arrayValue:{values:N}}}else I=rF(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||sF(E,y),I=ZP(u,"where",E,"in"===y||"not-in"===y);const M=C.create(p,y,I);return function(N,V){if(V.S()){const ye=yg(N);if(null!==ye&&!ye.isEqual(V.field))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${V.field.toString()}'`);const je=_g(N);null!==je&&oF(0,V.field,je)}const Q=function(ye,je){for(const Je of ye.filters)if(je.indexOf(Je.op)>=0)return Je.op;return null}(N,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Q)throw new Oe(ce.INVALID_ARGUMENT,Q===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new Ts(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new qt(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class G3 extends wC{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Oe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new nt(r,o);return function(h,p){if(null===_g(h)){const y=yg(h);null!==y&&oF(0,y,p.field)}}(i,u),u}(t._query,this._c,this.gc);return new Ts(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new qt(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class eF extends wC{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new Ts(t.firestore,t.converter,Cy(t._query,this.yc,this.Ic))}}class tF extends wC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=iF(t,this.type,this.Tc,this.Ec);return new Ts(t.firestore,t.converter,(r=e,new qt((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class nF extends wC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=iF(t,this.type,this.Tc,this.Ec);return new Ts(t.firestore,t.converter,(r=e,new qt((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function iF(n,t,e,i){if(e[0]=(0,P.m9)(e[0]),e[0]instanceof yC)return function(r,o,u,h,p){if(!h)throw new Oe(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const E of Ku(r))if(E.field.isKeyField())y.push(Xh(o,h.key));else{const I=h.data.field(E.field);if(kI(I))throw new Oe(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=E.field.canonicalString();throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(I)}return new Ue(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ng(n.firestore);return function(o,u,h,p,y,E){const I=o.explicitOrderBy;if(y.length>I.length)throw new Oe(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let N=0;N<y.length;N++){const V=y[N];if(I[N].field.isKeyField()){if("string"!=typeof V)throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof V}`);if(!vg(o)&&-1!==V.indexOf("/"))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${V}' contains a slash.`);const Q=o.path.child(sn.fromString(V));if(!$e.isDocumentKey(Q))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ye=new $e(Q);M.push(Xh(u,ye))}else{const Q=ZP(h,p,V);M.push(Q)}}return new Ue(M,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function rF(n,t,e){if("string"==typeof(e=(0,P.m9)(e))){if(""===e)throw new Oe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vg(t)&&-1!==e.indexOf("/"))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(sn.fromString(e));if(!$e.isDocumentKey(i))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xh(n,new $e(i))}if(e instanceof Yn)return Xh(n,e._key);throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oS(e)}.`)}function sF(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(ce.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function oF(n,t,e){if(!e.isEqual(t))throw new Oe(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const J3={maxAttempts:5};class UM{convertValue(t,e="none"){switch(ad(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Yh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return Wu(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new lS(hi(t.latitude),hi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=j1(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(hg(t));default:return null}}convertTimestamp(t){const e=od(t);return new Kn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=sn.fromString(t);Mt(_N(i));const r=new Rl(i.get(1),i.get(3)),o=new $e(i.popFirst(5));return r.isEqual(e)||di(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function pS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class X3 extends UM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}class aF{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ng(t)}set(t,e,i){this._verifyNotCommitted();const r=df(t,this._firestore),o=pS(r.converter,e,i),u=cS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,rr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=df(t,this._firestore);let u;return u="string"==typeof(e=(0,P.m9)(e))||e instanceof hd?LM(this._dataReader,"WriteBatch.update",o._key,e,i,r):FM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=df(t,this._firestore);return this._mutations=this._mutations.concat(new Qb(e._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function df(n,t){if((n=(0,P.m9)(n)).firestore!==t)throw new Oe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lg extends UM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}function lF(n,t,e){n=an(n,Yn);const i=an(n.firestore,ai),r=pS(n.converter,t,e);return Hy(i,[cS(Ng(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,rr.none())])}function uF(n,t,e,...i){n=an(n,Yn);const r=an(n.firestore,ai),o=Ng(r);let u;return u="string"==typeof(t=(0,P.m9)(t))||t instanceof hd?LM(o,"updateDoc",n._key,t,e,i):FM(o,"updateDoc",n._key,t),Hy(r,[u.toMutation(n._key,rr.exists(!0))])}function cF(n,...t){var e,i,r;n=(0,P.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||NM(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(NM(t[u])){const I=t[u];t[u]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,y,E;if(n instanceof Yn)y=an(n.firestore,ai),E=xo(n._key.path),p={next:I=>{t[u]&&t[u](HM(y,n,I))},error:t[u+1],complete:t[u+2]};else{const I=an(n,Ts);y=an(I.firestore,ai),E=I._query;const M=new Lg(y);p={next:N=>{t[u]&&t[u](new uf(y,M,I,N))},error:t[u+1],complete:t[u+2]},XP(n._query)}return function(I,M,N,V){const Q=new rS(V),ye=new JA(M,Q,N);return I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return WA(yield Uy(I),ye)})),()=>{Q.Aa(),I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return KA(yield Uy(I),ye)}))}}(or(y),E,h,p)}function Hy(n,t){return function(e,i){const r=new Gi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function $H(n,t,e){return iM.apply(this,arguments)}(yield kM(e),i,r)})),r.promise}(or(n),t)}function HM(n,t,e){const i=e.docs.get(t._key),r=new Lg(n);return new fd(n,r,t._key,i,new Fg(e.hasPendingWrites,e.fromCache),t.converter)}class c6 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ng(t)}get(t){const e=df(t,this._firestore),i=new X3(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const o=r[0];if(o.isFoundDocument())return new yC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new yC(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=df(t,this._firestore),o=pS(r.converter,e,i),u=cS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=df(t,this._firestore);let u;return u="string"==typeof(e=(0,P.m9)(e))||e instanceof hd?LM(this._dataReader,"Transaction.update",o._key,e,i,r):FM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=df(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=df(t,this._firestore),i=new Lg(this._firestore);return super.get(t).then(r=>new fd(this._firestore,i,e._key,r._document,new Fg(!1,!1),e.converter))}}function jM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function hF(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function fF(){if(!function U1(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){$u=la.SDK_VERSION,(0,la._registerComponent)(new Co.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new ai(r,new L1(e.getProvider("auth-internal")),new B1(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,la.registerVersion)(Io,"3.4.9",n),(0,la.registerVersion)(Io,"3.4.9","esm2017")}();class bC{constructor(t){this._delegate=t}static fromBase64String(t){return fF(),new bC(Xu.fromBase64String(t))}static fromUint8Array(t){return hF(),new bC(Xu.fromUint8Array(t))}toBase64(){return fF(),this._delegate.toBase64()}toUint8Array(){return hF(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zM(n){return function v6(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class w6{enableIndexedDbPersistence(t,e){return function I3(n,t){GP(n=an(n,ai));const e=or(n),i=n._freezeSettings(),r=new TM;return zP(e,r,new IP(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function S3(n){GP(n=an(n,ai));const t=or(n),e=n._freezeSettings(),i=new TM;return zP(t,i,new a3(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function x3(n){if(n._initialized&&!n._terminated)throw new Oe(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(e=(0,Te.Z)(function*(i){if(!Ol.vt())return Promise.resolve();const r=i+"main";yield Ol.delete(r)}),function(i){return e.apply(this,arguments)})(mA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class pF{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Rl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function w3(n,t,e,i={}){var r;const o=(n=an(n,mC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&cg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=_r.MOCK_USER;else{u=(0,P.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Oe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _r(p)}n._authCredentials=new F1(new II(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function A3(n){return function h3(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield AP(n),e=yield MP(n);return t.setNetworkEnabled(!0),function(i){const r=Ze(i);return r.wu.delete(0),pC(r)}(e)}))}(or(n=an(n,ai)))}(this._delegate)}disableNetwork(){return function M3(n){return function f3(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield AP(n),e=yield MP(n);return t.setNetworkEnabled(!1),(i=(0,Te.Z)(function*(r){const o=Ze(r);o.wu.add(0),yield Oy(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(or(n=an(n,ai)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,NP("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function D3(n){return function(t){const e=new Gi;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function KH(n,t){return lM.apply(this,arguments)}(yield kM(t),e)})),e.promise}(or(n=an(n,ai)))}(this._delegate)}onSnapshotsInSync(t){return function u6(n,t){return function m3(n,t){const e=new rS(t);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield Uy(n),r=e,Ze(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield Uy(n),r=e,void Ze(i).bu.delete(r);var i,r}))}}(or(n=an(n,ai)),NM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new jy(this,BP(this._delegate,t))}catch(e){throw Ys(e,"collection()","Firestore.collection()")}}doc(t){try{return new Za(this,aS(this._delegate,t))}catch(e){throw Ys(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Qs(this,function b3(n,t){if(n=an(n,mC),OM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(ce.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(e=t,new qt(sn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ys(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function d6(n,t,e){n=an(n,ai);const i=Object.assign(Object.assign({},J3),e);return function(r){if(r.maxAttempts<1)throw new Oe(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function _3(n,t,e){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const r=yield(o=n,sS(o).then(u=>u.datastore));var o;new c3(n.asyncQueue,r,e,t,i).run()})),i.promise}(or(n),r=>t(new c6(n,r)),i)}(this._delegate,e=>t(new gF(this,e)))}batch(){return or(this._delegate),new mF(new aF(this._delegate,t=>Hy(this._delegate,t)))}loadBundle(t){return function k3(n,t){const e=or(n=an(n,ai)),i=new E3;return function y3(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return SP(p,y);if(p instanceof ArrayBuffer)return SP(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new l3(p,u);var p}(e,fC(t));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function o3(n,t,e){const i=Ze(n);var r;(r=(0,Te.Z)(function*(o,u,h){try{const p=yield u.getMetadata();if(yield function(M,N){const V=Ze(M),Q=Lr(N.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ye=>V._s.getBundleMetadata(ye,N.id)).then(ye=>!!ye&&ye.createTime.compareTo(Q)>=0)}(o.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(gP(p));const y=new BH(p,o.localStore,u.M);let E=yield u.ma();for(;E;){const M=yield y.Fu(E);M&&h._updateProgress(M),E=yield u.ma()}const I=yield y.complete();return yield dd(o,I.Lu,void 0),yield function(M,N){const V=Ze(M);return V.persistence.runTransaction("Save bundle","readwrite",Q=>V._s.saveBundleMetadata(Q,N))}(o.localStore,p),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(p){return cg("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var M}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield kM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function R3(n,t){return function v3(n,t){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(e,i){const r=Ze(e);return r.persistence.runTransaction("Get named query","readonly",o=>r._s.getNamedQuery(o,i))}(yield MM(n),t)}))}(or(n=an(n,ai)),t).then(e=>e?new Ts(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Qs(this,e):null)}}class gS extends UM{constructor(t){super(),this.firestore=t}convertBytes(t){return new bC(new Xu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Za.forKey(e,this.firestore,null)}}class gF{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gS(t)}get(t){const e=Bg(t);return this._delegate.get(e).then(i=>new CC(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Bg(t);return i?(jM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Bg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Bg(t);return this._delegate.delete(e),this}}class mF{constructor(t){this._delegate=t}set(t,e,i){const r=Bg(t);return i?(jM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Bg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Bg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Vg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new vC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new EC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Vg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Vg(t,new gS(t),e),r.set(e,o)),o}}Vg.INSTANCES=new WeakMap;class Za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Za(e,new Yn(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new Za(e,new Yn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new jy(this.firestore,BP(this._delegate,t))}catch(e){throw Ys(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,P.m9)(t))instanceof Yn&&UP(this._delegate,t)}set(t,e){e=jM("DocumentReference.set",e);try{return e?lF(this._delegate,t,e):lF(this._delegate,t)}catch(i){throw Ys(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?uF(this._delegate,t):uF(this._delegate,t,e,...i)}catch(r){throw Ys(r,"updateDoc()","DocumentReference.update()")}}delete(){return function a6(n){return Hy(an(n.firestore,ai),[new Qb(n._key,rr.none())])}(this._delegate)}onSnapshot(...t){const e=_F(t),i=yF(t,r=>new CC(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cF(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function t6(n){n=an(n,Yn);const t=an(n.firestore,ai),e=or(t),i=new Lg(t);return function p3(n,t){const e=new Gi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,u){try{const h=yield function(p,y){const E=Ze(p);return E.persistence.runTransaction("read document","readonly",I=>E.fi.Ls(I,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Oe(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Fy(h,`Failed to get document '${o} from cache`);u.reject(p)}}),function(r,o,u){return i.apply(this,arguments)})(yield MM(n),t,e);var i})),e.promise}(e,n._key).then(r=>new fd(t,i,n._key,r,new Fg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function n6(n){n=an(n,Yn);const t=an(n.firestore,ai);return kP(or(t),n._key,{source:"server"}).then(e=>HM(t,n,e))}(this._delegate):function e6(n){n=an(n,Yn);const t=an(n.firestore,ai);return kP(or(t),n._key).then(e=>HM(t,n,e))}(this._delegate),e.then(i=>new CC(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Za(this.firestore,this._delegate.withConverter(t?Vg.getInstance(this.firestore,t):null))}}function Ys(n,t,e){return n.message=n.message.replace(t,e),n}function _F(n){for(const t of n)if("object"==typeof t&&!zM(t))return t;return{}}function yF(n,t){var e,i;let r;return r=zM(n[0])?n[0]:zM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class CC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return JP(this._delegate,t._delegate)}}class EC extends CC{data(t){const e=this._delegate.data(t);return function P1(n,t){n||ut()}(void 0!==e),e}}class Qs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gS(t)}where(t,e,i){try{return new Qs(this.firestore,cf(this._delegate,function z3(n,t,e){const i=t,r=fS("where",n);return new j3(r,i,e)}(t,e,i)))}catch(r){throw Ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Qs(this.firestore,cf(this._delegate,function $3(n,t="asc"){const e=t,i=fS("orderBy",n);return new G3(i,e)}(t,e)))}catch(i){throw Ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Qs(this.firestore,cf(this._delegate,function q3(n){return LP("limit",n),new eF("limit",n,"F")}(t)))}catch(e){throw Ys(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Qs(this.firestore,cf(this._delegate,function W3(n){return LP("limitToLast",n),new eF("limitToLast",n,"L")}(t)))}catch(e){throw Ys(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Qs(this.firestore,cf(this._delegate,function Z3(...n){return new tF("startAt",n,!0)}(...t)))}catch(e){throw Ys(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Qs(this.firestore,cf(this._delegate,function K3(...n){return new tF("startAfter",n,!1)}(...t)))}catch(e){throw Ys(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Qs(this.firestore,cf(this._delegate,function Y3(...n){return new nF("endBefore",n,!1)}(...t)))}catch(e){throw Ys(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Qs(this.firestore,cf(this._delegate,function Q3(...n){return new nF("endAt",n,!0)}(...t)))}catch(e){throw Ys(e,"endAt()","Query.endAt()")}}isEqual(t){return HP(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function s6(n){n=an(n,Ts);const t=an(n.firestore,ai),e=or(t),i=new Lg(t);return function g3(n,t){const e=new Gi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,u){try{const h=yield JI(r,o,!0),p=new yP(o,h._i),y=p.Wu(h.documents),E=p.applyChanges(y,!1);u.resolve(E.snapshot)}catch(h){const p=Fy(h,`Failed to execute query '${o} against cache`);u.reject(p)}}),function(r,o,u){return i.apply(this,arguments)})(yield MM(n),t,e);var i})),e.promise}(e,n._query).then(r=>new uf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function o6(n){n=an(n,Ts);const t=an(n.firestore,ai),e=or(t),i=new Lg(t);return RP(e,n._query,{source:"server"}).then(r=>new uf(t,i,n,r))}(this._delegate):function r6(n){n=an(n,Ts);const t=an(n.firestore,ai),e=or(t),i=new Lg(t);return XP(n._query),RP(e,n._query).then(r=>new uf(t,i,n,r))}(this._delegate),e.then(i=>new GM(this.firestore,new uf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=_F(t),i=yF(t,r=>new GM(this.firestore,new uf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cF(this._delegate,e,i)}withConverter(t){return new Qs(this.firestore,this._delegate.withConverter(t?Vg.getInstance(this.firestore,t):null))}}class C6{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new EC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new EC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new C6(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new EC(this._firestore,i))})}isEqual(t){return JP(this._delegate,t._delegate)}}class jy extends Qs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Za(this.firestore,t):null}doc(t){try{return new Za(this.firestore,void 0===t?aS(this._delegate):aS(this._delegate,t))}catch(e){throw Ys(e,"doc()","CollectionReference.doc()")}}add(t){return function l6(n,t){const e=an(n.firestore,ai),i=aS(n),r=pS(n.converter,t);return Hy(e,[cS(Ng(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,rr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Za(this.firestore,e))}isEqual(t){return UP(this._delegate,t._delegate)}withConverter(t){return new jy(this.firestore,this._delegate.withConverter(t?Vg.getInstance(this.firestore,t):null))}}function Bg(n){return an(n,Yn)}class $M{constructor(...t){this._delegate=new hd(...t)}static documentId(){return new $M(nr.keyField().canonicalString())}isEqual(t){return(t=(0,P.m9)(t))instanceof hd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ug{constructor(t){this._delegate=t}static serverTimestamp(){const t=function f6(){return new PM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ug(t)}static delete(){const t=function h6(){return new _C("deleteField")}();return t._methodName="FieldValue.delete",new Ug(t)}static arrayUnion(...t){const e=function p6(...n){return new F3("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ug(e)}static arrayRemove(...t){const e=function g6(...n){return new L3("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ug(e)}static increment(t){const e=function m6(n){return new V3("increment",n)}(t);return e._methodName="FieldValue.increment",new Ug(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const E6={Firestore:pF,GeoPoint:lS,Timestamp:Kn,Blob:bC,Transaction:gF,WriteBatch:mF,DocumentReference:Za,DocumentSnapshot:CC,Query:Qs,QueryDocumentSnapshot:EC,QuerySnapshot:GM,CollectionReference:jy,FieldPath:$M,FieldValue:Ug,setLogLevel:function b6(n){!function Hb(n){qu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function vF(n,t){return function S6(n,t=U_.z){return new Li.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function qM(n,t){return vF(n,t).pipe((0,k.U)(e=>({payload:e,type:"query"})))}function mS(n,t){return qM(n,t).pipe(Mu(void 0),Hp(),(0,k.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const p=r.find(E=>E.doc.ref.isEqual(u.ref)),y=null==e?void 0:e.payload.docs.find(E=>E.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function wF(n,t,e){return mS(n,e).pipe(wl((i,r)=>function D6(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function A6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return WM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return WM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return WM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Zw(),(0,k.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function WM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function bF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function I6(n){(function T6(n,t){n.INTERNAL.registerComponent(new Co.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},E6)))})(n,(t,e)=>new pF(t,e,new w6)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(QD.Z);class CF{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=mS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,k.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Mu(void 0),Hp(),D(([i,r])=>r.length>0||!i),(0,k.U)(([i,r])=>r),Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(wl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=bF(t);return wF(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return qM(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Mn.iC)}get(t){return(0,Ln.D)(this.query.get(t)).pipe(Mn.iC)}add(t){return this.ref.add(t)}doc(t){return new EF(this.ref.doc(t),this.afs)}}class EF{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=SF(i,e);return new CF(r,o,this.afs)}snapshotChanges(){return function x6(n,t){return vF(n,t).pipe(Mu(void 0),Hp(),(0,k.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,k.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Ln.D)(this.ref.get(t)).pipe(Mn.iC)}}class M6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?mS(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),D(e=>e.length>0),Mn.iC):mS(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(wl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=bF(t);return wF(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return qM(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Mn.iC)}get(t){return(0,Ln.D)(this.query.get(t)).pipe(Mn.iC)}}const TF=new s.OlP("angularfire2.enableFirestorePersistence"),IF=new s.OlP("angularfire2.firestore.persistenceSettings"),k6=new s.OlP("angularfire2.firestore.settings"),R6=new s.OlP("angularfire2.firestore.use-emulator");function SF(n,t=(e=>e)){return{query:t(n),ref:n}}let _S=(()=>{class n{constructor(e,i,r,o,u,h,p,y,E,I,M,N,V,Q,ye,je,Je){this.schedulers=p;const it=(0,Jr.on)(e,h,i),rt=E;I&&Ct(it,h,M,V,Q,ye,N,je),[this.firestore,this.persistenceEnabled$]=(0,Jr.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const At=h.runOutsideAngular(()=>it.firestore());if(o&&At.settings(o),rt&&At.useEmulator(...rt),r&&!Ca(u)){const Rt=()=>{try{return(0,Ln.D)(At.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(nn){return"undefined"!=typeof console&&console.warn(nn),bt(!1)}};return[At,h.runOutsideAngular(Rt)]}return[At,bt(!1)]},[o,rt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=SF(r,i),h=this.schedulers.ngZone.run(()=>o);return new CF(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new M6(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new EF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jr.Dh),s.LFG(Jr.xv,8),s.LFG(TF,8),s.LFG(k6,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(IF,8),s.LFG(R6,8),s.LFG(F_,8),s.LFG(mT,8),s.LFG(Vp,8),s.LFG(_T,8),s.LFG(N_,8),s.LFG(P_,8),s.LFG(yT,8),s.LFG(O_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),O6=(()=>{class n{constructor(){gT.Z.registerVersion("angularfire",Mn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:TF,useValue:!0},{provide:IF,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_S]}),n})(),N6=(()=>{class n{constructor(e){this.firestore=e}read_All_Houses(){return this.firestore.collection("houses").snapshotChanges()}create_House(e){return this.firestore.collection("houses").add(e)}update_House(e,i){this.firestore.doc("houses/"+e).update(i)}delete_House(e){this.firestore.doc("houses/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_S))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZM=(()=>{class n{constructor(e){this.http=e,this.starTypeData="./assets/csv/starTypeData.csv"}getStarTypeInfo(){return this.http.get(this.starTypeData,{responseType:"text"})}get_All_Values(){return[{name:"SYMBOL",value:"symbol"},{name:"STORY",value:"story"},{name:"COLOR",value:"color"},{name:"BODY PART",value:"bodypart"}]}get_All_Sign_Values(){return[{name:"\u0b85\u0ba4\u0bbf\u0baa\u0ba4\u0bbf",value:"\u0b85\u0ba4\u0bbf\u0baa\u0ba4\u0bbf"},{name:"\u0b89\u0bb0\u0bc1\u0bb5\u0bae\u0bcd",value:"\u0b89\u0bb0\u0bc1\u0bb5\u0bae\u0bcd"},{name:"\u0b87\u0baf\u0bb2\u0bcd\u0baa\u0bc1",value:"\u0b87\u0baf\u0bb2\u0bcd\u0baa\u0bc1"},{name:"\u0baa\u0b9e\u0bcd\u0b9a\u0baa\u0bc2\u0ba4\u0bae\u0bcd",value:"\u0baa\u0b9e\u0bcd\u0b9a\u0baa\u0bc2\u0ba4\u0bae\u0bcd"},{name:"\u0ba4\u0bbf\u0b9a\u0bc8",value:"\u0ba4\u0bbf\u0b9a\u0bc8"},{name:"\u0b89\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bc1",value:"\u0b89\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bc1"},{name:"\u0b87\u0b9f\u0bae\u0bcd",value:"\u0b87\u0b9f\u0bae\u0bcd"},{name:"\u0ba8\u0bbf\u0bb1\u0bae\u0bcd",value:"\u0ba8\u0bbf\u0bb1\u0bae\u0bcd"},{name:"\u0bae\u0ba9\u0ba8\u0bbf\u0bb2\u0bc8",value:"\u0bae\u0ba9\u0ba8\u0bbf\u0bb2\u0bc8"},{name:"\u0baa\u0bbe\u0bb2\u0bbf\u0ba9\u0bae\u0bcd",value:"\u0baa\u0bbe\u0bb2\u0bbf\u0ba9\u0bae\u0bcd"},{name:"\u0bae\u0bbe\u0ba4\u0bae\u0bcd",value:"\u0bae\u0bbe\u0ba4\u0bae\u0bcd"},{name:"\u0b89\u0baf\u0bb0\u0bae\u0bcd",value:"\u0b89\u0baf\u0bb0\u0bae\u0bcd"},{name:"\u0b95\u0bbe\u0bb2\u0baa\u0bc1\u0bb0\u0bc1\u0bb7\u0ba9\u0bc1\u0b95\u0bcd\u0b95\u0bc1",value:"\u0b95\u0bbe\u0bb2\u0baa\u0bc1\u0bb0\u0bc1\u0bb7\u0ba9\u0bc1\u0b95\u0bcd\u0b95\u0bc1"},{name:"\u0baa\u0bbe\u0ba4\u0b95\u0bbe\u0ba4\u0bbf\u0baa\u0ba4\u0bbf",value:"\u0baa\u0bbe\u0ba4\u0b95\u0bbe\u0ba4\u0bbf\u0baa\u0ba4\u0bbf"},{name:"\u0bae\u0bb1\u0bcd\u0bb1\u0bb5\u0bc8",value:"\u0bae\u0bb1\u0bcd\u0bb1\u0bb5\u0bc8"}]}get_All_Signs(){return[{name:"\u0bae\u0bc7\u0bb7\u0bae\u0bcd",value:"\u0bae\u0bc7\u0bb7\u0bae\u0bcd"},{name:"\u0bb0\u0bbf\u0bb7\u0baa\u0bae\u0bcd",value:"\u0bb0\u0bbf\u0bb7\u0baa\u0bae\u0bcd"},{name:"\u0bae\u0bbf\u0ba4\u0bc1\u0ba9\u0bae\u0bcd",value:"\u0bae\u0bbf\u0ba4\u0bc1\u0ba9\u0bae\u0bcd"},{name:"\u0b95\u0b9f\u0b95\u0bae\u0bcd",value:"\u0b95\u0b9f\u0b95\u0bae\u0bcd"},{name:"\u0b9a\u0bbf\u0bae\u0bcd\u0bae\u0bae\u0bcd",value:"\u0b9a\u0bbf\u0bae\u0bcd\u0bae\u0bae\u0bcd"},{name:"\u0b95\u0ba9\u0bcd\u0ba9\u0bbf",value:"\u0b95\u0ba9\u0bcd\u0ba9\u0bbf"},{name:"\u0ba4\u0bc1\u0bb2\u0bbe\u0bae\u0bcd",value:"\u0ba4\u0bc1\u0bb2\u0bbe\u0bae\u0bcd"},{name:"\u0bb5\u0bbf\u0bb0\u0bc1\u0b9a\u0bcd\u0b9a\u0bbf\u0b95\u0bae\u0bcd",value:"\u0bb5\u0bbf\u0bb0\u0bc1\u0b9a\u0bcd\u0b9a\u0bbf\u0b95\u0bae\u0bcd"},{name:"\u0ba4\u0ba9\u0bc1\u0b9a\u0bc1",value:"\u0ba4\u0ba9\u0bc1\u0b9a\u0bc1"},{name:"\u0bae\u0b95\u0bb0\u0bae\u0bcd",value:"\u0bae\u0b95\u0bb0\u0bae\u0bcd"},{name:"\u0b95\u0bc1\u0bae\u0bcd\u0baa\u0bae\u0bcd",value:"\u0b95\u0bc1\u0bae\u0bcd\u0baa\u0bae\u0bcd"},{name:"\u0bae\u0bc0\u0ba9\u0bae\u0bcd",value:"\u0bae\u0bc0\u0ba9\u0bae\u0bcd"}]}get_All_Planets(){return[{name:"ASWINI",value:"aswini"},{name:"MAGAM",value:"magam"},{name:"MOOLAM",value:"moolam"}]}get_All_Houses(){return[{name:"ASWINI",value:"aswini"},{name:"MAGAM",value:"magam"},{name:"MOOLAM",value:"moolam"}]}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),re=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var u=0;u<r.length;u++){if(r[u]==e)return o;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,u=i.getBoundingClientRect(),h=this.getViewport();let p,y;u.top+o+r.height>h.height?(p=-1*r.height,e.style.transformOrigin="bottom",u.top+p<0&&(p=-1*u.top)):(p=o,e.style.transformOrigin="top"),y=r.width>h.width?-1*u.left:u.left+r.width>h.width?-1*(u.left+r.width-h.width):0,e.style.top=p+"px",e.style.left=y+"px"}static absolutePosition(e,i){let N,V,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,u=r.width,h=i.offsetHeight,p=i.offsetWidth,y=i.getBoundingClientRect(),E=this.getWindowScrollTop(),I=this.getWindowScrollLeft(),M=this.getViewport();y.top+h+o>M.height?(N=y.top+E-o,e.style.transformOrigin="bottom",N<0&&(N=E)):(N=h+y.top+E,e.style.transformOrigin="top"),V=y.left+u>M.width?Math.max(0,y.left+I+p-u):y.left+I,e.style.top=N+"px",e.style.left=V+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,u=h=>{let p=window.getComputedStyle(h,null);return o.test(p.getPropertyValue("overflow"))||o.test(p.getPropertyValue("overflowX"))||o.test(p.getPropertyValue("overflowY"))};for(let h of r){let p=1===h.nodeType&&h.dataset.scrollselectors;if(p){let y=p.split(",");for(let E of y){let I=this.findSingle(h,E);I&&u(I)&&i.push(I)}}9!==h.nodeType&&u(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),h=u?parseFloat(u):0,p=e.getBoundingClientRect(),E=i.getBoundingClientRect().top+document.body.scrollTop-(p.top+document.body.scrollTop)-o-h,I=e.scrollTop,M=e.clientHeight,N=this.getOuterHeight(i);E<0?e.scrollTop=I+E:E+N>M&&(e.scrollTop=I+E-M+N)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,u=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var r=1,h=50/i;let p=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(p)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class yS{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=re.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Hg=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(re.removeClass(i,"p-ink-active"),!re.getHeight(i)&&!re.getWidth(i)){let h=Math.max(re.getOuterWidth(this.el.nativeElement),re.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=re.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-re.getWidth(i)/2,u=e.pageY-r.top+document.body.scrollLeft-re.getHeight(i)/2;i.style.top=u+"px",i.style.left=o+"px",re.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&re.removeClass(e,"p-ink-active")}onAnimationEnd(e){re.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),re.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Yc,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})();const xF=["container"],P6=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function F6(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,P6,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function L6(n,t){1&n&&s.GkF(0)}function V6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)}),s._UZ(1,"span",11),s.qZA()}}const B6=function(n){return[n,"p-toast-message"]},U6=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},H6=function(n){return{value:"visible",params:n}},j6=function(n){return{$implicit:n}};function z6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){return s.CHM(e),s.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return s.CHM(e),s.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return s.CHM(e),s.oxw().onAnimationEnd(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let G6=(()=>{class n{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&s.Gf(xF,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,F6,7,10,"ng-container",3),s.YNc(4,L6,1,0,"ng-container",4),s.YNc(5,V6,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(i.message.styleClass),s.Q6J("ngClass",s.VKq(10,B6,"p-toast-message-"+i.message.severity))("@messageState",s.VKq(17,H6,s.l5B(12,U6,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),s.uIk("id",i.message.id),s.xp6(2),s.Q6J("ngClass",i.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(19,j6,i.message)),s.xp6(1),s.Q6J("ngIf",!1!==i.message.closable))},directives:[En,Xt,cs,Hg],encapsulation:2,data:{animation:[Ir("messageState",[$o("visible",qn({transform:"translateY(0)",opacity:1})),tn("void => *",[qn({transform:"{{showTransformParams}}",opacity:0}),Sr("{{showTransitionParams}}")]),tn("* => void",[Sr("{{hideTransitionParams}}",qn({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),KM=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=Oh()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&Ui.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&ot.isEmpty(this.messages)&&Ui.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Ui.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fu),s.Y36(s.sBO),s.Y36(Yc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ha,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(xF,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,z6,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),s.xp6(2),s.Q6J("ngForOf",i.messages))},directives:[G6,En,Mi,hn],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Ir("toastAnimation",[tn(":enter, :leave",[Vd("@*",Ma())])])]},changeDetection:0}),n})(),$6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,hf],To]}),n})(),vS=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,re.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&re.addClass(e,i);let r=this.getIconClass();r&&re.addMultipleClasses(e,r);let o=re.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(re.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),ff=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,hf]]}),n})();const W6=["content"];function Z6(n,t){1&n&&s.GkF(0)}function K6(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,Z6,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Y6(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Oqu(e.option("header"))}}const Q6=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function J6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(4).close(r)}),s._UZ(1,"span",17),s.qZA()}2&n&&s.Q6J("ngClass",s.DdM(1,Q6))}function X6(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,Y6,2,1,"span",12),s.TgZ(2,"div",13),s.YNc(3,J6,2,2,"button",14),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("header")),s.xp6(2),s.Q6J("ngIf",e.closable)}}function ej(n,t){if(1&n&&s._UZ(0,"i",1),2&n){const e=s.oxw(3);s.Tol(e.option("icon")),s.Q6J("ngClass","p-confirm-dialog-icon")}}function tj(n,t){1&n&&s.GkF(0)}function nj(n,t){if(1&n&&(s.TgZ(0,"div",18),s.Hsn(1),s.YNc(2,tj,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}function ij(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).reject()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("rejectButtonStyleClass")),s.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),s.uIk("aria-label",e.rejectAriaLabel)}}function rj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).accept()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("acceptButtonStyleClass")),s.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),s.uIk("aria-label",e.acceptAriaLabel)}}function sj(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,ij,1,6,"button",19),s.YNc(2,rj,1,6,"button",19),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("rejectVisible")),s.xp6(1),s.Q6J("ngIf",e.option("acceptVisible"))}}const oj=function(n){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}},aj=function(n,t){return{transform:n,transition:t}},lj=function(n){return{value:"visible",params:n}};function uj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("mousedown",function(){return s.CHM(e),s.oxw(2).moveOnTop()})("@animation.start",function(r){return s.CHM(e),s.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw(2).onAnimationEnd(r)}),s.YNc(1,K6,2,1,"div",4),s.YNc(2,X6,4,2,"div",4),s.TgZ(3,"div",5,6),s.YNc(5,ej,1,3,"i",7),s._UZ(6,"span",8),s.qZA(),s.YNc(7,nj,3,1,"div",9),s.YNc(8,sj,3,2,"div",9),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.VKq(11,oj,e.rtl))("ngStyle",e.style)("@animation",s.VKq(16,lj,s.WLB(13,aj,e.transformOptions,e.transitionOptions))),s.xp6(1),s.Q6J("ngIf",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.headerTemplate),s.xp6(3),s.Q6J("ngIf",e.option("icon")),s.xp6(1),s.Q6J("innerHTML",e.option("message"),s.oJD),s.xp6(1),s.Q6J("ngIf",e.footer||e.footerTemplate),s.xp6(1),s.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function cj(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,uj,9,18,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",e.getMaskClass()),s.xp6(1),s.Q6J("ngIf",e.visible)}}const dj=[[["p-footer"]]],hj=["p-footer"],fj=Ps([qn({transform:"{{transform}}",opacity:0}),Sr("{{transition}}",qn({transform:"none",opacity:1}))]),pj=Ps([Sr("{{transition}}",qn({transform:"{{transform}}",opacity:0}))]);let YM=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.renderer=i,this.confirmationService=r,this.zone=o,this.cd=u,this.config=h,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new s.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=Oh(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(p=>{p?p.key===this.key&&(this.confirmation=p,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new s.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new s.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){if("visible"===e.toState){this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=re.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const i=this.getElementToFocus();i&&i.focus()}}onAnimationEnd(e){"void"===e.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return re.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return re.findSingle(this.container,".p-confirm-dialog-reject");case"close":return re.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):re.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&re.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&re.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(da.CANCEL),this.hide(da.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(Ui.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{if(27==i.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===Ui.get(this.container)&&this.visible&&this.close(i),9===i.which&&this.focusTrap){i.preventDefault();let r=re.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);i.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&Ui.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(da.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(da.REJECT),this.hide(da.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(Xr.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(Xr.REJECT)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Qc),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(Yc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ZD,5),s.Suo(r,ha,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(W6,5),2&e){let r;s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:hj,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,i){1&e&&(s.F$t(dj),s.YNc(0,cj,2,4,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},directives:[Xt,En,Mi,cs,Hg,vS],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Ir("animation",[tn("void => visible",[Wo(fj)]),tn("visible => void",[Wo(pj)])])]},changeDetection:0}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,ff,hf],ff,To]}),n})();function wS(n,t=0){return function _j(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}var vj=F(1144);const wj=["addListener","removeListener"],bj=["addEventListener","removeEventListener"],Cj=["on","off"];function bS(n,t,e,i){if((0,v.m)(e)&&(i=e,e=void 0),i)return bS(n,t,e).pipe(Rv(i));const[r,o]=function Ij(n){return(0,v.m)(n.addEventListener)&&(0,v.m)(n.removeEventListener)}(n)?bj.map(u=>h=>n[u](t,h,e)):function Ej(n){return(0,v.m)(n.addListener)&&(0,v.m)(n.removeListener)}(n)?wj.map(DF(n,t)):function Tj(n){return(0,v.m)(n.on)&&(0,v.m)(n.off)}(n)?Cj.map(DF(n,t)):[];if(!r&&(0,vj.z)(n))return(0,Vn.z)(u=>bS(u,t,e))((0,yl.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Li.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return r(h),()=>o(h)})}function DF(n,t){return e=>i=>n[e](t,i)}var AF=F(4408);const TC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=TC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new bs.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=TC;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=TC;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var MF=F(7565);const Dj=new class xj extends MF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Sj extends AF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=TC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(TC.cancelAnimationFrame(e),t._scheduled=void 0)}});let QM,Aj=1;const CS={};function kF(n){return n in CS&&(delete CS[n],!0)}const Mj={setImmediate(n){const t=Aj++;return CS[t]=!0,QM||(QM=Promise.resolve()),QM.then(()=>kF(t)&&n()),t},clearImmediate(n){kF(n)}},{setImmediate:kj,clearImmediate:Rj}=Mj,ES={setImmediate(...n){const{delegate:t}=ES;return((null==t?void 0:t.setImmediate)||kj)(...n)},clearImmediate(n){const{delegate:t}=ES;return((null==t?void 0:t.clearImmediate)||Rj)(n)},delegate:void 0},Pj=new class Nj extends MF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Oj extends AF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ES.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ES.clearImmediate(e),t._scheduled=void 0)}});function RF(n){return!!n&&(n instanceof Li.y||(0,v.m)(n.lift)&&(0,v.m)(n.subscribe))}var Lj=F(3532);function JM(n,t=U_.z){return function Fj(n){return(0,m.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}u&&e.complete()},p=()=>{o=null,u&&e.complete()};t.subscribe((0,b.x)(e,y=>{i=!0,r=y,o||(0,yl.Xf)(n(y)).subscribe(o=(0,b.x)(e,h,p))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function Bj(n=0,t,e=U_.P){let i=-1;return null!=t&&((0,Lj.K)(t)?e=t:i=t),new Li.y(r=>{let o=function Vj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}var OF=F(5032);function XM(n){return(0,m.e)((t,e)=>{(0,yl.Xf)(n).subscribe((0,b.x)(e,()=>e.complete(),OF.Z)),!e.closed&&t.subscribe(e)})}let ek;try{ek="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ek=!1}let TS,jg,NF=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Oi(n){return n===Fo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ek)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SC(){if("object"!=typeof document||!document)return 0;if(null==TS){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),TS=0,0===n.scrollLeft&&(n.scrollLeft=1,TS=0===n.scrollLeft?1:2),n.remove()}return TS}const zj=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Gj(){return(0,s.f3M)(de)}}),$j=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let FF=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function qj(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?$j.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zj,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class Kj extends class Wj{}{constructor(t){super(),this._data=t}connect(){return RF(this._data)?this._data:bt(this._data)}disconnect(){}}class Yj{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((u,h,p)=>{let y,E;null==u.previousIndex?(y=this._insertView(()=>i(u,h,p),p,e,r(u)),E=y?1:0):null==p?(this._detachAndCacheView(h,e),E=3):(y=this._moveView(h,p,e,r(u)),E=2),o&&o({context:null==y?void 0:y.context,operation:E,record:u})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const u=t();return i.createEmbeddedView(u.templateRef,u.context,u.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const VF=new s.OlP("_ViewRepeater"),Qj=["contentWrapper"],Jj=["*"],BF=new s.OlP("VIRTUAL_SCROLL_STRATEGY");class Xj{constructor(t,e,i){this._scrolledIndexChange=new mn.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Zw()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),u=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const p=Math.ceil(i/this._itemSize),y=Math.max(0,Math.min(u,r-p));u!=y&&(u=y,o=y*this._itemSize,e.start=Math.floor(u)),e.end=Math.max(0,Math.min(r,e.start+p))}const h=o-e.start*this._itemSize;if(h<this._minBufferPx&&0!=e.start){const p=Math.ceil((this._maxBufferPx-h)/this._itemSize);e.start=Math.max(0,e.start-p),e.end=Math.min(r,Math.ceil(u+(i+this._minBufferPx)/this._itemSize))}else{const p=e.end*this._itemSize-(o+i);if(p<this._minBufferPx&&e.end!=r){const y=Math.ceil((this._maxBufferPx-p)/this._itemSize);y>0&&(e.end=Math.min(r,e.end+y),e.start=Math.max(0,Math.floor(u-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(u))}}function ez(n){return n._scrollStrategy}let nk=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Xj(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=wS(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=wS(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=wS(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s._Bn([{provide:BF,useFactory:ez,deps:[(0,s.Gpc)(()=>n)]}]),s.TTD]}),n})(),UF=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Li.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(JM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(D(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function yj(n){return n instanceof s.SBq?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(NF),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HF=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new mn.x,this._elementScrolled=new Li.y(u=>this.ngZone.runOutsideAngular(()=>bS(this.elementRef.nativeElement,"scroll").pipe(XM(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=SC()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==SC()?e.left=e.right:1==SC()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function Hj(){if(null==jg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jg=!1,jg;if("scrollBehavior"in document.documentElement.style)jg=!0;else{const n=Element.prototype.scrollTo;jg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return jg}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==SC()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==SC()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(UF),s.Y36(s.R0b),s.Y36(FF,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),iz=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new mn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(JM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(NF),s.LFG(s.R0b),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sz="undefined"!=typeof requestAnimationFrame?Dj:Pj;let zg=(()=>{class n extends HF{constructor(e,i,r,o,u,h,p){super(e,h,r,u),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new mn.x,this._renderedRangeSubject=new mn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Li.y(y=>this._scrollStrategy.scrolledIndexChange.subscribe(E=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(E))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=bs.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function mj(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Mu(null),JM(0,sz)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(XM(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function rz(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,u=o?"X":"Y";let p=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(p+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(BF,8),s.Y36(FF,8),s.Y36(UF),s.Y36(iz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qj,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s._Bn([{provide:HF,useExisting:n}]),s.qOj],ngContentSelectors:Jj,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function jF(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let ik=(()=>{class n{constructor(e,i,r,o,u,h){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=u,this.viewChange=new mn.x,this._dataSourceChanges=new mn.x,this.dataStream=this._dataSourceChanges.pipe(Mu(null),Hp(),Vi(([p,y])=>this._changeDataSource(p,y)),E_(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new mn.x,this.dataStream.subscribe(p=>{this._data=p,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(XM(this._destroyed)).subscribe(p=>{this._renderedRange=p,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Zj(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new Kj(RF(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=wS(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let u,h;for(let p=0;p<o;p++){const y=this._viewContainerRef.get(p+r);if(y&&y.rootNodes.length){u=h=y.rootNodes[0];break}}for(let p=o-1;p>-1;p--){const y=this._viewContainerRef.get(p+r);if(y&&y.rootNodes.length){h=y.rootNodes[y.rootNodes.length-1];break}}return u&&h?jF(i,"end",h)-jF(i,"start",u):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):bt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,u,h)=>this._getEmbeddedViewArgs(o,h),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(VF),s.Y36(zg,4),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[s._Bn([{provide:VF,useClass:Yj}])]}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Gy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[LF,zF],LF,zF]}),n})(),GF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Gg=(()=>{class n extends GF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Is=new s.OlP("NgValueAccessor"),lz={provide:Is,useExisting:(0,s.Gpc)(()=>$g),multi:!0},cz=new s.OlP("CompositionEventMode");let $g=(()=>{class n extends GF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uz(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(cz,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([lz]),s.qOj]}),n})();const Ss=new s.OlP("NgValidators"),gf=new s.OlP("NgAsyncValidators");function tL(n){return null!=n}function nL(n){const t=(0,s.QGY)(n)?(0,Ln.D)(n):n;return(0,s.CqO)(t),t}function iL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function rL(n,t){return t.map(e=>e(n))}function sL(n){return n.map(t=>function hz(n){return!n.validate}(t)?t:e=>t.validate(e))}function rk(n){return null!=n?function oL(n){if(!n)return null;const t=n.filter(tL);return 0==t.length?null:function(e){return iL(rL(e,t))}}(sL(n)):null}function sk(n){return null!=n?function aL(n){if(!n)return null;const t=n.filter(tL);return 0==t.length?null:function(e){return function oz(...n){const t=(0,ta.jO)(n),{args:e,keys:i}=T0(n),r=new Li.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let p=u,y=u;for(let E=0;E<u;E++){let I=!1;(0,yl.Xf)(e[E]).subscribe((0,b.x)(o,M=>{I||(I=!0,y--),h[E]=M},()=>p--,void 0,()=>{(!p||!I)&&(y||o.next(i?Ov(i,h):h),o.complete())}))}});return t?r.pipe(Rv(t)):r}(rL(e,t).map(nL)).pipe((0,k.U)(iL))}}(sL(n)):null}function lL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ok(n){return n?Array.isArray(n)?n:[n]:[]}function SS(n,t){return Array.isArray(n)?n.includes(t):n===t}function dL(n,t){const e=ok(t);return ok(n).forEach(r=>{SS(e,r)||e.push(r)}),e}function hL(n,t){return ok(t).filter(e=>!SS(n,e))}class fL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=sk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class pd extends fL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Js extends fL{get formDirective(){return null}get path(){return null}}class pL{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let $y=(()=>{class n extends pL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pd,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),gL=(()=>{class n extends pL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Js,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function xC(n,t){uk(n,t),t.valueAccessor.writeValue(n.value),function wz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_L(n,t)})}(n,t),function Cz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function bz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_L(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function vz(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function MS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uk(n,t){const e=function uL(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(lL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function cL(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(lL(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();MS(t._rawValidators,r),MS(t._rawAsyncValidators,r)}function _L(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const DC="VALID",RS="INVALID",qy="PENDING",AC="DISABLED";function pk(n){return(OS(n)?n.validators:n)||null}function bL(n){return Array.isArray(n)?rk(n):n||null}function gk(n,t){return(OS(t)?t.asyncValidators:n)||null}function CL(n){return Array.isArray(n)?sk(n):n||null}function OS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const mk=n=>n instanceof yk;function TL(n){return(n=>n instanceof xL)(n)?n.value:n.getRawValue()}function IL(n,t){const e=mk(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function SL(n,t){mk(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class _k{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=bL(this._rawValidators),this._composedAsyncValidatorFn=CL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===DC}get invalid(){return this.status===RS}get pending(){return this.status==qy}get disabled(){return this.status===AC}get enabled(){return this.status!==AC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=bL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=CL(t)}addValidators(t){this.setValidators(dL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hL(t,this._rawAsyncValidators))}hasValidator(t){return SS(this._rawValidators,t)}hasAsyncValidator(t){return SS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=AC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=DC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===DC||this.status===qy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?AC:DC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qy,this._hasOwnPendingAsyncValidator=!0;const e=nL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Sz(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=mk(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Dz)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?AC:this.errors?RS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qy)?qy:this._anyControlsHaveStatus(RS)?RS:DC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){OS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xL extends _k{constructor(t=null,e,i){super(pk(e),gk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OS(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class yk extends _k{constructor(t,e,i){super(pk(e),gk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){SL(this,t),Object.keys(t).forEach(i=>{IL(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=TL(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Dz extends _k{constructor(t,e,i){super(pk(e),gk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){SL(this,t),t.forEach((i,r)=>{IL(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>TL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Az={provide:Js,useExisting:(0,s.Gpc)(()=>NS)},MC=(()=>Promise.resolve(null))();let NS=(()=>{class n extends Js{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new yk({},rk(e),sk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){MC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),xC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){MC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){MC.then(()=>{const i=this._findContainer(e.path),r=new yk({});(function yL(n,t){uk(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){MC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){MC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function wL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ss,10),s.Y36(gf,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Az]),s.qOj]}),n})();const kz={provide:pd,useExisting:(0,s.Gpc)(()=>gd)},ML=(()=>Promise.resolve(null))();let gd=(()=>{class n extends pd{constructor(e,i,r,o,u){super(),this._changeDetectorRef=u,this.control=new xL,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function dk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===$g?e=o:function Iz(n){return Object.getPrototypeOf(n.constructor)===Gg}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function ck(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ML.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;ML.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function DS(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Js,9),s.Y36(Ss,10),s.Y36(gf,10),s.Y36(Is,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([kz]),s.qOj,s.TTD]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),nG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[OL]]}),n})(),PS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nG]}),n})(),iG=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?re.appendChild(this.container,this.el.nativeElement):re.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),re.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Ui.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Ui.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+re.getWindowScrollLeft(),top:e.top+re.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+re.getOuterWidth(this.el.nativeElement),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-re.getOuterWidth(this.container),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top-re.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top+re.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return re.hasClass(e,"p-inputwrapper")?re.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=re.getOuterWidth(this.container),u=re.getOuterHeight(this.container),h=re.getViewport();return r+o>h.width||r<0||i<0||i+u>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):re.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Ui.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Yc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),rG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})();function sG(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function oG(n,t){1&n&&s.GkF(0)}const QL=function(n){return{height:n}},aG=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},Ik=function(n){return{$implicit:n}},lG=["container"],uG=["filter"],cG=["in"],dG=["editableInput"];function hG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function fG(n,t){1&n&&s.GkF(0)}const pG=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function gG(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,hG,2,1,"ng-container",13),s.YNc(2,fG,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,pG,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,Ik,e.selectedOption))}}const mG=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function _G(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,mG,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function yG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){return s.CHM(e),s.oxw().onEditableInputClick()})("input",function(r){return s.CHM(e),s.oxw().onEditableInputChange(r)})("focus",function(r){return s.CHM(e),s.oxw().onEditableInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function vG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function wG(n,t){1&n&&s.GkF(0)}function bG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(2,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return s.CHM(e),s.oxw(2).onKeydown(r,!1)})("input",function(r){return s.CHM(e),s.oxw(2).onFilterInputChange(r)}),s.qZA(),s._UZ(4,"span",30),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function CG(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function EG(n,t){1&n&&s.GkF(0)}function TG(n,t){1&n&&s.GkF(0)}const JL=function(n,t){return{$implicit:n,selectedOption:t}};function IG(n,t){if(1&n&&(s.TgZ(0,"li",32),s.YNc(1,CG,2,1,"span",13),s.YNc(2,EG,1,0,"ng-container",14),s.qZA(),s.YNc(3,TG,1,0,"ng-container",14)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(8),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,Ik,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(7,JL,r.getOptionGroupChildren(e),r.selectedOption))}}function SG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,IG,4,10,"ng-template",31),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToDisplay)}}function xG(n,t){1&n&&s.GkF(0)}function DG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,xG,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(8),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(2,JL,i.optionsToDisplay,i.selectedOption))}}function AG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onItemClick(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).selectedOption,r=s.oxw(2);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function MG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,AG,1,5,"ng-template",31),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function kG(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onItemClick(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(3).selectedOption,r=s.oxw(2);s.xp6(1),s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function RG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",37,38),s.NdJ("scrolledIndexChange",function(){return s.CHM(e),s.oxw(4).scrollToSelectedVirtualScrollElement()}),s.YNc(2,kG,2,5,"ng-container",39),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,QL,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function OG(n,t){if(1&n&&s.YNc(0,RG,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function NG(n,t){if(1&n&&(s.YNc(0,MG,2,1,"ng-container",33),s.YNc(1,OG,1,1,"ng-template",null,34,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function PG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function FG(n,t){1&n&&s.GkF(0,null,41)}function LG(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,PG,2,1,"ng-container",33),s.YNc(2,FG,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function VG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function BG(n,t){1&n&&s.GkF(0,null,42)}function UG(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,VG,2,1,"ng-container",33),s.YNc(2,BG,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function HG(n,t){1&n&&s.GkF(0)}const jG=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},zG=function(n){return{value:"visible",params:n}},GG=function(n){return{"p-dropdown-virtualscroll":n}};function $G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(1,wG,1,0,"ng-container",20),s.YNc(2,bG,5,4,"div",21),s.TgZ(3,"div",22)(4,"ul",23),s.YNc(5,SG,2,1,"ng-container",13),s.YNc(6,DG,2,5,"ng-container",13),s.YNc(7,NG,3,2,"ng-template",null,24,s.W1O),s.YNc(9,LG,3,3,"li",25),s.YNc(10,UG,3,3,"li",25),s.qZA()(),s.YNc(11,HG,1,0,"ng-container",20),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(19,zG,s.WLB(16,jG,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(21,GG,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngIf",!e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const qG=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},WG={provide:Is,useExisting:(0,s.Gpc)(()=>kC),multi:!0};let ZG=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,sG,2,1,"span",1),s.YNc(2,oG,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,QL,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,aG,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,Ik,i.option)))},directives:[Hg,Mi,En,Xt,cs],encapsulation:2}),n})(),kC=(()=>{class n{constructor(e,i,r,o,u,h,p){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=u,this.config=h,this.overlayService=p,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=Oh()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Xr.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Xr.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}re.findSingle(this.overlay,"li.p-highlight")&&re.scrollInView(this.itemsWrapper,re.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return re.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=re.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Ui.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=re.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Ui.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?re.absolutePosition(this.overlay,this.containerViewChild.nativeElement):re.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let u=this.optionsToDisplay[r.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||ot.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let u=0;u<i.length&&(r=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let u of i)if(o=this.findOption(e,this.getOptionGroupChildren(u),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:o}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?re.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():re.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!re.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Ui.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Ww),s.Y36(Yc),s.Y36(Lu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ha,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(lG,5),s.Gf(uG,5),s.Gf(cG,5),s.Gf(zg,5),s.Gf(dG,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[s._Bn([WG])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,gG,3,13,"span",5),s.YNc(6,_G,2,4,"span",6),s.YNc(7,yG,2,4,"input",7),s.YNc(8,vG,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,$G,12,23,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(20,qG,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[ZG,zg,En,Mi,Xt,iG,cs,hn,nk,ik],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Ir("overlayAnimation",[tn(":enter",[qn({opacity:0,transform:"scaleY(0.8)"}),Sr("{{showTransitionParams}}")]),tn(":leave",[Sr("{{hideTransitionParams}}",qn({opacity:0}))])])]},changeDetection:0}),n})(),FS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,To,Gy,rG,hf],To,Gy]}),n})(),LS=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gd,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),VS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})();const KG=["container"],YG=["in"],QG=["multiIn"],JG=["multiContainer"],XG=["ddBtn"],e$=function(n,t){return{"p-autocomplete-dd-input":n,"p-disabled":t}};function t$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",8,9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",s.WLB(20,e$,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),s.uIk("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("autofocus",e.autofocus)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function n$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function i$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function r$(n,t){1&n&&s.GkF(0)}function s$(n,t){if(1&n&&(s.TgZ(0,"span",22),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function o$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",23),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(1);return s.oxw(2).removeItem(r)}),s.qZA()}}const BS=function(n){return{$implicit:n}};function a$(n,t){if(1&n&&(s.TgZ(0,"li",17,18),s.YNc(2,r$,1,0,"ng-container",19),s.YNc(3,s$,2,1,"span",20),s.YNc(4,o$,1,0,"span",21),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(4,BS,e)),s.xp6(1),s.Q6J("ngIf",!i.selectedItemTemplate),s.xp6(1),s.Q6J("ngIf",!i.disabled&&!i.readonly)}}const l$=function(n,t){return{"p-disabled":n,"p-focus":t}};function u$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ul",11,12),s.NdJ("click",function(){return s.CHM(e),s.MAs(5).focus()}),s.YNc(2,a$,5,6,"li",13),s.TgZ(3,"li",14)(4,"input",15,16),s.NdJ("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()()()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.WLB(20,l$,e.disabled,e.focus)),s.xp6(2),s.Q6J("ngForOf",e.value),s.xp6(2),s.Tol(e.inputStyleClass),s.Q6J("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),s.uIk("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("autofocus",e.autofocus)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function c$(n,t){1&n&&s._UZ(0,"i",24)}function d$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25,26),s.NdJ("click",function(r){return s.CHM(e),s.oxw().handleDropdownClick(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("icon",e.dropdownIcon)("disabled",e.disabled),s.uIk("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex)}}function h$(n,t){1&n&&s.GkF(0)}function f$(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function p$(n,t){1&n&&s.GkF(0)}function g$(n,t){1&n&&s.GkF(0)}function m$(n,t){if(1&n&&(s.TgZ(0,"li",34),s.YNc(1,f$,2,1,"span",31),s.YNc(2,p$,1,0,"ng-container",19),s.qZA(),s.YNc(3,g$,1,0,"ng-container",19)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(7),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,BS,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(7,BS,r.getOptionGroupChildren(e)))}}function _$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,m$,4,9,"ng-template",33),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.suggestions)}}function y$(n,t){1&n&&s.GkF(0)}function v$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,y$,1,0,"ng-container",19),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.VKq(2,BS,i.suggestions))}}function w$(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function b$(n,t){1&n&&s.GkF(0)}const XL=function(n){return{"p-highlight":n}},e2=function(n,t){return{$implicit:n,index:t}};function C$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",39),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(4).selectItem(o)}),s.YNc(1,w$,2,1,"span",31),s.YNc(2,b$,1,0,"ng-container",19),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(5,XL,e===r.highlightOption))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(7,e2,e,i))}}function E$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,C$,3,10,"li",38),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function T$(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(5);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function I$(n,t){1&n&&s.GkF(0)}const t2=function(n){return{height:n}};function S$(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"li",43),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(5).selectItem(o)}),s.YNc(2,T$,2,1,"span",31),s.YNc(3,I$,1,0,"ng-container",19),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(5);s.xp6(1),s.Q6J("ngClass",s.VKq(6,XL,e===r.highlightOption))("ngStyle",s.VKq(8,t2,r.itemSize+"px"))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(10,e2,e,i))}}function x$(n,t){if(1&n&&(s.TgZ(0,"cdk-virtual-scroll-viewport",41),s.YNc(1,S$,4,13,"ng-container",42),s.qZA()),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,t2,i.scrollHeight))("itemSize",i.itemSize),s.xp6(1),s.Q6J("cdkVirtualForOf",e)}}function D$(n,t){if(1&n&&s.YNc(0,x$,2,5,"cdk-virtual-scroll-viewport",40),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&!e.noResults)}}function A$(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function M$(n,t){1&n&&s.GkF(0,null,45)}function k$(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,A$,2,1,"ng-container",35),s.YNc(2,M$,2,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function R$(n,t){if(1&n&&(s.YNc(0,E$,2,1,"ng-container",35),s.YNc(1,D$,1,1,"ng-template",null,36,s.W1O),s.YNc(3,k$,3,3,"li",37)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.noResults&&i.showEmptyMessage)}}function O$(n,t){1&n&&s.GkF(0)}const N$=function(){return["p-autocomplete-panel p-component"]},P$=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},F$=function(n){return{value:"visible",params:n}},L$=function(n){return{"p-autocomplete-virtualscroll":n}};function V$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27,28),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(2,h$,1,0,"ng-container",29),s.TgZ(3,"ul",30),s.YNc(4,_$,2,1,"ng-container",31),s.YNc(5,v$,2,4,"ng-container",31),s.YNc(6,R$,4,3,"ng-template",null,32,s.W1O),s.qZA(),s.YNc(8,O$,1,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight),s.Q6J("ngClass",s.DdM(13,N$))("ngStyle",e.panelStyle)("@overlayAnimation",s.VKq(17,F$,s.WLB(14,P$,e.showTransitionOptions,e.hideTransitionOptions))),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngClass",s.VKq(19,L$,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const B$=function(n,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":n,"p-autocomplete-multiple":t}},U$={provide:Is,useExisting:(0,s.Gpc)(()=>Sk),multi:!0};let Sk=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.renderer=i,this.cd=r,this.differs=o,this.config=u,this.overlayService=h,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.completeMethod=new s.vpe,this.onSelect=new s.vpe,this.onUnselect=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onDropdownClick=new s.vpe,this.onClear=new s.vpe,this.onKeyUp=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=o.find([]).create(null),this.listId=Oh()+"_list"}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let e=re.findSingle(this.overlay,"li.p-highlight");if(e&&re.scrollInView(this.itemsWrapper,e),this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}updateVirtualScrollSelectedIndex(){this.highlightOption&&this.suggestions&&this.suggestions.length&&(this.virtualScrollSelectedIndex=this.findOptionIndex(this.highlightOption,this.suggestions))}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&re.isIE())return;this.timeout&&clearTimeout(this.timeout);let i=e.target.value;this.inputValue=i,!this.multiple&&!this.forceSelection&&this.onModelChange(i),0===i.length&&!this.multiple&&(this.hide(),this.onClear.emit(e),this.onModelChange(i)),i.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,i)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,i){null!=i&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i}))}selectItem(e,i=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(e)||!this.unique)&&(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(e),this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),i&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.itemsWrapper=this.virtualScroll?re.findSingle(this.overlay,".cdk-virtual-scroll-viewport"):this.overlay,this.appendOverlay(),this.autoZIndex&&Ui.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Ui.clear(e.element)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){let i=this.field?ot.resolveFieldData(e,this.field):e;return void 0!==i?i:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?re.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):re.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let i=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,i),this.onDropdownClick.emit({originalEvent:e,query:i})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Xr.EMPTY_MESSAGE)}removeItem(e){let i=re.index(e),r=this.value[i];this.value=this.value.filter((o,u)=>u!=i),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}onKeydown(e){if(this.overlayVisible)switch(e.which){case 40:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.suggestions[r.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0):this.suggestions[r.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=r){var i=r+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}e.preventDefault();break;case 38:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0;else if(o<0){let u=this.suggestions[r.groupIndex-1];u&&(this.highlightOption=this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1],this.highlightOptionChanged=!0)}}}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);r>0&&(this.highlightOption=this.suggestions[r-1],this.highlightOptionChanged=!0)}e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===e.which&&this.suggestions?this.search(e,e.target.value):e.ctrlKey&&"z"===e.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):e.ctrlKey&&"z"===e.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===e.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const r=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let i=!1,r=e.target.value.trim();if(this.suggestions)for(let o of this.suggestions){let u=this.field?ot.resolveFieldData(o,this.field):o;if(u&&r===u.trim()){i=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(o,!1)},250);break}}i||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let i=!1;if(this.value&&this.value.length)for(let r=0;r<this.value.length;r++)if(ot.equals(this.value[r],e,this.dataKey)){i=!0;break}return i}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(ot.equals(e,i[o])){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let u=0;u<i.length&&(r=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.resolveFieldData(this.value);this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{3!==i.which&&(!this.inputClick&&!this.isDropdownClick(i)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let i=e.target;return i===this.dropdownButton.nativeElement||i.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Ui.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.ZZ4),s.Y36(Yc),s.Y36(Lu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-autoComplete"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ha,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(KG,5),s.Gf(YG,5),s.Gf(QG,5),s.Gf(JG,5),s.Gf(XG,5),s.Gf(zg,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerEL=r.first),s.iGM(r=s.CRH())&&(i.inputEL=r.first),s.iGM(r=s.CRH())&&(i.multiInputEL=r.first),s.iGM(r=s.CRH())&&(i.multiContainerEL=r.first),s.iGM(r=s.CRH())&&(i.dropdownButton=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus&&!i.disabled||i.overlayVisible)("p-autocomplete-clearable",i.showClear&&!i.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",virtualScroll:"virtualScroll",itemSize:"itemSize",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",scrollHeight:"scrollHeight",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[s._Bn([U$])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-autocomplete-empty-message",4,"ngIf"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","ngStyle","id","click"],[1,"p-autocomplete-empty-message"],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"span",0,1),s.YNc(2,t$,2,23,"input",2),s.YNc(3,n$,1,0,"i",3),s.YNc(4,i$,1,0,"i",3),s.YNc(5,u$,6,23,"ul",4),s.YNc(6,c$,1,0,"i",5),s.YNc(7,d$,2,4,"button",6),s.YNc(8,V$,9,21,"div",7),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(11,B$,i.dropdown,i.multiple))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.multiple),s.xp6(1),s.Q6J("ngIf",!i.multiple&&i.inputValue&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.value&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.dropdown),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[zg,En,Mi,Xt,hn,cs,vS,Hg,nk,ik],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ir("overlayAnimation",[tn(":enter",[qn({opacity:0,transform:"scaleY(0.8)"}),Sr("{{showTransitionParams}}")]),tn(":leave",[Sr("{{hideTransitionParams}}",qn({opacity:0}))])])]},changeDetection:0}),n})(),H$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,VS,ff,To,hf,Gy],To,Gy]}),n})(),xk=(()=>{class n{constructor(e,i,r,o){this.el=e,this.ngModel=i,this.control=r,this.cd=o,this.onResize=new s.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gd,8),s.Y36(pd,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)})("focus",function(o){return i.onFocus(o)})("blur",function(o){return i.onBlur(o)}),2&e&&s.ekj("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),n})(),j$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})();const z$=["input"];function G$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}const n2=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},r2=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function $$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,n2))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,r2))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function q$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,n2))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function W$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,r2))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Z$=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},K$={provide:Is,useExisting:(0,s.Gpc)(()=>s2),multi:!0};let s2=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,u=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(u).length||(this.updateInput(u,null,"spin",null),this.updateModel(e,u),this.handleOnInput(e,o,u))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,u=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:u=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,u);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:p,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i-1,i-1):u=o.slice(0,i-1)+o.slice(i);else if(p>0&&i>p){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";u=o.slice(0,i-1)+I+o.slice(i)}else 1===y?(u=o.slice(0,i-1)+"0"+o.slice(i),u=this.parseValue(u)>0?u:""):u=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,u,null,"delete-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:p,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i+1,i+1):u=o.slice(0,i)+o.slice(i+1);else if(p>0&&i>p){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";u=o.slice(0,i)+I+o.slice(i+1)}else 1===y?(u=o.slice(0,i)+"0"+o.slice(i+1),u=this.parseValue(u)>0?u:""):u=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,u,null,"delete-back-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),u=this.isMinusSign(r);(48<=i&&i<=57||u||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:u})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const u=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:u}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let u=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,p=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:E,suffixCharIndex:I,currencyCharIndex:M}=this.getCharIndexes(p);let N;if(r.isMinusSign)0===u&&(N=p,(-1===E||0!==h)&&(N=this.insertText(p,i,0,h)),this.updateValue(e,N,i,"insert"));else if(r.isDecimalSign)y>0&&u===y?this.updateValue(e,p,i,"insert"):(y>u&&y<h||-1===y&&this.maxFractionDigits)&&(N=this.insertText(p,i,u,h),this.updateValue(e,N,i,"insert"));else{const V=this.numberFormat.resolvedOptions().maximumFractionDigits,Q=u!==h?"range-insert":"insert";if(y>0&&u>y){if(u+i.length-(y+1)<=V){const ye=M>=u?M-1:I>=u?I:p.length;N=p.slice(0,u)+i+p.slice(u+i.length,ye)+p.slice(ye),this.updateValue(e,N,i,Q)}}else N=this.insertText(p,i,u,h),this.updateValue(e,N,i,Q)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,u=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=u;let h=i.charAt(e);if(this.isNumeralChar(h))return e+u;let p=e-1;for(;p>=0;){if(h=i.charAt(p),this.isNumeralChar(h)){o=p+u;break}p--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(p=e;p<r;){if(h=i.charAt(p),this.isNumeralChar(h)){o=p+u;break}p++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let u=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,u,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let u=this.input.nativeElement.value,h=this.formatValue(e),p=u.length;if(h!==o&&(h=this.concatValues(h,o)),0===p){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const E=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(E,E)}else{let y=this.input.nativeElement.selectionStart,E=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let I=h.length;if("range-insert"===r){const M=this.parseValue((u||"").slice(0,y)),V=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),Q=new RegExp(V,"g");Q.test(h);const ye=i.split("").join(`(${this.groupChar})?`),je=new RegExp(ye,"g");je.test(h.slice(Q.lastIndex)),E=Q.lastIndex+je.lastIndex,this.input.nativeElement.setSelectionRange(E,E)}else if(I===p)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(E+1,E+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(E-1,E-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(E,E);else if("delete-back-single"===r){let M=u.charAt(E-1),N=u.charAt(E),V=p-I,Q=this._group.test(N);Q&&1===V?E+=1:!Q&&this.isNumeralChar(M)&&(E+=-1*V+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(E,E)}else if("-"===u&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const N=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(N,N)}else E+=I-p,this.input.nativeElement.setSelectionRange(E,E)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(z$,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([K$]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,G$,1,0,"i",3),s.YNc(4,$$,3,12,"span",4),s.YNc(5,q$,1,6,"button",5),s.YNc(6,W$,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,Z$,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[En,Mi,LS,Xt,vS],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,VS,ff]]}),n})();function Y$(n,t){1&n&&s.GkF(0)}const Ak=function(n){return{$implicit:n}};function Q$(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,Y$,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,Ak,e.paginatorState))}}function J$(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const US=function(n){return{"p-disabled":n}};function X$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToFirst(r)}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,US,e.isFirstPage()||e.empty()))}}const e4=function(n){return{"p-highlight":n}};function t4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(3).onPageLinkClick(r,u-1)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,e4,e-1==i.getPage())),s.xp6(1),s.Oqu(e)}}function n4(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,t4,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function r4(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function s4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){return s.CHM(e),s.oxw(2).onPageDropdownChange(r)}),s.YNc(1,r4,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function o4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToLast(r)}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,US,e.isLastPage()||e.empty()))}}function a4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).changePage(r-1)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function l4(n,t){1&n&&s.GkF(0)}function u4(n,t){if(1&n&&s.YNc(0,l4,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,Ak,e))}}function c4(n,t){1&n&&(s.ynx(0),s.YNc(1,u4,1,4,"ng-template",30),s.BQk())}function d4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).rows=r})("onChange",function(r){return s.CHM(e),s.oxw(2).onRppChange(r)}),s.YNc(1,c4,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function h4(n,t){1&n&&s.GkF(0)}function f4(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,h4,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,Ak,e.paginatorState))}}function p4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,Q$,2,4,"div",2),s.YNc(2,J$,2,1,"span",3),s.YNc(3,X$,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToPrev(r)}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,n4,2,1,"span",7),s.YNc(7,s4,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToNext(r)}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,o4,2,4,"button",11),s.YNc(11,a4,1,2,"p-inputNumber",12),s.YNc(12,d4,2,6,"p-dropdown",13),s.YNc(13,f4,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,US,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,US,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let g4=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,p4,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[kC,s2,Xt,Mi,En,cs,Hg,hn,$y,gd,ha],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,FS,Dk,PS,To,hf],FS,Dk,PS,To]}),n})();function _4(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function y4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,_4,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function v4(n,t){1&n&&s.GkF(0)}const w4=function(n,t){return{$implicit:n,index:t}};function b4(n,t){if(1&n&&s.YNc(0,v4,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,w4,i,r))}}const C4=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function E4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),u=o.$implicit,h=o.index;return s.oxw().onItemClick(r,u,h)})("keydown.enter",function(r){const o=s.CHM(e),u=o.$implicit,h=o.index;return s.oxw().onItemClick(r,u,h)})("blur",function(){return s.CHM(e),s.oxw().onBlur()}),s.YNc(2,y4,4,2,"ng-container",4),s.YNc(3,b4,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,C4,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const T4={provide:Is,useExisting:(0,s.Gpc)(()=>I4),multi:!0};let I4=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let o=this.getOptionValue(i);this.value!==o&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!ot.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let o of this.value)if(ot.equals(o,r,this.dataKey)){i=!0;break}}else i=ot.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([T4])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,E4,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},directives:[En,Mi,hn,Hg,Xt,cs],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,hf]]}),n})();const x4=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function D4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),u=s.MAs(3);return o.onClick(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,x4,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const A4=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},M4=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},k4={provide:Is,useExisting:(0,s.Gpc)(()=>R4),multi:!0};let R4=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([k4])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(u){return i.onKeyup(u)})("keydown",function(u){return i.onKeydown(u)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(u){s.CHM(r);const h=s.MAs(3);return i.onClick(u,h)}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,D4,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,A4,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,M4,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},directives:[Mi,En,Xt],encapsulation:2,changeDetection:0}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn]]}),n})();const N4=["container"],P4=["inputfield"],F4=["contentWrapper"];function L4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).clear()}),s.qZA()}}function V4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1);return s.oxw().onButtonClick(r,o)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function B4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("keydown",function(r){return s.CHM(e),s.oxw().onInputKeydown(r)})("click",function(){return s.CHM(e),s.oxw().onInputClick()})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("input",function(r){return s.CHM(e),s.oxw().onUserInput(r)}),s.qZA(),s.YNc(2,L4,1,0,"i",6),s.YNc(3,V4,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function U4(n,t){1&n&&s.GkF(0)}function H4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(4).onPrevButtonClick(r)}),s._UZ(1,"span",31),s.qZA()}}function j4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToMonthView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function z4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToYearView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function G4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function $4(n,t){1&n&&s.GkF(0)}const o2=function(n){return{$implicit:n}};function q4(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,G4,2,2,"ng-container",13),s.YNc(2,$4,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,o2,e.yearPickerValues))}}function W4(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function Z4(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function K4(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function Y4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function Q4(n,t){1&n&&s.GkF(0)}const J4=function(n,t){return{"p-highlight":n,"p-disabled":t}};function X4(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(6).onDateSelect(r,o)})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.oxw(3).index;return s.oxw(3).onDateCellKeydown(r,o,u)}),s.YNc(2,Y4,2,1,"ng-container",13),s.YNc(3,Q4,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,J4,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,o2,e))}}const eq=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function tq(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,X4,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,eq,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function nq(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,K4,3,1,"td",43),s.YNc(2,tq,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function iq(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,W4,3,1,"th",38),s.YNc(5,Z4,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,nq,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,H4,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,j4,2,2,"button",24),s.YNc(5,z4,2,2,"button",25),s.YNc(6,q4,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).onNextButtonClick(r)}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,iq,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}const a2=function(n){return{"p-highlight":n}};function sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const u=s.CHM(e).index;return s.oxw(4).onMonthSelect(r,u)})("keydown",function(r){const u=s.CHM(e).index;return s.oxw(4).onMonthCellKeydown(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(2,a2,r.isMonthSelected(i))),s.xp6(1),s.hij(" ",e," ")}}function oq(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,sq,2,4,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}function aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(4).onYearSelect(r,u)})("keydown",function(r){const u=s.CHM(e).$implicit;return s.oxw(4).onYearCellKeydown(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,a2,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function lq(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,aq,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function uq(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,rq,10,7,"div",17),s.qZA(),s.YNc(3,oq,2,1,"div",18),s.YNc(4,lq,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function cq(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function dq(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function hq(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function fq(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function pq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,fq,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function gq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,cq,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,dq,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,hq,3,1,"div",62),s.YNc(21,pq,8,2,"div",63),s.YNc(22,gq,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const l2=function(n){return[n]};function _q(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onTodayButtonClick(r)}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onClearButtonClick(r)}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,l2,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,l2,e.clearButtonStyleClass))}}function yq(n,t){1&n&&s.GkF(0)}const vq=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},u2=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},wq=function(n){return{value:"visibleTouchUI",params:n}},bq=function(n){return{value:"visible",params:n}};function Cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationDone(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.Hsn(2),s.YNc(3,U4,1,0,"ng-container",12),s.YNc(4,uq,5,3,"ng-container",13),s.YNc(5,mq,23,8,"div",14),s.YNc(6,_q,3,8,"div",15),s.Hsn(7,1),s.YNc(8,yq,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,vq,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,wq,s.WLB(18,u2,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,bq,s.WLB(23,u2,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Eq=[[["p-header"]],[["p-footer"]]],Tq=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},Iq=["p-header","p-footer"],Sq={provide:Is,useExisting:(0,s.Gpc)(()=>xq),multi:!0};let xq=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=u,this.overlayService=h,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(p,y){return"12"==this.hourFormat?12===p?y?12:0:y?p+12:p:p}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=Oh();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=re.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(Xr.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,u=i;o>11&&(o=o%11-1,u=i+1),this.months.push(this.createMonth(o,u))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),u=this.getDaysCountInMonth(e,i),h=this.getDaysCountInPrevMonth(e,i),p=1,y=new Date,E=[],I=Math.ceil((u+o)/7);for(let M=0;M<I;M++){let N=[];if(0==M){for(let Q=h-o+1;Q<=h;Q++){let ye=this.getPreviousMonthAndYear(e,i);N.push({day:Q,month:ye.month,year:ye.year,otherMonth:!0,today:this.isToday(y,Q,ye.month,ye.year),selectable:this.isSelectable(Q,ye.month,ye.year,!0)})}let V=7-N.length;for(let Q=0;Q<V;Q++)N.push({day:p,month:e,year:i,today:this.isToday(y,p,e,i),selectable:this.isSelectable(p,e,i,!1)}),p++}else for(let V=0;V<7;V++){if(p>u){let Q=this.getNextMonthAndYear(e,i);N.push({day:p-u,month:Q.month,year:Q.year,otherMonth:!0,today:this.isToday(y,p-u,Q.month,Q.year),selectable:this.isSelectable(p-u,Q.month,Q.year,!0)})}else N.push({day:p,month:e,year:i,today:this.isToday(y,p,e,i),selectable:this.isSelectable(p,e,i,!1)});p++}this.showWeek&&E.push(this.getWeekNumber(new Date(N[0].year,N[0].month,N[0].day))),r.push(N)}return{month:e,year:i,dates:r,weekNumbers:E}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let u=new Date(r.year,r.month,r.day);return e.getTime()<=u.getTime()&&i.getTime()>=u.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let u=!0,h=!0,p=!0,y=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(u=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(h=!1),this.disabledDates&&(p=!this.isDateDisabled(e,i,r)),this.disabledDays&&(y=!this.isDayDisabled(e,i,r)),u&&h&&p&&y)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let u=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(u)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(re.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,u=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let h=re.index(u),p=u.parentElement.nextElementSibling;p?re.hasClass(p.children[h].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(p.children[h].children[0].tabIndex="0",p.children[h].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let h=re.index(u),p=u.parentElement.previousElementSibling;if(p){let y=p.children[h].children[0];re.hasClass(y,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(y.tabIndex="0",y.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let h=u.previousElementSibling;if(h){let p=h.children[0];re.hasClass(p,"p-disabled")||re.hasClass(p.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(p.tabIndex="0",p.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let h=u.nextElementSibling;if(h){let p=h.children[0];re.hasClass(p,"p-disabled")?this.navigateToMonth(!1,r):(p.tabIndex="0",p.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,u=re.index(r);let h=o[40===e.which?u+3:u-3];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,u=re.index(r);let h=o[40===e.which?u+2:u-2];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=re.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),u=o[o.length-1];u.tabIndex="0",u.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=re.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=re.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=re.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if("year"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if(e=re.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=re.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=re.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let u=this.value;const h=this.convertTo24Hour(e,o);this.isRangeSelection()&&(u=this.value[1]||this.value[0]),this.isMultipleSelection()&&(u=this.value[this.value.length-1]);const p=u?u.toDateString():null;return!(this.minDate&&p&&this.minDate.toDateString()===p&&(this.minDate.getHours()>h||this.minDate.getHours()===h&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&p&&this.maxDate.toDateString()===p&&(this.maxDate.getHours()<h||this.maxDate.getHours()===h&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let u=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},u),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let u="12"==this.hourFormat?r.pop():null,h=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,h,u)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return e instanceof Date&&ot.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Ui.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Ui.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Ui.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=re.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",re.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):re.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),re.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),re.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(re.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(re.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||re.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(i){this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Xr.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=E=>{const I=r+1<i.length&&i.charAt(r+1)===E;return I&&r++,I},u=(E,I,M)=>{let N=""+I;if(o(E))for(;N.length<M;)N="0"+N;return N},h=(E,I,M,N)=>o(E)?N[I]:M[I];let p="",y=!1;if(e)for(r=0;r<i.length;r++)if(y)"'"!==i.charAt(r)||o("'")?p+=i.charAt(r):y=!1;else switch(i.charAt(r)){case"d":p+=u("d",e.getDate(),2);break;case"D":p+=h("D",e.getDay(),this.getTranslation(Xr.DAY_NAMES_SHORT),this.getTranslation(Xr.DAY_NAMES));break;case"o":p+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":p+=u("m",e.getMonth()+1,2);break;case"M":p+=h("M",e.getMonth(),this.getTranslation(Xr.MONTH_NAMES_SHORT),this.getTranslation(Xr.MONTH_NAMES));break;case"y":p+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":p+=e.getTime();break;case"!":p+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?p+="'":y=!0;break;default:p+=i.charAt(r)}return p}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),u=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=u<10?"0"+u:u),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),u=parseInt(i[1]),h=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(u)||o>23||u>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(h)||h>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:u,second:h}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,u,V,h=0,p="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),y=-1,E=-1,I=-1,M=-1,N=!1,Q=it=>{let rt=r+1<i.length&&i.charAt(r+1)===it;return rt&&r++,rt},ye=it=>{let rt=Q(it),At="@"===it?14:"!"===it?20:"y"===it&&rt?4:"o"===it?3:2,nn=new RegExp("^\\d{"+("y"===it?At:1)+","+At+"}"),Qn=e.substring(h).match(nn);if(!Qn)throw"Missing number at position "+h;return h+=Qn[0].length,parseInt(Qn[0],10)},je=(it,rt,At)=>{let Rt=-1,nn=Q(it)?At:rt,Qn=[];for(let qi=0;qi<nn.length;qi++)Qn.push([qi,nn[qi]]);Qn.sort((qi,eo)=>-(qi[1].length-eo[1].length));for(let qi=0;qi<Qn.length;qi++){let eo=Qn[qi][1];if(e.substr(h,eo.length).toLowerCase()===eo.toLowerCase()){Rt=Qn[qi][0],h+=eo.length;break}}if(-1!==Rt)return Rt+1;throw"Unknown name at position "+h},Je=()=>{if(e.charAt(h)!==i.charAt(r))throw"Unexpected literal at position "+h;h++};for("month"===this.view&&(I=1),r=0;r<i.length;r++)if(N)"'"!==i.charAt(r)||Q("'")?Je():N=!1;else switch(i.charAt(r)){case"d":I=ye("d");break;case"D":je("D",this.getTranslation(Xr.DAY_NAMES_SHORT),this.getTranslation(Xr.DAY_NAMES));break;case"o":M=ye("o");break;case"m":E=ye("m");break;case"M":E=je("M",this.getTranslation(Xr.MONTH_NAMES_SHORT),this.getTranslation(Xr.MONTH_NAMES));break;case"y":y=ye("y");break;case"@":V=new Date(ye("@")),y=V.getFullYear(),E=V.getMonth()+1,I=V.getDate();break;case"!":V=new Date((ye("!")-this.ticksTo1970)/1e4),y=V.getFullYear(),E=V.getMonth()+1,I=V.getDate();break;case"'":Q("'")?Je():N=!0;break;default:Je()}if(h<e.length&&(u=e.substr(h),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=p?0:-100)),M>-1)for(E=1,I=M;o=this.getDaysCountInMonth(y,E-1),!(I<=o);)E++,I-=o;if(V=this.daylightSavingAdjust(new Date(y,E-1,I)),V.getFullYear()!==y||V.getMonth()+1!==E||V.getDate()!==I)throw"Invalid date";return V}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:u}=i[r],h=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${u}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let p=u;p<this.numberOfMonths;p++)h+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${p+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${h}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return re.hasClass(e.target,"p-datepicker-prev")||re.hasClass(e.target,"p-datepicker-prev-icon")||re.hasClass(e.target,"p-datepicker-next")||re.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!re.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Ui.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Yc),s.Y36(Lu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ha,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(N4,5),s.Gf(P4,5),s.Gf(F4,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([Sq])],ngContentSelectors:Iq,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(Eq),s.TgZ(0,"span",0,1),s.YNc(2,B4,4,17,"ng-template",2),s.YNc(3,Cq,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,Tq,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[En,Mi,Xt,vS,Hg,cs,hn],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ir("overlayAnimation",[$o("visibleTouchUI",qn({transform:"translate(-50%,-50%)",opacity:1})),tn("void => visible",[qn({opacity:0,transform:"scaleY(0.8)"}),Sr("{{showTransitionParams}}",qn({opacity:1,transform:"*"}))]),tn("visible => void",[Sr("{{hideTransitionParams}}",qn({opacity:0}))]),tn("void => visibleTouchUI",[qn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Sr("{{showTransitionParams}}")]),tn("visibleTouchUI => void",[Sr("{{hideTransitionParams}}",qn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),Dq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,ff,To,hf],ff,To]}),n})();const Aq=["container"],Mq=["resizeHelper"],kq=["reorderIndicatorUp"],Rq=["reorderIndicatorDown"],Oq=["wrapper"],Nq=["table"],Pq=["tableHeader"];function Fq(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function Lq(n,t){1&n&&s.GkF(0)}function Vq(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,Lq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function Bq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",17),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function Uq(n,t){1&n&&s.GkF(0)}function Hq(n,t){1&n&&s.GkF(0)}function jq(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function zq(n,t){1&n&&s.GkF(0)}const mf=function(n){return{$implicit:n}};function Gq(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,zq,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,mf,e.columns))}}function $q(n,t){if(1&n&&(s.TgZ(0,"table",18,19),s.YNc(2,Uq,1,0,"ng-container",20),s.TgZ(3,"thead",21),s.YNc(4,Hq,1,0,"ng-container",20),s.qZA(),s.YNc(5,jq,1,5,"tbody",22),s._UZ(6,"tbody",23),s.YNc(7,Gq,2,4,"tfoot",24),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(12,mf,e.columns)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(14,mf,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function qq(n,t){1&n&&s.GkF(0)}function Wq(n,t){1&n&&s.GkF(0)}function Zq(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function Kq(n,t){1&n&&s.GkF(0)}function Yq(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,Kq,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,mf,e.columns))}}function Qq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",27),s.NdJ("scrolledIndexChange",function(r){return s.CHM(e),s.oxw().onScrollIndexChange(r)}),s.TgZ(1,"table",18,19),s.YNc(3,qq,1,0,"ng-container",20),s.TgZ(4,"thead",21,28),s.YNc(6,Wq,1,0,"ng-container",20),s.qZA(),s.YNc(7,Zq,1,5,"tbody",22),s._UZ(8,"tbody",23),s.YNc(9,Yq,2,4,"tfoot",24),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),s.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),s.xp6(1),s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(17,mf,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(19,mf,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function Jq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",29),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function Xq(n,t){1&n&&s.GkF(0)}function eW(n,t){if(1&n&&(s.TgZ(0,"div",30),s.YNc(1,Xq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function tW(n,t){1&n&&s._UZ(0,"div",31,32)}function nW(n,t){1&n&&s._UZ(0,"span",33,34)}function iW(n,t){1&n&&s._UZ(0,"span",35,36)}const rW=function(n,t,e,i,r,o,u,h,p,y,E,I,M,N){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":o,"p-datatable-scrollable-horizontal":u,"p-datatable-scrollable-both":h,"p-datatable-flex-scrollable":p,"p-datatable-responsive-stack":y,"p-datatable-responsive-scroll":E,"p-datatable-responsive":I,"p-datatable-grouped-header":M,"p-datatable-grouped-footer":N}},sW=function(n){return{height:n}},oW=["pTableBody",""];function aW(n,t){1&n&&s.GkF(0)}const HS=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function lW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,aW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,HS,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function uW(n,t){1&n&&s.GkF(0)}function cW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,uW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.qbA(2,HS,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function dW(n,t){1&n&&s.GkF(0)}const hW=function(n,t,e,i,r,o,u){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:u}};function fW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,dW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.Hh0(2,hW,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function pW(n,t){1&n&&s.GkF(0)}function gW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,pW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,HS,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function mW(n,t){if(1&n&&(s.YNc(0,lW,2,8,"ng-container",2),s.YNc(1,cW,2,8,"ng-container",0),s.YNc(2,fW,2,10,"ng-container",0),s.YNc(3,gW,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function _W(n,t){if(1&n&&(s.ynx(0),s.YNc(1,mW,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function yW(n,t){1&n&&s.GkF(0)}function vW(n,t){if(1&n&&s.YNc(0,yW,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,HS,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function wW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,vW,1,8,"ng-template",5),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkVirtualForOf",e.dt.filteredValue||e.dt.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function bW(n,t){1&n&&s.GkF(0)}const jS=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function CW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,bW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,jS,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function EW(n,t){1&n&&s.GkF(0)}function TW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,EW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,jS,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function IW(n,t){1&n&&s.GkF(0)}function SW(n,t){1&n&&s.GkF(0)}function xW(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,SW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,jS,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const c2=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function DW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,IW,1,0,"ng-container",4),s.YNc(2,xW,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,c2,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,r))}}function AW(n,t){if(1&n&&(s.YNc(0,CW,2,9,"ng-container",0),s.YNc(1,TW,2,9,"ng-container",2),s.YNc(2,DW,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function MW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,AW,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function kW(n,t){1&n&&s.GkF(0)}function RW(n,t){1&n&&s.GkF(0)}function OW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,RW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,c2,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen))}}function NW(n,t){if(1&n&&(s.YNc(0,kW,1,0,"ng-container",4),s.YNc(1,OW,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,jS,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function PW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,NW,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function FW(n,t){1&n&&s.GkF(0)}const d2=function(n,t){return{$implicit:n,frozen:t}};function LW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,FW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,d2,e.columns,e.frozen))}}function VW(n,t){1&n&&s.GkF(0)}function BW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,VW,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,d2,e.columns,e.frozen))}}let zS=(()=>{class n{constructor(){this.sortSource=new mn.x,this.selectionSource=new mn.x,this.contextMenuSource=new mn.x,this.valueSource=new mn.x,this.totalRecordsSource=new mn.x,this.columnsSource=new mn.x,this.resetSource=new mn.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),RC=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=u,this.overlayService=h,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(p,y)=>y,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Oh(),this.virtualScrollInitialized=!1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(ot.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(ot.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,u)=>{let h=ot.resolveFieldData(o,e),p=ot.resolveFieldData(u,e),y=null;return y=null==h&&null!=p?-1:null!=h&&null==p?1:null==h&&null==p?0:"string"==typeof h&&"string"==typeof p?h.localeCompare(p):h<p?-1:h>p?1:0,i*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){let u=ot.resolveFieldData(e,r[o].field),h=ot.resolveFieldData(i,r[o].field),p=null;if(null==u&&null!=h)p=-1;else if(null!=u&&null==h)p=1;else if(null==u&&null==h)p=0;else if("string"==typeof u||u instanceof String){if(u.localeCompare&&u!=h)return r[o].order*u.localeCompare(h)}else p=u<h?-1:1;return u==h?r.length-1>o?this.multisortField(e,i,r,o+1):0:r[o].order*p}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!re.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let u=e.rowData,h=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)re.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=h,this.selectRange(e.originalEvent,h);else{let p=this.isSelected(u);if(!p&&!this.isRowSelectable(u,h))return;let y=!this.rowTouched&&this.metaKeySelection,E=this.dataKey?String(ot.resolveFieldData(u,this.dataKey)):null;if(this.anchorRowIndex=h,this.rangeRowIndex=h,y){let I=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(p&&I){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let M=this.findIndexInSelection(u);this._selection=this.selection.filter((N,V)=>V!=M),this.selectionChange.emit(this.selection),E&&delete this.selectionKeys[E]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row"})}else this.isSingleSelectionMode()?(this._selection=u,this.selectionChange.emit(u),E&&(this.selectionKeys={},this.selectionKeys[E]=1)):this.isMultipleSelectionMode()&&(I?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,u],this.selectionChange.emit(this.selection),E&&(this.selectionKeys[E]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h})}else if("single"===this.selectionMode)p?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h})):(this._selection=u,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h}),E&&(this.selectionKeys={},this.selectionKeys[E]=1));else if("multiple"===this.selectionMode)if(p){let I=this.findIndexInSelection(u);this._selection=this.selection.filter((M,N)=>N!=I),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h}),E&&delete this.selectionKeys[E]}else this._selection=this.selection?[...this.selection,u]:[u],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:u,type:"row",index:h}),E&&(this.selectionKeys[E]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),u=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let u=[];for(let h=r;h<=o;h++){let p=this.filteredValue?this.filteredValue[h]:this.value[h];if(!this.isSelected(p)){if(!this.isRowSelectable(p,i))continue;u.push(p),this._selection=[...this.selection,p];let y=this.dataKey?String(ot.resolveFieldData(p,this.dataKey)):null;y&&(this.selectionKeys[y]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:u,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let u=this.value[o],h=this.findIndexInSelection(u);this._selection=this.selection.filter((y,E)=>E!=h);let p=this.dataKey?String(ot.resolveFieldData(u,this.dataKey)):null;p&&delete this.selectionKeys[p],this.onRowUnselect.emit({originalEvent:e,data:u,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[ot.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(ot.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let u=this.findIndexInSelection(i);this._selection=this.selection.filter((h,p)=>p!=u),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let o=this.selectionPageOnly&&this._selection?this._selection.filter(u=>!r.some(h=>this.equals(u,h))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((u,h)=>this.rowSelectable({data:u,index:h})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:ot.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let h,r=!0,o=!1,u=!1;for(let p in this.filters)if(this.filters.hasOwnProperty(p)&&"global"!==p){u=!0;let y=p,E=this.filters[y];if(Array.isArray(E)){for(let I of E)if(r=this.executeLocalFilter(y,this.value[i],I),I.operator===CT.OR&&r||I.operator===CT.AND&&!r)break}else r=this.executeLocalFilter(y,this.value[i],E);if(!r)break}if(this.filters.global&&!o&&e)for(let p=0;p<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](ot.resolveFieldData(this.value[i],e[p].field||e[p]),this.filters.global.value,this.filterLocale),!o);p++);h=this.filters.global?u?u&&r&&o:o:u&&r,h&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,u=r.matchMode||gr.STARTS_WITH,h=ot.resolveFieldData(i,e);return this.filterService.filters[u](h,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let p=0;p<o.length;p++){let y=o[p];!1!==y.exportable&&y.field&&(r+='"'+this.getExportHeader(y)+'"',p<o.length-1&&(r+=this.csvSeparator))}i.forEach((p,y)=>{r+="\n";for(let E=0;E<o.length;E++){let I=o[E];if(!1!==I.exportable&&I.field){let M=ot.resolveFieldData(p,I.field);M=null!=M?this.exportFunction?this.exportFunction({data:M,field:I.field}):String(M).replace(/"/g,'""'):"",r+='"'+M+'"',E<o.length-1&&(r+=this.csvSeparator)}}});let u=new Blob([r],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.style.display="none",document.body.appendChild(h),void 0!==h.download?(h.setAttribute("href",URL.createObjectURL(u)),h.setAttribute("download",this.exportFilename+".csv"),h.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(h)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,o=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.lazyLoadOnInit||this.virtualScrollInitialized?this.onLazyLoad.emit({first:r,rows:o,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}):this.virtualScrollInitialized=!0)},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===re.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(re.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===re.find(i,".ng-invalid.ng-dirty").length){let r=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(ot.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;re.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&h>15&&this.resizeTableCells(r,h)}else if("expand"===this.columnResizeMode){let u=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.width=u+"px",this.tableViewChild.nativeElement.style.minWidth=u+"px",this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",re.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=re.index(this.resizeColumnElement),o=[];const u=re.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");re.find(u,"tr > th").forEach(y=>o.push(re.getOuterWidth(y))),this.destroyStyleElement(),this.createStyleElement();let p="";o.forEach((y,E)=>{let I=E===r?e:i&&E===r+1?i:y;p+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${E+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${E+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${E+1}) {\n                    ${this.scrollable?`flex: 1 1 ${I}px !important`:`width: ${I}px !important`}\n                }\n            `}),this.styleElement.innerHTML=p}onColumnDragStart(e,i){this.reorderIconWidth=re.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=re.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=re.getOffset(this.containerViewChild.nativeElement),o=re.getOffset(i);if(this.draggedColumn!=i){let u=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),h=re.indexWithinGroup(i,"preorderablecolumn"),p=o.left-r.left,E=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>E?(this.reorderIndicatorUpViewChild.nativeElement.style.left=p+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=p+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=p-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=p-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),h-u==1&&-1===this.dropPosition||h-u==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=re.indexWithinGroup(i,"preorderablecolumn"),u=r!=o;u&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(u=!1),u&&o<r&&1===this.dropPosition&&(o+=1),u&&o>r&&-1===this.dropPosition&&(o-=1),u&&(ot.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=re.getOffset(r).top+re.getWindowScrollTop(),u=e.pageY,h=o+re.getOuterHeight(r)/2,p=r.previousElementSibling;u<h?(re.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,p?re.addClass(p,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top")):(p?re.removeClass(p,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,re.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&re.removeClass(r,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;ot.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let u=JSON.parse(i,function(u,h){return"string"==typeof h&&r.test(h)?new Date(h):h});this.paginator&&(void 0!==this.first&&(this.first=u.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=u.rows,this.rowsChange.emit(this.rows))),u.sortField&&(this.restoringSort=!0,this._sortField=u.sortField,this._sortOrder=u.sortOrder),u.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=u.multiSortMeta),u.filters&&(this.restoringFilter=!0,this.filters=u.filters),this.resizableColumns&&(this.columnWidthsState=u.columnWidths,this.tableWidthState=u.tableWidth),u.expandedRowKeys&&(this.expandedRowKeys=u.expandedRowKeys),u.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(u.selection)),this.stateRestored=!0,this.onStateRestore.emit(u)}}saveColumnWidths(e){let i=[];re.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(re.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=re.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),ot.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,o)=>{i+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            ${this.scrollable?`flex: 1 1 ${r}px !important`:`width: ${r}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let u=[];o.map(h=>{let p=this.findColumnByKey(h);p&&u.push(p)}),this.columnOrderStateRestored=!0,this.columns=u}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollInitialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(zS),s.Y36(s.sBO),s.Y36(Ww),s.Y36(Lu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ha,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Aq,5),s.Gf(Mq,5),s.Gf(kq,5),s.Gf(Rq,5),s.Gf(Oq,5),s.Gf(Nq,5),s.Gf(Pq,5),s.Gf(zg,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([zS]),s.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,Fq,2,2,"div",2),s.YNc(3,Vq,2,1,"div",3),s.YNc(4,Bq,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,$q,8,16,"table",7),s.YNc(8,Qq,10,21,"cdk-virtual-scroll-viewport",8),s.qZA(),s.YNc(9,Jq,1,17,"p-paginator",9),s.YNc(10,eW,2,1,"div",10),s.YNc(11,tW,2,0,"div",11),s.YNc(12,nW,2,0,"span",12),s.YNc(13,iW,2,0,"span",13),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.rFY(16,rW,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,sW,i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",!i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[g4,cZ,zg,Mi,En,Xt,cs,nk]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),n})(),cZ=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),u=e[r-1];return!u||o!==ot.resolveFieldData(u,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),u=e[r+1];return!u||o!==ot.resolveFieldData(u,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),u=e[r-1];return!u||o!==ot.resolveFieldData(u,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),u=o,h=0;for(;o===u;){h++;let p=e[++r];if(!p)break;u=ot.resolveFieldData(p,this.dt.groupRowsBy)}return 1===h?null:h}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=re.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=re.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RC),s.Y36(zS),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:oW,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(s.YNc(0,_W,2,2,"ng-container",0),s.YNc(1,wW,2,3,"ng-container",0),s.YNc(2,MW,2,2,"ng-container",0),s.YNc(3,PW,2,2,"ng-container",0),s.YNc(4,LW,2,5,"ng-container",0),s.YNc(5,BW,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[Xt,hn,cs,ik],encapsulation:2}),n})(),Mk=(()=>{class n{constructor(e,i){this.dt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onArrowDownKeyDown(e){if(!this.isEnabled())return;const r=this.findNextSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onArrowUpKeyDown(e){if(!this.isEnabled())return;const r=this.findPrevSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onEnterKeyDown(e){!this.isEnabled()||this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}findNextSelectableRow(e){let i=e.nextElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findNextSelectableRow(i):null}findPrevSelectableRow(e){let i=e.previousElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findPrevSelectableRow(i):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RC),s.Y36(zS))},n.\u0275dir=s.lG2({type:n,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o)})("touchend",function(o){return i.onTouchEnd(o)})("keydown.arrowdown",function(o){return i.onArrowDownKeyDown(o)})("keydown.arrowup",function(o){return i.onArrowUpKeyDown(o)})("keydown.enter",function(o){return i.onEnterKeyDown(o)})("keydown.shift.enter",function(o){return i.onEnterKeyDown(o)})("keydown.meta.enter",function(o){return i.onEnterKeyDown(o)})("keydown.pagedown",function(){return i.onPageDownKeyDown()})("keydown.pageup",function(){return i.onPageDownKeyDown()})("keydown.home",function(){return i.onPageDownKeyDown()})("keydown.end",function(){return i.onPageDownKeyDown()})("keydown.space",function(){return i.onSpaceKeydown()}),2&e&&(s.uIk("tabindex",i.isEnabled()?0:void 0),s.ekj("p-selectable-row",i.isEnabled())("p-highlight",i.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),n})(),dZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zn,m4,VS,FS,Gy,PS,ff,S4,Dq,Dk,O4],To,Gy]}),n})();const hZ=["HouseTable"];function fZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function pZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function gZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_House()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.csvalues)}}function mZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_House()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function _Z(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function yZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_House()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function vZ(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function wZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",19)(1,"input",20,21),s.NdJ("input",function(){const o=s.CHM(e).$implicit,u=s.MAs(2);return s.oxw(2),s.MAs(17).filter(u.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function bZ(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,vZ,2,1,"th",17),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,wZ,3,1,"th",18),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function CZ(n,t){if(1&n&&(s.TgZ(0,"tr",22)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.House),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const EZ=function(){return{width:"50vw"}},TZ=function(){return["House","type","value"]};let IZ=(()=>{class n{constructor(e,i,r,o){this.houseService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"house",header:"house"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_House(),this.allHouses=this.generalService.get_All_Houses(),this.allValues=this.generalService.get_All_Values()}onRowSelect(e){this.idToEditorDelete=this.selectedHouse.id,this.house=this.selectedHouse.House,this.type=this.selectedHouse.type,this.value=this.selectedHouse.value,this.selecteForEditorDel=!0}cancel_House(){this.selectedHouse=null,this.house="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Houses(){}read_All_House(){this.houseService.read_All_Houses().subscribe(e=>{this.houseList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,House:i.payload.doc.data().house,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_House()},reject:()=>{this.cancel_House()}})}create_House(){let e={};e.house=this.house,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.houseService.create_House(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"House added",detail:"House added to database"}),this.cancel_House()}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let u=this.allValues[o];0==u.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(u)}this.filteredValues=i}Update_House(){let e={};e.house=this.house,e.type=this.type,e.value=this.value,this.houseService.update_House(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"House updated",detail:this.selectedHouse.id+" is updated"}),this.cancel_House()}Delete_House(){this.houseService.delete_House(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"House deleted",detail:this.selectedHouse.id+" is deleted"}),this.cancel_House()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(N6),s.Y36(Qc),s.Y36(Fu),s.Y36(ZM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-house"]],viewQuery:function(e,i){if(1&e&&s.Gf(hZ,5),2&e){let r;s.iGM(r=s.CRH())&&(i.HouseTable=r.first)}},features:[s._Bn([Qc,Fu])],decls:20,vars:22,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["field","value",3,"ngModel","suggestions","minLength","ngModelChange","completeMethod"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["HouseTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.house=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-autoComplete",5),s.NdJ("ngModelChange",function(o){return i.type=o})("completeMethod",function(o){return i.filterValue(o)}),s.qZA()(),s.YNc(8,fZ,2,1,"div",6),s.YNc(9,pZ,2,1,"div",7),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,gZ,3,1,"div",6),s.YNc(12,mZ,3,1,"div",6),s.YNc(13,_Z,3,1,"div",6),s.YNc(14,yZ,3,1,"div",6),s.qZA(),s.TgZ(15,"div",8)(16,"p-table",9,10),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedHouse=o}),s.YNc(18,bZ,4,2,"ng-template",11),s.YNc(19,CZ,7,4,"ng-template",12),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(20,EZ)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allHouses)("ngModel",i.house),s.xp6(2),s.Q6J("ngModel",i.type)("suggestions",i.filteredValues)("minLength",1),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.houseList)("globalFilterFields",s.DdM(21,TZ))("selection",i.selectedHouse))},directives:[KM,YM,kC,$y,gd,Sk,Xt,$g,LS,xk,RC,ha,hn,mi,Mk],styles:[""]}),n})(),SZ=(()=>{class n{constructor(e){this.firestore=e}read_All_Signs(){return this.firestore.collection("signs").snapshotChanges()}create_Sign(e){return this.firestore.collection("signs").add(e)}update_Sign(e,i){this.firestore.doc("signs/"+e).update(i)}delete_Sign(e){this.firestore.doc("signs/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_S))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xZ=["SignTable"];function DZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function AZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function MZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Sign()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.csvalues)}}function kZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Sign()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function RZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function OZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Sign()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function NZ(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function PZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",19)(1,"input",20,21),s.NdJ("input",function(){const o=s.CHM(e).$implicit,u=s.MAs(2);return s.oxw(2),s.MAs(17).filter(u.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function FZ(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,NZ,2,1,"th",17),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,PZ,3,1,"th",18),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function LZ(n,t){if(1&n&&(s.TgZ(0,"tr",22)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.Sign),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const VZ=function(){return{width:"50vw"}},BZ=function(){return["Sign","type","value"]};let UZ=(()=>{class n{constructor(e,i,r,o){this.signService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"Sign",header:"Sign"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Sign(),this.allSigns=this.generalService.get_All_Signs(),this.allValues=this.generalService.get_All_Sign_Values()}onRowSelect(e){this.idToEditorDelete=this.selectedSign.id,this.sign=this.selectedSign.Sign,this.type=this.selectedSign.type,this.value=this.selectedSign.value,this.selecteForEditorDel=!0}cancel_Sign(){this.selectedSign=null,this.sign="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let u=this.allValues[o];0==u.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(u)}this.filteredValues=i}get_All_Signs(){}read_All_Sign(){this.signService.read_All_Signs().subscribe(e=>{this.signList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,Sign:i.payload.doc.data().Sign,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Sign()},reject:()=>{this.cancel_Sign()}})}create_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.signService.create_Sign(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Sign added",detail:"Sign added to database"}),this.cancel_Sign()}Update_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.signService.update_Sign(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Sign updated",detail:this.selectedSign.id+" is updated"}),this.cancel_Sign()}Delete_Sign(){this.signService.delete_Sign(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Sign deleted",detail:this.selectedSign.id+" is deleted"}),this.cancel_Sign()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(SZ),s.Y36(Qc),s.Y36(Fu),s.Y36(ZM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign"]],viewQuery:function(e,i){if(1&e&&s.Gf(xZ,5),2&e){let r;s.iGM(r=s.CRH())&&(i.SignTable=r.first)}},features:[s._Bn([Fu])],decls:20,vars:22,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["field","value",3,"ngModel","suggestions","minLength","ngModelChange","completeMethod"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["SignTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.sign=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-autoComplete",5),s.NdJ("ngModelChange",function(o){return i.type=o})("completeMethod",function(o){return i.filterValue(o)}),s.qZA()(),s.YNc(8,DZ,2,1,"div",6),s.YNc(9,AZ,2,1,"div",7),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,MZ,3,1,"div",6),s.YNc(12,kZ,3,1,"div",6),s.YNc(13,RZ,3,1,"div",6),s.YNc(14,OZ,3,1,"div",6),s.qZA(),s.TgZ(15,"div",8)(16,"p-table",9,10),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedSign=o}),s.YNc(18,FZ,4,2,"ng-template",11),s.YNc(19,LZ,7,4,"ng-template",12),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(20,VZ)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allSigns)("ngModel",i.sign),s.xp6(2),s.Q6J("ngModel",i.type)("suggestions",i.filteredValues)("minLength",1),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.signList)("globalFilterFields",s.DdM(21,BZ))("selection",i.selectedSign))},directives:[KM,YM,kC,$y,gd,Sk,Xt,$g,LS,xk,RC,ha,hn,mi,Mk],styles:[""]}),n})(),HZ=(()=>{class n{constructor(e){this.firestore=e}read_All_Stars(){return this.firestore.collection("stars").snapshotChanges()}create_Star(e){return this.firestore.collection("stars").add(e)}update_Star(e,i){this.firestore.doc("stars/"+e).update(i)}delete_Star(e){this.firestore.doc("stars/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_S))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jZ=["StarTable"];function zZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function GZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function $Z(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Star()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.csvalues)}}function qZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Star()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function WZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function ZZ(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function KZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,u=s.MAs(2);return s.oxw(2),s.MAs(19).filter(u.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function YZ(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,ZZ,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,KZ,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function QZ(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const JZ=function(){return{width:"50vw"}},XZ=function(){return["star","type","value"]};let eK=(()=>{class n{constructor(e,i,r,o){this.starService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.starTypeData=[],this.selecteForEditorDel=!1,this.allStars=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"star",header:"Star"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Star(),this.get_Star_Type_Values()}get_Star_Type_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.starTypeData.push(r)})}),setTimeout(()=>this.update_Star_Type_Values(),3e3)}update_Star_Type_Values(){var e=this.starTypeData[0].split(","),i=this.starTypeData[1].split(",");e.forEach(r=>this.allStars.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedStar.id,this.star=this.selectedStar.star,this.type=this.selectedStar.type,this.value=this.selectedStar.value,this.selecteForEditorDel=!0}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let u=this.allValues[o];0==u.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(u)}this.filteredValues=i}cancel_Star(){this.selectedStar=null,this.star="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}read_All_Star(){this.starService.read_All_Stars().subscribe(e=>{this.starList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,star:i.payload.doc.data().star,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Star()},reject:()=>{this.cancel_Star()}})}create_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.starService.create_Star(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Star added",detail:"Star added to database"}),this.cancel_Star()}Update_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.starService.update_Star(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Star updated",detail:this.selectedStar.id+" is updated"}),this.cancel_Star()}Delete_Star(){this.starService.delete_Star(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Star deleted",detail:this.selectedStar.id+" is deleted"}),this.cancel_Star()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(HZ),s.Y36(Qc),s.Y36(Fu),s.Y36(ZM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-star"]],viewQuery:function(e,i){if(1&e&&s.Gf(jZ,5),2&e){let r;s.iGM(r=s.CRH())&&(i.StarTable=r.first)}},features:[s._Bn([Fu])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["StarTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.star=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,zZ,2,1,"div",5),s.YNc(9,GZ,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,$Z,3,1,"div",5),s.YNc(12,qZ,3,1,"div",5),s.YNc(13,WZ,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Star()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedStar=o}),s.YNc(20,YZ,4,2,"ng-template",12),s.YNc(21,QZ,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,JZ)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allStars)("ngModel",i.star),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.star||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.starList)("globalFilterFields",s.DdM(20,XZ))("selection",i.selectedStar))},directives:[KM,YM,kC,$y,gd,Xt,$g,LS,xk,RC,ha,hn,mi,Mk],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();const tK=function(n){return{active:n}};function nK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw().listClick(r,u)}),s.TgZ(1,"a",9),s._UZ(2,"i",3),s.TgZ(3,"span",3),s._uU(4),s.qZA()()()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(4,tK,i.selectedItem==e.name)),s.xp6(1),s.Q6J("routerLink",e.link),s.xp6(1),s.uIk("data-feather",e.icon),s.xp6(2),s.Oqu(e.name)}}function iK(n,t){1&n&&(s.TgZ(0,"div",1)(1,"a",2)(2,"span",3),s._uU(3,"Pranavam"),s.qZA()()())}let rK=(()=>{class n{constructor(e){this._authService=e,this.menuItems=[{name:"Dashboard",icon:"sliders",link:"dashboard"},{name:"Sign",icon:"activity",link:"sign"},{name:"House",icon:"activity",link:"house"},{name:"Star",icon:"activity",link:"star"}],this.selectedItem="Dashboard",this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}listClick(e,i){this.selectedItem=i.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu"]],decls:10,vars:2,consts:[["id","sidebar",1,"sidebar","js-sidebar"],[1,"sidebar-content","js-simplebar"],["href","index.html",1,"sidebar-brand"],[1,"align-middle"],[1,"sidebar-nav"],[1,"sidebar-header"],["class","sidebar-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","sidebar-content js-simplebar",4,"ngIf"],[1,"sidebar-item",3,"ngClass","click"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),s._uU(4,"Pranavam"),s.qZA()(),s.TgZ(5,"ul",4)(6,"li",5),s._uU(7," Pages "),s.qZA(),s.YNc(8,nK,5,6,"li",6),s.qZA()(),s.YNc(9,iK,4,0,"div",7),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",i.menuItems),s.xp6(1),s.Q6J("ngIf",!i.canShow))},directives:[hn,En,Dp,mE,Xt],styles:[""]}),n})(),sK=(()=>{class n{constructor(e){this._authService=e}ngOnInit(){}signOut(){this._authService.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-topbar"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand","navbar-light","navbar-bg"],[1,"sidebar-toggle","js-sidebar-toggle"],[1,"hamburger","align-self-center"],[1,"navbar-collapse","collapse"],[1,"navbar-nav","navbar-align"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-icon","dropdown-toggle","d-inline-block","d-sm-none"],["data-feather","settings",1,"align-middle"],["href","#","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle","d-none","d-sm-inline-block"],["src","../assets/img/avatars/avatar.jpg","alt","Charles Hall",1,"avatar","img-fluid","rounded","me-1"],[1,"text-dark"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"a",1),s._UZ(2,"i",2),s.qZA(),s.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),s._UZ(7,"i",7),s.qZA(),s.TgZ(8,"a",8),s._UZ(9,"img",9),s.TgZ(10,"span",10),s._uU(11,"Charles Hall"),s.qZA()(),s.TgZ(12,"div",11)(13,"a",12),s.NdJ("click",function(){return i.signOut()}),s._uU(14,"Log out"),s.qZA()()()()()())},styles:[""]}),n})(),oK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"footer"],[1,"container-fluid"],[1,"row","text-muted"],[1,"col-6","text-start"],[1,"mb-0"],["href","https://adminkit.io/","target","_blank",1,"text-muted"],[1,"col-6","text-end"],[1,"list-inline"],[1,"list-inline-item"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5)(6,"strong"),s._uU(7,"Pranavam"),s.qZA()(),s._uU(8," \xa9 "),s.qZA()(),s.TgZ(9,"div",6)(10,"ul",7)(11,"li",8)(12,"a",5),s._uU(13,"Support"),s.qZA()(),s.TgZ(14,"li",8)(15,"a",5),s._uU(16,"Help Center"),s.qZA()(),s.TgZ(17,"li",8)(18,"a",5),s._uU(19,"Privacy"),s.qZA()(),s.TgZ(20,"li",8)(21,"a",5),s._uU(22,"Terms"),s.qZA()()()()()()())},styles:[""]}),n})(),aK=(()=>{class n{constructor(e){this._authService=e,this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"wrapper"],[1,"main"],[1,"content"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-menu"),s.TgZ(2,"div",1),s._UZ(3,"app-topbar"),s.TgZ(4,"main",2),s._UZ(5,"router-outlet"),s.qZA(),s._UZ(6,"app-footer"),s.qZA()())},directives:[rK,sK,f_,oK],styles:[""]}),n})(),h2=(()=>{class n{constructor(e){this.authenticationService=e}ngOnInit(){}signIn(){this.authenticationService.signIn(this.email,this.password),this.email="",this.password=""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signin"]],decls:22,vars:2,consts:[[1,"container","d-flex","flex-column"],[1,"row","vh-100"],[1,"col-sm-10","col-md-8","col-lg-6","mx-auto","d-table","h-100"],[1,"d-table-cell","align-middle"],[1,"text-center","mt-4"],[1,"lead"],[1,"card"],[1,"card-body"],[1,"m-sm-4"],[1,"mb-3"],[1,"form-label"],["type","email","name","email","placeholder","Enter your email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Enter your password",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-lg","btn-primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),s._uU(6," Sign in to your account to continue "),s.qZA()(),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"form")(11,"div",9)(12,"label",10),s._uU(13,"Email"),s.qZA(),s.TgZ(14,"input",11),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(15,"div",9)(16,"label",10),s._uU(17,"Password"),s.qZA(),s.TgZ(18,"input",12),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(19,"div",13)(20,"button",14),s.NdJ("click",function(){return i.signIn()}),s._uU(21,"Sign in"),s.qZA()()()()()()()()()()),2&e&&(s.xp6(14),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password))},directives:[kL,gL,NS,$g,$y,gd],styles:[""]}),n})(),lK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[wD.forRoot([{path:"pranavam",component:aK,canActivate:[xl],children:[{path:"dashboard",component:bT,canActivate:[xl]},{path:"sign",component:UZ,canActivate:[xl]},{path:"house",component:IZ,canActivate:[xl]},{path:"star",component:eK,canActivate:[xl]}]},{path:"",component:h2},{path:"login",component:h2},{path:"**",redirectTo:"pages/notfound"}])],wD]}),n})(),uK=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[f_],styles:[".p-inputtext{width:200px!important;min-height:40px!important}  .p-dropdown{margin-top:20px;width:200px!important;height:40px;padding:0}  .p-autocomplete{margin-top:20px;width:200px!important;height:40px;padding:0}[_nghost-%COMP%]     .p-hidden-accessible{display:none}textarea[_ngcontent-%COMP%]{height:99px}"]}),n})();const f2="@firebase/database";let kk="";function g2(n){kk=n}class hK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class fK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const m2=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hK(t)}}catch(t){}return new fK},Wg=m2("localStorage"),Rk=m2("sessionStorage"),Wy=new zs.Yd("@firebase/database"),_2=function(){let n=1;return function(){return n++}}(),y2=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const i=e.digest();return P.US.encodeByteArray(i)},OC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=OC.apply(null,i):t+="object"==typeof i?(0,P.Pz)(i):i,t+=" "}return t};let Zg=null,v2=!0;const w2=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Wy.logLevel=zs.in.VERBOSE,Zg=Wy.log.bind(Wy),t&&Rk.set("logging_enabled",!0)):"function"==typeof n?Zg=n:(Zg=null,Rk.remove("logging_enabled"))},Ur=function(...n){if(!0===v2&&(v2=!1,null===Zg&&!0===Rk.get("logging_enabled")&&w2(!0)),Zg){const t=OC.apply(null,n);Zg(t)}},NC=function(n){return function(...t){Ur(n,...t)}},Ok=function(...n){const t="FIREBASE INTERNAL ERROR: "+OC(...n);Wy.error(t)},ec=function(...n){const t=`FIREBASE FATAL ERROR: ${OC(...n)}`;throw Wy.error(t),new Error(t)},xs=function(...n){const t="FIREBASE WARNING: "+OC(...n);Wy.warn(t)},GS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},md="[MIN_NAME]",tc="[MAX_NAME]",Kg=function(n,t){if(n===t)return 0;if(n===md||t===tc)return-1;if(t===md||n===tc)return 1;{const e=$S(n),i=$S(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},mK=function(n,t){return n===t?0:n<t?-1:1},PC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Pz)(t))},Nk=function(n){if("object"!=typeof n||null===n)return(0,P.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,P.Pz)(t[i]),e+=":",e+=Nk(n[t[i]]);return e+="}",e},b2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Hr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const C2=function(n){(0,P.hu)(!GS(n),"Invalid JSON number");const i=1023;let r,o,u,h,p;0===n?(o=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const E=y.join("");let I="";for(p=0;p<64;p+=8){let M=parseInt(E.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},wK=new RegExp("^-?(0*)\\d{1,10}$"),E2=-2147483648,Pk=2147483647,$S=function(n){if(wK.test(n)){const t=Number(n);if(t>=E2&&t<=Pk)return t}return null},Zy=function(n){try{n()}catch(t){setTimeout(()=>{throw xs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},FC=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class CK{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){xs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class EK{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xs(t)}}let LC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const D2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k2="websocket",R2="long_polling";class Lk{constructor(t,e,i,r,o=!1,u="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Wg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function O2(n,t,e){let i;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===k2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==R2)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function TK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Hr(e,(o,u)=>{r.push(o+"="+u)}),i+r.join("&")}class IK{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const Vk={},Bk={};function Uk(n){const t=n.toString();return Vk[t]||(Vk[t]=new IK),Vk[t]}class xK{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Zy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _f{constructor(t,e,i,r,o,u,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=NC(t),this.stats_=Uk(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),O2(e,R2,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new xK(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hk((...o)=>{const[u,h,p,y,E]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&D2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_f.forceAllow_=!0}static forceDisallow(){_f.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!_f.forceAllow_&&(_f.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,P.h$)(e),r=b2(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Hk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=_2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Hk.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Ur("frame writing exception"),h.stack&&Ur(h.stack),Ur(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ur("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ur("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let WS=null;"undefined"!=typeof MozWebSocket?WS=MozWebSocket:"undefined"!=typeof WebSocket&&(WS=WebSocket);let Ky=(()=>{class n{constructor(e,i,r,o,u,h,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=NC(this.connId),this.stats_=Uk(i),this.connURL=n.connectionURL_(i,h,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const h={v:"5"};return!(0,P.Yr)()&&"undefined"!=typeof location&&location.hostname&&D2.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),u&&(h.p=u),O2(e,k2,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wg.set("previous_websocket_failure",!0);try{let r;if((0,P.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${kk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(u.proxy={origin:p})}this.mySock=new WS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==WS&&!n.forceDisallow_}static previouslyFailed(){return Wg.isInMemoryStorage||!0===Wg.get("previous_websocket_failure")}markConnectionHealthy(){Wg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,P.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,P.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=b2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),U2=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_f,Ky]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ky&&Ky.isAvailable();let r=i&&!Ky.previouslyFailed();if(e.webSocketOnly&&(i||xs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ky];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class W2{constructor(t,e,i,r,o,u,h,p,y,E){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=NC("c:"+this.id+":"),this.transportManager_=new U2(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=FC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=PC("t",t),i=PC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=PC("t",t),i=PC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=PC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Ok("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ok("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&xs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),FC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):FC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Z2{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class K2{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ZS extends K2{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ZS}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class bn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _n(){return new bn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yf(n){return n.pieces_.length-n.pieceNum_}function Rn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new bn(n.pieces_,t)}function zk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function VC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function J2(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new bn(t,0)}function li(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof bn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new bn(e,0)}function Qt(n){return n.pieceNum_>=n.pieces_.length}function Xs(n,t){const e=Yt(n),i=Yt(t);if(null===e)return t;if(e===i)return Xs(Rn(n),Rn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function KK(n,t){const e=VC(n,0),i=VC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Kg(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function Gk(n,t){if(yf(n)!==yf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ka(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(yf(n)>yf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class YK{constructor(t,e){this.errorPrefix_=e,this.parts_=VC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);X2(this)}}function X2(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yg(n))}function Yg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $k extends K2{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $k}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const BC=1e3;let YS,Qg=(()=>{class n extends Z2{constructor(e,i,r,o,u,h,p,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=NC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=BC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$k.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ZS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_((0,P.Pz)(u)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new P.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[u];void 0===h||o!==h||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,p=>{const y=p.d,E=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(r,o),e.onComplete&&e.onComplete(E,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const r=(0,P.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();xs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,P.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e};o&&(u.q=r,u.t=o),this.sendRequest("n",u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const h={p:i,d:r};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Ok("Unrecognized action received from server: "+(0,P.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=BC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=BC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=BC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Te.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let p=!1,y=null;const E=function(){y?y.close():(p=!0,o())};e.realtime_={close:E,sendRequest:function(N){(0,P.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(N)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[N,V]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?Ur("getToken() completed but was canceled"):(Ur("getToken() completed. Creating connection."),e.authToken_=N&&N.accessToken,e.appCheckToken_=V&&V.token,y=new W2(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Q=>{xs(Q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(N){e.log_("Failed to get token: "+N),p||(e.repoInfo_.nodeAdmin&&xs(N),E())}}})()}interrupt(e){Ur("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ur("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=BC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(u=>Nk(u)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new bn(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Ur("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ur("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+kk.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ZS.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class en{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new en(t,e)}}class KS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new en(md,t),r=new en(md,e);return 0!==this.compare(i,r)}minPost(){return en.MIN}}class nV extends KS{static get __EMPTY_NODE(){return YS}static set __EMPTY_NODE(t){YS=t}compare(t,e){return Kg(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return en.MIN}maxPost(){return new en(tc,YS)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new en(t,YS)}toString(){return".key"}}const nc=new nV;class QS{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?i(t.key,e):1,r&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Wk,Nl=(()=>{class n{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:Ao.EMPTY_NODE,this.right=null!=u?u:Ao.EMPTY_NODE}copy(e,i,r,o,u){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ao.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ao.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ao{constructor(t,e=Ao.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ao(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Nl.BLACK,null,null))}remove(t){return new Ao(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Nl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new QS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new QS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new QS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new QS(this.root_,null,this.comparator_,!0,t)}}function o5(n,t){return Kg(n.name,t.name)}function qk(n,t){return Kg(n,t)}Ao.EMPTY_NODE=new class s5{copy(t,e,i,r,o){return this}insert(t,e,i){return new Nl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const iV=function(n){return"number"==typeof n?"number:"+C2(n):"string:"+n},rV=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===Wk||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===Wk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sV,oV,aV,Yy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),rV(this.priorityNode_)}static set __childrenNodeConstructor(e){sV=e}static get __childrenNodeConstructor(){return sV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Yt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,P.hu)(".priority"!==r||1===yf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iV(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?C2(this.value_):this.value_,this.lazyHash_=y2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,P.hu)(o>=0,"Unknown leaf type: "+i),(0,P.hu)(u>=0,"Unknown leaf type: "+r),o===u?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Un=new class c5 extends KS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Kg(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return en.MIN}maxPost(){return new en(tc,new Yy("[PRIORITY-POST]",aV))}makePost(t,e){const i=oV(t);return new en(e,new Yy("[PRIORITY-POST]",i))}toString(){return".priority"}},d5=Math.log(2);class h5{constructor(t){this.count=parseInt(Math.log(t+1)/d5,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const JS=function(n,t,e,i){n.sort(t);const r=function(p,y){const E=y-p;let I,M;if(0===E)return null;if(1===E)return I=n[p],M=e?e(I):I,new Nl(M,I.node,Nl.BLACK,null,null);{const N=parseInt(E/2,10)+p,V=r(p,N),Q=r(N+1,y);return I=n[N],M=e?e(I):I,new Nl(M,I.node,Nl.BLACK,V,Q)}},h=function(p){let y=null,E=null,I=n.length;const M=function(V,Q){const ye=I-V,je=I;I-=V;const Je=r(ye+1,je),it=n[ye],rt=e?e(it):it;N(new Nl(rt,it.node,Q,null,Je))},N=function(V){y?(y.left=V,y=V):(E=V,y=V)};for(let V=0;V<p.count;++V){const Q=p.nextBitIsOne(),ye=Math.pow(2,p.count-(V+1));Q?M(ye,Nl.BLACK):(M(ye,Nl.BLACK),M(ye,Nl.RED))}return E}(new h5(n.length));return new Ao(i||t,h)};let Zk;const Qy={};class _d{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(Qy&&Un,"ChildrenNode.ts has not been loaded"),Zk=Zk||new _d({".priority":Qy},{".priority":Un}),Zk}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ao?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(en.Wrap);let h,u=o.getNext();for(;u;)r=r||t.isDefinedOn(u.node),i.push(u),u=o.getNext();h=r?JS(i,t.getCompare()):Qy;const p=t.toString(),y=Object.assign({},this.indexSet_);y[p]=t;const E=Object.assign({},this.indexes_);return E[p]=h,new _d(E,y)}addToIndexes(t,e){const i=(0,P.UI)(this.indexes_,(r,o)=>{const u=(0,P.DV)(this.indexSet_,o);if((0,P.hu)(u,"Missing index implementation for "+o),r===Qy){if(u.isDefinedOn(t.node)){const h=[],p=e.getIterator(en.Wrap);let y=p.getNext();for(;y;)y.name!==t.name&&h.push(y),y=p.getNext();return h.push(t),JS(h,u.getCompare())}return Qy}{const h=e.get(t.name);let p=r;return h&&(p=p.remove(new en(t.name,h))),p.insert(t,t.node)}});return new _d(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,P.UI)(this.indexes_,r=>{if(r===Qy)return r;{const o=e.get(t.name);return o?r.remove(new en(t.name,o)):r}});return new _d(i,this.indexSet_)}}let UC,Ut=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rV(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return UC||(UC=new n(new Ao(qk),null,_d.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||UC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?UC:i}}getChild(e){const i=Yt(e);return null===i?this:this.getImmediateChild(i).getChild(Rn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new en(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?UC:this.priorityNode_;return new n(o,h,u)}}updateChild(e,i){const r=Yt(e);if(null===r)return i;{(0,P.hu)(".priority"!==Yt(e)||1===yf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Rn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Un,(h,p)=>{i[h]=p.val(e),r++,u&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!e&&u&&o<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+iV(this.getPriority().val())+":"),this.forEachChild(Un,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":y2(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new en(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new en(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new en(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,en.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,en.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===HC?-1:0}withIndex(e){if(e===nc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===nc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Un),o=i.getIterator(Un);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(e){return e===nc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const HC=new class f5 extends Ut{constructor(){super(new Ao(qk),Ut.EMPTY_NODE,_d.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ut.EMPTY_NODE}isEmpty(){return!1}};function fi(n,t=null){if(null===n)return Ut.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Yy(n,fi(t));if(n instanceof Array){let e=Ut.EMPTY_NODE;return Hr(n,(i,r)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const o=fi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(fi(t))}{const e=[];let i=!1;if(Hr(n,(u,h)=>{if("."!==u.substring(0,1)){const p=fi(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new en(u,p)))}}),0===e.length)return Ut.EMPTY_NODE;const o=JS(e,o5,u=>u.name,qk);if(i){const u=JS(e,Un.getCompare());return new Ut(o,fi(t),new _d({".priority":u},{".priority":Un}))}return new Ut(o,fi(t),_d.Default)}}Object.defineProperties(en,{MIN:{value:new en(md,Ut.EMPTY_NODE)},MAX:{value:new en(tc,HC)}}),nV.__EMPTY_NODE=Ut.EMPTY_NODE,Yy.__childrenNodeConstructor=Ut,function a5(n){Wk=n}(HC),function u5(n){aV=n}(HC),function l5(n){oV=n}(fi);class Kk extends KS{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!Qt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Kg(t.name,e.name):o}makePost(t,e){const i=fi(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,i);return new en(e,r)}maxPost(){const t=Ut.EMPTY_NODE.updateChild(this.indexPath_,HC);return new en(tc,t)}toString(){return VC(this.indexPath_,0).join("/")}}const Yk=new class g5 extends KS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Kg(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return en.MIN}maxPost(){return en.MAX}makePost(t,e){const i=fi(t);return new en(e,i)}toString(){return".value"}},Jy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",m5=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Jy.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let u=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=Jy.charAt(t[r]);return(0,P.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),cV=function(n){if(n===""+Pk)return"-";const t=$S(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let u=0;u<e.length;u++)e[u]=n.charAt(u);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return tc;const o=Jy.charAt(Jy.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},dV=function(n){if(n===""+E2)return md;const t=$S(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Pk:(delete e[e.length-1],e.join("")):(e[e.length-1]=Jy.charAt(Jy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function hV(n){return{type:"value",snapshotNode:n}}function Xy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function jC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function zC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Jk{constructor(t){this.index_=t}updateChild(t,e,i,r,o,u){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(jC(e,h)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Xy(e,i)):u.trackChildChange(zC(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Un,(r,o)=>{e.hasChild(r)||i.trackChildChange(jC(r,o))}),e.isLeafNode()||e.forEachChild(Un,(r,o)=>{if(t.hasChild(r)){const u=t.getImmediateChild(r);u.equals(o)||i.trackChildChange(zC(r,o,u))}else i.trackChildChange(Xy(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class GC{constructor(t){this.indexedFilter_=new Jk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=GC.getStartPost_(t),this.endPost_=GC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,u){return this.matches(new en(e,i))||(i=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ut.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);const o=this;return e.forEachChild(Un,(u,h)=>{o.matches(new en(u,h))||(r=r.updateImmediateChild(u,Ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class y5{constructor(t){this.rangedFilter_=new GC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,u){return this.rangedFilter_.matches(new en(e,i))||(i=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,u):this.fullLimitUpdateChild_(t,e,i,o,u)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Ut.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const h=o.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),u++}}else{let o,u,h,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Ut.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();h=(M,N)=>I(N,M)}else p=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,E=!1;for(;p.hasNext();){const I=p.getNext();!E&&h(o,I)<=0&&(E=!0),E&&y<this.limit_&&h(I,u)<=0?y++:r=r.updateImmediateChild(I.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let u;if(this.reverse_){const I=this.index_.getCompare();u=(M,N)=>I(N,M)}else u=this.index_.getCompare();const h=t;(0,P.hu)(h.numChildren()===this.limit_,"");const p=new en(e,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(e)){const I=h.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const N=null==M?1:u(M,p);if(E&&!i.isEmpty()&&N>=0)return null!=o&&o.trackChildChange(zC(e,i,I)),h.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(jC(e,I));const Q=h.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(null!=o&&o.trackChildChange(Xy(M.name,M.node)),Q.updateImmediateChild(M.name,M.node)):Q}}return i.isEmpty()?t:E&&u(y,p)>=0?(null!=o&&(o.trackChildChange(jC(y.name,y.node)),o.trackChildChange(Xy(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(y.name,Ut.EMPTY_NODE)):t}}class XS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:md}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const t=new XS;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Xk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function eR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function ex(n,t){const e=n.copy();return e.index_=t,e}function fV(n){const t={};if(n.isDefault())return t;let e;return n.index_===Un?e="$priority":n.index_===Yk?e="$value":n.index_===nc?e="$key":((0,P.hu)(n.index_ instanceof Kk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Pz)(e),n.startSet_&&(t.startAt=(0,P.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,P.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,P.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,P.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function pV(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Un&&(t.i=n.index_.toString()),t}class tx extends Z2{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=NC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const u=tx.getListenId_(t,i),h={};this.listens_[u]=h;const p=fV(t._queryParams);this.restRequest_(o+".json",p,(y,E)=>{let I=E;if(404===y&&(I=null,y=null),null===y&&this.onDataUpdate_(o,I,!1,i),(0,P.DV)(this.listens_,u)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=tx.getListenId_(t,e);delete this.listens_[i]}get(t){const e=fV(t._queryParams),i=t._path.toString(),r=new P.BH;return this.restRequest_(i+".json",e,(o,u)=>{let h=u;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,P.cI)(h.responseText)}catch(y){xs("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&xs("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class T5{constructor(){this.rootNode_=Ut.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function nx(){return{value:null,children:new Map}}function ev(n,t,e){if(Qt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Yt(t);n.children.has(i)||n.children.set(i,nx()),ev(n.children.get(i),t=Rn(t),e)}}function tR(n,t){if(Qt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Un,(i,r)=>{ev(n,new bn(i),r)}),tR(n,t)}}if(n.children.size>0){const e=Yt(t);return t=Rn(t),n.children.has(e)&&tR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function nR(n,t,e){null!==n.value?e(t,n.value):function I5(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{nR(r,new bn(t.toString()+"/"+i),e)})}class S5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Hr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class A5{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new S5(t);const i=1e4+2e4*Math.random();FC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Hr(t,(r,o)=>{o>0&&(0,P.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),FC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ya=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ya||(Ya={})),Ya))();function sR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ix{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ya.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Qt(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new bn(t));return new ix(_n(),e,this.revert)}}return(0,P.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new ix(Rn(this.path),this.affectedTree,this.revert)}}class $C{constructor(t,e){this.source=t,this.path=e,this.type=Ya.LISTEN_COMPLETE}operationForChild(t){return Qt(this.path)?new $C(this.source,_n()):new $C(this.source,Rn(this.path))}}class Jg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ya.OVERWRITE}operationForChild(t){return Qt(this.path)?new Jg(this.source,_n(),this.snap.getImmediateChild(t)):new Jg(this.source,Rn(this.path),this.snap)}}class tv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ya.MERGE}operationForChild(t){if(Qt(this.path)){const e=this.children.subtree(new bn(t));return e.isEmpty()?null:e.value?new Jg(this.source,_n(),e.value):new tv(this.source,_n(),e)}return(0,P.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new tv(this.source,Rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class M5{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qC(n,t,e,i,r,o){const u=i.filter(h=>h.type===e);u.sort((h,p)=>function O5(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new en(t.childName,t.snapshotNode),r=new en(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),u.forEach(h=>{const p=function R5(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);r.forEach(y=>{y.respondsTo(h.type)&&t.push(y.createEvent(p,n.query_))})})}function rx(n,t){return{eventCache:n,serverCache:t}}function WC(n,t,e,i){return rx(new vf(t,e,i),n.serverCache)}function mV(n,t,e,i){return rx(n.eventCache,new vf(t,e,i))}function sx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let oR;class Hn{constructor(t,e=(()=>(oR||(oR=new Ao(mK)),oR))()){this.value=t,this.children=e}static fromObject(t){let e=new Hn(null);return Hr(t,(i,r)=>{e=e.set(new bn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_n(),value:this.value};if(Qt(t))return null;{const i=Yt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Rn(t),e);return null!=o?{path:li(new bn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qt(t))return this;{const e=Yt(t),i=this.children.get(e);return null!==i?i.subtree(Rn(t)):new Hn(null)}}set(t,e){if(Qt(t))return new Hn(e,this.children);{const i=Yt(t),o=(this.children.get(i)||new Hn(null)).set(Rn(t),e),u=this.children.insert(i,o);return new Hn(this.value,u)}}remove(t){if(Qt(t))return this.children.isEmpty()?new Hn(null):new Hn(null,this.children);{const e=Yt(t),i=this.children.get(e);if(i){const r=i.remove(Rn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Hn(null):new Hn(this.value,o)}return this}}get(t){if(Qt(t))return this.value;{const e=Yt(t),i=this.children.get(e);return i?i.get(Rn(t)):null}}setTree(t,e){if(Qt(t))return e;{const i=Yt(t),o=(this.children.get(i)||new Hn(null)).setTree(Rn(t),e);let u;return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Hn(this.value,u)}}fold(t){return this.fold_(_n(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(li(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,_n(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Qt(t))return null;{const o=Yt(t),u=this.children.get(o);return u?u.findOnPath_(Rn(t),li(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_n(),e)}foreachOnPath_(t,e,i){if(Qt(t))return this;{this.value&&i(e,this.value);const r=Yt(t),o=this.children.get(r);return o?o.foreachOnPath_(Rn(t),li(e,r),i):new Hn(null)}}foreach(t){this.foreach_(_n(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(li(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Pl{constructor(t){this.writeTree_=t}static empty(){return new Pl(new Hn(null))}}function ZC(n,t,e){if(Qt(t))return new Pl(new Hn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const u=Xs(r,t);return o=o.updateChild(u,e),new Pl(n.writeTree_.set(r,o))}{const r=new Hn(e),o=n.writeTree_.setTree(t,r);return new Pl(o)}}}function aR(n,t,e){let i=n;return Hr(e,(r,o)=>{i=ZC(i,li(t,r),o)}),i}function _V(n,t){if(Qt(t))return Pl.empty();{const e=n.writeTree_.setTree(t,new Hn(null));return new Pl(e)}}function lR(n,t){return null!=em(n,t)}function em(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Xs(e.path,t)):null}function yV(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Un,(i,r)=>{t.push(new en(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new en(i,r.value))}),t}function wf(n,t){if(Qt(t))return n;{const e=em(n,t);return new Pl(null!=e?new Hn(e):n.writeTree_.subtree(t))}}function uR(n){return n.writeTree_.isEmpty()}function nv(n,t){return vV(_n(),n.writeTree_,t)}function vV(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,P.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=vV(li(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(li(n,".priority"),i)),e}}function ox(n,t){return TV(t,n)}function B5(n,t){if(n.snap)return Ka(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ka(li(n.path,e),t))return!0;return!1}function H5(n){return n.visible}function wV(n,t,e){let i=Pl.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const u=o.path;let h;if(o.snap)Ka(e,u)?(h=Xs(e,u),i=ZC(i,h,o.snap)):Ka(u,e)&&(h=Xs(u,e),i=ZC(i,_n(),o.snap.getChild(h)));else{if(!o.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Ka(e,u))h=Xs(e,u),i=aR(i,h,o.children);else if(Ka(u,e))if(h=Xs(u,e),Qt(h))i=aR(i,_n(),o.children);else{const p=(0,P.DV)(o.children,Yt(h));if(p){const y=p.getChild(Rn(h));i=ZC(i,_n(),y)}}}}}return i}function bV(n,t,e,i,r){if(i||r){const o=wf(n.visibleWrites,t);return!r&&uR(o)?e:r||null!=e||lR(o,_n())?nv(wV(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Ka(y.path,t)||Ka(t,y.path))},t),e||Ut.EMPTY_NODE):null}{const o=em(n.visibleWrites,t);if(null!=o)return o;{const u=wf(n.visibleWrites,t);return uR(u)?e:null!=e||lR(u,_n())?nv(u,e||Ut.EMPTY_NODE):null}}}function ax(n,t,e,i){return bV(n.writeTree,n.treePath,t,e,i)}function cR(n,t){return function j5(n,t,e){let i=Ut.EMPTY_NODE;const r=em(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Un,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(e){const o=wf(n.visibleWrites,t);return e.forEachChild(Un,(u,h)=>{const p=nv(wf(o,new bn(u)),h);i=i.updateImmediateChild(u,p)}),yV(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return yV(wf(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function CV(n,t,e,i){return function z5(n,t,e,i,r){(0,P.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=li(t,e);if(lR(n.visibleWrites,o))return null;{const u=wf(n.visibleWrites,o);return uR(u)?r.getChild(e):nv(u,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function lx(n,t){return function $5(n,t){return em(n.visibleWrites,t)}(n.writeTree,li(n.treePath,t))}function dR(n,t,e){return function G5(n,t,e,i){const r=li(t,e),o=em(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?nv(wf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function EV(n,t){return TV(li(n.treePath,t),n.writeTree)}function TV(n,t){return{treePath:n,writeTree:t}}class K5{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,zC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,jC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Xy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,zC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const IV=new class Y5{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class hR{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new vf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dR(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xg(this.viewCache_),o=function Z5(n,t,e,i,r,o){return function q5(n,t,e,i,r,o,u){let h;const p=wf(n.visibleWrites,t),y=em(p,_n());if(null!=y)h=y;else{if(null==e)return[];h=nv(p,e)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const E=[],I=u.getCompare(),M=o?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let N=M.getNext();for(;N&&E.length<r;)0!==I(N,i)&&E.push(N),N=M.getNext();return E}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function SV(n,t,e,i,r,o){const u=t.eventCache;if(null!=lx(i,e))return t;{let h,p;if(Qt(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=Xg(t),I=cR(i,y instanceof Ut?y:Ut.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const y=ax(i,Xg(t));h=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=Yt(e);if(".priority"===y){(0,P.hu)(1===yf(e),"Can't have a priority with additional path components");const E=u.getNode();p=t.serverCache.getNode();const I=CV(i,e,E,p);h=null!=I?n.filter.updatePriority(E,I):u.getNode()}else{const E=Rn(e);let I;if(u.isCompleteForChild(y)){p=t.serverCache.getNode();const M=CV(i,e,u.getNode(),p);I=null!=M?u.getNode().getImmediateChild(y).updateChild(E,M):u.getNode().getImmediateChild(y)}else I=dR(i,y,t.serverCache);h=null!=I?n.filter.updateChild(u.getNode(),y,I,E,r,o):u.getNode()}}return WC(t,h,u.isFullyInitialized()||Qt(e),n.filter.filtersNodes())}}function ux(n,t,e,i,r,o,u,h){const p=t.serverCache;let y;const E=u?n.filter:n.filter.getIndexedFilter();if(Qt(e))y=E.updateFullNode(p.getNode(),i,null);else if(E.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(e,i);y=E.updateFullNode(p.getNode(),N,null)}else{const N=Yt(e);if(!p.isCompleteForPath(e)&&yf(e)>1)return t;const V=Rn(e),ye=p.getNode().getImmediateChild(N).updateChild(V,i);y=".priority"===N?E.updatePriority(p.getNode(),ye):E.updateChild(p.getNode(),N,ye,V,IV,null)}const I=mV(t,y,p.isFullyInitialized()||Qt(e),E.filtersNodes());return SV(n,I,e,r,new hR(r,I,o),h)}function fR(n,t,e,i,r,o,u){const h=t.eventCache;let p,y;const E=new hR(r,t,o);if(Qt(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,u),p=WC(t,y,!0,n.filter.filtersNodes());else{const I=Yt(e);if(".priority"===I)y=n.filter.updatePriority(t.eventCache.getNode(),i),p=WC(t,y,h.isFullyInitialized(),h.isFiltered());else{const M=Rn(e),N=h.getNode().getImmediateChild(I);let V;if(Qt(M))V=i;else{const Q=E.getCompleteChild(I);V=null!=Q?".priority"===zk(M)&&Q.getChild(J2(M)).isEmpty()?Q:Q.updateChild(M,i):Ut.EMPTY_NODE}p=N.equals(V)?t:WC(t,n.filter.updateChild(h.getNode(),I,V,M,E,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function xV(n,t){return n.eventCache.isCompleteForChild(t)}function DV(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function pR(n,t,e,i,r,o,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,p=t;y=Qt(e)?i:new Hn(null).setTree(e,i);const E=t.serverCache.getNode();return y.children.inorderTraversal((I,M)=>{if(E.hasChild(I)){const V=DV(0,t.serverCache.getNode().getImmediateChild(I),M);p=ux(n,p,new bn(I),V,r,o,u,h)}}),y.children.inorderTraversal((I,M)=>{const N=!t.serverCache.isCompleteForChild(I)&&void 0===M.value;if(!E.hasChild(I)&&!N){const Q=DV(0,t.serverCache.getNode().getImmediateChild(I),M);p=ux(n,p,new bn(I),Q,r,o,u,h)}}),p}class o8{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Jk(i.getIndex()),o=function v5(n){return n.loadsAllData()?new Jk(n.getIndex()):n.hasLimit()?new y5(n):new GC(n)}(i);this.processor_=function Q5(n){return{filter:n}}(o);const u=e.serverCache,h=e.eventCache,p=r.updateFullNode(Ut.EMPTY_NODE,u.getNode(),null),y=o.updateFullNode(Ut.EMPTY_NODE,h.getNode(),null),E=new vf(p,u.isFullyInitialized(),r.filtersNodes()),I=new vf(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=rx(I,E),this.eventGenerator_=new M5(this.query_)}get query(){return this.query_}}function u8(n,t){const e=Xg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Qt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function AV(n){return 0===n.eventRegistrations_.length}function MV(n,t,e){const i=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(e,r);u&&i.push(u)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function kV(n,t,e,i){t.type===Ya.MERGE&&null!==t.source.queryId&&((0,P.hu)(Xg(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(sx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function X5(n,t,e,i,r){const o=new K5;let u,h;if(e.type===Ya.OVERWRITE){const y=e;y.source.fromUser?u=fR(n,t,y.path,y.snap,i,r,o):((0,P.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered()&&!Qt(y.path),u=ux(n,t,y.path,y.snap,i,r,h,o))}else if(e.type===Ya.MERGE){const y=e;y.source.fromUser?u=function t8(n,t,e,i,r,o,u){let h=t;return i.foreach((p,y)=>{const E=li(e,p);xV(t,Yt(E))&&(h=fR(n,h,E,y,r,o,u))}),i.foreach((p,y)=>{const E=li(e,p);xV(t,Yt(E))||(h=fR(n,h,E,y,r,o,u))}),h}(n,t,y.path,y.children,i,r,o):((0,P.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered(),u=pR(n,t,y.path,y.children,i,r,h,o))}else if(e.type===Ya.ACK_USER_WRITE){const y=e;u=y.revert?function s8(n,t,e,i,r,o){let u;if(null!=lx(i,e))return t;{const h=new hR(i,t,r),p=t.eventCache.getNode();let y;if(Qt(e)||".priority"===Yt(e)){let E;if(t.serverCache.isFullyInitialized())E=ax(i,Xg(t));else{const I=t.serverCache.getNode();(0,P.hu)(I instanceof Ut,"serverChildren would be complete if leaf node"),E=cR(i,I)}E=E,y=n.filter.updateFullNode(p,E,o)}else{const E=Yt(e);let I=dR(i,E,t.serverCache);null==I&&t.serverCache.isCompleteForChild(E)&&(I=p.getImmediateChild(E)),y=null!=I?n.filter.updateChild(p,E,I,Rn(e),h,o):t.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,Ut.EMPTY_NODE,Rn(e),h,o):p,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=ax(i,Xg(t)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,o)))}return u=t.serverCache.isFullyInitialized()||null!=lx(i,_n()),WC(t,y,u,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function n8(n,t,e,i,r,o,u){if(null!=lx(r,e))return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(Qt(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return ux(n,t,e,p.getNode().getChild(e),r,o,h,u);if(Qt(e)){let y=new Hn(null);return p.getNode().forEachChild(nc,(E,I)=>{y=y.set(new bn(E),I)}),pR(n,t,e,y,r,o,h,u)}return t}{let y=new Hn(null);return i.foreach((E,I)=>{const M=li(e,E);p.isCompleteForPath(M)&&(y=y.set(E,p.getNode().getChild(M)))}),pR(n,t,e,y,r,o,h,u)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==Ya.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);u=function r8(n,t,e,i,r){const o=t.serverCache;return SV(n,mV(t,o.getNode(),o.isFullyInitialized()||Qt(e),o.isFiltered()),e,i,IV,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function e8(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=sx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(hV(sx(t)))}}(t,u,p),{viewCache:u,changes:p}}(n.processor_,r,t,e,i);return function J5(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,P.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,RV(n,o.changes,o.viewCache.eventCache.getNode(),null)}function RV(n,t,e,i){return function k5(n,t,e,i){const r=[],o=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function _5(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),qC(n,r,"child_removed",t,i,e),qC(n,r,"child_added",t,i,e),qC(n,r,"child_moved",o,i,e),qC(n,r,"child_changed",t,i,e),qC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let cx,hx;class OV{constructor(){this.views=new Map}}function gR(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,P.hu)(null!=o,"SyncTree gave us an op for an invalid query."),kV(o,t,e,i)}{let o=[];for(const u of n.views.values())o=o.concat(kV(u,t,e,i));return o}}function NV(n,t,e,i,r){const u=n.views.get(t._queryIdentifier);if(!u){let h=ax(e,r?i:null),p=!1;h?p=!0:i instanceof Ut?(h=cR(e,i),p=!1):(h=Ut.EMPTY_NODE,p=!1);const y=rx(new vf(h,p,!1),new vf(i,r,!1));return new o8(t,y)}return u}function PV(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function bf(n,t){let e=null;for(const i of n.views.values())e=e||u8(i,t);return e}function FV(n,t){return t._queryParams.loadsAllData()?dx(n):n.views.get(t._queryIdentifier)}function LV(n,t){return null!=FV(n,t)}function Cf(n){return null!=dx(n)}function dx(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let v8=1;class VV{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Hn(null),this.pendingWriteTree_=function W5(){return{visibleWrites:Pl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mR(n,t,e,i,r){return function P5(n,t,e,i,r){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=ZC(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?iv(n,new Jg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ef(n,t,e=!1){const i=function L5(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function V5(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=e&&B5(h,i.path)?r=!1:Ka(i.path,h.path)&&(o=!0)),u--}return!!r&&(o?(function U5(n){n.visibleWrites=wV(n.allWrites,H5,_n()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=_V(n.visibleWrites,i.path):Hr(i.children,p=>{n.visibleWrites=_V(n.visibleWrites,li(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new Hn(null);return null!=i.snap?o=o.set(_n(),!0):Hr(i.children,u=>{o=o.set(new bn(u),!0)}),iv(n,new ix(i.path,o,e))}return[]}function KC(n,t,e){return iv(n,new Jg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _R(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let u=[];if(o&&("default"===t._queryIdentifier||LV(o,t))){const h=function m8(n,t,e,i){const r=t._queryIdentifier,o=[];let u=[];const h=Cf(n);if("default"===r)for(const[p,y]of n.views.entries())u=u.concat(MV(y,e,i)),AV(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||o.push(y.query));else{const p=n.views.get(r);p&&(u=u.concat(MV(p,e,i)),AV(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!Cf(n)&&o.push(new(function f8(){return(0,P.hu)(cx,"Reference.ts has not been loaded"),cx}())(t._repo,t._path)),{removed:o,events:u}}(o,t,e,i);(function p8(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;u=h.events;const y=-1!==p.findIndex(I=>I._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(r,(I,M)=>Cf(M));if(y&&!E){const I=n.syncPointTree_.subtree(r);if(!I.isEmpty()){const M=function x8(n){return n.fold((t,e,i)=>{if(e&&Cf(e))return[dx(e)];{let r=[];return e&&(r=PV(e)),Hr(i,(o,u)=>{r=r.concat(u)}),r}})}(I);for(let N=0;N<M.length;++N){const V=M[N],Q=V.query,ye=jV(n,V);n.listenProvider_.startListening(YC(Q),px(n,Q),ye.hashFn,ye.onComplete)}}}!E&&p.length>0&&!i&&(y?n.listenProvider_.stopListening(YC(t),null):p.forEach(I=>{const M=n.queryToTagMap.get(gx(I));n.listenProvider_.stopListening(YC(I),M)})),function D8(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=gx(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,p)}return u}function BV(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(I,M)=>{const N=Xs(I,i);r=r||bf(M,N),o=o||Cf(M)});let h,u=n.syncPointTree_.get(i);u?(o=o||Cf(u),r=r||bf(u,_n())):(u=new OV,n.syncPointTree_=n.syncPointTree_.set(i,u)),null!=r?h=!0:(h=!1,r=Ut.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((M,N)=>{const V=bf(N,_n());V&&(r=r.updateImmediateChild(M,V))}));const p=LV(u,t);if(!p&&!t._queryParams.loadsAllData()){const I=gx(t);(0,P.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const M=function A8(){return v8++}();n.queryToTagMap.set(I,M),n.tagToQueryMap.set(M,I)}let E=function g8(n,t,e,i,r,o){const u=NV(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function c8(n,t){n.eventRegistrations_.push(t)}(u,e),function d8(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Un,(o,u)=>{i.push(Xy(o,u))}),e.isFullyInitialized()&&i.push(hV(e.getNode())),RV(n,i,e.getNode(),t)}(u,e)}(u,t,e,ox(n.pendingWriteTree_,i),r,h);if(!p&&!o){const I=FV(u,t);E=E.concat(function M8(n,t,e){const i=t._path,r=px(n,t),o=jV(n,e),u=n.listenProvider_.startListening(YC(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,P.hu)(!Cf(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,E,I)=>{if(!Qt(y)&&E&&Cf(E))return[dx(E).query];{let M=[];return E&&(M=M.concat(PV(E).map(N=>N.query))),Hr(I,(N,V)=>{M=M.concat(V)}),M}});for(let y=0;y<p.length;++y){const E=p[y];n.listenProvider_.stopListening(YC(E),px(n,E))}}return u}(n,t,I))}return E}function fx(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(u,h)=>{const y=bf(h,Xs(u,t));if(y)return y});return bV(r,t,o,e,!0)}function iv(n,t){return UV(t,n.syncPointTree_,null,ox(n.pendingWriteTree_,_n()))}function UV(n,t,e,i){if(Qt(n.path))return HV(n,t,e,i);{const r=t.get(_n());null==e&&null!=r&&(e=bf(r,_n()));let o=[];const u=Yt(n.path),h=n.operationForChild(u),p=t.children.get(u);if(p&&h){const y=e?e.getImmediateChild(u):null,E=EV(i,u);o=o.concat(UV(h,p,y,E))}return r&&(o=o.concat(gR(r,n,i,e))),o}}function HV(n,t,e,i){const r=t.get(_n());null==e&&null!=r&&(e=bf(r,_n()));let o=[];return t.children.inorderTraversal((u,h)=>{const p=e?e.getImmediateChild(u):null,y=EV(i,u),E=n.operationForChild(u);E&&(o=o.concat(HV(E,h,p,y)))}),r&&(o=o.concat(gR(r,n,i,e))),o}function jV(n,t){const e=t.query,i=px(n,e);return{hashFn:()=>(function a8(n){return n.viewCache_.serverCache.getNode()}(t)||Ut.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function E8(n,t,e){const i=yR(n,e);if(i){const r=vR(i),o=r.path,u=r.queryId,h=Xs(o,t);return wR(n,o,new $C(sR(u),h))}return[]}(n,e._path,i):function C8(n,t){return iv(n,new $C({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function vK(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return _R(n,e,null,o)}}}}function px(n,t){const e=gx(t);return n.queryToTagMap.get(e)}function gx(n){return n._path.toString()+"$"+n._queryIdentifier}function yR(n,t){return n.tagToQueryMap.get(t)}function vR(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new bn(n.substr(0,t))}}function wR(n,t,e){const i=n.syncPointTree_.get(t);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),gR(i,e,ox(n.pendingWriteTree_,t),null)}function YC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function y8(){return(0,P.hu)(hx,"Reference.ts has not been loaded"),hx}())(n._repo,n._path):n}class bR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new bR(e)}node(){return this.node_}}class CR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=li(this.path_,t);return new CR(this.syncTree_,e)}node(){return fx(this.syncTree_,this.path_)}}const zV=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?R8(n[".sv"],t,e):"object"==typeof n[".sv"]?O8(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},R8=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},O8=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,P.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},GV=function(n,t,e,i){return TR(t,new CR(e,n),i)},ER=function(n,t,e){return TR(n,new bR(t),e)};function TR(n,t,e){const i=n.getPriority().val(),r=zV(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const u=n,h=zV(u.getValue(),t,e);return h!==u.getValue()||r!==u.getPriority().val()?new Yy(h,fi(r)):n}{const u=n;return o=u,r!==u.getPriority().val()&&(o=o.updatePriority(new Yy(r))),u.forEachChild(Un,(h,p)=>{const y=TR(p,t.getImmediateChild(h),e);y!==p&&(o=o.updateImmediateChild(h,y))}),o}}class IR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function mx(n,t){let e=t instanceof bn?t:new bn(t),i=n,r=Yt(e);for(;null!==r;){const o=(0,P.DV)(i.node.children,r)||{children:{},childCount:0};i=new IR(r,i,o),e=Rn(e),r=Yt(e)}return i}function tm(n){return n.node.value}function SR(n,t){n.node.value=t,xR(n)}function $V(n){return n.node.childCount>0}function _x(n,t){Hr(n.node.children,(e,i)=>{t(new IR(e,n,i))})}function qV(n,t,e,i){e&&!i&&t(n),_x(n,r=>{qV(r,t,!0,i)}),e&&i&&t(n)}function QC(n){return new bn(null===n.parent?n.name:QC(n.parent)+"/"+n.name)}function xR(n){null!==n.parent&&function F8(n,t,e){const i=function N8(n){return void 0===tm(n)&&!$V(n)}(e),r=(0,P.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,xR(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,xR(n))}(n.parent,n.name,n)}const L8=/[\[\].#$\/\u0000-\u001F\u007F]/,V8=/[\[\].#$\u0000-\u001F\u007F]/,DR=10485760,yx=function(n){return"string"==typeof n&&0!==n.length&&!L8.test(n)},WV=function(n){return"string"==typeof n&&0!==n.length&&!V8.test(n)},JC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!GS(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},ic=function(n,t,e,i){i&&void 0===t||XC((0,P.gK)(n,"value"),t,e)},XC=function(n,t,e){const i=e instanceof bn?new YK(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Yg(i));if("function"==typeof t)throw new Error(n+"contains a function "+Yg(i)+" with contents = "+t.toString());if(GS(t))throw new Error(n+"contains "+t.toString()+" "+Yg(i));if("string"==typeof t&&t.length>DR/3&&(0,P.ug)(t)>DR)throw new Error(n+"contains a string greater than "+DR+" utf8 bytes "+Yg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Hr(t,(u,h)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!yx(u)))throw new Error(n+" contains an invalid key ("+u+") "+Yg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function QK(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),X2(n)})(i,u),XC(n,h,i),function JK(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Yg(i)+" in addition to actual children.")}},ZV=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Hr(t,(u,h)=>{const p=new bn(u);if(XC(r,h,li(e,p)),".priority"===zk(p)&&!JC(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=VC(i);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!yx(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(KK);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ka(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},AR=function(n,t,e){if(!e||void 0!==t){if(GS(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!JC(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},e0=function(n,t,e,i){if(!(i&&void 0===e||yx(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},t0=function(n,t,e,i){if(!(i&&void 0===e||WV(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qa=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},KV=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!yx(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WV(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class j8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vx(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!Gk(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function MR(n,t,e){vx(n,e),YV(n,i=>Gk(i,t))}function Ja(n,t,e){vx(n,e),YV(n,i=>Ka(i,t)||Ka(t,i))}function YV(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(z8(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function z8(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Zg&&Ur("event: "+e.toString()),Zy(i)}}}const QV="repo_interrupt";class $8{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nx(),this.transactionQueueTree_=new IR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JV(n){const e=n.infoData_.getNode(new bn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function n0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:JV(n)})}function XV(n,t,e,i,r){n.dataUpdateCount++;const o=new bn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(r)if(i){const p=(0,P.UI)(e,y=>fi(y));u=function I8(n,t,e,i){const r=yR(n,i);if(r){const o=vR(r),u=o.path,h=o.queryId,p=Xs(u,t),y=Hn.fromObject(e);return wR(n,u,new tv(sR(h),p,y))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=fi(e);u=function T8(n,t,e,i){const r=yR(n,i);if(null!=r){const o=vR(r),u=o.path,h=o.queryId,p=Xs(u,t);return wR(n,u,new Jg(sR(h),p,e))}return[]}(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,P.UI)(e,y=>fi(y));u=function b8(n,t,e){const i=Hn.fromObject(e);return iv(n,new tv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=fi(e);u=KC(n.serverSyncTree_,o,p)}let h=o;u.length>0&&(h=sv(n,o)),Ja(n.eventQueue_,h,u)}function eB(n,t){kR(n,"connected",t),!1===t&&function Y8(n){rv(n,"onDisconnectEvents");const t=n0(n),e=nx();nR(n.onDisconnect_,_n(),(r,o)=>{const u=GV(r,o,n.serverSyncTree_,t);ev(e,r,u)});let i=[];nR(e,_n(),(r,o)=>{i=i.concat(KC(n.serverSyncTree_,r,o));const u=PR(n,r);sv(n,u)}),n.onDisconnect_=nx(),Ja(n.eventQueue_,_n(),i)}(n)}function kR(n,t,e){const i=new bn("/.info/"+t),r=fi(e);n.infoData_.updateSnapshot(i,r);const o=KC(n.infoSyncTree_,i,r);Ja(n.eventQueue_,i,o)}function wx(n){return n.nextWriteId_++}function RR(n,t,e,i,r){rv(n,"set",{path:t.toString(),value:e,priority:i});const o=n0(n),u=fi(e,i),h=fx(n.serverSyncTree_,t),p=ER(u,h,o),y=wx(n),E=mR(n.serverSyncTree_,t,p,y,!0);vx(n.eventQueue_,E),n.server_.put(t.toString(),u.val(!0),(M,N)=>{const V="ok"===M;V||xs("set at "+t+" failed: "+M);const Q=Ef(n.serverSyncTree_,y,!V);Ja(n.eventQueue_,t,Q),Tf(0,r,M,N)});const I=PR(n,t);sv(n,I),Ja(n.eventQueue_,I,[])}function Q8(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&tR(n.onDisconnect_,t),Tf(0,e,i,r)})}function tB(n,t,e,i){const r=fi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,u)=>{"ok"===o&&ev(n.onDisconnect_,t,r),Tf(0,i,o,u)})}function OR(n,t,e){let i;i=".info"===Yt(t._path)?_R(n.infoSyncTree_,t,e):_R(n.serverSyncTree_,t,e),MR(n.eventQueue_,t._path,i)}function nB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(QV)}function rv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ur(e,...t)}function Tf(n,t,e,i){t&&Zy(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const u=new Error(o);u.code=r,t(u)}})}function NR(n,t,e){return fx(n.serverSyncTree_,t,e)||Ut.EMPTY_NODE}function bx(n,t=n.transactionQueueTree_){if(t||Cx(n,t),tm(t)){const e=rB(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function iY(n,t,e){const i=e.map(y=>y.currentWriteId),r=NR(n,t,i);let o=r;const u=r.hash();for(let y=0;y<e.length;y++){const E=e[y];(0,P.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const I=Xs(t,E.path);o=o.updateChild(I,E.currentOutputSnapshotRaw)}const h=o.val(!0),p=t;n.server_.put(p.toString(),h,y=>{rv(n,"transaction put response",{path:p.toString(),status:y});let E=[];if("ok"===y){const I=[];for(let M=0;M<e.length;M++)e[M].status=2,E=E.concat(Ef(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&I.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();Cx(n,mx(n.transactionQueueTree_,t)),bx(n,n.transactionQueueTree_),Ja(n.eventQueue_,t,E);for(let M=0;M<I.length;M++)Zy(I[M])}else{if("datastale"===y)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{xs("transaction at "+p.toString()+" failed: "+y);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=y}sv(n,t)}},u)}(n,QC(t),e)}else $V(t)&&_x(t,e=>{bx(n,e)})}function sv(n,t){const e=iB(n,t),i=QC(e);return function rY(n,t,e){if(0===t.length)return;const i=[];let r=[];const u=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],y=Xs(e,p.path);let I,E=!1;if((0,P.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,I=p.abortReason,r=r.concat(Ef(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)E=!0,I="maxretry",r=r.concat(Ef(n.serverSyncTree_,p.currentWriteId,!0));else{const M=NR(n,p.path,u);p.currentInputSnapshot=M;const N=t[h].update(M.val());if(void 0!==N){XC("transaction failed: Data returned ",N,p.path);let V=fi(N);"object"==typeof N&&null!=N&&(0,P.r3)(N,".priority")||(V=V.updatePriority(M.getPriority()));const ye=p.currentWriteId,je=n0(n),Je=ER(V,M,je);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Je,p.currentWriteId=wx(n),u.splice(u.indexOf(ye),1),r=r.concat(mR(n.serverSyncTree_,p.path,Je,p.currentWriteId,p.applyLocally)),r=r.concat(Ef(n.serverSyncTree_,ye,!0))}else E=!0,I="nodata",r=r.concat(Ef(n.serverSyncTree_,p.currentWriteId,!0))}Ja(n.eventQueue_,e,r),r=[],E&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}Cx(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Zy(i[h]);bx(n,n.transactionQueueTree_)}(n,rB(n,e),i),i}function iB(n,t){let e,i=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===tm(i);)i=mx(i,e),e=Yt(t=Rn(t));return i}function rB(n,t){const e=[];return sB(n,t,e),e.sort((i,r)=>i.order-r.order),e}function sB(n,t,e){const i=tm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);_x(t,r=>{sB(n,r,e)})}function Cx(n,t){const e=tm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,SR(t,e.length>0?e:void 0)}_x(t,i=>{Cx(n,i)})}function PR(n,t){const e=QC(iB(n,t)),i=mx(n.transactionQueueTree_,t);return function P8(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{FR(n,r)}),FR(n,i),qV(i,r=>{FR(n,r)}),e}function FR(n,t){const e=tm(t);if(e){const i=[];let r=[],o=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,P.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,e[u].status=3,e[u].abortReason="set"):((0,P.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),r=r.concat(Ef(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?SR(t,void 0):e.length=o+1,Ja(n.eventQueue_,QC(t),r);for(let u=0;u<i.length;u++)Zy(i[u])}}const LR=function(n,t){const e=aY(n),i=e.namespace;return"firebase.com"===e.domain&&ec(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ec("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Lk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new bn(e.pathString)}},aY=function(n){let t="",e="",i="",r="",o="",u=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(E,I)),E<I&&(r=function sY(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(E,I)));const M=function oY(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):xs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));y=t.indexOf(":"),y>=0?(u="https"===h||"wss"===h,p=parseInt(t.substring(y+1),10)):y=t.length;const N=t.slice(0,y);if("localhost"===N.toLowerCase())e="localhost";else if(N.split(".").length<=2)e=N;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:u,scheme:h,pathString:r,namespace:o}};class oB{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Pz)(this.snapshot.exportVal())}}class aB{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lB{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class uB{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return Q8(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Qa("OnDisconnect.remove",this._path);const t=new P.BH;return tB(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Qa("OnDisconnect.set",this._path),ic("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return tB(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Qa("OnDisconnect.setWithPriority",this._path),ic("OnDisconnect.setWithPriority",t,this._path,!1),AR("OnDisconnect.setWithPriority",e,!1);const i=new P.BH;return function J8(n,t,e,i,r){const o=fi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(u,h)=>{"ok"===u&&ev(n.onDisconnect_,t,o),Tf(0,r,u,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Qa("OnDisconnect.update",this._path),ZV("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function X8(n,t,e,i){if((0,P.xb)(e))return Ur("onDisconnect().update() called with empty data.  Don't do anything."),void Tf(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Hr(e,(u,h)=>{const p=fi(h);ev(n.onDisconnect_,li(t,u),p)}),Tf(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Mo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Qt(this._path)?null:zk(this._path)}get ref(){return new Xa(this._repo,this._path)}get _queryIdentifier(){const t=pV(this._queryParams),e=Nk(t);return"{}"===e?"default":e}get _queryObject(){return pV(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof Mo))return!1;const e=this._repo===t._repo,i=Gk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ZK(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Ex(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function If(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===nc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==md)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==tc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Un){if(null!=t&&!JC(t)||null!=e&&!JC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof Kk||n.getIndex()===Yk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xa extends Mo{constructor(t,e){super(t,e,new XS,!1)}get parent(){const t=J2(this._path);return null===t?null:new Xa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class nm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new bn(t),i=im(this.ref,t);return new nm(this._node.getChild(e),i,Un)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new nm(r,im(this.ref,i),Un)))}hasChild(t){const e=new bn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cB(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?im(n._root,t):n._root}function dB(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=LR(t,n._repo.repoInfo_.nodeAdmin);KV("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ec("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),cB(n,e.path.toString())}function im(n,t){return null===Yt((n=(0,P.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),t0("child","path",e,!1)):t0("child","path",t,!1),new Xa(n._repo,li(n._path,t));var e}function VR(n,t){n=(0,P.m9)(n),Qa("set",n._path),ic("set",t,n._path,!1);const e=new P.BH;return RR(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function hY(n,t){ZV("update",t,n._path,!1);const e=new P.BH;return function K8(n,t,e,i){rv(n,"update",{path:t.toString(),value:e});let r=!0;const o=n0(n),u={};if(Hr(e,(h,p)=>{r=!1,u[h]=GV(li(t,h),fi(p),n.serverSyncTree_,o)}),r)Ur("update() called with empty data.  Don't do anything."),Tf(0,i,"ok",void 0);else{const h=wx(n),p=function w8(n,t,e,i){!function F5(n,t,e,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=aR(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Hn.fromObject(e);return iv(n,new tv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,u,h);vx(n.eventQueue_,p),n.server_.merge(t.toString(),e,(y,E)=>{const I="ok"===y;I||xs("update at "+t+" failed: "+y);const M=Ef(n.serverSyncTree_,h,!I),N=M.length>0?sv(n,t):t;Ja(n.eventQueue_,N,M),Tf(0,i,y,E)}),Hr(e,y=>{const E=PR(n,li(t,y));sv(n,E)}),Ja(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function fY(n){return function Z8(n,t){const e=function S8(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,E)=>{const I=Xs(y,e);i=i||bf(E,I)});let r=n.syncPointTree_.get(e);r?i=i||bf(r,_n()):(r=new OV,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,u=o?new vf(i,!0,!1):null;return function l8(n){return sx(n.viewCache_)}(NV(r,t,ox(n.pendingWriteTree_,t._path),o?u.getNode():Ut.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=fi(i).withIndex(t._queryParams.getIndex()),o=KC(n.serverSyncTree_,t._path,r);return MR(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(rv(n,"get for query "+(0,P.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,P.m9)(n))._repo,n).then(t=>new nm(t,new Xa(n._repo,n._path),n._queryParams.getIndex()))}class Ix{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new oB("value",this,new nm(t.snapshotNode,new Xa(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new aB(this,t,e):null}matches(t){return t instanceof Ix&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Sx{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new aB(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const i=im(new Xa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new oB(t.type,this,new nm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Sx&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function r0(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=e,y=(E,I)=>{OR(n._repo,n,h),p(E,I)};y.userCallback=e.userCallback,y.context=e.context,e=y}const u=new lB(e,o||void 0),h="value"===t?new Ix(u):new Sx(t,u);return function eY(n,t,e){let i;i=".info"===Yt(t._path)?BV(n.infoSyncTree_,t,e):BV(n.serverSyncTree_,t,e),MR(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>OR(n._repo,n,h)}function BR(n,t,e,i){return r0(n,"value",t,e,i)}function hB(n,t,e,i){return r0(n,"child_added",t,e,i)}function fB(n,t,e,i){return r0(n,"child_changed",t,e,i)}function pB(n,t,e,i){return r0(n,"child_moved",t,e,i)}function gB(n,t,e,i){return r0(n,"child_removed",t,e,i)}function mB(n,t,e){let i=null;const r=e?new lB(e):null;"value"===t?i=new Ix(r):t&&(i=new Sx(t,r)),OR(n._repo,n,i)}class Fl{}class _B extends Fl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("endAt",this._value,t._path,!0);const e=eR(t._queryParams,this._value,this._key);if(Tx(e),If(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(t._repo,t._path,e,t._orderByCalled)}}class gY extends Fl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("endBefore",this._value,t._path,!1);const e=function E5(n,t,e){let i,r;return n.index_===nc?("string"==typeof t&&(t=dV(t)),r=eR(n,t,e)):(i=null==e?md:dV(e),r=eR(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Tx(e),If(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(t._repo,t._path,e,t._orderByCalled)}}class yB extends Fl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("startAt",this._value,t._path,!0);const e=Xk(t._queryParams,this._value,this._key);if(Tx(e),If(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mo(t._repo,t._path,e,t._orderByCalled)}}class yY extends Fl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("startAfter",this._value,t._path,!1);const e=function C5(n,t,e){let i;if(n.index_===nc)"string"==typeof t&&(t=cV(t)),i=Xk(n,t,e);else{let r;r=null==e?tc:cV(e),i=Xk(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Tx(e),If(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mo(t._repo,t._path,e,t._orderByCalled)}}class wY extends Fl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mo(t._repo,t._path,function w5(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class CY extends Fl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mo(t._repo,t._path,function b5(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class TY extends Fl{constructor(t){super(),this._path=t}_apply(t){Ex(t,"orderByChild");const e=new bn(this._path);if(Qt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Kk(e),r=ex(t._queryParams,i);return If(r),new Mo(t._repo,t._path,r,!0)}}class SY extends Fl{_apply(t){Ex(t,"orderByKey");const e=ex(t._queryParams,nc);return If(e),new Mo(t._repo,t._path,e,!0)}}class DY extends Fl{_apply(t){Ex(t,"orderByPriority");const e=ex(t._queryParams,Un);return If(e),new Mo(t._repo,t._path,e,!0)}}class MY extends Fl{_apply(t){Ex(t,"orderByValue");const e=ex(t._queryParams,Yk);return If(e),new Mo(t._repo,t._path,e,!0)}}class RY extends Fl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ic("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _B(this._value,this._key)._apply(new yB(this._value,this._key)._apply(t))}}function Ll(n,...t){let e=(0,P.m9)(n);for(const i of t)e=i._apply(e);return e}(function h8(n){(0,P.hu)(!cx,"__referenceConstructor has already been defined"),cx=n})(Xa),function _8(n){(0,P.hu)(!hx,"__referenceConstructor has already been defined"),hx=n}(Xa);const UR={};function wB(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ec("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ur("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,u=LR(o,r),h=u.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,o=`http://${y}?ns=${h.namespace}`,u=LR(o,r),h=u.repoInfo):p=!u.repoInfo.secure;const E=r&&p?new LC(LC.OWNER):new EK(n.name,n.options,t);KV("Invalid Firebase Database URL",u),Qt(u.path)||ec("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function LY(n,t,e,i){let r=UR[t.name];r||(r={},UR[t.name]=r);let o=r[n.toURLString()];return o&&ec("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new $8(n,false,e,i),r[n.toURLString()]=o,o}(h,n,E,new CK(n.name,e));return new BY(I,n)}class BY{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function q8(n,t,e){if(n.stats_=Uk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new tx(n.repoInfo_,(i,r,o,u)=>{XV(n,i,r,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>eB(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Qg(n.repoInfo_,t,(i,r,o,u)=>{XV(n,i,r,o,u)},i=>{eB(n,i)},i=>{!function W8(n,t){Hr(t,(e,i)=>{kR(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function SK(n,t){const e=n.toString();return Bk[e]||(Bk[e]=t()),Bk[e]}(n.repoInfo_,()=>new A5(n.stats_,n.server_)),n.infoData_=new T5,n.infoSyncTree_=new VV({startListening:(i,r,o,u)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=KC(n.infoSyncTree_,i._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),kR(n,"connected",!1),n.serverSyncTree_=new VV({startListening:(i,r,o,u)=>(n.server_.listen(i,o,r,(h,p)=>{const y=u(h,p);Ja(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xa(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function FY(n,t){const e=UR[t];(!e||e[n.key]!==n)&&ec(`Database ${t}(${n.repoInfo_}) has already been deleted.`),nB(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ec("Cannot call "+t+" on a deleted database.")}}function bB(){U2.IS_TRANSPORT_INITIALIZED&&xs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function UY(){bB(),_f.forceDisallow()}function HY(){bB(),Ky.forceDisallow(),_f.forceAllow()}function $Y(n,t){w2(n,t)}const WY={".sv":"timestamp"};class YY{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Qg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Qg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function qY(n){g2(la.SDK_VERSION),(0,la._registerComponent)(new Co.wA("database",(t,{instanceIdentifier:e})=>wB(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,la.registerVersion)(f2,"0.13.0",n),(0,la.registerVersion)(f2,"0.13.0","esm2017")}();const e7=new zs.Yd("@firebase/database-compat"),CB=function(n){e7.warn("FIREBASE WARNING: "+n)};class r7{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,CB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class s7{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Sf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),t0("DataSnapshot.child","path",t,!1),new Sf(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),t0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Sf(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new ga(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ns{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const u=ns.getCancelAndContextArgs_("Query.on",i,r),h=(y,E)=>{e.call(u.context,new Sf(this.database,y),E)};h.userCallback=e,h.context=u.context;const p=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(t){case"value":return BR(this._delegate,h,p),e;case"child_added":return hB(this._delegate,h,p),e;case"child_removed":return gB(this._delegate,h,p),e;case"child_changed":return fB(this._delegate,h,p),e;case"child_moved":return pB(this._delegate,h,p),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,mB(this._delegate,t,r)}else mB(this._delegate,t)}get(){return fY(this._delegate).then(t=>new Sf(this.database,t))}once(t,e,i,r){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const o=ns.getCancelAndContextArgs_("Query.once",i,r),u=new P.BH,h=(y,E)=>{const I=new Sf(this.database,y);e&&e.call(o.context,I,E),u.resolve(I)};h.userCallback=e,h.context=o.context;const p=y=>{o.cancel&&o.cancel.call(o.context,y),u.reject(y)};switch(t){case"value":BR(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":hB(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":gB(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":fB(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":pB(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new ns(this.database,Ll(this._delegate,function bY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wY(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new ns(this.database,Ll(this._delegate,function EY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new CY(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new ns(this.database,Ll(this._delegate,function IY(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return t0("orderByChild","path",n,!1),new TY(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new ns(this.database,Ll(this._delegate,function xY(){return new SY}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new ns(this.database,Ll(this._delegate,function AY(){return new DY}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new ns(this.database,Ll(this._delegate,function kY(){return new MY}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new ns(this.database,Ll(this._delegate,function _Y(n=null,t){return e0("startAt","key",t,!0),new yB(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new ns(this.database,Ll(this._delegate,function vY(n,t){return e0("startAfter","key",t,!0),new yY(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new ns(this.database,Ll(this._delegate,function pY(n,t){return e0("endAt","key",t,!0),new _B(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new ns(this.database,Ll(this._delegate,function mY(n,t){return e0("endBefore","key",t,!0),new gY(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new ns(this.database,Ll(this._delegate,function OY(n,t){return e0("equalTo","key",t,!0),new RY(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ns))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,P.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,P.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ga(this.database,new Xa(this._delegate._repo,this._delegate._path))}}class ga extends ns{constructor(t,e){super(t,new Mo(e._repo,e._path,new XS,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ga(this.database,im(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ga(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new ga(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const i=VR(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,CB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qa("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const i=hY(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function dY(n,t,e){if(Qa("setWithPriority",n._path),ic("setWithPriority",t,n._path,!1),AR("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return RR(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function uY(n){return Qa("remove",n._path),VR(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function QY(n,t,e){var i;if(n=(0,P.m9)(n),Qa("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new P.BH,h=BR(n,()=>{});return function nY(n,t,e,i,r,o){rv(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:_2(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=NR(n,t,void 0);u.currentInputSnapshot=h;const p=u.update(h.val());if(void 0===p)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{XC("transaction failed: Data returned ",p,u.path),u.status=0;const y=mx(n.transactionQueueTree_,t),E=tm(y)||[];let I;E.push(u),SR(y,E),"object"==typeof p&&null!==p&&(0,P.r3)(p,".priority")?(I=(0,P.DV)(p,".priority"),(0,P.hu)(JC(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(fx(n.serverSyncTree_,t)||Ut.EMPTY_NODE).getPriority().val();const M=n0(n),N=fi(p,I),V=ER(N,h,M);u.currentOutputSnapshotRaw=N,u.currentOutputSnapshotResolved=V,u.currentWriteId=wx(n);const Q=mR(n.serverSyncTree_,t,V,u.currentWriteId,u.applyLocally);Ja(n.eventQueue_,t,Q),bx(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,y,E)=>{let I=null;p?o.reject(p):(I=new nm(E,new Xa(n._repo,n._path),Un),o.resolve(new YY(y,I)))},h,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new s7(o.committed,new Sf(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const i=function cY(n,t){n=(0,P.m9)(n),Qa("setPriority",n._path),AR("setPriority",t,!1);const e=new P.BH;return RR(n._repo,li(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const i=function lY(n,t){n=(0,P.m9)(n),Qa("push",n._path),ic("push",t,n._path,!0);const e=JV(n._repo),i=m5(e),r=im(n,i),o=im(n,i);let u;return u=null!=t?VR(o,t).then(()=>o):Promise.resolve(o),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,t),r=i.then(u=>new ga(this.database,u));e&&r.then(()=>e(null),u=>e(u));const o=new ga(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Qa("Reference.onDisconnect",this._delegate._path),new r7(new uB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class s0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:UY,forceLongPolling:HY}}useEmulator(t,e,i={}){!function jY(n,t,e,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ec("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ec('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new LC(LC.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);o=new LC(u)}!function PY(n,t,e,i){n.repoInfo_=new Lk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof ga){const e=dB(this._delegate,t.toString());return new ga(this,e)}{const e=cB(this._delegate,t);return new ga(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=dB(this._delegate,t);return new ga(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function zY(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),nB(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function GY(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function tY(n){n.persistentConnection_&&n.persistentConnection_.resume(QV)}(n._repo)}(this._delegate)}}s0.ServerValue={TIMESTAMP:function ZY(){return WY}(),increment:n=>function KY(n){return{".sv":{increment:n}}}(n)};var a7=Object.freeze({__proto__:null,initStandalone:function o7({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){g2(e);const u=new Co.zt("auth-internal",new Co.H0("database-standalone"));return u.setComponent(new Co.wA("auth-internal",()=>i,"PRIVATE")),{instance:new s0(wB(n,u,void 0,t,o),n),namespace:r}}});const l7=s0.ServerValue;function EB(n){return null==n}function TB(n){return"function"==typeof n.set}function IB(n,t){return TB(t)?t:n.ref(t)}function SB(n,t){if(function c7(n){return"string"==typeof n}(n))return t.stringCase();if(TB(n))return t.firebaseCase();if(function d7(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function o0(n,t,e="on",i=U_.z){return new Li.y(r=>{let o=null;return o=n[e](t,(u,h)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,k.U)(r=>{const{snapshot:o,prevKey:u}=r;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:u,key:h}}),(0,IE.B)())}function xB(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function p7(n,t){const{payload:e,prevKey:i,key:r}=t,o=xB(n,r),u=function f7(n,t){if(EB(t))return 0;{const e=xB(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function DB(n){return(EB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function AB(n,t,e){return function h7(n,t,e){return o0(n,"value","once",e).pipe(Vi(i=>{const r=[bt(i)];return t.forEach(o=>r.push(o0(n,o,"on",e))),(0,w_.T)(...r).pipe(wl(p7,[]))}),Zw())}(n,t=DB(t),e)}function MB(n,t,e){const i=(t=DB(t)).map(r=>o0(n,r,"on",e));return(0,w_.T)(...i)}function kB(n,t){return function(i,r){return SB(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function y7(n){return function(e){return e?SB(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function RB(n,t){return function(){return o0(n,"value","on",t)}}!function u7(n){n.INTERNAL.registerComponent(new Co.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new s0(r,i)},"PUBLIC").setServiceProps({Reference:ga,Query:ns,Database:s0,DataSnapshot:Sf,enableLogging:$Y,INTERNAL:a7,ServerValue:l7}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(QD.Z);const b7=new s.OlP("angularfire2.realtimeDatabaseURL"),C7=new s.OlP("angularfire2.database.use-emulator");let E7=(()=>{class n{constructor(e,i,r,o,u,h,p,y,E,I,M,N,V,Q,ye){this.schedulers=h;const je=p,Je=(0,Jr.on)(e,u,i);y&&Ct(Je,u,E,M,N,V,I,Q),this.database=(0,Jr.cc)(`${Je.name}.database.${r}`,"AngularFireDatabase",Je.name,()=>{const it=u.runOutsideAngular(()=>Je.database(r||void 0));return je&&it.useEmulator(...je),it},[je])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>IB(this.database,e));let o=r;return i&&(o=i(r)),function v7(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:kB(i,"update"),set:kB(i,"set"),push:r=>i.push(r),remove:y7(i),snapshotChanges:r=>AB(n,r,e).pipe(Mn.iC),stateChanges:r=>MB(n,r,e).pipe(Mn.iC),auditTrail:r=>function g7(n,t,e){return function _7(n,t,e){return function m7(n,t){return o0(n,"value","on",t).pipe((0,k.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function cK(...n){const t=(0,ta.jO)(n);return(0,m.e)((e,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,yl.Xf)(n[p]).subscribe((0,b.x)(i,y=>{o[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(dh.y))&&(u=null))},OF.Z));e.subscribe((0,b.x)(i,p=>{if(h){const y=[p,...o];i.next(t?t(...y):y)}}))})}(t),(0,k.U)(([r,o])=>{const u=r.lastKeyToLoad,h=o.map(p=>p.key);return{actions:o,lastKeyToLoad:u,loadedKeys:h}}),function dK(n){return(0,m.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,b.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,k.U)(r=>r.actions))}(n,MB(n,t).pipe(wl((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Mn.iC),valueChanges:(r,o)=>AB(n,r,e).pipe((0,k.U)(h=>h.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),Mn.iC)}}(o,this)}object(e){return function w7(n,t){return{query:n,snapshotChanges:()=>RB(n,t.schedulers.outsideAngular)().pipe(Mn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>RB(n,t.schedulers.outsideAngular)().pipe(Mn.iC,(0,k.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>IB(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jr.Dh),s.LFG(Jr.xv,8),s.LFG(b7,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(C7,8),s.LFG(F_,8),s.LFG(mT,8),s.LFG(Vp,8),s.LFG(_T,8),s.LFG(N_,8),s.LFG(P_,8),s.LFG(yT,8),s.LFG(O_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),T7=(()=>{class n{constructor(){gT.Z.registerVersion("angularfire",Mn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[E7]}),n})();const OB_firebaseConfig={apiKey:"AIzaSyBubQfS5FkzpTBdeJF3WgQmCk3XRIX2muE",authDomain:"pranavam-759d0.firebaseapp.com",projectId:"pranavam-759d0",storageBucket:"pranavam-759d0.appspot.com",messagingSenderId:"1036267670449",appId:"1:1036267670449:web:78a97a16efd91192044b90"};let I7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[uK]}),n.\u0275inj=s.cJS({providers:[xl,Qc,Fu],imports:[[Sa,zm,Nx,lK,PS,Jr.hO.initializeApp(OB_firebaseConfig),O6,T7,dZ,ff,$6,wT,j$,FS,gj,VS,H$]]}),n})();(0,s.G48)(),Yl().bootstrapModule(I7).catch(n=>console.error(n))},5867:(Xe,we,F)=>{F.d(we,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.8.2","app")},127:(Xe,we,F)=>{F.d(we,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Xe,we,F)=>{F.r(we);var s=F(5861),ee=F(3942),L=F(2090),he=F(9681),se=F(655),_e=F(1877),de=F(4859);const Pe=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new _e.Yd("@firebase/auth");function Qe(v,...g){We.logLevel<=_e.in.ERROR&&We.error(`Auth (${he.SDK_VERSION}): ${v}`,...g)}function De(v,...g){throw Ge(v,...g)}function Ee(v,...g){return Ge(v,...g)}function Ie(v,g,m){const b=Object.assign(Object.assign({},He()),{[g]:m});return new L.LL("auth","Firebase",b).create(g,{appName:v.name})}function ze(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&De(v,"argument-error"),Ie(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return ge.create(v,...g)}function G(v,g,...m){if(!v)throw Ge(g,...m)}function Ce(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Qe(g),new Error(g)}function Y(v,g){v||Ce(g)}const oe=new Map;function ne(v){Y(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(Y(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function Fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function pt(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ln{constructor(g,m){this.shortDelay=g,this.longDelay=m,Y(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function On(v,g){Y(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class cn{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wi=new ln(3e4,6e4);function Jt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function jt(v,g,m,b){return is.apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(v,g,m,b,D={}){return yr(v,D,(0,s.Z)(function*(){let k={},K={};b&&("GET"===g?K=b:k={body:JSON.stringify(b)});const pe=(0,L.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),cn.fetch()(no(v,v.config.apiHost,m,pe),Object.assign({method:g,headers:Le,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function yr(v,g,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),g);try{const D=new ar(v),k=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw zr(v,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const pe=k.ok?K.errorMessage:K.error.message,[Le,tt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw zr(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Le)throw zr(v,"email-already-in-use",K);if("USER_DISABLED"===Le)throw zr(v,"user-disabled",K);const mt=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ie(v,mt,tt);De(v,mt)}}catch(D){if(D instanceof L.ZR)throw D;De(v,"network-request-failed")}})).apply(this,arguments)}function Zi(v,g,m,b){return rs.apply(this,arguments)}function rs(){return(rs=(0,s.Z)(function*(v,g,m,b,D={}){const k=yield jt(v,g,m,b,D);return"mfaPendingCredential"in k&&De(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function no(v,g,m,b){const D=`${g}${m}?${b}`;return v.config.emulator?On(v.config,D):`${v.config.apiScheme}://${D}`}class ar{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ee(this.auth,"network-request-failed")),Wi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zr(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Ee(v,g,b);return D.customData._tokenResponse=m,D}function vr(){return(vr=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Dn(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function io(v,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ui(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function ko(){return(ko=(0,s.Z)(function*(v,g=!1){const m=(0,L.m9)(v),b=yield m.getIdToken(g),D=ct(b);G(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const k="object"==typeof D.firebase?D.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:D,token:b,authTime:ui(Zt(D.auth_time)),issuedAtTime:ui(Zt(D.iat)),expirationTime:ui(Zt(D.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(v){return 1e3*Number(v)}function ct(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(m);return D?JSON.parse(D):(Qe("Failed to decode base64 JWT payload"),null)}catch(D){return Qe("Caught error parsing JWT payload as JSON",D),null}}function xi(v,g){return br.apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof L.ZR&&Gt(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ro{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Di{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ai(v){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),D=yield xi(v,io(m,{idToken:b}));G(null==D?void 0:D.users.length,m,"internal-error");const k=D.users[0];v._notifyReloadListener(k);const K=(null===(g=k.providerUserInfo)||void 0===g?void 0:g.length)?q(k.providerUserInfo):[],pe=xe(v.providerData,K),mt=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==pe?void 0:pe.length)),gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new Di(k.createdAt,k.lastLoginAt),isAnonymous:mt};Object.assign(v,gt)})).apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(v){const g=(0,L.m9)(v);yield Ai(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function xe(v,g){return[...v.filter(b=>!g.some(D=>D.providerId===b.providerId)),...g]}function q(v){return v.map(g=>{var{providerId:m}=g,b=(0,se._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ne(){return(Ne=(0,s.Z)(function*(v,g){const m=yield yr(v,{},(0,s.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:k}=v.config,K=no(v,D,"/v1/token",`key=${k}`),pe=yield v._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",cn.fetch()(K,{method:"POST",headers:pe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){G(g.idToken,"internal-error"),G(void 0!==g.idToken,"internal-error"),G(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Et(v){const g=ct(v);return G(g,"internal-error"),G(void 0!==g.exp,"internal-error"),G(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,s.Z)(function*(){return G(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:K}=yield function te(v,g){return Ne.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(D,k,Number(K))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:D,expirationTime:k}=m,K=new et;return b&&(G("string"==typeof b,"internal-error",{appName:g}),K.refreshToken=b),D&&(G("string"==typeof D,"internal-error",{appName:g}),K.accessToken=D),k&&(G("number"==typeof k,"internal-error",{appName:g}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function _t(v,g){G("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Dt{constructor(g){var{uid:m,auth:b,stsTokenManager:D}=g,k=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Di(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const b=yield xi(m,m.stsTokenManager.getToken(m.auth,g));return G(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function wr(v){return ko.apply(this,arguments)}(this,g)}reload(){return function W(v){return Z.apply(this,arguments)}(this)}_assign(g){this!==g&&(G(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Dt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,s.Z)(function*(){let D=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),D=!0),m&&(yield Ai(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield xi(g,function vt(v,g){return vr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,D,k,K,pe,Le,tt,mt;const gt=null!==(b=m.displayName)&&void 0!==b?b:void 0,ri=null!==(D=m.email)&&void 0!==D?D:void 0,Mr=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,ml=null!==(K=m.photoURL)&&void 0!==K?K:void 0,vo=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,Iv=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,_l=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,uh=null!==(mt=m.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Lc,emailVerified:tp,isAnonymous:Vc,providerData:np,stsTokenManager:Au}=m;G(Lc&&Au,g,"internal-error");const si=et.fromJSON(this.name,Au);G("string"==typeof Lc,g,"internal-error"),_t(gt,g.name),_t(ri,g.name),G("boolean"==typeof tp,g,"internal-error"),G("boolean"==typeof Vc,g,"internal-error"),_t(Mr,g.name),_t(ml,g.name),_t(vo,g.name),_t(Iv,g.name),_t(_l,g.name),_t(uh,g.name);const Bc=new Dt({uid:Lc,auth:g,email:ri,emailVerified:tp,displayName:gt,isAnonymous:Vc,photoURL:ml,phoneNumber:Mr,tenantId:vo,stsTokenManager:si,createdAt:_l,lastLoginAt:uh});return np&&Array.isArray(np)&&(Bc.providerData=np.map(ip=>Object.assign({},ip))),Iv&&(Bc._redirectEventId=Iv),Bc}static _fromIdTokenResponse(g,m,b=!1){return(0,s.Z)(function*(){const D=new et;D.updateFromServerResponse(m);const k=new Dt({uid:m.localId,auth:g,stsTokenManager:D,isAnonymous:b});return yield Ai(k),k})()}}const It=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,s.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Jn(v,g,m){return`firebase:${v}:${g}:${m}`}class Ki{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:D,name:k}=this.auth;this.fullUserKey=Jn(this.userKey,D.apiKey,k),this.fullPersistenceKey=Jn("persistence",D.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Dt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Ki(ne(It),g,b);const D=(yield Promise.all(m.map(function(){var tt=(0,s.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let k=D[0]||ne(It);const K=Jn(b,g.config.apiKey,g.name);let pe=null;for(const tt of m)try{const mt=yield tt._get(K);if(mt){const gt=Dt._fromJSON(g,mt);tt!==k&&(pe=gt),k=tt;break}}catch(mt){}const Le=D.filter(tt=>tt._shouldAllowMigration);return k._shouldAllowMigration&&Le.length?(k=Le[0],pe&&(yield k._set(K,pe.toJSON())),yield Promise.all(m.map(function(){var tt=(0,s.Z)(function*(mt){if(mt!==k)try{yield mt._remove(K)}catch(gt){}});return function(mt){return tt.apply(this,arguments)}}())),new Ki(k,g,b)):new Ki(k,g,b)})()}}function Vl(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(el(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ds(g))return"Blackberry";if(ei(g))return"Webos";if(Bl(g))return"Safari";if((g.includes("chrome/")||tl(g))&&!g.includes("edge/"))return"Chrome";if(Yi(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function el(v=(0,L.z$)()){return/firefox\//i.test(v)}function Bl(v=(0,L.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function tl(v=(0,L.z$)()){return/crios\//i.test(v)}function Xn(v=(0,L.z$)()){return/iemobile/i.test(v)}function Yi(v=(0,L.z$)()){return/android/i.test(v)}function Ds(v=(0,L.z$)()){return/blackberry/i.test(v)}function ei(v=(0,L.z$)()){return/webos/i.test(v)}function ur(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function ro(v=(0,L.z$)()){return ur(v)||Yi(v)||ei(v)||Ds(v)||/windows phone/i.test(v)||Xn(v)}function _a(v,g=[]){let m;switch(v){case"Browser":m=Vl((0,L.z$)());break;case"Worker":m=`${Vl((0,L.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.SDK_VERSION}/${b}`}class cr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=k=>new Promise((K,pe)=>{try{K(g(k))}catch(Le){pe(Le)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const D of m.queue)yield D(g),D.onAbort&&b.push(D.onAbort)}catch(D){b.reverse();for(const k of b)try{k()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D.message})}})()}}class Ke{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dn(this),this.idTokenSubscription=new dn(this),this.beforeStateQueue=new cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,k;if(!b._deleted&&(b.persistenceManager=yield Ki.create(b,g),!b._deleted)){if(null===(D=b._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let k=D,K=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=null==k?void 0:k._redirectEventId,tt=yield m.tryRedirectSignIn(g);(!pe||pe===Le)&&(null==tt?void 0:tt.user)&&(k=tt.user,K=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(k)}catch(pe){k=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return G(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(D){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield Ai(g)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const b=g?(0,L.m9)(g):null;return b&&G(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return g&&G(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,s.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&ne(g)||m._popupRedirectResolver;G(b,m,"argument-error"),m.redirectPersistenceManager=yield Ki.create(m,[ne(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,D){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return G(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof m?g.addObserver(m,b,D):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=_a(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(b["X-Firebase-Client"]=D),b})()}}function ft(v){return(0,L.m9)(v)}class dn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ss(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function os(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Gr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,m){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function Fn(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:resetPassword",Jt(v,g))})).apply(this,arguments)}function ya(v,g){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ul(v,g){return so.apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",Jt(v,g))})).apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithPassword",Jt(v,g))})).apply(this,arguments)}function oo(v,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendOobCode",Jt(v,g))})).apply(this,arguments)}function gn(v,g){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function il(v,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function as(v,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function vd(v,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,g))})).apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,g))})).apply(this,arguments)}class ki extends Gr{constructor(g,m,b,D=null){super("password",b),this._email=g,this._password=m,this._tenantId=D}static _fromEmailAndPassword(g,m){return new ki(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new ki(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function hn(v,g){return No.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function us(v,g){return Mi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:De(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return ya(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cs(v,g){return wd.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:De(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ao(v,g){return bd.apply(this,arguments)}function bd(){return(bd=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithIdp",Jt(v,g))})).apply(this,arguments)}class As extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new As(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const K=new As(b,D);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(g){return ao(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,ao(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ao(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,L.xO)(m)}return g}}function lm(v,g){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendVerificationCode",Jt(v,g))})).apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,g))})).apply(this,arguments)}function Ed(){return(Ed=(0,s.Z)(function*(v,g){const m=yield Zi(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,g));if(m.temporaryProof)throw zr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const cm={USER_NOT_FOUND:"user-not-found"};function Td(){return(Td=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),cm)})).apply(this,arguments)}class va extends Gr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new va({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new va({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function sc(v,g){return lo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function um(v,g){return Ed.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function dm(v,g){return Td.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}=g;return b||m||D||k?new va({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}):null}}class zl{constructor(g){var m,b,D,k,K,pe;const Le=(0,L.zd)((0,L.pd)(g)),tt=null!==(m=Le.apiKey)&&void 0!==m?m:null,mt=null!==(b=Le.oobCode)&&void 0!==b?b:null,gt=function Af(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Le.mode)&&void 0!==D?D:null);G(tt&&mt&&gt,"argument-error"),this.apiKey=tt,this.operation=gt,this.code=mt,this.continueUrl=null!==(k=Le.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Le.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=Le.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const m=function rl(v){const g=(0,L.zd)((0,L.pd)(v)).link,m=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||g||v}(g);try{return new zl(m)}catch(b){return null}}}let Sd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return ki._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=zl.parseLink(b);return G(D,"argument-error"),ki._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ri{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Po extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ds extends Po{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return G("providerId"in m&&"signInMethod"in m,"argument-error"),As._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return G(g.idToken||g.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ds.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ds.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:k,nonce:K,providerId:pe}=g;if(!b&&!D&&!m&&!k||!pe)return null;try{return new ds(pe)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:k})}catch(Le){return null}}}let wa=(()=>{class v extends Po{constructor(){super("facebook.com")}static credential(m){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),xd=(()=>{class v extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Mf=(()=>{class v extends Po{constructor(){super("github.com")}static credential(m){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Fo extends Gr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return ao(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,ao(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ao(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D,pendingToken:k}=m;return b&&D&&k&&b===D?new Fo(b,k):null}static _create(g,m){return new Fo(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qi extends Ri{constructor(g){G(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Qi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Qi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Fo.fromJSON(g);return G(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return Fo._create(b,m)}catch(D){return null}}}let Dd=(()=>{class v extends Po{constructor(){super("twitter.com")}static credential(m,b){return As._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Oi(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signUp",Jt(v,g))})).apply(this,arguments)}class Cr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,D=!1){return(0,s.Z)(function*(){const k=yield Dt._fromIdTokenResponse(g,b,D),K=oc(b);return new Cr({user:k,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const D=oc(b);return new Cr({user:g,providerId:D,_tokenResponse:b,operationType:m})})()}}function oc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ac(){return(ac=(0,s.Z)(function*(v){var g;const m=ft(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Cr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Oi(m,{returnSecureToken:!0}),D=yield Cr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ea extends L.ZR{constructor(g,m,b,D){var k;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,Ea.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,D){return new Ea(g,m,b,D)}}function lc(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ea._fromErrorAndOperation(v,k,g,b):k})}function hs(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function fn(){return(fn=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);yield on(!0,m,g);const{providerUserInfo:b}=yield Dn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),D=hs(b||[]);return m.providerData=m.providerData.filter(k=>D.has(k.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function sl(v,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(v,g,m=!1){const b=yield xi(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Cr._forOperation(v,"link",b)})).apply(this,arguments)}function on(v,g,m){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(v,g,m){yield Ai(g);const D=!1===v?"provider-already-linked":"no-such-provider";G(hs(g.providerData).has(m)===v,g.auth,D)})).apply(this,arguments)}function Gl(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(v,g,m=!1){const{auth:b}=v,D="reauthenticate";try{const k=yield xi(v,lc(b,D,g,v),m);G(k.idToken,b,"internal-error");const K=ct(k.idToken);G(K,b,"internal-error");const{sub:pe}=K;return G(v.uid===pe,b,"user-mismatch"),Cr._forOperation(v,D,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&De(b,"user-mismatch"),k}})).apply(this,arguments)}function _i(v,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,s.Z)(function*(v,g,m=!1){const b="signIn",D=yield lc(v,b,g),k=yield Cr._fromIdTokenResponse(v,b,D);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Tn(v,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.Z)(function*(v,g){return _i(ft(v),g)})).apply(this,arguments)}function yi(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);return yield on(!1,m,g.providerId),sl(m,g)})).apply(this,arguments)}function Ms(v,g){return al.apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(v,g){return Gl((0,L.m9)(v),g)})).apply(this,arguments)}function $r(v,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,s.Z)(function*(v,g){return Zi(v,"POST","/v1/accounts:signInWithCustomToken",Jt(v,g))})).apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(v,g){const m=ft(v),b=yield $r(m,{token:g,returnSecureToken:!0}),D=yield Cr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class co{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?cc._fromServerResponse(g,m):De(g,"internal-error")}}class cc extends co{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new cc(m)}}function ll(v,g,m){var b;G((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),G(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(G(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(G(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function $l(){return($l=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"PASSWORD_RESET",email:g};m&&ll(b,D,m),yield il(b,D)})).apply(this,arguments)}function hc(){return(hc=(0,s.Z)(function*(v,g,m){yield Fn((0,L.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Ae(){return(Ae=(0,s.Z)(function*(v,g){yield Ul((0,L.m9)(v),{oobCode:g})})).apply(this,arguments)}function zt(v,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),b=yield Fn(m,{oobCode:g}),D=b.requestType;switch(G(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(b.mfaInfo,m,"internal-error");default:G(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=co._fromServerResponse(ft(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:D}})).apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(v,g){const{data:m}=yield zt((0,L.m9)(v),g);return m.email})).apply(this,arguments)}function Er(){return(Er=(0,s.Z)(function*(v,g,m){const b=ft(v),D=yield Oi(b,{returnSecureToken:!0,email:g,password:m}),k=yield Cr._fromIdTokenResponse(b,"signIn",D);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function gc(){return(gc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"EMAIL_SIGNIN",email:g};G(m.handleCodeInApp,b,"argument-error"),m&&ll(b,D,m),yield as(b,D)})).apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=Sd.credentialWithLink(g,m||Fe());return G(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Tn(b,D)})).apply(this,arguments)}function Ni(v,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:createAuthUri",Jt(v,g))})).apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(v,g){const b={identifier:g,continueUri:pt()?Fe():"http://localhost"},{signinMethods:D}=yield Ni((0,L.m9)(v),b);return D||[]})).apply(this,arguments)}function mc(){return(mc=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&ll(m.auth,D,g);const{email:k}=yield gn(m.auth,D);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&ll(b.auth,k,m);const{email:K}=yield vd(b.auth,k);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function _c(v,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jl(){return(Jl=(0,s.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,L.m9)(v),k={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},K=yield xi(b,_c(b.auth,k));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const pe=b.providerData.find(({providerId:Le})=>"password"===Le);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function Xl(v,g,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(v,g,m){const{auth:b}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(k.email=g),m&&(k.password=m);const K=yield xi(v,ya(b,k));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class xa{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class Nd extends xa{constructor(g,m,b,D){super(g,m,b),this.username=D}}class eu extends xa{constructor(g,m){super(g,"facebook.com",m)}}class hr extends Nd{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Rf extends xa{constructor(g,m){super(g,"google.com",m)}}class yc extends Nd{constructor(g,m,b){super(g,"twitter.com",m,b)}}function ci(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Od(v){var g,m;if(!v)return null;const{providerId:b}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const K=null===(m=null===(g=ct(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new xa(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new eu(k,D);case"github.com":return new hr(k,D);case"google.com":return new Rf(k,D);case"twitter.com":return new yc(k,D,v.screenName||null);case"custom":case"anonymous":return new xa(k,null);default:return new xa(k,b,D)}}(m)}class Rs{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Rs("enroll",g)}static _fromMfaPendingCredential(g){return new Rs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Rs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return Rs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class zo{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=ft(g),D=m.customData._serverResponse,k=(D.mfaInfo||[]).map(pe=>co._fromServerResponse(b,pe));G(D.mfaPendingCredential,b,"internal-error");const K=Rs._fromMfaPendingCredential(D.mfaPendingCredential);return new zo(K,k,function(){var pe=(0,s.Z)(function*(Le){const tt=yield Le._process(b,K);delete D.mfaInfo,delete D.mfaPendingCredential;const mt=Object.assign(Object.assign({},D),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const gt=yield Cr._fromIdTokenResponse(b,m.operationType,mt);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return G(m.user,b,"internal-error"),Cr._forOperation(m.user,m.operationType,mt);default:De(b,"internal-error")}});return function(Le){return pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function Fd(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:start",Jt(v,g))}class Da{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>co._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Da(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Rs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var b=this;return(0,s.Z)(function*(){const D=g,k=yield b.getSession(),K=yield xi(b.user,D._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const b="string"==typeof g?g:g.uid,D=yield m.user.getIdToken(),k=yield xi(m.user,function Go(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(v,g))}(m.user.auth,{idToken:D,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const tu=new WeakMap,Os="__sak";class nu{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Os,"1"),this.storage.removeItem(Os),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ir=(()=>{class v extends nu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mm(){const v=(0,L.z$)();return Bl(v)||ur(v)}()&&function gi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=ro(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),k=this.localCache[b];D!==k&&m(b,k,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((pe,Le,tt)=>{this.notifyListeners(pe,tt)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(D);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const k=()=>{const pe=this.storage.getItem(D);!b&&this.localCache[D]===pe||this.notifyListeners(D,pe)},K=this.storage.getItem(D);!function nl(){return(0,L.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,k=this;return(0,s.Z)(function*(){yield D().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,s.Z)(function*(){const k=yield b().call(D,m);return D.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,D=this;return(0,s.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),Ns=(()=>{class v extends nu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let qn=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const D=m,{eventId:k,eventType:K,data:pe}=D.data,Le=b.handlersMap[K];if(!(null==Le?void 0:Le.size))return;D.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const tt=Array.from(Le).map(function(){var gt=(0,s.Z)(function*(ri){return ri(D.origin,pe)});return function(ri){return gt.apply(this,arguments)}}()),mt=yield function Aa(v){return Promise.all(v.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(tt);D.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:mt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function $o(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class qo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var D=this;return(0,s.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,pe;return new Promise((Le,tt)=>{const mt=$o("",20);k.port1.start();const gt=setTimeout(()=>{tt(new Error("unsupported_event"))},b);pe={messageChannel:k,onMessage(ri){const Mr=ri;if(Mr.data.eventId===mt)switch(Mr.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Le(Mr.data.response);break;default:clearTimeout(gt),clearTimeout(K),tt(new Error("invalid_response"))}}},D.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),D.target.postMessage({eventType:g,eventId:mt,data:m},[k.port2])}).finally(()=>{pe&&D.removeMessageHandler(pe)})})()}}function tn(){return window}function Ma(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function Vd(){return(Vd=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const ka="firebaseLocalStorageDb",gs="firebaseLocalStorage",Nt="fbase_key";class ms{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function vi(v,g){return v.transaction([gs],g?"readwrite":"readonly").objectStore(gs)}function ru(){const v=indexedDB.open(ka,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(gs,{keyPath:Nt})}catch(D){m(D)}}),v.addEventListener("success",(0,s.Z)(function*(){const b=v.result;b.objectStoreNames.contains(gs)?g(b):(b.close(),yield function cl(){const v=indexedDB.deleteDatabase(ka);return new ms(v).toPromise()}(),g(yield ru()))}))})}function Ra(v,g,m){return dl.apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(v,g,m){const b=vi(v,!0).put({[Nt]:g,value:m});return new ms(b).toPromise()})).apply(this,arguments)}function fo(){return(fo=(0,s.Z)(function*(v,g){const m=vi(v,!1).get(g),b=yield new ms(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function su(v,g){const m=vi(v,!0).delete(g);return new ms(m).toPromise()}const hl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield ru()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(D++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Ma()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=qn._getInstance(function vc(){return Ma()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(D,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(D,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(D,k){return["keyChanged"]});return function(D,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function Wo(){return Vd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new qo(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(D=k[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Nf(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ru();return yield Ra(m,Os,"1"),yield su(m,Os),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(k=>Ra(k,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=yield b._withRetries(k=>function wc(v,g){return fo.apply(this,arguments)}(k,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(D=>su(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(K=>{const pe=vi(K,!1).getAll();return new ms(pe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:K,value:pe}of b)k.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(pe)&&(m.notifyListeners(K,pe),D.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!k.has(K)&&(m.notifyListeners(K,null),D.push(K));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function lu(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:start",Jt(v,g))}function uu(){return(uu=(0,s.Z)(function*(v){return(yield jt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cu(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=D=>{const k=Ee("internal-error");k.customData=D,m(k)},b.type="text/javascript",b.charset="UTF-8",function fl(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function Fs(v){return`__${v}${Math.floor(1e6*Math.random())}`}const du=1e12;class bc{constructor(g){this.auth=g,this.counter=du,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new Na(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||du;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||du))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(g||du))||void 0===b||b.execute(),""})()}}class Na{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;G(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ud(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hd=Fs("rcb"),An=new ln(3e4,6e4);class lv{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(g,m=""){return G(function wm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(tn().grecaptcha):new Promise((b,D)=>{const k=tn().setTimeout(()=>{D(Ee(g,"network-request-failed"))},An.get());tn()[Hd]=()=>{tn().clearTimeout(k),delete tn()[Hd];const pe=tn().grecaptcha;if(!pe)return void D(Ee(g,"internal-error"));const Le=pe.render;pe.render=(tt,mt)=>{const gt=Le(tt,mt);return this.counter++,gt},this.hostLanguage=m,b(pe)},cu(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Hd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),D(Ee(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!tn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pf{load(g){return(0,s.Z)(function*(){return new bc(g)})()}clearedOneInstance(){}}const jd="recaptcha",bm={theme:"light",type:"image"};class Cm{constructor(g,m=Object.assign({},bm),b){this.parameters=m,this.type=jd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(b),this.isInvisible="invisible"===this.parameters.size,G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;G(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pf:new lv,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const K=pe=>{!pe||(g.tokenChangeListeners.delete(K),k(pe))};g.tokenChangeListeners.add(K),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=tn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){G(pt()&&!Ma(),g.auth,"internal-error"),yield function hu(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function po(v){return uu.apply(this,arguments)}(g.auth);G(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zd{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=va._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Zo(){return(Zo=(0,s.Z)(function*(v,g,m){const b=ft(v),D=yield Pi(b,g,(0,L.m9)(m));return new zd(D,k=>Tn(b,k))})).apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);yield on(!1,b,"phone");const D=yield Pi(b.auth,g,(0,L.m9)(m));return new zd(D,k=>yi(b,k))})).apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=yield Pi(b.auth,g,(0,L.m9)(m));return new zd(D,k=>Ms(b,k))})).apply(this,arguments)}function Pi(v,g,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(v,g,m){var b;const D=yield m.verify();try{let k;if(G("string"==typeof D,v,"argument-error"),G(m.type===jd,v,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const K=k.session;if("phoneNumber"in k)return G("enroll"===K.type,v,"internal-error"),(yield Fd(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{G("signin"===K.type,v,"internal-error");const pe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return G(pe,v,"missing-multi-factor-info"),(yield lu(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield lm(v,{phoneNumber:k.phoneNumber,recaptchaToken:D});return K}}finally{m._reset()}})).apply(this,arguments)}function Zr(){return(Zr=(0,s.Z)(function*(v,g){yield sl((0,L.m9)(v),g)})).apply(this,arguments)}let Ls=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=ft(m)}verifyPhoneNumber(m,b){return Pi(this.auth,m,(0,L.m9)(b))}static credential(m,b){return va._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?va._fromTokenResponse(b,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function _s(v,g){return g?ne(g):(G(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Yo extends Gr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ao(g,this._buildIdpRequest())}_linkToIdToken(g,m){return ao(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return ao(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Ff(v){return _i(v.auth,new Yo(v),v.bypassAuthState)}function Gd(v){const{auth:g,user:m}=v;return G(m,g,"internal-error"),Gl(m,new Yo(v),v.bypassAuthState)}function Qo(v){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(v){const{auth:g,user:m}=v;return G(m,g,"internal-error"),sl(m,new Yo(v),v.bypassAuthState)})).apply(this,arguments)}class fu{constructor(g,m,b,D,k=!1){this.auth=g,this.resolver=b,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(b,D){g.pendingPromise={resolve:b,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:k,tenantId:K,error:pe,type:Le}=g;if(pe)return void m.reject(pe);const tt={auth:m.auth,requestUri:b,sessionId:D,tenantId:K||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(tt))}catch(mt){m.reject(mt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ff;case"linkViaPopup":case"linkViaRedirect":return Qo;case"reauthViaPopup":case"reauthViaRedirect":return Gd;default:De(this.auth,"internal-error")}}resolve(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pa=new ln(2e3,1e4);function ys(){return(ys=(0,s.Z)(function*(v,g,m){const b=ft(v);ze(v,g,Ri);const D=_s(b,m);return new gu(b,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Ri);const D=_s(b.auth,m);return new gu(b.auth,"reauthViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}function Vs(){return(Vs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Ri);const D=_s(b.auth,m);return new gu(b.auth,"linkViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}let gu=(()=>{class v extends fu{constructor(m,b,D,k,K){super(m,b,k,K),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return G(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=$o();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=(null===(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Pa.get())};m()}}return v.currentPopupAction=null,v})();const _o=new Map;class Fa extends fu{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=_o.get(m.auth._key());if(!b){try{const k=(yield function mu(v,g){return vs.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(k)}catch(D){b=()=>Promise.reject(D)}_o.set(m.auth._key(),b)}return m.bypassAuthState||_o.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const D=yield b.auth._redirectUserForId(g.eventId);if(D)return b.user=D,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function vs(){return(vs=(0,s.Z)(function*(v,g){const m=U(g),b=O(v);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function La(v,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(v,g){return O(v)._set(U(g),"true")})).apply(this,arguments)}function x(v,g){_o.set(v._key(),g)}function O(v){return ne(v._redirectPersistence)}function U(v){return Jn("pendingRedirect",v.config.apiKey,v.name)}function Re(){return(Re=(0,s.Z)(function*(v,g,m){const b=ft(v);ze(v,g,Ri);const D=_s(b,m);return yield La(D,b),D._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Ri);const D=_s(b.auth,m);yield La(D,b.auth);const k=yield xr(b);return D._openRedirect(b.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);ze(b.auth,g,Ri);const D=_s(b.auth,m);yield on(!1,b,g.providerId),yield La(D,b.auth);const k=yield xr(b);return D._openRedirect(b.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(v,g){return yield ft(v)._initializationPromise,Bs(v,g,!1)})).apply(this,arguments)}function Bs(v,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,s.Z)(function*(v,g,m=!1){const b=ft(v),D=_s(b,g),K=yield new Fa(b,D,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,g)),K})).apply(this,arguments)}function xr(v){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(v){const g=$o(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Em{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ic(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ji(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!Ji(g)){const D=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,D))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bf(g))}saveEventToCache(g){this.cachedEventUids.add(Bf(g)),this.lastProcessedEventTime=Date.now()}}function Bf(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Ji({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function _u(v){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(v,g={}){return jt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const uv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vu=/^https?/;function Tm(){return(Tm=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield _u(v);for(const m of g)try{if(xx(m))return}catch(b){}De(v,"unauthorized-domain")})).apply(this,arguments)}function xx(v){const g=Fe(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!vu.test(m))return!1;if(uv.test(v))return b===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const xc=new ln(3e4,6e4);function Im(){const v=tn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let $d=null;function qd(v){return $d=$d||function u0(v){return new Promise((g,m)=>{var b,D,k;function K(){Im(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Im(),m(Ee(v,"network-request-failed"))},timeout:xc.get()})}if(null===(D=null===(b=tn().gapi)||void 0===b?void 0:b.iframes)||void 0===D?void 0:D.Iframe)g(gapi.iframes.getContext());else{if(!(null===(k=tn().gapi)||void 0===k?void 0:k.load)){const pe=Fs("iframefcb");return tn()[pe]=()=>{gapi.load?K():m(Ee(v,"network-request-failed"))},cu(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Le=>m(Le))}K()}}).catch(g=>{throw $d=null,g})}(v),$d}const Wd=new ln(5e3,15e3),wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sm(v){const g=v.config;G(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?On(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:he.SDK_VERSION},D=Uf.get(v.config.apiHost);D&&(b.eid=D);const k=v._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}function bu(){return bu=(0,s.Z)(function*(v){const g=yield qd(v),m=tn().gapi;return G(m,v,"internal-error"),g.open({where:document.body,url:Sm(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},b=>new Promise(function(){var D=(0,s.Z)(function*(k,K){yield b.restyle({setHideOnLeave:!1});const pe=Ee(v,"network-request-failed"),Le=tn().setTimeout(()=>{K(pe)},Wd.get());function tt(){tn().clearTimeout(Le),k(b)}b.ping(tt).then(tt,()=>{K(pe)})});return function(k,K){return D.apply(this,arguments)}}()))}),bu.apply(this,arguments)}const Hf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ba{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function yo(v,g,m,b,D,k){G(v.config.authDomain,v,"auth-domain-config-required"),G(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:he.SDK_VERSION,eventId:D};if(g instanceof Ri){g.setDefaultLanguage(v.languageCode),K.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Le,tt]of Object.entries(k||{}))K[Le]=tt}if(g instanceof Po){const Le=g.getScopes().filter(tt=>""!==tt);Le.length>0&&(K.scopes=Le.join(","))}v.tenantId&&(K.tid=v.tenantId);const pe=K;for(const Le of Object.keys(pe))void 0===pe[Le]&&delete pe[Le];return`${function Mc({config:v}){return v.emulator?On(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(pe).slice(1)}`}const Gf="webStorageSupport";class kc extends class h0{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new kc(g)}_finalizeEnroll(g,m,b){return function pm(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bd(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:finalize",Jt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mm=(()=>{class v{constructor(){}static assertion(m){return kc._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Cu="@firebase/auth";class Rm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{var D;g((null===(D=b)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Eu(){return window}function ws(){return(ws=(0,s.Z)(function*(v,g,m){var b;const{BuildInfo:D}=Eu();Y(g.sessionId,"AuthEvent did not contain a session ID");const k=yield g0(g.sessionId),K={};return ur()?K.ibi=D.packageName:Yi()?K.apn=D.packageName:De(v,"operation-not-supported-in-this-environment"),D.displayName&&(K.appDisplayName=D.displayName),K.sessionId=k,yo(v,m,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(v){const{BuildInfo:g}=Eu(),m={};ur()?m.iosBundleId=g.packageName:Yi()?m.androidPackageName=g.packageName:De(v,"operation-not-supported-in-this-environment"),yield _u(v,m)})).apply(this,arguments)}function Pm(){return(Pm=(0,s.Z)(function*(v,g,m){const{cordova:b}=Eu();let D=()=>{};try{yield new Promise((k,K)=>{let pe=null;function Le(){var gt;k();const ri=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof ri&&ri(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){pe||(pe=window.setTimeout(()=>{K(Ee(v,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}g.addPassiveListener(Le),document.addEventListener("resume",tt,!1),Yi()&&document.addEventListener("visibilitychange",mt,!1),D=()=>{g.removePassiveListener(Le),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",mt,!1),pe&&window.clearTimeout(pe)}})}finally{D()}})).apply(this,arguments)}function g0(v){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,s.Z)(function*(v){const g=Qd(v),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qd(v){if(Y(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),m=new Uint8Array(g);for(let b=0;b<v.length;b++)m[b]=v.charCodeAt(b);return m}!function f0(v){(0,he._registerComponent)(new de.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),{apiKey:k,authDomain:K}=b.options;return((pe,Le)=>{G(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),G(!(null==K?void 0:K.includes(":")),"argument-error",{appName:pe.name});const tt={apiKey:k,authDomain:K,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_a(v)},mt=new Ke(pe,Le,tt);return function ue(v,g){const m=(null==g?void 0:g.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ne);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(mt,m),mt})(b,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new de.wA("auth-internal",g=>{const m=ft(g.getProvider("auth").getImmediate());return new Rm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Cu,"0.20.2",function dv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,he.registerVersion)(Cu,"0.20.2","esm2017")}("Browser");class m0 extends Em{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function Jd(v){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,s.Z)(function*(v){const g=yield Xd()._get(pl(v));return g&&(yield Xd()._remove(pl(v))),g})).apply(this,arguments)}function gv(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*g.length);v.push(g.charAt(b))}return v.join("")}function Xd(){return ne(Ir)}function pl(v){return Jn("authEvent",v.config.apiKey,v.name)}function Su(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Oc(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Vm(v=(0,L.z$)()){return!("file:"!==Oc()&&"ionic:"!==Oc()&&"capacitor:"!==Oc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yf(){try{const v=self.localStorage,g=$o();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Kf(v=(0,L.z$)()){return function Xi(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ii(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Nc()&&(0,L.hl)()}return!1}function Nc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ci(){return(function Lm(){return"http:"===Oc()||"https:"===Oc()}()||(0,L.ru)()||Vm())&&!function wv(){return(0,L.b$)()||(0,L.UG)()}()&&Yf()&&!Nc()}function gl(){return Vm()&&"undefined"!=typeof document}function Qf(){return(Qf=(0,s.Z)(function*(){return!!gl()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const er={LOCAL:"local",NONE:"none",SESSION:"session"},Pc=G,rh="persistence";function sh(v){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,s.Z)(function*(v){yield v._initializationPromise;const g=Fc(),m=Jn(rh,v.config.apiKey,v.name);g&&g.setItem(m,v._getPersistence())})).apply(this,arguments)}function Fc(){var v;try{return(null===(v=function bv(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const oh=G;class ea{constructor(){this.browserResolver=ne(class d0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=Bs,this._overrideRedirectResult=x}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){var K;Y(null===(K=k.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=yo(g,m,b,Fe(),D);return function jf(v,g,m,b=500,D=600){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const Le=Object.assign(Object.assign({},Hf),{width:b.toString(),height:D.toString(),top:k,left:K}),tt=(0,L.z$)().toLowerCase();m&&(pe=tl(tt)?"_blank":m),el(tt)&&(g=g||"http://localhost",Le.scrollbars="yes");const mt=Object.entries(Le).reduce((ri,[Mr,ml])=>`${ri}${Mr}=${ml},`,"");if(function Oo(v=(0,L.z$)()){var g;return ur(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(tt)&&"_self"!==pe)return function zf(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",pe),new Ba(null);const gt=window.open(g||"",pe,mt);G(gt,v,"popup-blocked");try{gt.focus()}catch(ri){}return new Ba(gt)}(g,pe,$o())})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k._originValidation(g),function Ps(v){tn().location.href=v}(yo(g,m,b,Fe(),D)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:D,promise:k}=this.eventManagers[m];return D?Promise.resolve(D):(Y(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const b=yield function c0(v){return bu.apply(this,arguments)}(g),D=new Em(g);return b.register("authEvent",k=>(G(null==k?void 0:k.authEvent,g,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:D},m.iframes[g._key()]=b,D})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Gf,{type:Gf},D=>{var k;const K=null===(k=null==D?void 0:D[0])||void 0===k?void 0:k[Gf];void 0!==K&&m(!!K),De(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sc(v){return Tm.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return ro()||Bl()||ur()}}),this.cordovaResolver=ne(class eh{constructor(){this._redirectPersistence=Ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bs,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){const b=g._key();let D=m.eventManagers.get(b);return D||(D=new m0(g),m.eventManagers.set(b,D),m.attachCallbackListeners(g,D)),D})()}_openPopup(g){De(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){!function p0(v){var g,m,b,D,k,K,pe,Le,tt,mt;const gt=Eu();G("function"==typeof(null===(g=null==gt?void 0:gt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(k=null===(D=null===(b=null==gt?void 0:gt.cordova)||void 0===b?void 0:b.plugins)||void 0===D?void 0:D.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Le=null===(pe=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(mt=null===(tt=null==gt?void 0:gt.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===mt?void 0:mt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const K=yield k._initialize(g);yield K.initialized(),K.resetRedirect(),function S(){_o.clear()}(),yield k._originValidation(g);const pe=function fv(v,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:gv(),postBody:null,tenantId:v.tenantId,error:Ee(v,"no-auth-event")}}(g,b,D);yield function Fm(v,g){return Xd()._set(pl(v),g)}(g,pe);const Le=yield function Om(v,g,m){return ws.apply(this,arguments)}(g,pe,m),tt=yield function qf(v){const{cordova:g}=Eu();return new Promise(m=>{g.plugins.browsertab.isAvailable(b=>{let D=null;b?g.plugins.browsertab.openUrl(v):D=g.InAppBrowser.open(v,function yd(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(Le);return function Nm(v,g,m){return Pm.apply(this,arguments)}(g,K,tt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Tu(v){return Iu.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:b,handleOpenURL:D,BuildInfo:k}=Eu(),K=setTimeout((0,s.Z)(function*(){yield Jd(g),m.onEvent(th())}),500),pe=function(){var mt=(0,s.Z)(function*(gt){clearTimeout(K);const ri=yield Jd(g);let Mr=null;ri&&(null==gt?void 0:gt.url)&&(Mr=function pv(v,g){var m,b;const D=function Dr(v){const g=Su(v),m=g.link?decodeURIComponent(g.link):void 0,b=Su(m).link,D=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Su(D).link||D||b||m||v}(g);if(D.includes("/__/auth/callback")){const k=Su(D),K=k.firebaseError?function mv(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(b=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Le=pe?Ee(pe):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(ri,gt.url)),m.onEvent(Mr||th())});return function(ri){return mt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,pe);const Le=D,tt=`${k.packageName.toLowerCase()}://`;Eu().handleOpenURL=function(){var mt=(0,s.Z)(function*(gt){if(gt.toLowerCase().startsWith(tt)&&pe({url:gt}),"function"==typeof Le)try{Le(gt)}catch(ri){console.error(ri)}});return function(gt){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ns,this._completeRedirectFn=Bs,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(g,m,b,D)})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(g,m,b,D)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return gl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function xu(){return Qf.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function ah(v){return v.unwrap()}function Tv(v){return Um(v)}function Um(v){const{_tokenResponse:g}=v instanceof L.ZR?v.customData:v;if(!g)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Ls.credentialFromResult(v);const m=g.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=xd;break;case"facebook.com":b=wa;break;case"github.com":b=Mf;break;case"twitter.com":b=Dd;break;default:const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:pe,nonce:Le}=g;return k||K||D||pe?pe?m.startsWith("saml.")?Fo._create(m,pe):As._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:D,accessToken:k}):new ds(m).credential({idToken:D,accessToken:k,rawNonce:Le}):null}return v instanceof L.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Ar(v,g){return g.catch(m=>{throw m instanceof L.ZR&&function lh(v,g){var m;const b=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Hm(v,function ti(v,g){var m;const b=(0,L.m9)(v),D=g;return G(g.customData.operationType,b,"argument-error"),G(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),zo._fromError(b,D)}(v,g));else if(b){const D=Um(g),k=g;D&&(k.credential=D,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:Tv(m),additionalUserInfo:ci(m),user:Us.getOrCreate(D)}})}function Xf(v,g){return ep.apply(this,arguments)}function ep(){return(ep=(0,s.Z)(function*(v,g){const m=yield g;return{verificationId:m.verificationId,confirm:b=>Ar(v,m.confirm(b))}})).apply(this,arguments)}class Hm{constructor(g,m){this.resolver=m,this.auth=function Bm(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ar(ah(this.auth),this.resolver.resolveSignIn(g))}}class Us{constructor(g){this._delegate=g,this.multiFactor=function gm(v){const g=(0,L.m9)(v);return tu.has(g)||tu.set(g,Da._fromUser(g)),tu.get(g)}(g)}static getOrCreate(g){return Us.USER_MAP.has(g)||Us.USER_MAP.set(g,new Us(g)),Us.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return Ar(m.auth,yi(m._delegate,g))})()}linkWithPhoneNumber(g,m){var b=this;return(0,s.Z)(function*(){return Xf(b.auth,function Wr(v,g,m){return Cc.apply(this,arguments)}(b._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return Ar(m.auth,function Tc(v,g,m){return Vs.apply(this,arguments)}(m._delegate,g,ea))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield sh(ft(m.auth)),function Lt(v,g,m){return function Tt(v,g,m){return ni.apply(this,arguments)}(v,g,m)}(m._delegate,g,ea)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return Ar(m.auth,Ms(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Xf(this.auth,function Ec(v,g,m){return wi.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Ar(this.auth,function Vf(v,g,m){return pu.apply(this,arguments)}(this._delegate,g,ea))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield sh(ft(m.auth)),function st(v,g,m){return function lt(v,g,m){return dt.apply(this,arguments)}(v,g,m)}(m._delegate,g,ea)})()}sendEmailVerification(g){return function qr(v,g){return mc.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function kf(v,g){return fn.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function kd(v,g){return Xl((0,L.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function Rd(v,g){return Xl((0,L.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Ko(v,g){return Zr.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Ql(v,g){return Jl.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Kl(v,g,m){return Yl.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Us.USER_MAP=new WeakMap;const Du=G;let jm=(()=>{class v{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Du(D,"invalid-api-key",{appName:m.name}),Du(D,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?ea:void 0;this._delegate=b.initialize({options:{persistence:_0(D,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function dr(v,g,m){const b=ft(v);G(b._canInitEmulator,b,"emulator-config-failed"),G(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const D=!!(null==m?void 0:m.disableWarnings),k=ss(g),{host:K,port:pe}=function jn(v){const g=ss(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const k=D[1];return{host:k,port:os(b.substr(k.length+1))}}{const[k,K]=b.split(":");return{host:k,port:os(K)}}}(g);b.config.emulator={url:`${k}//${K}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function vn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,b)}applyActionCode(m){return function Ia(v,g){return Ae.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return zt(this._delegate,m)}confirmPasswordReset(m,b){return function ql(v,g,m){return hc.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var D=this;return(0,s.Z)(function*(){return Ar(D._delegate,function Uo(v,g,m){return Er.apply(this,arguments)}(D._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Zl(v,g){return ho.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Md(v,g){const m=zl.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Du(Ci(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Zn(v,g){return Xo.apply(this,arguments)}(m._delegate,ea);return b?Ar(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function nh(v,g){ft(v)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,b,D){const{next:k,error:K,complete:pe}=zm(m,b,D);return this._delegate.onAuthStateChanged(k,K,pe)}onIdTokenChanged(m,b,D){const{next:k,error:K,complete:pe}=zm(m,b,D);return this._delegate.onIdTokenChanged(k,K,pe)}sendSignInLinkToEmail(m,b){return function pc(v,g,m){return gc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function dc(v,g,m){return $l.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let D;switch(function Cv(v,g){Pc(Object.values(er).includes(g),v,"invalid-persistence-type"),(0,L.b$)()?Pc(g!==er.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?Pc(g===er.NONE,v,"unsupported-persistence-type"):Nc()?Pc(g===er.NONE||g===er.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):Pc(g===er.NONE||Yf(),v,"unsupported-persistence-type")}(b._delegate,m),m){case er.SESSION:D=Ns;break;case er.LOCAL:D=(yield ne(hl)._isAvailable())?hl:Ir;break;case er.NONE:D=It;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ar(this._delegate,function Ad(v){return ac.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ar(this._delegate,Tn(this._delegate,m))}signInWithCustomToken(m){return Ar(this._delegate,function Ta(v,g){return wt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ar(this._delegate,function fc(v,g,m){return Tn((0,L.m9)(v),Sd.credential(g,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ar(this._delegate,function hm(v,g,m){return ks.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Xf(this._delegate,function Wn(v,g,m){return Zo.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return Du(Ci(),b._delegate,"operation-not-supported-in-this-environment"),Ar(b._delegate,function Lf(v,g,m){return ys.apply(this,arguments)}(b._delegate,m,ea))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return Du(Ci(),b._delegate,"operation-not-supported-in-this-environment"),yield sh(b._delegate),function J(v,g,m){return function ae(v,g,m){return Re.apply(this,arguments)}(v,g,m)}(b._delegate,m,ea)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Cn(v,g){return Wl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=er,v})();function zm(v,g,m){let b=v;"function"!=typeof v&&({next:b,error:g,complete:m}=v);const D=b;return{next:K=>D(K&&Us.getOrCreate(K)),error:g,complete:m}}function _0(v,g){const m=function Ev(v,g){const m=Fc();if(!m)return[];const b=Jn(rh,v,g);switch(m.getItem(b)){case er.NONE:return[It];case er.LOCAL:return[hl,Ns];case er.SESSION:return[Ns];default:return[]}}(v,g);if("undefined"!=typeof self&&!m.includes(hl)&&m.push(hl),"undefined"!=typeof window)for(const b of[Ir,Ns])m.includes(b)||m.push(b);return m.includes(It)||m.push(It),m}class ta{constructor(){this.providerId="phone",this._delegate=new Ls(ah(ee.Z.auth()))}static credential(g,m){return Ls.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}ta.PHONE_SIGN_IN_METHOD=Ls.PHONE_SIGN_IN_METHOD,ta.PROVIDER_ID=Ls.PROVIDER_ID;const Ln=G;class bt{constructor(g,m,b=ee.Z.app()){var D;Ln(null===(D=b.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Cm(g,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vn(v){v.INTERNAL.registerComponent(new de.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new jm(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Sd,FacebookAuthProvider:wa,GithubAuthProvider:Mf,GoogleAuthProvider:xd,OAuthProvider:ds,SAMLAuthProvider:Qi,PhoneAuthProvider:ta,PhoneMultiFactorGenerator:Mm,RecaptchaVerifier:bt,TwitterAuthProvider:Dd,Auth:jm,AuthCredential:Gr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:(Xe,we,F)=>{F.d(we,{y:()=>$});var s=F(930),ee=F(727),L=F(8822),he=F(4671);var de=F(2416),le=F(576),fe=F(2806);let $=(()=>{class ke{constructor(He){He&&(this._subscribe=He)}lift(He){const ge=new ke;return ge.source=this,ge.operator=He,ge}subscribe(He,ge,Se){const We=function qe(ke){return ke&&ke instanceof s.Lv||function ie(ke){return ke&&(0,le.m)(ke.next)&&(0,le.m)(ke.error)&&(0,le.m)(ke.complete)}(ke)&&(0,ee.Nn)(ke)}(He)?He:new s.Hp(He,ge,Se);return(0,fe.x)(()=>{const{operator:Qe,source:De}=this;We.add(Qe?Qe.call(We,De):De?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(He){try{return this._subscribe(He)}catch(ge){He.error(ge)}}forEach(He,ge){return new(ge=z(ge))((Se,We)=>{const Qe=new s.Hp({next:De=>{try{He(De)}catch(Ee){We(Ee),Qe.unsubscribe()}},error:We,complete:Se});this.subscribe(Qe)})}_subscribe(He){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(He)}[L.L](){return this}pipe(...He){return function _e(ke){return 0===ke.length?he.y:1===ke.length?ke[0]:function(He){return ke.reduce((ge,Se)=>Se(ge),He)}}(He)(this)}toPromise(He){return new(He=z(He))((ge,Se)=>{let We;this.subscribe(Qe=>We=Qe,Qe=>Se(Qe),()=>ge(We))})}}return ke.create=Pe=>new ke(Pe),ke})();function z(ke){var Pe;return null!==(Pe=null!=ke?ke:de.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(Xe,we,F)=>{F.d(we,{x:()=>de});var s=F(8306),ee=F(727);const he=(0,F(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),_e=F(2806);let de=(()=>{class fe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ie=new le(this,this);return ie.operator=z,ie}_throwIfClosed(){if(this.closed)throw new he}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ie}=this;for(;ie.length;)ie.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ie,isStopped:qe,observers:ke}=this;return ie||qe?ee.Lc:(this.currentObservers=null,ke.push(z),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(ke,z)}))}_checkFinalizedStatuses(z){const{hasError:ie,thrownError:qe,isStopped:ke}=this;ie?z.error(qe):ke&&z.complete()}asObservable(){const z=new s.y;return z.source=this,z}}return fe.create=($,z)=>new le($,z),fe})();class le extends de{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,ie;null===(ie=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ie||ie.call(z,$)}error($){var z,ie;null===(ie=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ie||ie.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,ie;return null!==(ie=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==ie?ie:ee.Lc}}},930:(Xe,we,F)=>{F.d(we,{Hp:()=>He,Lv:()=>ie});var s=F(576),ee=F(727),L=F(2416),he=F(7849),se=F(5032);const _e=fe("C",void 0,void 0);function fe(De,Ee,Ie){return{kind:De,value:Ee,error:Ie}}var $=F(3410),z=F(2806);class ie extends ee.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,ee.Nn)(Ee)&&Ee.add(this)):this.destination=Qe}static create(Ee,Ie,ze){return new He(Ee,Ie,ze)}next(Ee){this.isStopped?We(function le(De){return fe("N",De,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?We(function de(De){return fe("E",void 0,De)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?We(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function ke(De,Ee){return qe.call(De,Ee)}class Pe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Ee)}catch(ze){ge(ze)}}error(Ee){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Ee)}catch(ze){ge(ze)}else ge(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ie){ge(Ie)}}}class He extends ie{constructor(Ee,Ie,ze){let Ge;if(super(),(0,s.m)(Ee)||!Ee)Ge={next:null!=Ee?Ee:void 0,error:null!=Ie?Ie:void 0,complete:null!=ze?ze:void 0};else{let G;this&&L.v.useDeprecatedNextContext?(G=Object.create(Ee),G.unsubscribe=()=>this.unsubscribe(),Ge={next:Ee.next&&ke(Ee.next,G),error:Ee.error&&ke(Ee.error,G),complete:Ee.complete&&ke(Ee.complete,G)}):Ge=Ee}this.destination=new Pe(Ge)}}function ge(De){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(De):(0,he.h)(De)}function We(De,Ee){const{onStoppedNotification:Ie}=L.v;Ie&&$.z.setTimeout(()=>Ie(De,Ee))}const Qe={closed:!0,next:se.Z,error:function Se(De){throw De},complete:se.Z}},727:(Xe,we,F)=>{F.d(we,{Lc:()=>_e,w0:()=>se,Nn:()=>de});var s=F(576);const L=(0,F(3888).d)(fe=>function(z){fe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ie,qe)=>`${qe+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var he=F(8737);class se{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(ke){$=ke instanceof L?ke.errors:[ke]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const ke of qe)try{le(ke)}catch(Pe){$=null!=$?$:[],Pe instanceof L?$=[...$,...Pe.errors]:$.push(Pe)}}if($)throw new L($)}}add($){var z;if($&&$!==this)if(this.closed)le($);else{if($ instanceof se){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,he.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,he.P)(z,$),$ instanceof se&&$._removeParent(this)}}se.EMPTY=(()=>{const fe=new se;return fe.closed=!0,fe})();const _e=se.EMPTY;function de(fe){return fe instanceof se||fe&&"closed"in fe&&(0,s.m)(fe.remove)&&(0,s.m)(fe.add)&&(0,s.m)(fe.unsubscribe)}function le(fe){(0,s.m)(fe)?fe():fe.unsubscribe()}},2416:(Xe,we,F)=>{F.d(we,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,we,F)=>{F.d(we,{E:()=>ee});const ee=new(F(8306).y)(se=>se.complete())},8996:(Xe,we,F)=>{F.d(we,{D:()=>Ee});var s=F(8421),ee=F(5363),L=F(9468),_e=F(8306),le=F(2202),fe=F(576),$=F(9672);function ie(Ie,ze){if(!Ie)throw new Error("Iterable cannot be null");return new _e.y(Ge=>{(0,$.f)(Ge,ze,()=>{const G=Ie[Symbol.asyncIterator]();(0,$.f)(Ge,ze,()=>{G.next().then(Ce=>{Ce.done?Ge.complete():Ge.next(Ce.value)})},0,!0)})})}var qe=F(3670),ke=F(8239),Pe=F(1144),He=F(6495),ge=F(2206),Se=F(4532),We=F(3260);function Ee(Ie,ze){return ze?function De(Ie,ze){if(null!=Ie){if((0,qe.c)(Ie))return function he(Ie,ze){return(0,s.Xf)(Ie).pipe((0,L.R)(ze),(0,ee.Q)(ze))}(Ie,ze);if((0,Pe.z)(Ie))return function de(Ie,ze){return new _e.y(Ge=>{let G=0;return ze.schedule(function(){G===Ie.length?Ge.complete():(Ge.next(Ie[G++]),Ge.closed||this.schedule())})})}(Ie,ze);if((0,ke.t)(Ie))return function se(Ie,ze){return(0,s.Xf)(Ie).pipe((0,L.R)(ze),(0,ee.Q)(ze))}(Ie,ze);if((0,ge.D)(Ie))return ie(Ie,ze);if((0,He.T)(Ie))return function z(Ie,ze){return new _e.y(Ge=>{let G;return(0,$.f)(Ge,ze,()=>{G=Ie[le.h](),(0,$.f)(Ge,ze,()=>{let Ce,Y;try{({value:Ce,done:Y}=G.next())}catch(oe){return void Ge.error(oe)}Y?Ge.complete():Ge.next(Ce)},0,!0)}),()=>(0,fe.m)(null==G?void 0:G.return)&&G.return()})}(Ie,ze);if((0,We.L)(Ie))return function Qe(Ie,ze){return ie((0,We.Q)(Ie),ze)}(Ie,ze)}throw(0,Se.z)(Ie)}(Ie,ze):(0,s.Xf)(Ie)}},8421:(Xe,we,F)=>{F.d(we,{Xf:()=>qe});var s=F(655),ee=F(1144),L=F(8239),he=F(8306),se=F(3670),_e=F(2206),de=F(4532),le=F(6495),fe=F(3260),$=F(576),z=F(7849),ie=F(8822);function qe(De){if(De instanceof he.y)return De;if(null!=De){if((0,se.c)(De))return function ke(De){return new he.y(Ee=>{const Ie=De[ie.L]();if((0,$.m)(Ie.subscribe))return Ie.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,ee.z)(De))return function Pe(De){return new he.y(Ee=>{for(let Ie=0;Ie<De.length&&!Ee.closed;Ie++)Ee.next(De[Ie]);Ee.complete()})}(De);if((0,L.t)(De))return function He(De){return new he.y(Ee=>{De.then(Ie=>{Ee.closed||(Ee.next(Ie),Ee.complete())},Ie=>Ee.error(Ie)).then(null,z.h)})}(De);if((0,_e.D)(De))return Se(De);if((0,le.T)(De))return function ge(De){return new he.y(Ee=>{for(const Ie of De)if(Ee.next(Ie),Ee.closed)return;Ee.complete()})}(De);if((0,fe.L)(De))return function We(De){return Se((0,fe.Q)(De))}(De)}throw(0,de.z)(De)}function Se(De){return new he.y(Ee=>{(function Qe(De,Ee){var Ie,ze,Ge,G;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,s.KL)(De);!(ze=yield Ie.next()).done;)if(Ee.next(ze.value),Ee.closed)return}catch(Ce){Ge={error:Ce}}finally{try{ze&&!ze.done&&(G=Ie.return)&&(yield G.call(Ie))}finally{if(Ge)throw Ge.error}}Ee.complete()})})(De,Ee).catch(Ie=>Ee.error(Ie))})}},6451:(Xe,we,F)=>{F.d(we,{T:()=>_e});var s=F(8189),ee=F(8421),L=F(515),he=F(3269),se=F(8996);function _e(...de){const le=(0,he.yG)(de),fe=(0,he._6)(de,1/0),$=de;return $.length?1===$.length?(0,ee.Xf)($[0]):(0,s.J)(fe)((0,se.D)($,le)):L.E}},5403:(Xe,we,F)=>{F.d(we,{x:()=>ee});var s=F(930);function ee(he,se,_e,de,le){return new L(he,se,_e,de,le)}class L extends s.Lv{constructor(se,_e,de,le,fe,$){super(se),this.onFinalize=fe,this.shouldUnsubscribe=$,this._next=_e?function(z){try{_e(z)}catch(ie){se.error(ie)}}:super._next,this._error=le?function(z){try{le(z)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(Xe,we,F)=>{F.d(we,{U:()=>L});var s=F(4482),ee=F(5403);function L(he,se){return(0,s.e)((_e,de)=>{let le=0;_e.subscribe((0,ee.x)(de,fe=>{de.next(he.call(se,fe,le++))}))})}},8189:(Xe,we,F)=>{F.d(we,{J:()=>L});var s=F(5577),ee=F(4671);function L(he=1/0){return(0,s.z)(ee.y,he)}},5577:(Xe,we,F)=>{F.d(we,{z:()=>le});var s=F(4004),ee=F(8421),L=F(4482),he=F(9672),se=F(5403),de=F(576);function le(fe,$,z=1/0){return(0,de.m)($)?le((ie,qe)=>(0,s.U)((ke,Pe)=>$(ie,ke,qe,Pe))((0,ee.Xf)(fe(ie,qe))),z):("number"==typeof $&&(z=$),(0,L.e)((ie,qe)=>function _e(fe,$,z,ie,qe,ke,Pe,He){const ge=[];let Se=0,We=0,Qe=!1;const De=()=>{Qe&&!ge.length&&!Se&&$.complete()},Ee=ze=>Se<ie?Ie(ze):ge.push(ze),Ie=ze=>{ke&&$.next(ze),Se++;let Ge=!1;(0,ee.Xf)(z(ze,We++)).subscribe((0,se.x)($,G=>{null==qe||qe(G),ke?Ee(G):$.next(G)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Se--;ge.length&&Se<ie;){const G=ge.shift();Pe?(0,he.f)($,Pe,()=>Ie(G)):Ie(G)}De()}catch(G){$.error(G)}}))};return fe.subscribe((0,se.x)($,Ee,()=>{Qe=!0,De()})),()=>{null==He||He()}}(ie,qe,fe,z)))}},5363:(Xe,we,F)=>{F.d(we,{Q:()=>he});var s=F(9672),ee=F(4482),L=F(5403);function he(se,_e=0){return(0,ee.e)((de,le)=>{de.subscribe((0,L.x)(le,fe=>(0,s.f)(le,se,()=>le.next(fe),_e),()=>(0,s.f)(le,se,()=>le.complete(),_e),fe=>(0,s.f)(le,se,()=>le.error(fe),_e)))})}},3099:(Xe,we,F)=>{F.d(we,{B:()=>_e});var s=F(8996),ee=F(5698),L=F(7579),he=F(930),se=F(4482);function _e(le={}){const{connector:fe=(()=>new L.x),resetOnError:$=!0,resetOnComplete:z=!0,resetOnRefCountZero:ie=!0}=le;return qe=>{let ke=null,Pe=null,He=null,ge=0,Se=!1,We=!1;const Qe=()=>{null==Pe||Pe.unsubscribe(),Pe=null},De=()=>{Qe(),ke=He=null,Se=We=!1},Ee=()=>{const Ie=ke;De(),null==Ie||Ie.unsubscribe()};return(0,se.e)((Ie,ze)=>{ge++,!We&&!Se&&Qe();const Ge=He=null!=He?He:fe();ze.add(()=>{ge--,0===ge&&!We&&!Se&&(Pe=de(Ee,ie))}),Ge.subscribe(ze),ke||(ke=new he.Hp({next:G=>Ge.next(G),error:G=>{We=!0,Qe(),Pe=de(De,$,G),Ge.error(G)},complete:()=>{Se=!0,Qe(),Pe=de(De,z),Ge.complete()}}),(0,s.D)(Ie).subscribe(ke))})(qe)}}function de(le,fe,...$){return!0===fe?(le(),null):!1===fe?null:fe(...$).pipe((0,ee.q)(1)).subscribe(()=>le())}},9468:(Xe,we,F)=>{F.d(we,{R:()=>ee});var s=F(4482);function ee(L,he=0){return(0,s.e)((se,_e)=>{_e.add(L.schedule(()=>se.subscribe(_e),he))})}},5698:(Xe,we,F)=>{F.d(we,{q:()=>he});var s=F(515),ee=F(4482),L=F(5403);function he(se){return se<=0?()=>s.E:(0,ee.e)((_e,de)=>{let le=0;_e.subscribe((0,L.x)(de,fe=>{++le<=se&&(de.next(fe),se<=le&&de.complete())}))})}},8505:(Xe,we,F)=>{F.d(we,{b:()=>se});var s=F(576),ee=F(4482),L=F(5403),he=F(4671);function se(_e,de,le){const fe=(0,s.m)(_e)||de||le?{next:_e,error:de,complete:le}:_e;return fe?(0,ee.e)(($,z)=>{var ie;null===(ie=fe.subscribe)||void 0===ie||ie.call(fe);let qe=!0;$.subscribe((0,L.x)(z,ke=>{var Pe;null===(Pe=fe.next)||void 0===Pe||Pe.call(fe,ke),z.next(ke)},()=>{var ke;qe=!1,null===(ke=fe.complete)||void 0===ke||ke.call(fe),z.complete()},ke=>{var Pe;qe=!1,null===(Pe=fe.error)||void 0===Pe||Pe.call(fe,ke),z.error(ke)},()=>{var ke,Pe;qe&&(null===(ke=fe.unsubscribe)||void 0===ke||ke.call(fe)),null===(Pe=fe.finalize)||void 0===Pe||Pe.call(fe)}))}):he.y}},4408:(Xe,we,F)=>{F.d(we,{o:()=>se});var s=F(727);class ee extends s.w0{constructor(de,le){super()}schedule(de,le=0){return this}}const L={setInterval(_e,de,...le){const{delegate:fe}=L;return(null==fe?void 0:fe.setInterval)?fe.setInterval(_e,de,...le):setInterval(_e,de,...le)},clearInterval(_e){const{delegate:de}=L;return((null==de?void 0:de.clearInterval)||clearInterval)(_e)},delegate:void 0};var he=F(8737);class se extends ee{constructor(de,le){super(de,le),this.scheduler=de,this.work=le,this.pending=!1}schedule(de,le=0){if(this.closed)return this;this.state=de;const fe=this.id,$=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId($,fe,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId($,this.id,le),this}requestAsyncId(de,le,fe=0){return L.setInterval(de.flush.bind(de,this),fe)}recycleAsyncId(de,le,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return le;L.clearInterval(le)}execute(de,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(de,le);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,le){let $,fe=!1;try{this.work(de)}catch(z){fe=!0,$=z||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:de,scheduler:le}=this,{actions:fe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(fe,this),null!=de&&(this.id=this.recycleAsyncId(le,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,we,F)=>{F.d(we,{v:()=>L});var s=F(6063);class ee{constructor(se,_e=ee.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,de){return new this.schedulerActionCtor(this,se).schedule(de,_e)}}ee.now=s.l.now;class L extends ee{constructor(se,_e=ee.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let de;this._active=!0;do{if(de=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,de){for(;se=_e.shift();)se.unsubscribe();throw de}}}},4986:(Xe,we,F)=>{F.d(we,{P:()=>he,z:()=>L});var s=F(4408);const L=new(F(7565).v)(s.o),he=L},6063:(Xe,we,F)=>{F.d(we,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Xe,we,F)=>{F.d(we,{z:()=>s});const s={setTimeout(ee,L,...he){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,L,...he):setTimeout(ee,L,...he)},clearTimeout(ee){const{delegate:L}=s;return((null==L?void 0:L.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(Xe,we,F)=>{F.d(we,{h:()=>ee});const ee=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,we,F)=>{F.d(we,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,we,F)=>{F.d(we,{_6:()=>_e,jO:()=>he,yG:()=>se});var s=F(576),ee=F(3532);function L(de){return de[de.length-1]}function he(de){return(0,s.m)(L(de))?de.pop():void 0}function se(de){return(0,ee.K)(L(de))?de.pop():void 0}function _e(de,le){return"number"==typeof L(de)?de.pop():le}},8737:(Xe,we,F)=>{function s(ee,L){if(ee){const he=ee.indexOf(L);0<=he&&ee.splice(he,1)}}F.d(we,{P:()=>s})},3888:(Xe,we,F)=>{function s(ee){const he=ee(se=>{Error.call(se),se.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}F.d(we,{d:()=>s})},2806:(Xe,we,F)=>{F.d(we,{O:()=>he,x:()=>L});var s=F(2416);let ee=null;function L(se){if(s.v.useDeprecatedSynchronousErrorHandling){const _e=!ee;if(_e&&(ee={errorThrown:!1,error:null}),se(),_e){const{errorThrown:de,error:le}=ee;if(ee=null,de)throw le}}else se()}function he(se){s.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(Xe,we,F)=>{function s(ee,L,he,se=0,_e=!1){const de=L.schedule(function(){he(),_e?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(de),!_e)return de}F.d(we,{f:()=>s})},4671:(Xe,we,F)=>{function s(ee){return ee}F.d(we,{y:()=>s})},1144:(Xe,we,F)=>{F.d(we,{z:()=>s});const s=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(Xe,we,F)=>{F.d(we,{D:()=>ee});var s=F(576);function ee(L){return Symbol.asyncIterator&&(0,s.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(Xe,we,F)=>{function s(ee){return"function"==typeof ee}F.d(we,{m:()=>s})},3670:(Xe,we,F)=>{F.d(we,{c:()=>L});var s=F(8822),ee=F(576);function L(he){return(0,ee.m)(he[s.L])}},6495:(Xe,we,F)=>{F.d(we,{T:()=>L});var s=F(2202),ee=F(576);function L(he){return(0,ee.m)(null==he?void 0:he[s.h])}},8239:(Xe,we,F)=>{F.d(we,{t:()=>ee});var s=F(576);function ee(L){return(0,s.m)(null==L?void 0:L.then)}},3260:(Xe,we,F)=>{F.d(we,{L:()=>he,Q:()=>L});var s=F(655),ee=F(576);function L(se){return(0,s.FC)(this,arguments,function*(){const de=se.getReader();try{for(;;){const{value:le,done:fe}=yield(0,s.qq)(de.read());if(fe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(le)}}finally{de.releaseLock()}})}function he(se){return(0,ee.m)(null==se?void 0:se.getReader)}},3532:(Xe,we,F)=>{F.d(we,{K:()=>ee});var s=F(576);function ee(L){return L&&(0,s.m)(L.schedule)}},4482:(Xe,we,F)=>{F.d(we,{A:()=>ee,e:()=>L});var s=F(576);function ee(he){return(0,s.m)(null==he?void 0:he.lift)}function L(he){return se=>{if(ee(se))return se.lift(function(_e){try{return he(_e,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,we,F)=>{function s(){}F.d(we,{Z:()=>s})},7849:(Xe,we,F)=>{F.d(we,{h:()=>L});var s=F(2416),ee=F(3410);function L(he){ee.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw he;se(he)})}},4532:(Xe,we,F)=>{function s(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(we,{z:()=>s})},655:(Xe,we,F)=>{function he(Y,oe){var ne={};for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&oe.indexOf(ve)<0&&(ne[ve]=Y[ve]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ve=Object.getOwnPropertySymbols(Y);ue<ve.length;ue++)oe.indexOf(ve[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,ve[ue])&&(ne[ve[ue]]=Y[ve[ue]])}return ne}function le(Y,oe,ne,ve){return new(ne||(ne=Promise))(function(Fe,pt){function Wt(ln){try{Ye(ve.next(ln))}catch(On){pt(On)}}function Ht(ln){try{Ye(ve.throw(ln))}catch(On){pt(On)}}function Ye(ln){ln.done?Fe(ln.value):function ue(Fe){return Fe instanceof ne?Fe:new ne(function(pt){pt(Fe)})}(ln.value).then(Wt,Ht)}Ye((ve=ve.apply(Y,oe||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function Se(Y,oe,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ve=ne.apply(Y,oe||[]),Fe=[];return ue={},pt("next"),pt("throw"),pt("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function pt(cn){ve[cn]&&(ue[cn]=function(rn){return new Promise(function(Wi,Jt){Fe.push([cn,rn,Wi,Jt])>1||Wt(cn,rn)})})}function Wt(cn,rn){try{!function Ht(cn){cn.value instanceof ge?Promise.resolve(cn.value.v).then(Ye,ln):On(Fe[0][2],cn)}(ve[cn](rn))}catch(Wi){On(Fe[0][3],Wi)}}function Ye(cn){Wt("next",cn)}function ln(cn){Wt("throw",cn)}function On(cn,rn){cn(rn),Fe.shift(),Fe.length&&Wt(Fe[0][0],Fe[0][1])}}function Qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function ie(Y){var oe="function"==typeof Symbol&&Symbol.iterator,ne=oe&&Y[oe],ve=0;if(ne)return ne.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ve>=Y.length&&(Y=void 0),{value:Y&&Y[ve++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ne={},ve("next"),ve("throw"),ve("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ve(Fe){ne[Fe]=Y[Fe]&&function(pt){return new Promise(function(Wt,Ht){!function ue(Fe,pt,Wt,Ht){Promise.resolve(Ht).then(function(Ye){Fe({value:Ye,done:Wt})},pt)}(Wt,Ht,(pt=Y[Fe](pt)).done,pt.value)})}}}F.d(we,{FC:()=>Se,KL:()=>Qe,_T:()=>he,mG:()=>le,qq:()=>ge})},5e3:(Xe,we,F)=>{F.d(we,{$8M:()=>cu,$Z:()=>ID,AFp:()=>lg,AaK:()=>le,Akn:()=>$s,AsE:()=>Mh,BQk:()=>P,CHM:()=>Bo,CRH:()=>Zh,CZH:()=>fy,CqO:()=>Bi,DdM:()=>jT,EJc:()=>TI,EpF:()=>Tw,F$t:()=>FE,F4k:()=>OE,FYo:()=>Y_,FiY:()=>xr,G48:()=>sn,Gf:()=>rI,GfV:()=>Q_,GkF:()=>zs,Gpc:()=>z,HTZ:()=>mb,Hh0:()=>Yp,Hsn:()=>LE,JOm:()=>k,LFG:()=>lt,LSH:()=>th,Lbi:()=>EI,MAs:()=>vE,NdJ:()=>Gs,OlP:()=>An,Oqu:()=>Bw,PXZ:()=>L1,Q6J:()=>ME,QGY:()=>Iw,Qsj:()=>VT,R0b:()=>Io,RDi:()=>lc,Rgc:()=>nd,SBq:()=>Wp,Sil:()=>M1,Suo:()=>Wh,TTD:()=>ds,TgZ:()=>Cw,Tol:()=>Nw,Udp:()=>D_,VKq:()=>zT,VLi:()=>P1,W1O:()=>aI,WLB:()=>td,X6Q:()=>dg,XFs:()=>vt,Xpm:()=>_t,Y36:()=>T_,YKP:()=>Kp,YNc:()=>_E,Yjl:()=>tl,Yz7:()=>rn,ZZ4:()=>ir,_Bn:()=>NT,_UZ:()=>RE,_Vd:()=>Lh,_c5:()=>LI,_uU:()=>tT,aQg:()=>tf,c2e:()=>py,cJS:()=>Jt,cg1:()=>Vp,dDg:()=>my,deG:()=>vm,dqk:()=>Gt,eFA:()=>SI,ekj:()=>Ow,f3M:()=>Lt,g9A:()=>Lb,h0i:()=>Vh,hGG:()=>q1,hij:()=>k_,iGM:()=>iI,ifc:()=>Zt,ip1:()=>hy,kEZ:()=>GT,kL8:()=>N_,l5B:()=>$T,lG2:()=>Bl,n5z:()=>uu,oAB:()=>Ki,oJD:()=>eh,oxw:()=>Dw,q4F:()=>Hi,qLn:()=>lh,qOj:()=>dw,qZA:()=>Ew,qbA:()=>Uu,rFY:()=>Uh,sBO:()=>U1,sIi:()=>wh,s_b:()=>ju,soG:()=>gy,tBr:()=>fr,tb:()=>Vb,tp0:()=>Va,uIk:()=>xp,vHH:()=>Pe,vpe:()=>ja,wAp:()=>Ct,xp6:()=>Qm,ynx:()=>Co,z2F:()=>_y,zSh:()=>sw,zs3:()=>Ua});var s=F(7579),ee=F(727),L=F(8306),he=F(6451),se=F(3099);function _e(a){for(let l in a)if(a[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function de(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function le(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(le).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function fe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const $=_e({__forward_ref__:_e});function z(a){return a.__forward_ref__=z,a.toString=function(){return le(this())},a}function ie(a){return qe(a)?a():a}function qe(a){return"function"==typeof a&&a.hasOwnProperty($)&&a.__forward_ref__===z}class Pe extends Error{constructor(l,c){super(function He(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function ge(a){return"string"==typeof a?a:null==a?"":String(a)}function Se(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ge(a)}function Ee(a,l){const c=l?` in ${l}`:"";throw new Pe(-201,`No provider for ${Se(a)} found${c}`)}function Ht(a,l){null==a&&function Ye(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function rn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Jt(a){return{providers:a.providers||[],imports:a.imports||[]}}function jt(a){return is(a,rs)||is(a,ar)}function is(a,l){return a.hasOwnProperty(l)?a[l]:null}function Zi(a){return a&&(a.hasOwnProperty(no)||a.hasOwnProperty(zr))?a[no]:null}const rs=_e({\u0275prov:_e}),no=_e({\u0275inj:_e}),ar=_e({ngInjectableDef:_e}),zr=_e({ngInjectorDef:_e});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let vr;function Nn(a){const l=vr;return vr=a,l}function io(a,l,c){const d=jt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&vt.Optional?null:void 0!==l?l:void Ee(le(a),"Injector")}function ui(a){return{toString:a}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),Zt=(()=>{return(a=Zt||(Zt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Zt;var a})();const ct="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ct||"undefined"!=typeof global&&global||Et||xi,Ai={},H=[],W=_e({\u0275cmp:_e}),Z=_e({\u0275dir:_e}),xe=_e({\u0275pipe:_e}),q=_e({\u0275mod:_e}),te=_e({\u0275fac:_e}),Ne=_e({__NG_ELEMENT_ID__:_e});let et=0;function _t(a){return ui(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||H,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Zt.Emulated,id:"c",styles:a.styles||H,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,_=a.features,w=a.pipes;return d.id+=et++,d.inputs=el(a.inputs,c),d.outputs=el(a.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(yn):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(It):null,d})}function yn(a){return Xn(a)||function Yi(a){return a[Z]||null}(a)}function It(a){return function Ds(a){return a[xe]||null}(a)}const Jn={};function Ki(a){return ui(()=>{const l={type:a.type,bootstrap:a.bootstrap||H,declarations:a.declarations||H,imports:a.imports||H,exports:a.exports||H,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Jn[a.id]=a.type),l})}function el(a,l){if(null==a)return Ai;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),c[f]=d,l&&(l[f]=_)}return c}const Bl=_t;function tl(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Xn(a){return a[W]||null}function ei(a,l){const c=a[q]||null;if(!c&&!0===l)throw new Error(`Type ${le(a)} does not have '\u0275mod' property.`);return c}function mi(a){return Array.isArray(a)&&"object"==typeof a[1]}function as(a){return Array.isArray(a)&&!0===a[1]}function jl(a){return 0!=(8&a.flags)}function vd(a){return 2==(2&a.flags)}function ls(a){return 1==(1&a.flags)}function us(a){return null!==a.template}function Mi(a){return 0!=(512&a[2])}function Ri(a,l){return a.hasOwnProperty(te)?a[te]:null}class Po{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ds(){return wa}function wa(a){return a.type.prototype.ngOnChanges&&(a.setInput=Mf),xd}function xd(){const a=Fo(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===Ai)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Mf(a,l,c,d){const f=Fo(a)||function ba(a,l){return a[zn]=l}(a,{previous:Ai,current:null}),_=f.current||(f.current={}),w=f.previous,C=this.declaredInputs[c],T=w[C];_[C]=new Po(T&&T.currentValue,l,w===Ai),a[d]=l}ds.ngInherit=!0;const zn="__ngSimpleChanges__";function Fo(a){return a[zn]||null}let Ea;function lc(a){Ea=a}function hs(){return void 0!==Ea?Ea:"undefined"!=typeof document?document:void 0}function fn(a){return!!a.listen}const sl={createRenderer:(a,l)=>hs()};function on(a){for(;Array.isArray(a);)a=a[0];return a}function uo(a,l){return on(l[a])}function _i(a,l){return on(l[a.index])}function Tn(a,l){return a.data[l]}function yi(a,l){const c=l[a];return mi(c)?c:c[0]}function Vo(a){return 4==(4&a[2])}function Ms(a){return 128==(128&a[2])}function $r(a,l){return null==l?null:a[l]}function ps(a){a[18]=0}function Ta(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const wt={lFrame:xa(null),bindingsEnabled:!0};function ql(){return wt.bindingsEnabled}function Ae(){return wt.lFrame.lView}function zt(){return wt.lFrame.tView}function Bo(a){return wt.lFrame.contextLView=a,a[8]}function Cn(){let a=Wl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Wl(){return wt.lFrame.currentTNode}function Er(a,l){const c=wt.lFrame;c.currentTNode=a,c.isParent=l}function fc(){return wt.lFrame.isParent}function pc(){wt.lFrame.isParent=!1}function Ni(){const a=wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ho(){return wt.lFrame.bindingIndex++}function qr(a){const l=wt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Yl(a,l){const c=wt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Sa(l)}function Sa(a){wt.lFrame.currentDirectiveIndex=a}function Jl(){return wt.lFrame.currentQueryIndex}function kd(a){wt.lFrame.currentQueryIndex=a}function Rd(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Xl(a,l,c){if(c&vt.SkipSelf){let f=l,_=a;for(;!(f=f.parent,null!==f||c&vt.Host||(f=Rd(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,a=_}const d=wt.lFrame=Od();return d.currentTNode=l,d.lView=a,!0}function Ho(a){const l=Od(),c=a[1];wt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Od(){const a=wt.lFrame,l=null===a?null:a.child;return null===l?xa(a):l}function xa(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Nd(){const a=wt.lFrame;return wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const eu=Nd;function hr(){const a=Nd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ci(){return wt.lFrame.selectedIndex}function jo(a){wt.lFrame.selectedIndex=a}function Gn(){const a=wt.lFrame;return Tn(a.tView,a.selectedIndex)}function ul(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const _=a.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:R}=_;w&&(a.contentHooks||(a.contentHooks=[])).push(-c,w),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-c,T),A&&((a.viewHooks||(a.viewHooks=[])).push(c,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,A)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(c,R)}}function Rs(a,l,c){Fd(a,l,3,c)}function zo(a,l,c,d){(3&a[2])===c&&Fd(a,l,c,d)}function ti(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Fd(a,l,c,d){const _=null!=d?d:-1,w=l.length-1;let C=0;for(let T=void 0!==d?65535&a[18]:0;T<w;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=d&&C>=d)break}else l[T]<0&&(a[18]+=65536),(C<_||-1==_)&&(pm(a,c,l,T),a[18]=(4294901760&a[18])+T+2),T++}function pm(a,l,c,d){const f=c[d]<0,_=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(C)}finally{}}}else try{_.call(C)}finally{}}class Da{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Ir(a,l,c){const d=fn(a);let f=0;for(;f<c.length;){const _=c[f];if("number"==typeof _){if(0!==_)break;f++;const w=c[f++],C=c[f++],T=c[f++];d?a.setAttribute(l,C,T,w):l.setAttributeNS(w,C,T)}else{const w=_,C=c[++f];Ns(w)?d&&a.setProperty(l,w,C):d?a.setAttribute(l,w,C):l.setAttribute(w,C),f++}}return f}function Sr(a){return 3===a||4===a||6===a}function Ns(a){return 64===a.charCodeAt(0)}function Aa(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||qn(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function qn(a,l,c,d,f){let _=0,w=a.length;if(-1===l)w=-1;else for(;_<a.length;){const C=a[_++];if("number"==typeof C){if(C===l){w=-1;break}if(C>l){w=_-1;break}}}for(;_<a.length;){const C=a[_];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[_+1]=f));if(d===a[_+1])return void(a[_+2]=f)}_++,null!==d&&_++,null!==f&&_++}-1!==w&&(a.splice(w,0,l),_=w+1),a.splice(_++,0,c),null!==d&&a.splice(_++,0,d),null!==f&&a.splice(_++,0,f)}function $o(a){return-1!==a}function qo(a){return 32767&a}function Ps(a,l){let c=function tn(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let Ma=!0;function Wo(a){const l=Ma;return Ma=a,l}let ka=0;function gs(a,l){const c=ms(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Nt(d.data,a),Nt(l,null),Nt(d.blueprint,null));const f=vi(a,l),_=a.injectorIndex;if($o(f)){const w=qo(f),C=Ps(f,l),T=C[1].data;for(let A=0;A<8;A++)l[_+A]=C[w+A]|T[w+A]}return l[_+8]=f,_}function Nt(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ms(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function vi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const _=f[1],w=_.type;if(d=2===w?_.declTNode:1===w?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function cl(a,l,c){!function iu(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ne)&&(d=c[Ne]),null==d&&(d=c[Ne]=ka++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function Ra(a,l,c){if(c&vt.Optional)return a;Ee(l,"NodeInjector")}function dl(a,l,c,d){if(c&vt.Optional&&void 0===d&&(d=null),0==(c&(vt.Self|vt.Host))){const f=a[9],_=Nn(void 0);try{return f?f.get(l,d,c&vt.Optional):io(l,d,c&vt.Optional)}finally{Nn(_)}}return Ra(d,l,c)}function wc(a,l,c,d=vt.Default,f){if(null!==a){const _=function hl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ne)?a[Ne]:void 0;return"number"==typeof l?l>=0?255&l:su:l}(c);if("function"==typeof _){if(!Xl(l,a,d))return d&vt.Host?Ra(f,c,d):dl(l,c,d,f);try{const w=_(d);if(null!=w||d&vt.Optional)return w;Ee(c)}finally{eu()}}else if("number"==typeof _){let w=null,C=ms(a,l),T=-1,A=d&vt.Host?l[16][6]:null;for((-1===C||d&vt.SkipSelf)&&(T=-1===C?vi(a,l):l[C+8],-1!==T&&Bd(d,!1)?(w=l[1],C=qo(T),l=Ps(T,l)):C=-1);-1!==C;){const R=l[1];if(lu(_,C,R.data)){const B=ym(C,l,c,w,d,A);if(B!==fo)return B}T=l[C+8],-1!==T&&Bd(d,l[1].data[C+8]===A)&&lu(_,C,l)?(w=R,C=qo(T),l=Ps(T,l)):C=-1}}}return dl(l,c,d,f)}const fo={};function su(){return new po(Cn(),Ae())}function ym(a,l,c,d,f,_){const w=l[1],C=w.data[a+8],R=ou(C,w,c,null==d?vd(C)&&Ma:d!=w&&0!=(3&C.type),f&vt.Host&&_===C);return null!==R?au(l,w,R,C):fo}function ou(a,l,c,d,f){const _=a.providerIndexes,w=l.data,C=1048575&_,T=a.directiveStart,R=_>>20,j=f?C+R:a.directiveEnd;for(let X=d?C:C+R;X<j;X++){const be=w[X];if(X<T&&c===be||X>=T&&be.type===c)return X}if(f){const X=w[T];if(X&&us(X)&&X.type===c)return T}return null}function au(a,l,c,d){let f=a[c];const _=l.data;if(function tu(a){return a instanceof Da}(f)){const w=f;w.resolving&&function We(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${a}${c}`)}(Se(_[c]));const C=Wo(w.canSeeViewProviders);w.resolving=!0;const T=w.injectImpl?Nn(w.injectImpl):null;Xl(a,d,vt.Default);try{f=a[c]=w.factory(void 0,_,a,d),l.firstCreatePass&&c>=d.directiveStart&&function av(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(d){const w=wa(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,w)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_))}(c,_[c],l)}finally{null!==T&&Nn(T),Wo(C),w.resolving=!1,eu()}}return f}function lu(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Bd(a,l){return!(a&vt.Self||a&vt.Host&&l)}class po{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return wc(this._tNode,this._lView,l,d,c)}}function uu(a){return ui(()=>{const l=a.prototype.constructor,c=l[te]||fl(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const _=f[te]||fl(f);if(_&&_!==c)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function fl(a){return qe(a)?()=>{const l=fl(ie(a));return l&&l()}:Ri(a)}function cu(a){return function ru(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const _=c[f];if(Sr(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(_===l)return c[f+1];f+=2}}}return null}(Cn(),a)}const Oa="__parameters__";function Na(a,l,c){return ui(()=>{const d=function bc(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(..._){if(this instanceof f)return d.apply(this,_),this;const w=new f(..._);return C.annotation=w,C;function C(T,A,R){const B=T.hasOwnProperty(Oa)?T[Oa]:Object.defineProperty(T,Oa,{value:[]})[Oa];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(w),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class An{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vm=new An("AnalyzeForEntryComponents");function wi(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),wi(d,l)):l!==a&&l.push(d)}return l}function Pi(a,l){a.forEach(c=>Array.isArray(c)?Pi(c,l):l(c))}function bi(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Ko(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Zr(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Fi(a,l,c){let d=Pa(a,l);return d>=0?a[1|d]=c:(d=~d,function Yo(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function fu(a,l){const c=Pa(a,l);if(c>=0)return a[1|c]}function Pa(a,l){return function ys(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const _=d+(f-d>>1),w=a[_<<c];if(l===w)return _<<c;w>l?f=_:d=_+1}return~(f<<c)}(a,l,1)}const vs={},La="__NG_DI_FLAG__",Jo="ngTempTokenPath",x=/\n/gm,U="__source",J=_e({provide:String,useValue:_e});let ae;function Re(a){const l=ae;return ae=a,l}function st(a,l=vt.Default){if(void 0===ae)throw new Pe(203,"");return null===ae?io(a,void 0,l):ae.get(a,l&vt.Optional?null:void 0,l)}function lt(a,l=vt.Default){return(function Dn(){return vr}()||st)(ie(a),l)}const Lt=lt;function Tt(a){const l=[];for(let c=0;c<a.length;c++){const d=ie(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,"");let f,_=vt.Default;for(let w=0;w<d.length;w++){const C=d[w],T=Zn(C);"number"==typeof T?-1===T?f=C.token:_|=T:f=C}l.push(lt(f,_))}else l.push(lt(d))}return l}function ni(a,l){return a[La]=l,a.prototype[La]=l,a}function Zn(a){return a[La]}const fr=ni(Na("Inject",a=>({token:a})),-1),xr=ni(Na("Optional"),8),Va=ni(Na("SkipSelf"),4);let Dc,bu;function wu(a){var l;return(null===(l=function Zd(){if(void 0===Dc&&(Dc=null,Gt.trustedTypes))try{Dc=Gt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Dc}())||void 0===l?void 0:l.createHTML(a))||a}function xm(a){var l;return(null===(l=function Hf(){if(void 0===bu&&(bu=null,Gt.trustedTypes))try{bu=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return bu}())||void 0===l?void 0:l.createHTML(a))||a}class Am{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yo(a){return a instanceof Am?a.changingThisBreaksApplicationSecurity:a}function Mc(a,l){const c=function Gf(a){return a instanceof Am&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}class km{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(wu(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Rm{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=wu(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=wu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const w=c.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const f0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Eu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yd(a){return(a=String(a)).match(f0)||a.match(Eu)?a:"unsafe:"+a}function ws(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Tu(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Iu=ws("area,br,col,hr,img,wbr"),qf=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nm=ws("rp,rt"),Rc=Tu(Iu,Tu(qf,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tu(Nm,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tu(Nm,qf)),Qd=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wf=ws("srcset"),Fm=Tu(Qd,Wf,ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jd=ws("script,style,template");class Zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Rc.hasOwnProperty(c))return this.sanitizedSomething=!0,!Jd.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const _=d.item(f),w=_.name,C=w.toLowerCase();if(!Fm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=_.value;Qd[C]&&(T=Yd(T)),Wf[C]&&(a=T,T=(a=String(a)).split(",").map(l=>Yd(l.trim())).join(", ")),this.buf.push(" ",w,'="',Xd(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Rc.hasOwnProperty(c)&&!Iu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Xd(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const pv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gv=/([^\#-~ |!])/g;function Xd(a){return a.replace(/&/g,"&amp;").replace(pv,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(gv,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pl;function Dr(a){return"content"in a&&function Su(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function eh(a){const l=Xi();return l?xm(l.sanitize(In.HTML,a)||""):Mc(a,"HTML")?xm(yo(a)):function mv(a,l){let c=null;try{pl=pl||function Cu(a){const l=new Rm(a);return function dv(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch(a){return!1}}()?new km(l):l}(a);let d=l?String(l):"";c=pl.getInertBodyElement(d);let f=5,_=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=_,_=c.innerHTML,c=pl.getInertBodyElement(d)}while(d!==_);return wu((new Zf).sanitizeChildren(Dr(c)||c))}finally{if(c){const d=Dr(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(hs(),ge(a))}function th(a){const l=Xi();return l?l.sanitize(In.URL,a)||"":Mc(a,"URL")?yo(a):Yd(ge(a))}function Xi(){const a=Ae();return a&&a[12]}const Nc="__ngContext__";function Ci(a,l){a[Nc]=l}function xu(a){const l=function gl(a){return a[Nc]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function ah(a){return a.ngOriginalError}function Tv(a,...l){a.error(...l)}class lh{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function Bm(a){return a&&a.ngErrorLogger||Tv}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&ah(l);for(;c&&ah(c);)c=ah(c);return c||null}}const ta=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function v(a){return a instanceof Function?a():a}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function pe(a,l){return undefined(a,l)}function mt(a){const l=a[3];return as(l)?l[3]:l}function Mr(a){return vo(a[13])}function ml(a){return vo(a[4])}function vo(a){for(;null!==a&&!as(a);)a=a[4];return a}function _l(a,l,c,d,f){if(null!=d){let _,w=!1;as(d)?_=d:mi(d)&&(w=!0,d=d[0]);const C=on(d);0===a&&null!==c?null==f?kx(l,c,C):ch(l,c,C,f||null,!0):1===a&&null!==c?ch(l,c,C,f||null,!0):2===a?function Ox(a,l,c){const d=Dv(a,l);d&&function jR(a,l,c,d){fn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,C,w):3===a&&l.destroyNode(C),null!=_&&function GR(a,l,c,d,f){const _=c[7];_!==on(c)&&_l(l,a,d,_,f);for(let C=10;C<c.length;C++){const T=c[C];ap(T[1],T,a,l,d,_)}}(l,a,_,c,f)}}function Vc(a,l,c){if(fn(a))return a.createElement(l,c);{const d=null!==c?function ac(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function Sv(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,Ta(f,-1)),c.splice(d,1)}function rp(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&Sv(f,d),l>0&&(a[c-1][4]=d[4]);const _=Ko(a,10+l);!function np(a,l){ap(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const w=_[19];null!==w&&w.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function xv(a,l){if(!(256&l[2])){const c=l[11];fn(c)&&c.destroyNode&&ap(a,l,c,3,null,null),function Bc(a){let l=a[13];if(!l)return $m(a[1],a);for(;l;){let c=null;if(mi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)mi(l)&&$m(l[1],l),l=l[3];null===l&&(l=a),mi(l)&&$m(l[1],l),c=l&&l[4]}l=c}}(l)}}function $m(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function Dx(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Da)){const _=c[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const C=f[_[w]],T=_[w+1];try{T.call(C)}finally{}}else try{_.call(f)}finally{}}}}(a,l),function y0(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const w=c[_+1],C="function"==typeof w?w(l):on(l[w]),T=d[f=c[_+2]],A=c[_+3];"boolean"==typeof A?C.removeEventListener(c[_],T,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),_+=2}else{const w=d[f=c[_+1]];c[_].call(w)}if(null!==d){for(let _=f+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&fn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&as(l[3])){c!==l[3]&&Sv(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function Ax(a,l,c){return function Mx(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===Zt.None||f===Zt.Emulated)return null}return _i(d,c)}(a,l.parent,c)}function ch(a,l,c,d,f){fn(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function kx(a,l,c){fn(a)?a.appendChild(l,c):l.appendChild(c)}function Rx(a,l,c,d,f){null!==d?ch(a,l,c,d,f):kx(a,l,c)}function Dv(a,l){return fn(a)?a.parentNode(l):l.parentNode}function v0(a,l,c){return Av(a,l,c)}let Av=function w0(a,l,c){return 40&a.type?_i(a,c):null};function op(a,l,c,d){const f=Ax(a,d,l),_=l[11],C=v0(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)Rx(_,f,c[T],C,!1);else Rx(_,f,c,C,!1)}function Wm(a,l){if(null!==l){const c=l.type;if(3&c)return _i(l,a);if(4&c)return Mv(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Wm(a,d);{const f=a[l.index];return as(f)?Mv(-1,f):on(f)}}if(32&c)return pe(l,a)()||on(a[l.index]);{const d=Zm(a,l);return null!==d?Array.isArray(d)?d[0]:Wm(mt(a[16]),d):Wm(a,l.next)}}return null}function Zm(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Mv(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Wm(d,f)}return l[7]}function b0(a,l,c,d,f,_,w){for(;null!=c;){const C=d[c.index],T=c.type;if(w&&0===l&&(C&&Ci(on(C),d),c.flags|=4),64!=(64&c.flags))if(8&T)b0(a,l,c.child,d,f,_,!1),_l(l,a,f,C,_);else if(32&T){const A=pe(c,d);let R;for(;R=A();)_l(l,a,f,R,_);_l(l,a,f,C,_)}else 16&T?Px(a,l,d,c,f,_):_l(l,a,f,C,_);c=w?c.projectionNext:c.next}}function ap(a,l,c,d,f,_){b0(c,d,a.firstChild,l,f,_,!1)}function Px(a,l,c,d,f,_){const w=c[16],T=w[6].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)_l(l,a,f,T[A],_);else b0(a,l,T,w[3],f,_,!0)}function Hs(a,l,c){fn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function kv(a,l,c){fn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function C0(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=l.length;if(f+_===d||a.charCodeAt(f+_)<=32)return f}c=f+1}}const E0="ng-template";function T0(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==C0(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function I0(a){return 4===a.type&&a.value!==E0}function dh(a,l,c){return l===(4!==a.type||c?a.value:E0)}function Fx(a,l,c){let d=4;const f=a.attrs||[],_=function Vx(a){for(let l=0;l<a.length;l++)if(Sr(a[l]))return l;return a.length}(f);let w=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!w)if(4&d){if(d=2|1&d,""!==T&&!dh(a,T,c)||""===T&&1===l.length){if(na(d))return!1;w=!0}}else{const A=8&d?T:l[++C];if(8&d&&null!==a.attrs){if(!T0(a.attrs,A,c)){if(na(d))return!1;w=!0}continue}const B=Rv(8&d?"class":T,f,I0(a),c);if(-1===B){if(na(d))return!1;w=!0;continue}if(""!==A){let j;j=B>_?"":f[B+1].toLowerCase();const X=8&d?j:null;if(X&&-1!==C0(X,A,0)||2&d&&A!==j){if(na(d))return!1;w=!0}}}}else{if(!w&&!na(d)&&!na(T))return!1;if(w&&na(T))continue;w=!1,d=T|1&d}}return na(d)||w}function na(a){return 0==(1&a)}function Rv(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let _=!1;for(;f<l.length;){const w=l[f];if(w===a)return f;if(3===w||6===w)_=!0;else{if(1===w||2===w){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=_?1:2}return-1}return function Bx(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Ov(a,l,c=!1){for(let d=0;d<l.length;d++)if(Fx(a,l[d],c))return!0;return!1}function S0(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function lp(a,l){return a?":not("+l.trim()+")":l}function Ux(a){let l=a[0],c=1,d=2,f="",_=!1;for(;c<a.length;){let w=a[c];if("string"==typeof w)if(2&d){const C=a[++c];f+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+w:4&d&&(f+=" "+w);else""!==f&&!na(w)&&(l+=lp(_,f),f=""),d=w,_=_||!na(d);c++}return""!==f&&(l+=lp(_,f)),l}const Ft={};function Qm(a){yl(zt(),Ae(),ci()+a,!1)}function yl(a,l,c,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Rs(l,_,c)}else{const _=a.preOrderHooks;null!==_&&zo(l,_,0,c)}jo(c)}function vl(a,l){return a<<17|l<<2}function bs(a){return a>>17&32767}function Vi(a){return 2|a}function ia(a){return(131068&a)>>2}function Mu(a,l){return-131069&a|l<<2}function wl(a){return 1|a}function Hv(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],_=c[d+1];if(-1!==_){const w=a.data[_];kd(f),w.contentQueries(2,l[_],_)}}}function hp(a,l,c,d,f,_,w,C,T,A){const R=l.blueprint.slice();return R[0]=f,R[2]=140|d,ps(R),R[3]=R[15]=a,R[8]=c,R[10]=w||a&&a[10],R[11]=C||a&&a[11],R[12]=T||a&&a[12]||null,R[9]=A||a&&a[9]||null,R[6]=_,R[16]=2==l.type?a[16]:R,R}function Hc(a,l,c,d,f){let _=a.data[l];if(null===_)_=function i_(a,l,c,d,f){const _=Wl(),w=fc(),T=a.data[l]=function Gv(a,l,c,d,f,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=T),null!==_&&(w?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(a,l,c,d,f),function mc(){return wt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=f;const w=function Uo(){const a=wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Er(_,!0),_}function El(a,l,c,d){if(0===c)return-1;const f=l.length;for(let _=0;_<c;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function oa(a,l,c){Ho(l);try{const d=a.viewQuery;null!==d&&c_(1,d,c);const f=a.template;null!==f&&F0(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Hv(a,l),a.staticViewQueries&&c_(2,a.viewQuery,c);const _=a.components;null!==_&&function P0(a,l){for(let c=0;c<l.length;c++)l_(a,l[c])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,hr()}}function Bt(a,l,c,d){const f=l[2];if(256!=(256&f)){Ho(l);try{ps(l),function Zl(a){return wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&F0(a,l,c,2,d);const w=3==(3&f);if(w){const A=a.preOrderCheckHooks;null!==A&&Rs(l,A,null)}else{const A=a.preOrderHooks;null!==A&&zo(l,A,0,null),ti(l,0)}if(function eD(a){for(let l=Mr(a);null!==l;l=ml(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],_=f[3];0==(1024&f[2])&&Ta(_,1),f[2]|=1024}}}(l),function _p(a){for(let l=Mr(a);null!==l;l=ml(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Ms(d)&&Bt(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&Hv(a,l),w){const A=a.contentCheckHooks;null!==A&&Rs(l,A)}else{const A=a.contentHooks;null!==A&&zo(l,A,1),ti(l,1)}!function N0(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)jo(~f);else{const _=f,w=c[++d],C=c[++d];Yl(w,_),C(2,l[_])}}}finally{jo(-1)}}(a,l);const C=a.components;null!==C&&function Zx(a,l){for(let c=0;c<l.length;c++)tD(a,l[c])}(l,C);const T=a.viewQuery;if(null!==T&&c_(2,T,d),w){const A=a.viewCheckHooks;null!==A&&Rs(l,A)}else{const A=a.viewHooks;null!==A&&zo(l,A,2),ti(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,Ta(l[3],-1))}finally{hr()}}}function fp(a,l,c,d){const f=l[10],w=Vo(l);try{!w&&f.begin&&f.begin(),w&&oa(a,l,d),Bt(a,l,c,d)}finally{!w&&f.end&&f.end()}}function F0(a,l,c,d,f){const _=ci(),w=2&d;try{jo(-1),w&&l.length>20&&yl(a,l,20,!1),c(d,f)}finally{jo(_)}}function Ru(a,l,c){if(jl(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const w=a.data[_];w.contentQueries&&w.contentQueries(1,c[_],_)}}}function jv(a,l,c){!ql()||(function Kv(a,l,c,d){const f=c.directiveStart,_=c.directiveEnd;a.firstCreatePass||gs(c,l),Ci(d,l);const w=c.initialInputs;for(let C=f;C<_;C++){const T=a.data[C],A=us(T);A&&a_(l,c,T);const R=au(l,a,C,c);Ci(R,l),null!==w&&z0(0,C-f,R,T,0,w),A&&(yi(c.index,l)[8]=R)}}(a,l,c,_i(c,l)),128==(128&c.flags)&&function Tl(a,l,c){const d=c.directiveStart,f=c.directiveEnd,w=c.index,C=function _c(){return wt.lFrame.currentDirectiveIndex}();try{jo(w);for(let T=d;T<f;T++){const A=a.data[T],R=l[T];Sa(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&jc(A,R)}}finally{jo(-1),Sa(C)}}(a,l,c))}function r_(a,l,c=_i){const d=l.localNames;if(null!==d){let f=l.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],C=-1===w?c(l,a):a[w];a[f++]=C}}}function zv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=s_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function s_(a,l,c,d,f,_,w,C,T,A){const R=20+d,B=R+f,j=function o_(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ft);return c}(R,B),X="function"==typeof A?A():A;return j[1]={type:a,blueprint:j,template:c,queries:null,viewQuery:C,declTNode:l,data:j.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function L0(a,l,c,d){const f=d_(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Z0(a).push(d,f.length-1))}function gp(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function qv(a,l,c,d){let f=!1;if(ql()){const _=function H0(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];Ov(c,w.selectors,!1)&&(f||(f=[]),cl(gs(c,l),a,w.type),us(w)?(Yv(a,c),f.unshift(w)):f.push(w))}return f}(a,l,c),w=null===d?null:{"":-1};if(null!==_){f=!0,Qv(c,a.data.length,_.length);for(let R=0;R<_.length;R++){const B=_[R];B.providersResolver&&B.providersResolver(B)}let C=!1,T=!1,A=El(a,l,_.length,null);for(let R=0;R<_.length;R++){const B=_[R];c.mergedAttrs=Aa(c.mergedAttrs,B.hostAttrs),j0(a,c,l,A,B),fh(A,B,w),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const j=B.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!T&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),T=!0),A++}!function V0(a,l){const d=l.directiveEnd,f=a.data,_=l.attrs,w=[];let C=null,T=null;for(let A=l.directiveStart;A<d;A++){const R=f[A],B=R.inputs,j=null===_||I0(l)?null:Jv(B,_);w.push(j),C=gp(B,A,C),T=gp(R.outputs,A,T)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=C,l.outputs=T}(a,c)}w&&function Xx(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const _=c[l[f+1]];if(null==_)throw new Pe(-301,!1);d.push(l[f],_)}}}(c,d,w)}return c.mergedAttrs=Aa(c.mergedAttrs,c.attrs),f}function Wv(a,l,c,d,f,_){const w=_.hostBindings;if(w){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const T=~l.index;(function Zv(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=T&&C.push(T),C.push(d,f,w)}}function jc(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Yv(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function fh(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;us(l)&&(c[""]=a)}}function Qv(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function j0(a,l,c,d,f){a.data[d]=f;const _=f.factory||(f.factory=Ri(f.type)),w=new Da(_,us(f),null);a.blueprint[d]=w,c[d]=w,Wv(a,l,0,d,El(a,c,f.hostVars,Ft),f)}function a_(a,l,c){const d=_i(l,a),f=zv(c),_=a[10],w=ph(a,hp(a,f,null,c.onPush?64:16,d,l,_,_.createRenderer(d,c),null,null));a[l.index]=w}function aa(a,l,c,d,f,_){const w=_i(a,l);!function mp(a,l,c,d,f,_,w){if(null==_)fn(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const C=null==w?ge(_):w(_,d||"",f);fn(a)?a.setAttribute(l,f,C,c):c?l.setAttributeNS(c,f,C):l.setAttribute(f,C)}}(l[11],w,_,a.value,c,d,f)}function z0(a,l,c,d,f,_){const w=_[l];if(null!==w){const C=d.setInput;for(let T=0;T<w.length;){const A=w[T++],R=w[T++],B=w[T++];null!==C?d.setInput(c,B,A,R):c[R]=B}}}function Jv(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function $0(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function tD(a,l){const c=yi(l,a);if(Ms(c)){const d=c[1];80&c[2]?Bt(d,c,d.template,c[8]):c[5]>0&&Xv(c)}}function Xv(a){for(let d=Mr(a);null!==d;d=ml(d))for(let f=10;f<d.length;f++){const _=d[f];if(1024&_[2]){const w=_[1];Bt(w,_,w.template,_[8])}else _[5]>0&&Xv(_)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=yi(c[d],a);Ms(f)&&f[5]>0&&Xv(f)}}function l_(a,l){const c=yi(l,a),d=c[1];(function yp(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),oa(d,c,c[8])}function ph(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function u_(a){for(;a;){a[2]|=64;const l=mt(a);if(Mi(a)&&!l)return a;a=l}return null}function W0(a){!function ew(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=xu(c),f=d[1];fp(f,d,f.template,c)}}(a[8])}function c_(a,l,c){kd(0),l(a,c)}const nD=(()=>Promise.resolve(null))();function d_(a){return a[7]||(a[7]=[])}function Z0(a){return a.cleanup||(a.cleanup=[])}function iw(a,l){const c=a[9],d=c?c.get(lh,null):null;d&&d.handleError(l)}function K0(a,l,c,d,f){for(let _=0;_<c.length;){const w=c[_++],C=c[_++],T=l[w],A=a.data[w];null!==A.setInput?A.setInput(T,f,d,C):T[C]=f}}function Il(a,l,c){const d=uo(l,a);!function Lc(a,l,c){fn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function h_(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,_=0;if(null!==l)for(let w=0;w<l.length;w++){const C=l[w];"number"==typeof C?_=C:1==_?f=fe(f,C):2==_&&(d=fe(d,C+": "+l[++w]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const Sl=new An("INJECTOR",-1);class Y0{get(l,c=vs){if(c===vs){const d=new Error(`NullInjectorError: No provider for ${le(l)}!`);throw d.name="NullInjectorError",d}return c}}const sw=new An("Set Injector scope."),wp={},iD={};let zc;function gh(){return void 0===zc&&(zc=new Y0),zc}function Q0(a,l=null,c=null,d){const f=mh(a,l,c,d);return f._resolveInjectorDefTypes(),f}function mh(a,l=null,c=null,d){return new f_(a,c,l||gh(),d)}class f_{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&Pi(c,C=>this.processProvider(C,l,c)),Pi([l],C=>this.processInjectorType(C,[],_)),this.records.set(Sl,_h(void 0,this));const w=this.records.get(sw);this.scope=null!=w?w.value:null,this.source=f||("object"==typeof l?null:le(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=vs,d=vt.Default){this.assertNotDestroyed();const f=Re(this),_=Nn(void 0);try{if(!(d&vt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function sD(a){return"function"==typeof a||"object"==typeof a&&a instanceof An}(l)&&jt(l);C=T&&this.injectableDefInScope(T)?_h(ow(l),wp):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&vt.Self?gh():this.parent).get(l,c=d&vt.Optional&&c===vs?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[Jo]=w[Jo]||[]).unshift(le(l)),f)throw w;return function Xo(a,l,c,d){const f=a[Jo];throw l[U]&&f.unshift(l[U]),a.message=function Bs(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=le(l);if(Array.isArray(l))f=l.map(le).join(" -> ");else if("object"==typeof l){let _=[];for(let w in l)if(l.hasOwnProperty(w)){let C=l[w];_.push(w+":"+("string"==typeof C?JSON.stringify(C):le(C)))}f=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(x,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Jo]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{Nn(_),Re(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(le(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(l,c,d){if(!(l=ie(l)))return!1;let f=Zi(l);const _=null==f&&l.ngModule||void 0,w=void 0===_?l:_,C=-1!==d.indexOf(w);if(void 0!==_&&(f=Zi(_)),null==f)return!1;if(null!=f.imports&&!C){let R;d.push(w);try{Pi(f.imports,B=>{this.processInjectorType(B,c,d)&&(void 0===R&&(R=[]),R.push(B))})}finally{}if(void 0!==R)for(let B=0;B<R.length;B++){const{ngModule:j,providers:X}=R[B];Pi(X,be=>this.processProvider(be,j,X||H))}}this.injectorDefTypes.add(w);const T=Ri(w)||(()=>new w);this.records.set(w,_h(T,wp));const A=f.providers;if(null!=A&&!C){const R=l;Pi(A,B=>this.processProvider(B,R,A))}return void 0!==_&&void 0!==l.providers}processProvider(l,c,d){let f=Gc(l=ie(l))?l:ie(l&&l.provide);const _=function X0(a,l,c){return p_(a)?_h(void 0,a.useValue):_h(eE(a),wp)}(l);if(Gc(l)||!0!==l.multi)this.records.get(f);else{let w=this.records.get(f);w||(w=_h(void 0,wp,!0),w.factory=()=>Tt(w.multi),this.records.set(f,w)),f=l,w.multi.push(l)}this.records.set(f,_)}hydrate(l,c){return c.value===wp&&(c.value=iD,c.value=c.factory()),"object"==typeof c.value&&c.value&&function rD(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ie(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function ow(a){const l=jt(a),c=null!==l?l.factory:Ri(a);if(null!==c)return c;if(a instanceof An)throw new Pe(204,!1);if(a instanceof Function)return function J0(a){const l=a.length;if(l>0)throw Zr(l,"?"),new Pe(204,!1);const c=function yr(a){const l=a&&(a[rs]||a[ar]);if(l){const c=function Si(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Pe(204,!1)}function eE(a,l,c){let d;if(Gc(a)){const f=ie(a);return Ri(f)||ow(f)}if(p_(a))d=()=>ie(a.useValue);else if(function tE(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Tt(a.deps||[]));else if(function wo(a){return!(!a||!a.useExisting)}(a))d=()=>lt(ie(a.useExisting));else{const f=ie(a&&(a.useClass||a.provide));if(!function m_(a){return!!a.deps}(a))return Ri(f)||ow(f);d=()=>new f(...Tt(a.deps))}return d}function _h(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function p_(a){return null!==a&&"object"==typeof a&&J in a}function Gc(a){return"function"==typeof a}let Ua=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return Q0({name:""},d,c,"");{const _=null!==(f=c.name)&&void 0!==f?f:"";return Q0({name:_},c.parent,c.providers,_)}}}return a.THROW_IF_NOT_FOUND=vs,a.NULL=new Y0,a.\u0275prov=rn({token:a,providedIn:"any",factory:()=>lt(Sl)}),a.__NG_ELEMENT_ID__=-1,a})();function cD(a,l){ul(xu(a)[1],Cn())}function dw(a){let l=function uE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(us(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Pe(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const w=a;w.inputs=hw(a.inputs),w.declaredInputs=hw(a.declaredInputs),w.outputs=hw(a.outputs);const C=f.hostBindings;C&&fD(a,C);const T=f.viewQuery,A=f.contentQueries;if(T&&hD(a,T),A&&cE(a,A),de(a.inputs,f.inputs),de(a.declaredInputs,f.declaredInputs),de(a.outputs,f.outputs),us(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let w=0;w<_.length;w++){const C=_[w];C&&C.ngInherit&&C(a),C===dw&&(c=!1)}}l=Object.getPrototypeOf(l)}!function dD(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Aa(f.hostAttrs,c=Aa(c,f.hostAttrs))}}(d)}function hw(a){return a===Ai?{}:a===H?[]:a}function hD(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function cE(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,_)=>{l(d,f,_),c(d,f,_)}:l}function fD(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let __=null;function $c(){if(!__){const a=Gt.Symbol;if(a&&a.iterator)__=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(__=d)}}}return __}function wh(a){return!!y_(a)&&(Array.isArray(a)||!(a instanceof Map)&&$c()in a)}function y_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ha(a,l,c){return a[l]=c}function Ip(a,l){return a[l]}function kr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function qc(a,l,c,d){const f=kr(a,l,c);return kr(a,l+1,d)||f}function Sp(a,l,c,d,f){const _=qc(a,l,c,d);return kr(a,l+2,f)||_}function bo(a,l,c,d,f,_){const w=qc(a,l,c,d);return qc(a,l+2,f,_)||w}function xp(a,l,c,d){const f=Ae();return kr(f,ho(),l)&&(zt(),aa(Gn(),f,a,l,c,d)),xp}function Eh(a,l,c,d,f,_){const C=qc(a,function Tr(){return wt.lFrame.bindingIndex}(),c,f);return qr(2),C?l+ge(c)+d+ge(f)+_:Ft}function _E(a,l,c,d,f,_,w,C){const T=Ae(),A=zt(),R=a+20,B=A.firstCreatePass?function mE(a,l,c,d,f,_,w,C,T){const A=l.consts,R=Hc(l,a,4,w||null,$r(A,C));qv(l,c,R,$r(A,T)),ul(l,R);const B=R.tViews=s_(2,R,d,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),B.queries=l.queries.embeddedTView(R)),R}(R,A,T,l,c,d,f,_,w):A.data[R];Er(B,!1);const j=T[11].createComment("");op(A,T,j,B),Ci(j,T),ph(T,T[R]=$0(j,T,j,B)),ls(B)&&jv(A,T,B),null!=w&&r_(T,B,C)}function vE(a){return function fs(a,l){return a[l]}(function Md(){return wt.lFrame.contextLView}(),20+a)}function T_(a,l=vt.Default){const c=Ae();return null===c?lt(a,l):wc(Cn(),c,ie(a),l)}function ID(){throw new Error("invalid")}function ME(a,l,c){const d=Ae();return kr(d,ho(),l)&&function js(a,l,c,d,f,_,w,C){const T=_i(l,c);let R,A=l.inputs;!C&&null!=A&&(R=A[d])?(K0(a,c,R,d,f),vd(l)&&function Yx(a,l){const c=yi(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function B0(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=w?w(f,l.value||"",d):f,fn(_)?_.setProperty(T,d,f):Ns(d)||(T.setProperty?T.setProperty(d,f):T[d]=f))}(zt(),Gn(),d,a,l,d[11],c,!1),ME}function kE(a,l,c,d,f){const w=f?"class":"style";K0(a,c,l.inputs[w],w,d)}function Cw(a,l,c,d){const f=Ae(),_=zt(),w=20+a,C=f[11],T=f[w]=Vc(C,l,function fm(){return wt.lFrame.currentNamespace}()),A=_.firstCreatePass?function vO(a,l,c,d,f,_,w){const C=l.consts,A=Hc(l,a,2,f,$r(C,_));return qv(l,c,A,$r(C,w)),null!==A.attrs&&h_(A,A.attrs,!1),null!==A.mergedAttrs&&h_(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(w,_,f,0,l,c,d):_.data[w];Er(A,!0);const R=A.mergedAttrs;null!==R&&Ir(C,T,R);const B=A.classes;null!==B&&kv(C,T,B);const j=A.styles;return null!==j&&Hs(C,T,j),64!=(64&A.flags)&&op(_,f,T,A),0===function ll(){return wt.lFrame.elementDepthCount}()&&Ci(T,f),function dc(){wt.lFrame.elementDepthCount++}(),ls(A)&&(jv(_,f,A),Ru(_,A,f)),null!==d&&r_(f,A),Cw}function Ew(){let a=Cn();fc()?pc():(a=a.parent,Er(a,!1));const l=a;!function $l(){wt.lFrame.elementDepthCount--}();const c=zt();return c.firstCreatePass&&(ul(c,a),jl(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function mm(a){return 0!=(16&a.flags)}(l)&&kE(c,l,Ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ld(a){return 0!=(32&a.flags)}(l)&&kE(c,l,Ae(),l.stylesWithoutHost,!1),Ew}function RE(a,l,c,d){return Cw(a,l,c,d),Ew(),RE}function Co(a,l,c){const d=Ae(),f=zt(),_=a+20,w=f.firstCreatePass?function la(a,l,c,d,f){const _=l.consts,w=$r(_,d),C=Hc(l,a,8,"ng-container",w);return null!==w&&h_(C,w,!0),qv(l,c,C,$r(_,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(_,f,d,l,c):f.data[_];Er(w,!0);const C=d[_]=d[11].createComment("");return op(f,d,C,w),Ci(C,d),ls(w)&&(jv(f,d,w),Ru(f,w,d)),null!=c&&r_(d,w),Co}function P(){let a=Cn();const l=zt();return fc()?pc():(a=a.parent,Er(a,!1)),l.firstCreatePass&&(ul(l,a),jl(a)&&l.queries.elementEnd(a)),P}function zs(a,l,c){return Co(a,l,c),P(),zs}function Tw(){return Ae()}function Iw(a){return!!a&&"function"==typeof a.then}function OE(a){return!!a&&"function"==typeof a.subscribe}const Bi=OE;function Gs(a,l,c,d){const f=Ae(),_=zt(),w=Cn();return function NE(a,l,c,d,f,_,w,C){const T=ls(d),R=a.firstCreatePass&&Z0(a),B=l[8],j=d_(l);let X=!0;if(3&d.type||C){const Ue=_i(d,l),nt=C?C(Ue):Ue,Me=j.length,yt=C?$t=>C(on($t[d.index])):d.index;if(fn(c)){let $t=null;if(!C&&T&&($t=function Sw(a,l,c,d){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const w=f[_];if(w===c&&f[_+1]===d){const C=l[7],T=f[_+2];return C.length>T?C[T]:null}"string"==typeof w&&(_+=2)}return null}(a,l,f,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=_,$t.__ngLastListenerFn__=_,X=!1;else{_=xw(d,l,B,_,!1);const qt=c.listen(nt,f,_);j.push(_,qt),R&&R.push(f,yt,Me,Me+1)}}else _=xw(d,l,B,_,!0),nt.addEventListener(f,_,w),j.push(_),R&&R.push(f,yt,Me,w)}else _=xw(d,l,B,_,!1);const be=d.outputs;let Be;if(X&&null!==be&&(Be=be[f])){const Ue=Be.length;if(Ue)for(let nt=0;nt<Ue;nt+=2){const Cs=l[Be[nt]][Be[nt+1]].subscribe(_),xo=j.length;j.push(_,Cs),R&&R.push(f,d.index,xo,-(xo+1))}}}(_,f,f[11],w,a,l,!!c,d),Gs}function PE(a,l,c,d){try{return!1!==c(d)}catch(f){return iw(a,f),!1}}function xw(a,l,c,d,f){return function _(w){if(w===Function)return d;const C=2&a.flags?yi(a.index,l):l;0==(32&l[2])&&u_(C);let T=PE(l,0,d,w),A=_.__ngNextListenerFn__;for(;A;)T=PE(l,0,A,w)&&T,A=A.__ngNextListenerFn__;return f&&!1===T&&(w.preventDefault(),w.returnValue=!1),T}}function Dw(a=1){return function Rf(a){return(wt.lFrame.contextLView=function yc(a,l){for(;a>0;)l=l[15],a--;return l}(a,wt.lFrame.contextLView))[8]}(a)}function SD(a,l){let c=null;const d=function Lx(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===d?Ov(a,_,!0):S0(d,_))return f}else c=f}return c}function FE(a){const l=Ae()[16][6];if(!l.projection){const d=l.projection=Zr(a?a.length:1,null),f=d.slice();let _=l.child;for(;null!==_;){const w=a?SD(_,a):0;null!==w&&(f[w]?f[w].projectionNext=_:d[w]=_,f[w]=_),_=_.next}}}function LE(a,l=0,c){const d=Ae(),f=zt(),_=Hc(f,20+a,16,null,c||null);null===_.projection&&(_.projection=l),pc(),64!=(64&_.flags)&&function Nx(a,l,c){Px(l[11],0,l,c,Ax(a,c,l),v0(c.parent||l[6],c,l))}(f,d,_)}function HE(a,l,c,d,f){const _=a[c+1],w=null===l;let C=d?bs(_):ia(_),T=!1;for(;0!==C&&(!1===T||w);){const R=a[C+1];Np(a[C],l)&&(T=!0,a[C+1]=d?wl(R):Vi(R)),C=d?bs(R):ia(R)}T&&(a[c+1]=d?Vi(_):wl(_))}function Np(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Pa(a,l)>=0}const Ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pp(a){return a.substring(Ei.key,Ei.keyEnd)}function jE(a){return a.substring(Ei.value,Ei.valueEnd)}function zE(a,l){const c=Ei.textEnd;return c===l?-1:(l=Ei.keyEnd=function $E(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Ei.key=l,c),Pu(a,l,c))}function GE(a,l){const c=Ei.textEnd;let d=Ei.key=Pu(a,l,c);return c===d?-1:(d=Ei.keyEnd=function kw(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=Rw(a,d,c),d=Ei.value=Pu(a,d,c),d=Ei.valueEnd=function Fp(a,l,c){let d=-1,f=-1,_=-1,w=l,C=w;for(;w<c;){const T=a.charCodeAt(w++);if(59===T)return C;34===T||39===T?C=w=qE(a,T,w,c):l===w-4&&85===_&&82===f&&76===d&&40===T?C=w=qE(a,41,w,c):T>32&&(C=w),_=f,f=d,d=-33&T}return C}(a,d,c),Rw(a,d,c))}function Mw(a){Ei.key=0,Ei.keyEnd=0,Ei.value=0,Ei.valueEnd=0,Ei.textEnd=a.length}function Pu(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Rw(a,l,c,d){return(l=Pu(a,l,c))<c&&l++,l}function qE(a,l,c,d){let f=-1,_=c;for(;_<d;){const w=a.charCodeAt(_++);if(w==l&&92!==f)return _;f=92==w&&92===f?0:w}throw new Error}function D_(a,l,c){return ua(a,l,c,!1),D_}function Ow(a,l){return ua(a,l,null,!0),Ow}function $s(a){ca(QE,ZE,a,!1)}function ZE(a,l){for(let c=function MD(a){return Mw(a),GE(a,Pu(a,0,Ei.textEnd))}(l);c>=0;c=GE(l,c))QE(a,Pp(l),jE(l))}function Nw(a){ca(Fi,Eo,a,!0)}function Eo(a,l){for(let c=function AD(a){return Mw(a),zE(a,Pu(a,0,Ei.textEnd))}(l);c>=0;c=zE(l,c))Fi(a,Pp(l),!0)}function ua(a,l,c,d){const f=Ae(),_=zt(),w=qr(2);_.firstUpdatePass&&Lp(_,a,w,d),l!==Ft&&kr(f,w,l)&&JE(_,_.data[ci()],f,f[11],a,f[w+1]=function RD(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=le(yo(a)))),a}(l,c),d,w)}function ca(a,l,c,d){const f=zt(),_=qr(2);f.firstUpdatePass&&Lp(f,null,_,d);const w=Ae();if(c!==Ft&&kr(w,_,c)){const C=f.data[ci()];if(eT(C,d)&&!KE(f,_)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(c=fe(T,c||"")),kE(f,C,w,c,d)}else!function kD(a,l,c,d,f,_,w,C){f===Ft&&(f=H);let T=0,A=0,R=0<f.length?f[0]:null,B=0<_.length?_[0]:null;for(;null!==R||null!==B;){const j=T<f.length?f[T+1]:void 0,X=A<_.length?_[A+1]:void 0;let Be,be=null;R===B?(T+=2,A+=2,j!==X&&(be=B,Be=X)):null===B||null!==R&&R<B?(T+=2,be=R):(A+=2,be=B,Be=X),null!==be&&JE(a,l,c,d,be,Be,w,C),R=T<f.length?f[T]:null,B=A<_.length?_[A]:null}}(f,C,w,w[11],w[_+1],w[_+1]=function A_(a,l,c){if(null==c||""===c)return H;const d=[],f=yo(c);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(d,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(d,_,f[_]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,_)}}function KE(a,l){return l>=a.expandoStartIndex}function Lp(a,l,c,d){const f=a.data;if(null===f[c+1]){const _=f[ci()],w=KE(a,c);eT(_,d)&&null===l&&!w&&(l=!1),l=function Pw(a,l,c,d){const f=function Ql(a){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Ah(c=Vw(null,a,l,c,d),l.attrs,d),_=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==f)if(c=Vw(f,a,l,c,d),null===_){let T=function Fw(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==ia(d))return a[bs(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=Vw(null,a,l,T[1],d),T=Ah(T,l.attrs,d),function Lw(a,l,c,d){a[bs(c?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else _=function YE(a,l,c){let d;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)d=Ah(d,a[_].hostAttrs,c);return Ah(d,l.attrs,c)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),c}(f,_,l,d),function xD(a,l,c,d,f,_){let w=_?l.classBindings:l.styleBindings,C=bs(w),T=ia(w);a[d]=c;let R,A=!1;if(Array.isArray(c)){const B=c;R=B[1],(null===R||Pa(B,R)>0)&&(A=!0)}else R=c;if(f)if(0!==T){const j=bs(a[C+1]);a[d+1]=vl(j,C),0!==j&&(a[j+1]=Mu(a[j+1],d)),a[C+1]=function Hx(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=vl(C,0),0!==C&&(a[C+1]=Mu(a[C+1],d)),C=d;else a[d+1]=vl(T,0),0===C?C=d:a[T+1]=Mu(a[T+1],d),T=d;A&&(a[d+1]=Vi(a[d+1])),HE(a,R,d,!0),HE(a,R,d,!1),function DD(a,l,c,d,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Pa(_,l)>=0&&(c[d+1]=wl(c[d+1]))}(l,R,a,d,_),w=vl(C,T),_?l.classBindings=w:l.styleBindings=w}(f,_,l,c,w,d)}}function Vw(a,l,c,d,f){let _=null;const w=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<w&&(_=l[C],d=Ah(d,_.hostAttrs,f),_!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Ah(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const w=l[_];"number"==typeof w?f=w:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Fi(a,w,!!c||l[++_]))}return void 0===a?null:a}function QE(a,l,c){Fi(a,l,yo(c))}function JE(a,l,c,d,f,_,w,C){if(!(3&l.type))return;const T=a.data,A=T[C+1];M_(function x0(a){return 1==(1&a)}(A)?XE(T,l,c,f,ia(A),w):void 0)||(M_(_)||function Pv(a){return 2==(2&a)}(A)&&(_=XE(T,null,c,f,C,w)),function mn(a,l,c,d,f){const _=fn(a);if(l)f?_?a.addClass(c,d):c.classList.add(d):_?a.removeClass(c,d):c.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:k.DashCase;if(null==f)_?a.removeStyle(c,d,w):c.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),w|=k.Important),_?a.setStyle(c,d,f,w):c.style.setProperty(d,f,C?"important":"")}}}(d,w,uo(ci(),c),f,_))}function XE(a,l,c,d,f,_){const w=null===l;let C;for(;f>0;){const T=a[f],A=Array.isArray(T),R=A?T[1]:T,B=null===R;let j=c[f+1];j===Ft&&(j=B?H:void 0);let X=B?fu(j,d):R===d?j:void 0;if(A&&!M_(X)&&(X=fu(T,d)),M_(X)&&(C=X,w))return C;const be=a[f+1];f=w?bs(be):ia(be)}if(null!==l){let T=_?l.residualClasses:l.residualStyles;null!=T&&(C=fu(T,d))}return C}function M_(a){return void 0!==a}function eT(a,l){return 0!=(a.flags&(l?16:32))}function tT(a,l=""){const c=Ae(),d=zt(),f=a+20,_=d.firstCreatePass?Hc(d,f,1,l,null):d.data[f],w=c[f]=function uh(a,l){return fn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);op(d,c,w,_),Er(_,!1)}function Bw(a){return k_("",a,""),Bw}function k_(a,l,c){const d=Ae(),f=function Ch(a,l,c,d){return kr(a,ho(),c)?l+ge(c)+d:Ft}(d,a,l,c);return f!==Ft&&Il(d,ci(),f),k_}function Mh(a,l,c,d,f){const _=Ae(),w=Eh(_,a,l,c,d,f);return w!==Ft&&Il(_,ci(),w),Mh}const kh=void 0;var gT=["en",[["a","p"],["AM","PM"],kh],[["AM","PM"],kh,kh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kh,"{1} 'at' {0}",kh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SO(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Rh={};function Vp(a){const l=function F_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=P_(l);if(c)return c;const d=l.split("-")[0];if(c=P_(d),c)return c;if("en"===d)return gT;throw new Error(`Missing locale data for the locale "${a}".`)}function N_(a){return Vp(a)[Ct.PluralCase]}function P_(a){return a in Rh||(Rh[a]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[a]),Rh[a]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const xl="en-US";let vT=xl;function zp(a,l,c,d,f){if(a=ie(a),Array.isArray(a))for(let _=0;_<a.length;_++)zp(a[_],l,c,d,f);else{const _=zt(),w=Ae();let C=Gc(a)?a:ie(a.provide),T=eE(a);const A=Cn(),R=1048575&A.providerIndexes,B=A.directiveStart,j=A.providerIndexes>>20;if(Gc(a)||!a.multi){const X=new Da(T,f,T_),be=sb(C,l,f?R:R+j,B);-1===be?(cl(gs(A,w),_,C),W_(_,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(X),w.push(X)):(c[be]=X,w[be]=X)}else{const X=sb(C,l,R+j,B),be=sb(C,l,R,R+j),Be=X>=0&&c[X],Ue=be>=0&&c[be];if(f&&!Ue||!f&&!Be){cl(gs(A,w),_,C);const nt=function $p(a,l,c,d,f){const _=new Da(a,c,T_);return _.multi=[],_.index=l,_.componentProviders=0,OT(_,f,d&&!c),_}(f?Gp:Nr,c.length,f,d,T);!f&&Ue&&(c[be].providerFactory=nt),W_(_,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(nt),w.push(nt)}else W_(_,a,X>-1?X:be,OT(c[f?be:X],T,!f&&d));!f&&d&&Ue&&c[be].componentProviders++}}}function W_(a,l,c,d){const f=Gc(l),_=function g_(a){return!!a.useClass}(l);if(f||_){const T=(_?ie(l.useClass):l).prototype.ngOnDestroy;if(T){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(c);-1===R?A.push(c,[d,T]):A[R+1].push(d,T)}else A.push(c,T)}}}function OT(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function sb(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function Nr(a,l,c,d){return ob(this.multi,[])}function Gp(a,l,c,d){const f=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=au(c,c[1],this.providerFactory.index,d);_=C.slice(0,w),ob(f,_);for(let T=w;T<C.length;T++)_.push(C[T])}else _=[],ob(f,_);return _}function ob(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function NT(a,l=[]){return c=>{c.providersResolver=(d,f)=>function l1(a,l,c){const d=zt();if(d.firstCreatePass){const f=us(a);zp(c,d.data,d.blueprint,f,!0),zp(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class qp{}class ab{resolveComponentFactory(l){throw function Z_(a){const l=Error(`No component factory found for ${le(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Lh=(()=>{class a{}return a.NULL=new ab,a})();function FT(){return Jc(Cn(),Ae())}function Jc(a,l){return new Wp(_i(a,l))}let Wp=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=FT,a})();function LT(a){return a instanceof Wp?a.nativeElement:a}class Y_{}let VT=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function lb(){const a=Ae(),c=yi(Cn().index,a);return function d1(a){return a[11]}(mi(c)?c:a)}(),a})(),ub=(()=>{class a{}return a.\u0275prov=rn({token:a,providedIn:"root",factory:()=>null}),a})();class Q_{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Hi=new Q_("13.3.10"),ji={};function Xc(a,l,c,d,f=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&d.push(on(_)),as(_))for(let C=10;C<_.length;C++){const T=_[C],A=T[1].firstChild;null!==A&&Xc(T[1],T,A,d)}const w=c.type;if(8&w)Xc(a,l,c.child,d);else if(32&w){const C=pe(c,l);let T;for(;T=C();)d.push(T)}else if(16&w){const C=Zm(l,c);if(Array.isArray(C))d.push(...C);else{const T=mt(l[16]);Xc(T[1],T,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class ed{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Xc(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(as(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(rp(l,d),Ko(c,d))}this._attachedToViewContainer=!1}xv(this._lView[1],this._lView)}onDestroy(l){L0(this._lView[1],this._lView,null,l)}markForCheck(){u_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function vp(a,l,c){const d=l[10];d.begin&&d.begin();try{Bt(a,l,a.template,c)}catch(f){throw iw(l,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function si(a,l){ap(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=l}}class h1 extends ed{constructor(l){super(l),this._view=l}detectChanges(){W0(this._view)}checkNoChanges(){}get context(){return null}}class BT extends Lh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Xn(l);return new Zp(c,this.ngModule)}}function cb(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class Zp extends qp{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function Km(a){return a.map(Ux).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return cb(this.componentDef.inputs)}get outputs(){return cb(this.componentDef.outputs)}create(l,c,d,f){const _=(f=f||this.ngModule)?function p1(a,l){return{get:(c,d,f)=>{const _=a.get(c,ji,f);return _!==ji||d===ji?_:l.get(c,d,f)}}}(l,f.injector):l,w=_.get(Y_,sl),C=_.get(ub,null),T=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=d?function pp(a,l,c){if(fn(a))return a.selectRootElement(l,c===Zt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Vc(w.createRenderer(null,this.componentDef),A,function f1(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(A)),B=this.componentDef.onPush?576:528,j=function lE(a,l){return{components:[],scheduler:a||ta,clean:nD,playerHandler:l||null,flags:0}}(),X=s_(0,null,null,1,0,null,null,null,null,null),be=hp(null,X,j,B,null,null,w,T,C,_);let Be,Ue;Ho(be);try{const nt=function vh(a,l,c,d,f,_){const w=c[1];c[20]=a;const T=Hc(w,20,2,"#host",null),A=T.mergedAttrs=l.hostAttrs;null!==A&&(h_(T,A,!0),null!==a&&(Ir(f,a,A),null!==T.classes&&kv(f,a,T.classes),null!==T.styles&&Hs(f,a,T.styles)));const R=d.createRenderer(a,l),B=hp(c,zv(l),null,l.onPush?64:16,c[20],T,d,R,_||null,null);return w.firstCreatePass&&(cl(gs(T,c),w,l.type),Yv(w,T),Qv(T,c.length,1)),ph(c,B),c[20]=B}(R,this.componentDef,be,w,T);if(R)if(d)Ir(T,R,["ng-version",Hi.full]);else{const{attrs:Me,classes:yt}=function Ym(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===f?""!==_&&l.push(_,a[++d]):8===f&&c.push(_);else{if(!na(f))break;f=_}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Me&&Ir(T,R,Me),yt&&yt.length>0&&kv(T,R,yt.join(" "))}if(Ue=Tn(X,20),void 0!==c){const Me=Ue.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const $t=c[yt];Me.push(null!=$t?Array.from($t):null)}}Be=function aE(a,l,c,d,f){const _=c[1],w=function Jx(a,l,c){const d=Cn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),j0(a,d,l,El(a,l,1,null),c));const f=au(l,a,d.directiveStart,d);Ci(f,l);const _=_i(d,l);return _&&Ci(_,l),f}(_,c,l);if(d.components.push(w),a[8]=w,f&&f.forEach(T=>T(w,l)),l.contentQueries){const T=Cn();l.contentQueries(1,w,T.directiveStart)}const C=Cn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(jo(C.index),Wv(c[1],C,0,C.directiveStart,C.directiveEnd,l),jc(l,w)),w}(nt,this.componentDef,be,j,[cD]),oa(X,be,null)}finally{hr()}return new hb(this.componentType,Be,Jc(Ue,be),be,Ue)}}class hb extends class u1{}{constructor(l,c,d,f,_){super(),this.location=d,this._rootLView=f,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new h1(f),this.componentType=l}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Vh{}class Kp{}const Bu=new Map;class gb extends Vh{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new BT(this);const d=ei(l);this._bootstrapComponents=v(d.bootstrap),this._r3Injector=mh(l,c,[{provide:Vh,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver}],le(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Ua.THROW_IF_NOT_FOUND,d=vt.Default){return l===Ua||l===Vh||l===Sl?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Bh extends Kp{constructor(l){super(),this.moduleType=l,null!==ei(l)&&function g1(a){const l=new Set;!function c(d){const f=ei(d,!0),_=f.id;null!==_&&(function fb(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${le(l)} vs ${le(l.name)}`)}(_,Bu.get(_),d),Bu.set(_,d));const w=v(f.imports);for(const C of w)l.has(C)||(l.add(C),c(C))}(a)}(l)}create(l){return new gb(this.moduleType,l)}}function jT(a,l,c){const d=Ni()+a,f=Ae();return f[d]===Ft?Ha(f,d,c?l.call(c):l()):Ip(f,d)}function zT(a,l,c,d){return function Pr(a,l,c,d,f,_){const w=l+c;return kr(a,w,f)?Ha(a,w+1,_?d.call(_,f):d(f)):Hh(a,w+1)}(Ae(),Ni(),a,l,c,d)}function td(a,l,c,d,f){return function _b(a,l,c,d,f,_,w){const C=l+c;return qc(a,C,f,_)?Ha(a,C+2,w?d.call(w,f,_):d(f,_)):Hh(a,C+2)}(Ae(),Ni(),a,l,c,d,f)}function GT(a,l,c,d,f,_){return function jh(a,l,c,d,f,_,w,C){const T=l+c;return Sp(a,T,f,_,w)?Ha(a,T+3,C?d.call(C,f,_,w):d(f,_,w)):Hh(a,T+3)}(Ae(),Ni(),a,l,c,d,f,_)}function $T(a,l,c,d,f,_,w){return function Qp(a,l,c,d,f,_,w,C,T){const A=l+c;return bo(a,A,f,_,w,C)?Ha(a,A+4,T?d.call(T,f,_,w,C):d(f,_,w,C)):Hh(a,A+4)}(Ae(),Ni(),a,l,c,d,f,_,w)}function Uu(a,l,c,d,f,_,w,C){const T=Ni()+a,A=Ae(),R=bo(A,T,c,d,f,_);return kr(A,T+4,w)||R?Ha(A,T+5,C?l.call(C,c,d,f,_,w):l(c,d,f,_,w)):Ip(A,T+5)}function mb(a,l,c,d,f,_,w,C,T){const A=Ni()+a,R=Ae(),B=bo(R,A,c,d,f,_);return qc(R,A+4,w,C)||B?Ha(R,A+6,T?l.call(T,c,d,f,_,w,C):l(c,d,f,_,w,C)):Ip(R,A+6)}function Yp(a,l,c,d,f,_,w,C,T,A){const R=Ni()+a,B=Ae();let j=bo(B,R,c,d,f,_);return Sp(B,R+4,w,C,T)||j?Ha(B,R+7,A?l.call(A,c,d,f,_,w,C,T):l(c,d,f,_,w,C,T)):Ip(B,R+7)}function Uh(a,l,c,d){return function yb(a,l,c,d,f,_){let w=l+c,C=!1;for(let T=0;T<f.length;T++)kr(a,w++,f[T])&&(C=!0);return C?Ha(a,w,d.apply(_,f)):Hh(a,w)}(Ae(),Ni(),a,l,c,d)}function Hh(a,l){const c=a[l];return c===Ft?void 0:c}function X_(a){return l=>{setTimeout(a,void 0,l)}}const ja=class Xp extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,_,w;let C=l,T=c||(()=>null),A=d;if(l&&"object"==typeof l){const B=l;C=null===(f=B.next)||void 0===f?void 0:f.bind(B),T=null===(_=B.error)||void 0===_?void 0:_.bind(B),A=null===(w=B.complete)||void 0===w?void 0:w.bind(B)}this.__isAsync&&(T=X_(T),C&&(C=X_(C)),A&&(A=X_(A)));const R=super.subscribe({next:C,error:T,complete:A});return l instanceof ee.w0&&l.add(R),R}};function Eb(){return this._results[$c()]()}class zh{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=$c(),d=zh.prototype;d[c]||(d[c]=Eb)}get changes(){return this._changes||(this._changes=new ja)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=wi(l);(this._changesDetected=!function Ec(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],_=l[d];if(c&&(f=c(f),_=c(_)),_!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let nd=(()=>{class a{}return a.__NG_ELEMENT_ID__=QT,a})();const KT=nd,YT=class extends KT{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=hp(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),oa(c,d,l),new ed(d)}};function QT(){return ey(Cn(),Ae())}function ey(a,l){return 4&a.type?new YT(l,a,Jc(a,l)):null}let ju=(()=>{class a{}return a.__NG_ELEMENT_ID__=JT,a})();function JT(){return XT(Cn(),Ae())}const ty=ju,Gh=class extends ty{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const l=vi(this._hostTNode,this._hostLView);if($o(l)){const c=Ps(l,this._hostLView),d=qo(l);return new po(c[1].data[d+8],c)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=zu(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,_){const w=l&&!function Wr(a){return"function"==typeof a}(l);let C;if(w)C=c;else{const B=c||{};C=B.index,d=B.injector,f=B.projectableNodes,_=B.ngModuleRef}const T=w?l:new Zp(Xn(l)),A=d||this.parentInjector;if(!_&&null==T.ngModule){const j=(w?A:this.parentInjector).get(Vh,null);j&&(_=j)}const R=T.create(A,f,void 0,_);return this.insert(R.hostView,C),R}insert(l,c){const d=l._lView,f=d[1];if(function al(a){return as(a[3])}(d)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const B=d[3],j=new Gh(B,B[6],B[3]);j.detach(j.indexOf(l))}}const _=this._adjustIndex(c),w=this._lContainer;!function ip(a,l,c,d){const f=10+d,_=c.length;d>0&&(c[f-1][4]=l),d<_-10?(l[4]=c[f],bi(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const w=l[17];null!==w&&c!==w&&function Gm(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(w,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,d,w,_);const C=Mv(_,w),T=d[11],A=Dv(T,w[7]);return null!==A&&function Au(a,l,c,d,f,_){d[0]=f,d[6]=l,ap(a,d,c,1,f,_)}(f,w[6],T,d,A,C),l.attachToViewContainerRef(),bi(eg(w),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=zu(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=rp(this._lContainer,c);d&&(Ko(eg(this._lContainer),c),xv(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=rp(this._lContainer,c);return d&&null!=Ko(eg(this._lContainer),c)?new ed(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function zu(a){return a[8]}function eg(a){return a[8]||(a[8]=[])}function XT(a,l){let c;const d=l[a.index];if(as(d))c=d;else{let f;if(8&a.type)f=on(d);else{const _=l[11];f=_.createComment("");const w=_i(a,l);ch(_,Dv(_,w),f,function zR(a,l){return fn(a)?a.nextSibling(l):l.nextSibling}(_,w),!1)}l[a.index]=c=$0(d,l,f,a),ph(l,c)}return new Gh(c,a,l)}class Al{constructor(l){this.queryList=l,this.matches=null}clone(){return new Al(this.queryList)}setDirty(){this.queryList.setDirty()}}class ny{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let _=0;_<d;_++){const w=c.getByIndex(_);f.push(this.queries[w.indexInDeclarationView].clone())}return new ny(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==oI(l,c).matches&&this.queries[c].setDirty()}}class tI{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Ml{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(l,f);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new Ml(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class fa{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new fa(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const _=d[f];this.matchTNodeWithReadOption(l,c,iy(c,_)),this.matchTNodeWithReadOption(l,c,ou(c,l,_,!1,!1))}else d===nd?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,ou(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Wp||f===ju||f===nd&&4&c.type)this.addMatch(c.index,-2);else{const _=ou(c,l,f,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function iy(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function sy(a,l,c,d){return-1===c?function ry(a,l){return 11&a.type?Jc(a,l):4&a.type?ey(a,l):null}(l,a):-2===c?function nI(a,l,c){return c===Wp?Jc(l,a):c===nd?ey(l,a):c===ju?XT(l,a):void 0}(a,l,d):au(a,a[1],c,l)}function kn(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const _=a.data,w=c.matches,C=[];for(let T=0;T<w.length;T+=2){const A=w[T];C.push(A<0?null:sy(l,_[A],w[T+1],c.metadata.read))}f.matches=C}return f.matches}function qh(a,l,c,d){const f=a.queries.getByIndex(c),_=f.matches;if(null!==_){const w=kn(a,l,f,c);for(let C=0;C<_.length;C+=2){const T=_[C];if(T>0)d.push(w[C/2]);else{const A=_[C+1],R=l[-T];for(let B=10;B<R.length;B++){const j=R[B];j[17]===j[3]&&qh(j[1],j,A,d)}if(null!==R[9]){const B=R[9];for(let j=0;j<B.length;j++){const X=B[j];qh(X[1],X,A,d)}}}}}return d}function iI(a){const l=Ae(),c=zt(),d=Jl();kd(d+1);const f=oI(c,d);if(a.dirty&&Vo(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?qh(c,l,d,[]):kn(c,l,f,d);a.reset(_,LT),a.notifyOnChanges()}return!0}return!1}function rI(a,l,c){const d=zt();d.firstCreatePass&&(sI(d,new tI(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Ib(d,Ae(),l)}function Wh(a,l,c,d){const f=zt();if(f.firstCreatePass){const _=Cn();sI(f,new tI(l,c,d),_.index),function y1(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Ib(f,Ae(),c)}function Zh(){return function _1(a,l){return a[19].queries[l].queryList}(Ae(),Jl())}function Ib(a,l,c){const d=new zh(4==(4&c));L0(a,l,d,d.destroy),null===l[19]&&(l[19]=new ny),l[19].queries.push(new Al(d))}function sI(a,l,c){null===a.queries&&(a.queries=new Ml),a.queries.track(new fa(l,c))}function oI(a,l){return a.queries.getByIndex(l)}function aI(a,l){return ey(a,l)}function ag(...a){}const hy=new An("Application Initializer");let fy=(()=>{class a{constructor(c){this.appInits=c,this.resolve=ag,this.reject=ag,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Iw(_))c.push(_);else if(Bi(_)){const w=new Promise((C,T)=>{_.subscribe({complete:C,error:T})});c.push(w)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(lt(hy,8))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const lg=new An("AppId",{providedIn:"root",factory:function Fb(){return`${kl()}${kl()}${kl()}`}});function kl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lb=new An("Platform Initializer"),EI=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vb=new An("appBootstrapListener");let py=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const gy=new An("LocaleId",{providedIn:"root",factory:()=>Lt(gy,vt.Optional|vt.SkipSelf)||function Zs(){return"undefined"!=typeof $localize&&$localize.locale||xl}()}),TI=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Bb{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let M1=(()=>{class a{compileModuleSync(c){return new Bh(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),_=v(ei(c).declarations).reduce((w,C)=>{const T=Xn(C);return T&&w.push(new Zp(T)),w},[]);return new Bb(d,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const O1=(()=>Promise.resolve(0))();function Kh(a){"undefined"==typeof Zone?O1.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Io{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function N1(){let a=Gt.requestAnimationFrame,l=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Ub(a){const l=()=>{!function qu(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Gt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Hb(a),a.isCheckStableRunning=!0,$u(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Hb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,_,w,C)=>{try{return Ve(a),c.invokeTask(f,_,w,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),di(a)}},onInvoke:(c,d,f,_,w,C,T)=>{try{return Ve(a),c.invoke(f,_,w,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),di(a)}},onHasTask:(c,d,f,_)=>{c.hasTask(f,_),d===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Hb(a),$u(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,f,_)=>(c.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+f,l,_r,ag,ag);try{return _.runTask(w,c,d)}finally{_.cancelTask(w)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const _r={};function $u(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Hb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ve(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function di(a){a._nesting--,$u(a)}class cg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let my=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),Kh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kh(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(lt(Io))},a.\u0275prov=rn({token:a,factory:a.\u0275fac}),a})(),ut=(()=>{class a{constructor(){this._applications=new Map,Ze.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Ze.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class Mt{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function P1(a){Ze=a}let Ze=new Mt,ce=null;const Oe=new An("AllowMultipleToken"),Gi=new An("PlatformOnDestroy");class L1{constructor(l,c){this.name=l,this.token=c}}function SI(a,l,c=[]){const d=`Platform: ${l}`,f=new An(d);return(_=[])=>{let w=ts();if(!w||w.injector.get(Oe,!1)){const C=[...c,..._,{provide:f,useValue:!0}];a?a(C):function V1(a){if(ce&&!ce.get(Oe,!1))throw new Pe(400,"");ce=a;const l=a.get(DI),c=a.get(Lb,null);c&&c.forEach(d=>d())}(function B1(a=[],l){return Ua.create({name:l,providers:[{provide:sw,useValue:"platform"},{provide:Gi,useValue:()=>ce=null},...a]})}(C,d))}return function xI(a){const l=ts();if(!l)throw new Pe(401,"");return l}()}}function ts(){var a;return null!==(a=null==ce?void 0:ce.get(DI))&&void 0!==a?a:null}let DI=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function AI(a,l){let c;return c="noop"===a?new cg:("zone.js"===a?void 0:a)||new Io({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:Io,useValue:C}];return C.run(()=>{const A=Ua.create({providers:T,parent:this.injector,name:c.moduleType.name}),R=c.create(A),B=R.injector.get(lh,null);if(!B)throw new Pe(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:X=>{B.handleError(X)}});R.onDestroy(()=>{Kn(this._modules,R),j.unsubscribe()})}),function Vt(a,l,c){try{const d=c();return Iw(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(B,C,()=>{const j=R.injector.get(fy);return j.runInitializers(),j.donePromise.then(()=>(function GD(a){Ht(a,"Expected localeId to be defined"),"string"==typeof a&&(vT=a.toLowerCase().replace(/_/g,"-"))}(R.injector.get(gy,xl)||xl),this._moduleDoBootstrap(R),R))})})}bootstrapModule(c,d=[]){const f=rd({},d);return function II(a,l,c){const d=new Bh(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(c){const d=c.injector.get(_y);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Pe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Gi,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(lt(Ua))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function rd(a,l){return Array.isArray(l)?l.reduce(rd,a):Object.assign(Object.assign({},a),l)}let _y=(()=>{class a{constructor(c,d,f,_){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new L.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),Kh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,he.T)(w,C.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Pe(405,"");let f;f=c instanceof qp?c:this._injector.get(Lh).resolveComponentFactory(c),this.componentTypes.push(f.componentType);const _=function F1(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Vh),C=f.create(Ua.NULL,[],d||f.selector,_),T=C.location.nativeElement,A=C.injector.get(my,null),R=A&&C.injector.get(ut);return A&&R&&R.registerApplication(T,A),C.onDestroy(()=>{this.detachView(C.hostView),Kn(this.components,C),R&&R.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Kn(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Vb,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(lt(Io),lt(Ua),lt(lh),lt(fy))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Kn(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let Wu=!0,jb=!1;function dg(){return jb=!0,Wu}function sn(){if(jb)throw new Error("Cannot enable prod mode after platform setup.");Wu=!1}let U1=(()=>{class a{}return a.__NG_ELEMENT_ID__=$i,a})();function $i(a){return function H1(a,l,c){if(vd(a)&&!c){const d=yi(a.index,l);return new ed(d,d)}return 47&a.type?new ed(l[16],l):null}(Cn(),Ae(),16==(16&a))}class vy{constructor(){}supports(l){return wh(l)}create(l){return new OI(l)}}const gg=(a,l)=>l;class OI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||gg}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,_=null;for(;c||d;){const w=!d||c&&c.currentIndex<zb(d,f,_)?c:d,C=zb(w,f,_),T=w.currentIndex;if(w===d)f--,d=d._nextRemoved;else if(c=c._next,null==w.previousIndex)f++;else{_||(_=[]);const A=C-f,R=T-f;if(A!=R){for(let j=0;j<A;j++){const X=j<_.length?_[j]:_[j]=0,be=X+j;R<=be&&be<A&&(_[j]=X+1)}_[w.previousIndex]=R-A}}C!==T&&l(w,C,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!wh(l))throw new Pe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,w,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)_=l[C],w=this._trackByFn(C,_),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,_,w,C)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,w,C),d=!0),c=c._next}else f=0,function hE(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[$c()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{w=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,C,w,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,w,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,f)):l=this._addAfter(new NI(c,d),_,f),l}_verifyReinsertion(l,c,d,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new ef),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ef),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class NI{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wy{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class ef{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new wy,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zb(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class PI{constructor(){}supports(l){return l instanceof Map||y_(l)}create(){return new G1}}class G1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||y_(l)))throw new Pe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const _=f._prev,w=f._next;return _&&(_._next=w),w&&(w._prev=_),f._next=null,f._prev=null,f}const d=new FI(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class FI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gb(){return new ir([new vy])}let ir=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Gb()),deps:[[a,new Va,new xr]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Pe(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:Gb}),a})();function Sn(){return new tf([new PI])}let tf=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Sn()),deps:[[a,new Va,new xr]]}}find(c){const d=this.factories.find(_=>_.supports(c));if(d)return d;throw new Pe(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:Sn}),a})();const LI=SI(null,"core",[]);let q1=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(lt(_y))},a.\u0275mod=Ki({type:a}),a.\u0275inj=Jt({}),a})()},3942:(Xe,we,F)=>{F.d(we,{Z:()=>Pe});var s=F(2090),ee=F(4859),L=F(9681),he=F(1877);class se{constructor(ge,Se){this._delegate=ge,this.firebase=Se,(0,L._addComponent)(ge,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ge,Se=L._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ge);return!Qe.isInitialized()&&"EXPLICIT"===(null===(We=Qe.getComponent())||void 0===We?void 0:We.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Se})}_removeServiceInstance(ge,Se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Se)}_addComponent(ge){(0,L._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,L._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function fe(){const He=function le(He){const ge={},Se={__esModule:!0,initializeApp:function De(Ge,G={}){const Ce=L.initializeApp(Ge,G);if((0,s.r3)(ge,Ce.name))return ge[Ce.name];const Y=new He(Ce,Se);return ge[Ce.name]=Y,Y},app:Qe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Ge){const G=Ge.name,Ce=G.replace("-compat","");if(L._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Y=(oe=Qe())=>{if("function"!=typeof oe[Ce])throw de.create("invalid-app-argument",{appName:G});return oe[Ce]()};void 0!==Ge.serviceProps&&(0,s.ZB)(Y,Ge.serviceProps),Se[Ce]=Y,He.prototype[Ce]=function(...oe){return this._getService.bind(this,G).apply(this,Ge.multipleInstances?oe:[])}}return"PUBLIC"===Ge.type?Se[Ce]:null},removeApp:function We(Ge){delete ge[Ge]},useAsService:function ze(Ge,G){return"serverAuth"===G?null:G},modularAPIs:L}};function Qe(Ge){if(!(0,s.r3)(ge,Ge=Ge||L._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ge});return ge[Ge]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ee(){return Object.keys(ge).map(Ge=>ge[Ge])}}),Qe.App=He,Se}(se);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ge(Se){(0,s.ZB)(He,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),He}(),z=new he.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=$;!function ke(He){(0,L.registerVersion)("@firebase/app-compat","0.1.26",He)}()},9681:(Xe,we,F)=>{F.r(we),F.d(we,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>rs,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>cn,_addOrOverwriteComponent:()=>rn,_apps:()=>ln,_clearComponents:()=>is,_components:()=>On,_getProvider:()=>Jt,_registerComponent:()=>Wi,_removeServiceInstance:()=>jt,deleteApp:()=>vt,getApp:()=>ar,getApps:()=>zr,initializeApp:()=>no,onLog:()=>Nn,registerVersion:()=>Dn,setLogLevel:()=>io});var s=F(5861),ee=F(4859),L=F(1877),he=F(2090),se=F(8766);class _e{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function de(q){const te=q.getComponent();return"VERSION"===(null==te?void 0:te.type)}(Ne)){const et=Ne.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Ne=>Ne).join(" ")}}const le="@firebase/app",$=new L.Yd("@firebase/app"),Ht="[DEFAULT]",Ye={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,On=new Map;function cn(q,te){try{q.container.addComponent(te)}catch(Ne){$.debug(`Component ${te.name} failed to register with FirebaseApp ${q.name}`,Ne)}}function rn(q,te){q.container.addOrOverwriteComponent(te)}function Wi(q){const te=q.name;if(On.has(te))return $.debug(`There were multiple attempts to register component ${te}.`),!1;On.set(te,q);for(const Ne of ln.values())cn(Ne,q);return!0}function Jt(q,te){const Ne=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),q.container.getProvider(te)}function jt(q,te,Ne=Ht){Jt(q,te).clearInstance(Ne)}function is(){On.clear()}const Si=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zi{constructor(te,Ne,et){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const rs="9.8.2";function no(q,te={}){"object"!=typeof te&&(te={name:te});const Ne=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},te),et=Ne.name;if("string"!=typeof et||!et)throw Si.create("bad-app-name",{appName:String(et)});const _t=ln.get(et);if(_t){if((0,he.vZ)(q,_t.options)&&(0,he.vZ)(Ne,_t.config))return _t;throw Si.create("duplicate-app",{appName:et})}const Dt=new ee.H0(et);for(const It of On.values())Dt.addComponent(It);const yn=new Zi(q,Ne,Dt);return ln.set(et,yn),yn}function ar(q=Ht){const te=ln.get(q);if(!te)throw Si.create("no-app",{appName:q});return te}function zr(){return Array.from(ln.values())}function vt(q){return vr.apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(q){const te=q.name;ln.has(te)&&(ln.delete(te),yield Promise.all(q.container.getProviders().map(Ne=>Ne.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Dn(q,te,Ne){var et;let _t=null!==(et=Ye[q])&&void 0!==et?et:q;Ne&&(_t+=`-${Ne}`);const Dt=_t.match(/\s|\//),yn=te.match(/\s|\//);if(Dt||yn){const It=[`Unable to register library "${_t}" with version "${te}":`];return Dt&&It.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Dt&&yn&&It.push("and"),yn&&It.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void $.warn(It.join(" "))}Wi(new ee.wA(`${_t}-version`,()=>({library:_t,version:te}),"VERSION"))}function Nn(q,te){if(null!==q&&"function"!=typeof q)throw Si.create("invalid-log-argument");(0,L.Am)(q,te)}function io(q){(0,L.Ub)(q)}const Pn="firebase-heartbeat-store";let wr=null;function ko(){return wr||(wr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(q,te)=>{0===te&&q.createObjectStore(Pn)}}).catch(q=>{throw Si.create("storage-open",{originalErrorMessage:q.message})})),wr}function ct(){return(ct=(0,s.Z)(function*(q){try{return(yield ko()).transaction(Pn).objectStore(Pn).get(br(q))}catch(te){throw Si.create("storage-get",{originalErrorMessage:te.message})}})).apply(this,arguments)}function Et(q,te){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(q,te){try{const et=(yield ko()).transaction(Pn,"readwrite");return yield et.objectStore(Pn).put(te,br(q)),et.done}catch(Ne){throw Si.create("storage-set",{originalErrorMessage:Ne.message})}})).apply(this,arguments)}function br(q){return`${q.name}!${q.options.appId}`}class Di{constructor(te){this.container=te,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new W(Ne),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var te=this;return(0,s.Z)(function*(){const et=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Ai();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==_t&&!te._heartbeatsCache.heartbeats.some(Dt=>Dt.date===_t))return te._heartbeatsCache.heartbeats.push({date:_t,agent:et}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Dt=>{const yn=new Date(Dt.date).valueOf();return Date.now()-yn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,s.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Ne=Ai(),{heartbeatsToSend:et,unsentEntries:_t}=function H(q,te=1024){const Ne=[];let et=q.slice();for(const _t of q){const Dt=Ne.find(yn=>yn.agent===_t.agent);if(Dt){if(Dt.dates.push(_t.date),Z(Ne)>te){Dt.dates.pop();break}}else if(Ne.push({agent:_t.agent,dates:[_t.date]}),Z(Ne)>te){Ne.pop();break}et=et.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:et}}(te._heartbeatsCache.heartbeats),Dt=(0,he.L)(JSON.stringify({version:2,heartbeats:et}));return te._heartbeatsCache.lastSentHeartbeatDate=Ne,_t.length>0?(te._heartbeatsCache.heartbeats=_t,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Dt})()}}function Ai(){return(new Date).toISOString().substring(0,10)}class W{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,s.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Zt(q){return ct.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Ne=this;return(0,s.Z)(function*(){var et;if(yield Ne._canUseIndexedDBPromise){const Dt=yield Ne.read();return Et(Ne.app,{lastSentHeartbeatDate:null!==(et=te.lastSentHeartbeatDate)&&void 0!==et?et:Dt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Ne=this;return(0,s.Z)(function*(){var et;if(yield Ne._canUseIndexedDBPromise){const Dt=yield Ne.read();return Et(Ne.app,{lastSentHeartbeatDate:null!==(et=te.lastSentHeartbeatDate)&&void 0!==et?et:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...te.heartbeats]})}})()}}function Z(q){return(0,he.L)(JSON.stringify({version:2,heartbeats:q})).length}!function xe(q){Wi(new ee.wA("platform-logger",te=>new _e(te),"PRIVATE")),Wi(new ee.wA("heartbeat",te=>new Di(te),"PRIVATE")),Dn(le,"0.7.25",q),Dn(le,"0.7.25","esm2017"),Dn("fire-js","")}("")},4859:(Xe,we,F)=>{F.d(we,{H0:()=>le,wA:()=>L,zt:()=>se});var s=F(5861),ee=F(2090);class L{constructor($,z,ie){this.name=$,this.instanceFactory=z,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const he="[DEFAULT]";class se{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const ie=new ee.BH;if(this.instancesDeferred.set(z,ie),this.isInitialized(z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:z});qe&&ie.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const ie=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),qe=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(qe)return null;throw ke}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function de(fe){return"EAGER"===fe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:he})}catch(z){}for(const[z,ie]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:qe});ie.resolve(ke)}catch(ke){}}}}clearInstance($=he){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,s.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...z.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=he){return this.instances.has($)}getOptions($=he){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,ie=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ie,options:z});for(const[ke,Pe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&Pe.resolve(qe);return qe}onInit($,z){var ie;const qe=this.normalizeInstanceIdentifier(z),ke=null!==(ie=this.onInitCallbacks.get(qe))&&void 0!==ie?ie:new Set;ke.add($),this.onInitCallbacks.set(qe,ke);const Pe=this.instances.get(qe);return Pe&&$(Pe,qe),()=>{ke.delete($)}}invokeOnInitCallbacks($,z){const ie=this.onInitCallbacks.get(z);if(ie)for(const qe of ie)try{qe($,z)}catch(ke){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let ie=this.instances.get($);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=$,fe===he?void 0:fe),options:z}),this.instances.set($,ie),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(ie,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ie)}catch(qe){}var fe;return ie||null}normalizeInstanceIdentifier($=he){return this.component?this.component.multipleInstances?$:he:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new se($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,we,F)=>{F.d(we,{Am:()=>fe,Ub:()=>le,Yd:()=>de,in:()=>ee});const s=[];var ee=(()=>{return($=ee||(ee={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ee;var $})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},he=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},_e=($,z,...ie)=>{if(z<$.logLevel)return;const qe=(new Date).toISOString(),ke=se[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${qe}]  ${$.name}:`,...ie)};class de{constructor(z){this.name=z,this._logLevel=he,this._logHandler=_e,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function le($){s.forEach(z=>{z.setLogLevel($)})}function fe($,z){for(const ie of s){let qe=null;z&&z.level&&(qe=L[z.level]),ie.userLogHandler=null===$?null:(ke,Pe,...He)=>{const ge=He.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(We){return null}}).filter(Se=>Se).join(" ");Pe>=(null!=qe?qe:ke.logLevel)&&$({level:ee[Pe].toLowerCase(),message:ge,args:He,type:ke.name})}}}},8766:(Xe,we,F)=>{F.d(we,{Lj:()=>De,X3:()=>Qe});var s=F(5861);let L,he;const de=new WeakMap,le=new WeakMap,fe=new WeakMap,$=new WeakMap,z=new WeakMap;let ke={get(G,Ce,Y){if(G instanceof IDBTransaction){if("done"===Ce)return le.get(G);if("objectStoreNames"===Ce)return G.objectStoreNames||fe.get(G);if("store"===Ce)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Se(G[Ce])},set:(G,Ce,Y)=>(G[Ce]=Y,!0),has:(G,Ce)=>G instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in G};function ge(G){return"function"==typeof G?function He(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ce){return G.apply(We(this),Ce),Se(de.get(this))}:function(...Ce){return Se(G.apply(We(this),Ce))}:function(Ce,...Y){const oe=G.call(We(this),Ce,...Y);return fe.set(oe,Ce.sort?Ce.sort():[Ce]),Se(oe)}}(G):(G instanceof IDBTransaction&&function qe(G){if(le.has(G))return;const Ce=new Promise((Y,oe)=>{const ne=()=>{G.removeEventListener("complete",ve),G.removeEventListener("error",ue),G.removeEventListener("abort",ue)},ve=()=>{Y(),ne()},ue=()=>{oe(G.error||new DOMException("AbortError","AbortError")),ne()};G.addEventListener("complete",ve),G.addEventListener("error",ue),G.addEventListener("abort",ue)});le.set(G,Ce)}(G),((G,Ce)=>Ce.some(Y=>G instanceof Y))(G,function se(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,ke):G)}function Se(G){if(G instanceof IDBRequest)return function ie(G){const Ce=new Promise((Y,oe)=>{const ne=()=>{G.removeEventListener("success",ve),G.removeEventListener("error",ue)},ve=()=>{Y(Se(G.result)),ne()},ue=()=>{oe(G.error),ne()};G.addEventListener("success",ve),G.addEventListener("error",ue)});return Ce.then(Y=>{Y instanceof IDBCursor&&de.set(Y,G)}).catch(()=>{}),z.set(Ce,G),Ce}(G);if($.has(G))return $.get(G);const Ce=ge(G);return Ce!==G&&($.set(G,Ce),z.set(Ce,G)),Ce}const We=G=>z.get(G);function Qe(G,Ce,{blocked:Y,upgrade:oe,blocking:ne,terminated:ve}={}){const ue=indexedDB.open(G,Ce),Fe=Se(ue);return oe&&ue.addEventListener("upgradeneeded",pt=>{oe(Se(ue.result),pt.oldVersion,pt.newVersion,Se(ue.transaction))}),Y&&ue.addEventListener("blocked",()=>Y()),Fe.then(pt=>{ve&&pt.addEventListener("close",()=>ve()),ne&&pt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Fe}function De(G,{blocked:Ce}={}){const Y=indexedDB.deleteDatabase(G);return Ce&&Y.addEventListener("blocked",()=>Ce()),Se(Y).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],ze=new Map;function Ge(G,Ce){if(!(G instanceof IDBDatabase)||Ce in G||"string"!=typeof Ce)return;if(ze.get(Ce))return ze.get(Ce);const Y=Ce.replace(/FromIndex$/,""),oe=Ce!==Y,ne=Ie.includes(Y);if(!(Y in(oe?IDBIndex:IDBObjectStore).prototype)||!ne&&!Ee.includes(Y))return;const ve=function(){var ue=(0,s.Z)(function*(Fe,...pt){const Wt=this.transaction(Fe,ne?"readwrite":"readonly");let Ht=Wt.store;return oe&&(Ht=Ht.index(pt.shift())),(yield Promise.all([Ht[Y](...pt),ne&&Wt.done]))[0]});return function(pt){return ue.apply(this,arguments)}}();return ze.set(Ce,ve),ve}!function Pe(G){ke=G(ke)}(G=>HB(UB({},G),{get:(Ce,Y,oe)=>Ge(Ce,Y)||G.get(Ce,Y,oe),has:(Ce,Y)=>!!Ge(Ce,Y)||G.has(Ce,Y)}))},5861:(Xe,we,F)=>{function s(L,he,se,_e,de,le,fe){try{var $=L[le](fe),z=$.value}catch(ie){return void se(ie)}$.done?he(z):Promise.resolve(z).then(_e,de)}function ee(L){return function(){var he=this,se=arguments;return new Promise(function(_e,de){var le=L.apply(he,se);function fe(z){s(le,_e,de,fe,$,"next",z)}function $(z){s(le,_e,de,fe,$,"throw",z)}fe(void 0)})}}F.d(we,{Z:()=>ee})}},Xe=>{Xe(Xe.s=4160)}]);
"use strict";var J7=Object.defineProperty,X7=Object.defineProperties,e9=Object.getOwnPropertyDescriptors,UB=Object.getOwnPropertySymbols,t9=Object.prototype.hasOwnProperty,n9=Object.prototype.propertyIsEnumerable,HB=(et,we,F)=>we in et?J7(et,we,{enumerable:!0,configurable:!0,writable:!0,value:F}):et[we]=F,jB=(et,we)=>{for(var F in we||(we={}))t9.call(we,F)&&HB(et,F,we[F]);if(UB)for(var F of UB(we))n9.call(we,F)&&HB(et,F,we[F]);return et},qB=(et,we)=>X7(et,e9(we));(self.webpackChunkpranavam=self.webpackChunkpranavam||[]).push([[179],{2011:(et,we,F)=>{F.d(we,{Dh:()=>le,GT:()=>_e,cc:()=>ke,hO:()=>ze,on:()=>z,pX:()=>se,xv:()=>pe});var s=F(5e3),ee=F(127),L=F(5813);et=F.hmd(et);const de=["ngOnDestroy"],se=(Se,Ze,Je,Ae={})=>new Proxy(Se,{get:(Te,Ie)=>Je.runOutsideAngular(()=>{var je;if(Se[Ie])return(null===(je=null==Ae?void 0:Ae.spy)||void 0===je?void 0:je.get)&&Ae.spy.get(Ie,Se[Ie]),Se[Ie];if(de.indexOf(Ie)>-1)return()=>{};const qe=Ze.toPromise().then(G=>{const Ce=G&&G[Ie];return"function"==typeof Ce?Ce.bind(G):Ce&&Ce.then?Ce.then(Y=>Je.run(()=>Y)):Je.run(()=>Ce)});return new Proxy(()=>{},{get:(G,Ce)=>qe[Ce],apply:(G,Ce,Y)=>qe.then(oe=>{var ne;const ve=oe&&oe(...Y);return(null===(ne=null==Ae?void 0:Ae.spy)||void 0===ne?void 0:ne.apply)&&Ae.spy.apply(Ie,Y,ve),ve})})})}),_e=(Se,Ze)=>{Ze.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Ae=>{Object.defineProperty(Se.prototype,Ae,Object.getOwnPropertyDescriptor(Je.prototype||Je,Ae))})})};class ue{constructor(Ze){return Ze}}const le=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function z(Se,Ze,Je){const Te="object"==typeof Je&&Je||{};Te.name=Te.name||"string"==typeof Je&&Je||"[DEFAULT]";const je=ee.Z.apps.filter(qe=>qe&&qe.name===Te.name)[0]||Ze.runOutsideAngular(()=>ee.Z.initializeApp(Se,Te));try{JSON.stringify(Se)!==JSON.stringify(je.options)&&q("error",`${je.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new ue(je)}const q=(Se,...Ze)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)},ie={provide:ue,useFactory:z,deps:[le,s.R0b,[new s.FiY,pe]]};let ze=(()=>{class Se{constructor(Je){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",s.q4F.full,Je.toString())}static initializeApp(Je,Ae){return{ngModule:Se,providers:[{provide:le,useValue:Je},{provide:pe,useValue:Ae}]}}}return Se.\u0275fac=function(Je){return new(Je||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[ie]}),Se})();function ke(Se,Ze,Je,Ae,Te){const[,Ie,je]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Se)||[];if(Ie)return function Ne(Se,Ze){try{return Se.toString()===Ze.toString()}catch(Je){return Se===Ze}}(Te,je)||(ge("error",`${Ze} was already initialized on the ${Je} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Te,was:je})),Ie;{const qe=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Se,qe,Te]),qe}}const Ue=!!et.hot,ge=(Se,...Ze)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,we,F)=>{F.d(we,{q4:()=>xi,iC:()=>Ac,HU:()=>Ou,vb:()=>Yp,JM:()=>Ua});var s=F(5e3),ee=F(5867),L=F(5861),de=F(9681),se=F(2090),_e=F(4859),ue=F(1877),le=F(8766);const pe="@firebase/installations",z="0.5.9",ie=`w:${z}`,ze="FIS_v2",Ze=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function Ae({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Te(S){return{token:S.token,requestStatus:2,expiresIn:oe(S.expiresIn),creationTime:Date.now()}}function Ie(S,x){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(S,x){const U=(yield x.json()).error;return Ze.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function qe({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function G(S,{refreshToken:x}){const R=qe(S);return R.append("Authorization",function ne(S){return`${ze} ${S}`}(x)),R}function Ce(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function oe(S){return Number(S.replace("s","000"))}function ve(S,x){return ce.apply(this,arguments)}function ce(){return(ce=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:R}){const U=Ae(S),J=qe(S),ae=x.getImmediate({optional:!0});if(ae){const ht=yield ae.getHeartbeatsHeader();ht&&J.append("x-firebase-client",ht)}const st={method:"POST",headers:J,body:JSON.stringify({fid:R,authVersion:ze,appId:S.appId,sdkVersion:ie})},ct=yield Ce(()=>fetch(U,st));if(ct.ok){const ht=yield ct.json();return{fid:ht.fid||R,registrationStatus:2,refreshToken:ht.refreshToken,authToken:Te(ht.authToken)}}throw yield Ie("Create Installation",ct)})).apply(this,arguments)}function Fe(S){return new Promise(x=>{setTimeout(x,S)})}const Wt=/^[cdef][\w-]{21}$/;function Ke(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function cn(S){return function gt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Wt.test(R)?R:""}catch(S){return""}}function Pn(S){return`${S.appName}!${S.appId}`}const dn=new Map;function rn(S,x){const R=Pn(S);Gt(R,x),function cs(S,x){const R=function Ni(){return!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=S=>{Gt(S.data.key,S.data.fid)}),Cr}();R&&R.postMessage({key:S,fid:x}),function Ji(){0===dn.size&&Cr&&(Cr.close(),Cr=null)}()}(R,x)}function Gt(S,x){const R=dn.get(S);if(R)for(const U of R)U(x)}let Cr=null;const ur="firebase-installations-store";let Qr=null;function vt(){return Qr||(Qr=(0,le.X3)("firebase-installations-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(ur)}})),Qr}function Tr(S,x){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(S,x){const R=Pn(S),J=(yield vt()).transaction(ur,"readwrite"),ae=J.objectStore(ur),Oe=yield ae.get(R);return yield ae.put(x,R),yield J.done,(!Oe||Oe.fid!==x.fid)&&rn(S,x.fid),x})).apply(this,arguments)}function Nn(S){return ho.apply(this,arguments)}function ho(){return(ho=(0,L.Z)(function*(S){const x=Pn(S),U=(yield vt()).transaction(ur,"readwrite");yield U.objectStore(ur).delete(x),yield U.done})).apply(this,arguments)}function dr(S,x){return gi.apply(this,arguments)}function gi(){return(gi=(0,L.Z)(function*(S,x){const R=Pn(S),J=(yield vt()).transaction(ur,"readwrite"),ae=J.objectStore(ur),Oe=yield ae.get(R),st=x(Oe);return void 0===st?yield ae.delete(R):yield ae.put(st,R),yield J.done,st&&(!Oe||Oe.fid!==st.fid)&&rn(S,st.fid),st})).apply(this,arguments)}function Fn(S){return Er.apply(this,arguments)}function Er(){return(Er=(0,L.Z)(function*(S){let x;const R=yield dr(S.appConfig,U=>{const J=Fo(U),ae=Kt(S,J);return x=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield x}:{installationEntry:R,registrationPromise:x}})).apply(this,arguments)}function Fo(S){return Lo(S||{fid:Ke(),registrationStatus:0})}function Kt(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ze.create("app-offline"))};const R={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},U=function dt(S,x){return Tt.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:U}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Fi(S)}:{installationEntry:x}}function Tt(){return(Tt=(0,L.Z)(function*(S,x){try{const R=yield ve(S,x);return Tr(S.appConfig,R)}catch(R){throw Je(R)&&409===R.customData.serverCode?yield Nn(S.appConfig):yield Tr(S.appConfig,{fid:x.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Fi(S){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,L.Z)(function*(S){let x=yield Zt(S.appConfig);for(;1===x.registrationStatus;)yield Fe(100),x=yield Zt(S.appConfig);if(0===x.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Fn(S);return U||R}return x})).apply(this,arguments)}function Zt(S){return dr(S,x=>{if(!x)throw Ze.create("installation-not-found");return Lo(x)})}function Lo(S){return function Li(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Vi(S,x){return H.apply(this,arguments)}function H(){return(H=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},R){const U=$(S,R),J=G(S,R),ae=x.getImmediate({optional:!0});if(ae){const ht=yield ae.getHeartbeatsHeader();ht&&J.append("x-firebase-client",ht)}const st={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ie,appId:S.appId}})},ct=yield Ce(()=>fetch(U,st));if(ct.ok)return Te(yield ct.json());throw yield Ie("Generate Auth Token",ct)})).apply(this,arguments)}function $(S,{fid:x}){return`${Ae(S)}/${x}/authTokens:generate`}function W(S){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(S,x=!1){let R;const U=yield dr(S.appConfig,ae=>{if(!xt(ae))throw Ze.create("not-registered");const Oe=ae.authToken;if(!x&&yn(Oe))return ae;if(1===Oe.requestStatus)return R=Z(S,x),ae;{if(!navigator.onLine)throw Ze.create("app-offline");const st=ti(ae);return R=tt(S,st),st}});return R?yield R:U.authToken})).apply(this,arguments)}function Z(S,x){return te.apply(this,arguments)}function te(){return(te=(0,L.Z)(function*(S,x){let R=yield Pe(S.appConfig);for(;1===R.authToken.requestStatus;)yield Fe(100),R=yield Pe(S.appConfig);const U=R.authToken;return 0===U.requestStatus?W(S,x):U})).apply(this,arguments)}function Pe(S){return dr(S,x=>{if(!xt(x))throw Ze.create("not-registered");return function Xi(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function tt(S,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,L.Z)(function*(S,x){try{const R=yield Vi(S,x),U=Object.assign(Object.assign({},x),{authToken:R});return yield Tr(S.appConfig,U),R}catch(R){if(!Je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Tr(S.appConfig,U)}else yield Nn(S.appConfig);throw R}})).apply(this,arguments)}function xt(S){return void 0!==S&&2===S.registrationStatus}function yn(S){return 2===S.requestStatus&&!function It(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+36e5}(S)}function ti(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}function ol(){return(ol=(0,L.Z)(function*(S){const x=S,{installationEntry:R,registrationPromise:U}=yield Fn(x);return U?U.catch(console.error):W(x).catch(console.error),R.fid})).apply(this,arguments)}function al(){return(al=(0,L.Z)(function*(S,x=!1){const R=S;return yield ni(R),(yield W(R,x)).token})).apply(this,arguments)}function ni(S){return er.apply(this,arguments)}function er(){return(er=(0,L.Z)(function*(S){const{registrationPromise:x}=yield Fn(S);x&&(yield x)})).apply(this,arguments)}function Ca(S){return Ze.create("missing-app-config-values",{valueName:S})}const pr="installations",ft=S=>{const x=S.getProvider("app").getImmediate(),R=function Ci(S){if(!S||!S.options)throw Ca("App Configuration");if(!S.name)throw Ca("App Name");const x=["projectId","apiKey","appId"];for(const R of x)if(!S.options[R])throw Ca(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},hn=S=>{const x=S.getProvider("app").getImmediate(),R=(0,de._getProvider)(x,pr).getImmediate();return{getId:()=>function Ql(S){return ol.apply(this,arguments)}(R),getToken:J=>function Jl(S){return al.apply(this,arguments)}(R,J)}};(function fr(){(0,de._registerComponent)(new _e.wA(pr,ft,"PUBLIC")),(0,de._registerComponent)(new _e.wA("installations-internal",hn,"PRIVATE"))})(),(0,de.registerVersion)(pe,z),(0,de.registerVersion)(pe,z,"esm2017");const ds="@firebase/remote-config",Ln=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ms{constructor(x,R,U,J){this.client=x,this.storage=R,this.storageCache=U,this.logger=J}isCachedDataFresh(x,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,J=U<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${J}.`),J}fetch(x){var R=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(J&&R.isCachedDataFresh(x.cacheMaxAgeMillis,U))return J;x.eTag=J&&J.eTag;const ae=yield R.client.fetch(x),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Oe),ae})()}}function Dd(S=navigator){return S.languages&&S.languages[0]||S.language}class Ui{constructor(x,R,U,J,ae,Oe){this.firebaseInstallations=x,this.sdkVersion=R,this.namespace=U,this.projectId=J,this.apiKey=ae,this.appId=Oe}fetch(x){var R=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},ct={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:R.appId,language_code:Dd()},ht={method:"POST",headers:st,body:JSON.stringify(ct)},Vt=fetch(Oe,ht),Et=new Promise((kr,is)=>{x.signal.addEventListener(()=>{const qa=new Error("The operation was aborted.");qa.name="AbortError",is(qa)})});let si;try{yield Promise.race([Vt,Et]),si=yield Vt}catch(kr){let is="fetch-client-network";throw"AbortError"===kr.name&&(is="fetch-timeout"),Ln.create(is,{originalErrorMessage:kr.message})}let Kn=si.status;const ra=si.headers.get("ETag")||void 0;let $s,mr;if(200===si.status){let kr;try{kr=yield si.json()}catch(is){throw Ln.create("fetch-client-parse",{originalErrorMessage:is.message})}$s=kr.entries,mr=kr.state}if("INSTANCE_STATE_UNSPECIFIED"===mr?Kn=500:"NO_CHANGE"===mr?Kn=304:("NO_TEMPLATE"===mr||"EMPTY_CONFIG"===mr)&&($s={}),304!==Kn&&200!==Kn)throw Ln.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:ra,config:$s}})()}}class vm{constructor(x,R){this.client=x,this.storage=R}fetch(x){var R=this;return(0,L.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(x,U)})()}attemptFetch(x,{throttleEndTimeMillis:R,backoffCount:U}){var J=this;return(0,L.Z)(function*(){yield function mo(S,x){return new Promise((R,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(R,J);S.addEventListener(()=>{clearTimeout(ae),U(Ln.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,R);try{const ae=yield J.client.fetch(x);return yield J.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Ad(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ae))throw ae;const Oe={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Oe),J.attemptFetch(x,Oe)}})()}}class Md{constructor(x,R,U,J,ae){this.app=x,this._client=R,this._storageCache=U,this._storage=J,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pu(S,x){const R=S.target.error||void 0;return Ln.create(x,{originalErrorMessage:R&&R.message})}const _o="app_namespace_store";class Tm{constructor(x,R,U,J=function Cm(){return new Promise((S,x)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{x(pu(U,"storage-open"))},R.onsuccess=U=>{S(U.target.result)},R.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(R){x(Ln.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=x,this.appName=R,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([_o],"readonly").objectStore(_o),ct=R.createCompositeKey(x);try{const ht=st.get(ct);ht.onerror=Vt=>{ae(pu(Vt,"storage-get"))},ht.onsuccess=Vt=>{const Et=Vt.target.result;J(Et?Et.value:void 0)}}catch(ht){ae(Ln.create("storage-get",{originalErrorMessage:ht&&ht.message}))}})})()}set(x,R){var U=this;return(0,L.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ae,Oe)=>{const ct=J.transaction([_o],"readwrite").objectStore(_o),ht=U.createCompositeKey(x);try{const Vt=ct.put({compositeKey:ht,value:R});Vt.onerror=Et=>{Oe(pu(Et,"storage-set"))},Vt.onsuccess=()=>{ae()}}catch(Vt){Oe(Ln.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(x){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([_o],"readwrite").objectStore(_o),ct=R.createCompositeKey(x);try{const ht=st.delete(ct);ht.onerror=Vt=>{ae(pu(Vt,"storage-delete"))},ht.onsuccess=()=>{J()}}catch(ht){ae(Ln.create("storage-delete",{originalErrorMessage:ht&&ht.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Od{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,L.Z)(function*(){const R=x.storage.getLastFetchStatus(),U=x.storage.getLastSuccessfulFetchTimestampMillis(),J=x.storage.getActiveConfig(),ae=yield R;ae&&(x.lastFetchStatus=ae);const Oe=yield U;Oe&&(x.lastSuccessfulFetchTimestampMillis=Oe);const st=yield J;st&&(x.activeConfig=st)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function nc(){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,L.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}!function Ea(){(0,de._registerComponent)(new _e.wA("remote-config",function S(x,{instanceIdentifier:R}){const U=x.getProvider("app").getImmediate(),J=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,se.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:ae,apiKey:Oe,appId:st}=U.options;if(!ae)throw Ln.create("registration-project-id");if(!Oe)throw Ln.create("registration-api-key");if(!st)throw Ln.create("registration-app-id");const ct=new Tm(st,U.name,R=R||"firebase"),ht=new Od(ct),Vt=new ue.Yd(ds);Vt.logLevel=ue.in.ERROR;const Et=new Ui(J,de.SDK_VERSION,R,ae,Oe,st),si=new vm(Et,ct),Kn=new ms(si,ct,ht,Vt),ra=new Md(U,Kn,ht,ct,Vt);return function gn(S){const x=(0,se.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(ds,"0.3.8"),(0,de.registerVersion)(ds,"0.3.8","esm2017")}();const Pd="/firebase-messaging-sw.js",Hi="/firebase-cloud-messaging-push-scope",Uo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ia="google.c.a.c_id",Nd="google.c.a.c_l",qp="google.c.a.ts",Gn="google.c.a.e";var Sa=(()=>{return(S=Sa||(Sa={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Sa;var S})();function tr(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fd(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),J=new Uint8Array(U.length);for(let ae=0;ae<U.length;++ae)J[ae]=U.charCodeAt(ae);return J}const ji="fcm_token_details_db",Sr="fcm_token_object_Store";function fu(S){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(ji))return null;let x=null;return(yield(0,le.X3)(ji,5,{upgrade:(U=(0,L.Z)(function*(J,ae,Oe,st){var ct;if(ae<2||!J.objectStoreNames.contains(Sr))return;const ht=st.objectStore(Sr),Vt=yield ht.index("fcmSenderId").get(S);if(yield ht.clear(),Vt)if(2===ae){const Et=Vt;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;x={token:Et.fcmToken,createTime:null!==(ct=Et.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:tr(Et.vapidKey)}}}else if(3===ae){const Et=Vt;x={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:tr(Et.auth),p256dh:tr(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:tr(Et.vapidKey)}}}else if(4===ae){const Et=Vt;x={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:tr(Et.auth),p256dh:tr(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:tr(Et.vapidKey)}}}}),function(ae,Oe,st,ct){return U.apply(this,arguments)})})).close(),yield(0,le.Lj)(ji),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),gu(x)?x:null;var U}),Ld.apply(this,arguments)}function gu(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const ys="firebase-messaging-store";let Gp=null;function pn(){return Gp||(Gp=(0,le.X3)("firebase-messaging-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(ys)}})),Gp}function dl(S){return jo.apply(this,arguments)}function jo(){return(jo=(0,L.Z)(function*(S){const x=Ti(S),U=yield(yield pn()).transaction(ys).objectStore(ys).get(x);if(U)return U;{const J=yield fu(S.appConfig.senderId);if(J)return yield an(S,J),J}})).apply(this,arguments)}function an(S,x){return hl.apply(this,arguments)}function hl(){return(hl=(0,L.Z)(function*(S,x){const R=Ti(S),J=(yield pn()).transaction(ys,"readwrite");return yield J.objectStore(ys).put(x,R),yield J.done,x})).apply(this,arguments)}function ic(S){return yo.apply(this,arguments)}function yo(){return(yo=(0,L.Z)(function*(S){const x=Ti(S),U=(yield pn()).transaction(ys,"readwrite");yield U.objectStore(ys).delete(x),yield U.done})).apply(this,arguments)}function Ti({appConfig:S}){return S.appId}const In=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vs(S,x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,L.Z)(function*(S,x){const R=yield Aa(S),U=vo(x),J={method:"POST",headers:R,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(ws(S.appConfig),J)).json()}catch(Oe){throw In.create("token-subscribe-failed",{errorInfo:Oe})}if(ae.error)throw In.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw In.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function qo(S,x){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,L.Z)(function*(S,x){const R=yield Aa(S),U=vo(x.subscriptionOptions),J={method:"PATCH",headers:R,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(`${ws(S.appConfig)}/${x.token}`,J)).json()}catch(Oe){throw In.create("token-update-failed",{errorInfo:Oe})}if(ae.error)throw In.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw In.create("token-update-no-token");return ae.token})).apply(this,arguments)}function pl(S,x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,L.Z)(function*(S,x){const U={method:"DELETE",headers:yield Aa(S)};try{const ae=yield(yield fetch(`${ws(S.appConfig)}/${x}`,U)).json();if(ae.error)throw In.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(J){throw In.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function ws({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Aa(S){return wt.apply(this,arguments)}function wt(){return(wt=(0,L.Z)(function*({appConfig:S,installations:x}){const R=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function vo({p256dh:S,auth:x,endpoint:R,vapidKey:U}){const J={web:{endpoint:R,auth:x,p256dh:S}};return U!==Uo&&(J.web.applicationPubKey=U),J}const yu=6048e5;function fl(S){return vu.apply(this,arguments)}function vu(){return(vu=(0,L.Z)(function*(S){const x=yield Go(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:tr(x.getKey("auth")),p256dh:tr(x.getKey("p256dh"))},U=yield dl(S.firebaseDependencies);if(U){if(oc(U.subscriptionOptions,R))return Date.now()>=U.createTime+yu?wu(S,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield pl(S.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Me(S.firebaseDependencies,R)}return Me(S.firebaseDependencies,R)})).apply(this,arguments)}function rc(S){return sc.apply(this,arguments)}function sc(){return(sc=(0,L.Z)(function*(S){const x=yield dl(S.firebaseDependencies);x&&(yield pl(S.firebaseDependencies,x.token),yield ic(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function wu(S,x){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,L.Z)(function*(S,x){try{const R=yield qo(S.firebaseDependencies,x),U=Object.assign(Object.assign({},x),{token:R,createTime:Date.now()});return yield an(S.firebaseDependencies,U),R}catch(R){throw yield rc(S),R}})).apply(this,arguments)}function Me(S,x){return zt.apply(this,arguments)}function zt(){return(zt=(0,L.Z)(function*(S,x){const U={token:yield vs(S,x),createTime:Date.now(),subscriptionOptions:x};return yield an(S,U),U.token})).apply(this,arguments)}function Go(S,x){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,L.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fd(x)})})).apply(this,arguments)}function oc(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}function zo(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function xr(S,x){if(!x.notification)return;S.notification={};const R=x.notification.title;R&&(S.notification.title=R);const U=x.notification.body;U&&(S.notification.body=U);const J=x.notification.image;J&&(S.notification.image=J)}(x,S),function bu(S,x){!x.data||(S.data=x.data)}(x,S),function Cu(S,x){if(!x.fcmOptions)return;S.fcmOptions={};const R=x.fcmOptions.link;R&&(S.fcmOptions.link=R);const U=x.fcmOptions.analytics_label;U&&(S.fcmOptions.analyticsLabel=U)}(x,S),x}function Tu(S){return"object"==typeof S&&!!S&&Ia in S}function Vd(S,x){const R=[];for(let U=0;U<S.length;U++)R.push(S.charAt(U)),U<x.length&&R.push(x.charAt(U));return R.join("")}function Bs(S){return In.create("missing-app-config-values",{valueName:S})}Vd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qi{constructor(x,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Em(S){if(!S||!S.options)throw Bs("App Configuration Object");if(!S.name)throw Bs("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const U of x)if(!R[U])throw Bs(U);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:J,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Dr(S){return ac.apply(this,arguments)}function ac(){return(ac=(0,L.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Pd,{scope:Hi}),S.swRegistration.update().catch(()=>{})}catch(x){throw In.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function wo(S,x){return es.apply(this,arguments)}function es(){return(es=(0,L.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield Dr(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function Eu(S,x){return lc.apply(this,arguments)}function lc(){return(lc=(0,L.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=Uo)})).apply(this,arguments)}function Iu(){return(Iu=(0,L.Z)(function*(S,x){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield Eu(S,null==x?void 0:x.vapidKey),yield wo(S,null==x?void 0:x.serviceWorkerRegistration),fl(S)})).apply(this,arguments)}function ka(S,x,R){return uc.apply(this,arguments)}function uc(){return(uc=(0,L.Z)(function*(S,x,R){const U=dc(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Ia],message_name:R[Nd],message_time:R[qp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dc(S){switch(S){case Sa.NOTIFICATION_CLICKED:return"notification_open";case Sa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ud(){return(Ud=(0,L.Z)(function*(S,x){const R=x.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===Sa.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(zo(R)):S.onMessageHandler.next(zo(R)));const U=R.data;Tu(U)&&"1"===U[Gn]&&(yield ka(S,R.messageType,U))})).apply(this,arguments)}const hc="@firebase/messaging",Hd=S=>{const x=new qi(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Bd(S,x){return Ud.apply(this,arguments)}(x,R)),x},Oa=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:U=>function cc(S,x){return Iu.apply(this,arguments)}(x,U)}};function pc(){return gr.apply(this,arguments)}function gr(){return(gr=(0,L.Z)(function*(){try{yield(0,se.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jd(){(0,de._registerComponent)(new _e.wA("messaging",Hd,"PUBLIC")),(0,de._registerComponent)(new _e.wA("messaging-internal",Oa,"PRIVATE")),(0,de.registerVersion)(hc,"0.9.13"),(0,de.registerVersion)(hc,"0.9.13","esm2017")}();const qd="analytics",Im="firebase_id",Us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wo="https://www.googletagmanager.com/gtag/js",ri=new ue.Yd("@firebase/analytics");function Gd(S){return Promise.all(S.map(x=>x.catch(R=>R)))}function Sm(S,x){const R=document.createElement("script");R.src=`${Wo}?l=${S}&id=${x}`,R.async=!0,document.head.appendChild(R)}function Ra(S,x,R,U,J,ae){return fc.apply(this,arguments)}function fc(){return(fc=(0,L.Z)(function*(S,x,R,U,J,ae){const Oe=U[J];try{if(Oe)yield x[Oe];else{const ct=(yield Gd(R)).find(ht=>ht.measurementId===J);ct&&(yield x[ct.appId])}}catch(st){ri.error(st)}S("config",J,ae)})).apply(this,arguments)}function xm(S,x,R,U,J){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,L.Z)(function*(S,x,R,U,J){try{let ae=[];if(J&&J.send_to){let Oe=J.send_to;Array.isArray(Oe)||(Oe=[Oe]);const st=yield Gd(R);for(const ct of Oe){const ht=st.find(Et=>Et.measurementId===ct),Vt=ht&&x[ht.appId];if(!Vt){ae=[];break}ae.push(Vt)}}0===ae.length&&(ae=Object.values(x)),yield Promise.all(ae),S("event",U,J||{})}catch(ae){ri.error(ae)}})).apply(this,arguments)}function zd(){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(Wo))return x;return null}const Zn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pa=new class js{constructor(x={},R=1e3){this.throttleMetadata=x,this.intervalMillis=R}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,R){this.throttleMetadata[x]=R}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function $n(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Yo(S){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,L.Z)(function*(S){var x;const{appId:R,apiKey:U}=S,J={method:"GET",headers:$n(U)},ae=Us.replace("{app-id}",R),Oe=yield fetch(ae,J);if(200!==Oe.status&&304!==Oe.status){let st="";try{const ct=yield Oe.json();(null===(x=ct.error)||void 0===x?void 0:x.message)&&(st=ct.error.message)}catch(ct){}throw Zn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:st})}return Oe.json()})).apply(this,arguments)}function tn(S){return qs.apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(S,x=Pa,R){const{appId:U,apiKey:J,measurementId:ae}=S.options;if(!U)throw Zn.create("no-app-id");if(!J){if(ae)return{measurementId:ae,appId:U};throw Zn.create("no-api-key")}const Oe=x.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new xu;return setTimeout((0,L.Z)(function*(){st.abort()}),void 0!==R?R:6e4),Na({appId:U,apiKey:J,measurementId:ae},Oe,st,x)})).apply(this,arguments)}function Na(S,x,R){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,L.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:R},U,J=Pa){const{appId:ae,measurementId:Oe}=S;try{yield Zd(U,x)}catch(st){if(Oe)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Oe};throw st}try{const st=yield Yo(S);return J.deleteThrottleMetadata(ae),st}catch(st){if(!$p(st)){if(J.deleteThrottleMetadata(ae),Oe)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Oe};throw st}const ct=503===Number(st.customData.httpStatus)?(0,se.$s)(R,J.intervalMillis,30):(0,se.$s)(R,J.intervalMillis),ht={throttleEndTimeMillis:Date.now()+ct,backoffCount:R+1};return J.setThrottleMetadata(ae,ht),ri.debug(`Calling attemptFetch again in ${ct} millis`),Na(S,ht,U,J)}})).apply(this,arguments)}function Zd(S,x){return new Promise((R,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(R,J);S.addEventListener(()=>{clearTimeout(ae),U(Zn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function $p(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}class xu{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function Fa(){return mc.apply(this,arguments)}function mc(){return(mc=(0,L.Z)(function*(){if(!(0,se.hl)())return ri.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return ri.warn(Zn.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function Nt(){return(Nt=(0,L.Z)(function*(S,x,R,U,J,ae,Oe){var st;const ct=tn(S);ct.then(Kn=>{R[Kn.measurementId]=Kn.appId,S.options.measurementId&&Kn.measurementId!==S.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>ri.error(Kn)),x.push(ct);const ht=Fa().then(Kn=>{if(Kn)return U.getId()}),[Vt,Et]=yield Promise.all([ct,ht]);zd()||Sm(ae,Vt.measurementId),J("js",new Date);const si=null!==(st=null==Oe?void 0:Oe.config)&&void 0!==st?st:{};return si.origin="firebase",si.update=!0,null!=Et&&(si[Im]=Et),J("config",Vt.measurementId,si),Vt.measurementId})).apply(this,arguments)}class Cs{constructor(x){this.app=x}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},ml=[];const _c={};let Du,bo,La="dataLayer",yc=!1;function wc(S,x,R){!function vc(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((U,J)=>`(${J+1}) ${U}`).join(" "),R=Zn.create("invalid-analytics-context",{errorInfo:x});ri.warn(R.message)}}();const U=S.options.appId;if(!U)throw Zn.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Zn.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[U])throw Zn.create("already-exists",{id:U});if(!yc){!function Ko(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(La);const{wrappedGtag:ae,gtagCore:Oe}=function Dm(S,x,R,U,J){let ae=function(...Oe){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ae=window[J]),window[J]=function gc(S,x,R,U){function ae(){return(ae=(0,L.Z)(function*(Oe,st,ct){try{"event"===Oe?yield xm(S,x,R,st,ct):"config"===Oe?yield Ra(S,x,R,U,st,ct):S("set",st)}catch(ht){ri.error(ht)}})).apply(this,arguments)}return function J(Oe,st,ct){return ae.apply(this,arguments)}}(ae,S,x,R),{gtagCore:ae,wrappedGtag:window[J]}}(Ii,ml,_c,La,"gtag");bo=ae,Du=Oe,yc=!0}return Ii[U]=function bs(S,x,R,U,J,ae,Oe){return Nt.apply(this,arguments)}(S,ml,_c,x,Du,La,R),new Cs(S)}function bc(){return(bc=(0,L.Z)(function*(S,x,R,U,J){if(J&&J.global)S("event",R,U);else{const ae=yield x;S("event",R,Object.assign(Object.assign({},U),{send_to:ae}))}})).apply(this,arguments)}function Ba(){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,L.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}const Wp="@firebase/analytics";!function Rm(){(0,de._registerComponent)(new _e.wA(qd,(x,{options:R})=>wc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new _e.wA("analytics-internal",function S(x){try{const R=x.getProvider(qd).getImmediate();return{logEvent:(U,J,ae)=>function Om(S,x,R,U){S=(0,se.m9)(S),function yl(S,x,R,U,J){return bc.apply(this,arguments)}(bo,Ii[S.app.options.appId],x,R,U).catch(J=>ri.error(J))}(R,U,J,ae)}}catch(R){throw Zn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Wp,"0.7.9"),(0,de.registerVersion)(Wp,"0.7.9","esm2017")}();var Pm=F(4408),Qd=F(7565);const Xo=new class Wn extends Qd.v{}(class Ic extends Pm.o{constructor(x,R){super(x,R),this.scheduler=x,this.work=R}schedule(x,R=0){return R>0?super.schedule(x,R):(this.delay=R,this.state=x,this.scheduler.flush(this),this)}execute(x,R){return R>0||this.closed?super.execute(x,R):this._execute(x,R)}requestAsyncId(x,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(x,R,U):x.flush(this)}});var Mu=F(4986),ku=F(8505),Si=F(9468),Gi=F(5363);const xi=new s.GfV("7.3.0"),ea="__angularfire_symbol__analyticsIsSupportedValue",ns="__angularfire_symbol__analyticsIsSupported",zs="__angularfire_symbol__remoteConfigIsSupportedValue",Ts="__angularfire_symbol__remoteConfigIsSupported",ta="__angularfire_symbol__messagingIsSupportedValue",Kp="__angularfire_symbol__messagingIsSupported";function Ua(S,x,R){if(x){if(1===x.length)return x[0];const ae=x.filter(Oe=>Oe.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[ns]||(globalThis[ns]=Ba().then(S=>globalThis[ea]=S).catch(()=>globalThis[ea]=!1)),globalThis[Kp]||(globalThis[Kp]=pc().then(S=>globalThis[ta]=S).catch(()=>globalThis[ta]=!1)),globalThis[Ts]||(globalThis[Ts]=nc().then(S=>globalThis[zs]=S).catch(()=>globalThis[zs]=!1));const Yp=(S,x)=>{const R=x?[x]:(0,ee.C6)(),U=[];return R.forEach(J=>{J.container.getProvider(S).instances.forEach(Oe=>{U.includes(Oe)||U.push(Oe)})}),U};function Es(){}class Qp{constructor(x,R=Xo){this.zone=x,this.delegate=R}now(){return this.delegate.now()}schedule(x,R,U){const J=this.zone;return this.delegate.schedule(function(Oe){J.runGuarded(()=>{x.apply(this,[Oe])})},R,U)}}class xc{constructor(x){this.zone=x,this.task=null}call(x,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),R.pipe((0,ku.b)({next:U,complete:U,error:U})).subscribe(x).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ou=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Qp(Zone.current)),this.insideAngular=R.run(()=>new Qp(Zone.current,Mu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Zs(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ac(S){return Zs(),function Is(S){return function(R){return(R=R.lift(new xc(S.ngZone))).pipe((0,Si.R)(S.outsideAngular),(0,Gi.Q)(S.insideAngular))}}(Zs())(S)}},2090:(et,we,F)=>{F.d(we,{$s:()=>Zt,BH:()=>ze,DV:()=>Xt,Dv:()=>ho,G6:()=>qe,GJ:()=>rn,L:()=>le,LL:()=>ce,Mn:()=>Ie,Pz:()=>qt,Sg:()=>ke,UG:()=>ge,UI:()=>cs,US:()=>_e,Wj:()=>Fn,Yr:()=>je,ZB:()=>q,ZR:()=>ve,b$:()=>Je,cI:()=>Wt,d:()=>Ae,dS:()=>Fo,eu:()=>Ce,g5:()=>L,gK:()=>dr,gQ:()=>ur,h$:()=>ue,hl:()=>G,hu:()=>ee,jU:()=>Se,lb:()=>Er,m9:()=>Vi,ne:()=>Qr,p$:()=>z,pd:()=>uo,r3:()=>Qi,ru:()=>Ze,tV:()=>pe,uI:()=>Ue,ug:()=>Kt,vZ:()=>Cr,w1:()=>Te,w9:()=>dn,xO:()=>Ji,xb:()=>Gt,z$:()=>Ne,zI:()=>Y,zd:()=>us});const ee=function(H,$){if(!H)throw L($)},L=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},de=function(H){const $=[];let W=0;for(let xe=0;xe<H.length;xe++){let Z=H.charCodeAt(xe);Z<128?$[W++]=Z:Z<2048?($[W++]=Z>>6|192,$[W++]=63&Z|128):55296==(64512&Z)&&xe+1<H.length&&56320==(64512&H.charCodeAt(xe+1))?(Z=65536+((1023&Z)<<10)+(1023&H.charCodeAt(++xe)),$[W++]=Z>>18|240,$[W++]=Z>>12&63|128,$[W++]=Z>>6&63|128,$[W++]=63&Z|128):($[W++]=Z>>12|224,$[W++]=Z>>6&63|128,$[W++]=63&Z|128)}return $},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,$){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let Z=0;Z<H.length;Z+=3){const te=H[Z],Pe=Z+1<H.length,tt=Pe?H[Z+1]:0,yt=Z+2<H.length,xt=yt?H[Z+2]:0;let ti=(15&tt)<<2|xt>>6,Xi=63&xt;yt||(Xi=64,Pe||(ti=64)),xe.push(W[te>>2],W[(3&te)<<4|tt>>4],W[ti],W[Xi])}return xe.join("")},encodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(H):this.encodeByteArray(de(H),$)},decodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(H):function(H){const $=[];let W=0,xe=0;for(;W<H.length;){const Z=H[W++];if(Z<128)$[xe++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const te=H[W++];$[xe++]=String.fromCharCode((31&Z)<<6|63&te)}else if(Z>239&&Z<365){const yt=((7&Z)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;$[xe++]=String.fromCharCode(55296+(yt>>10)),$[xe++]=String.fromCharCode(56320+(1023&yt))}else{const te=H[W++],Pe=H[W++];$[xe++]=String.fromCharCode((15&Z)<<12|(63&te)<<6|63&Pe)}}return $.join("")}(this.decodeStringToByteArray(H,$))},decodeStringToByteArray(H,$){this.init_();const W=$?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let Z=0;Z<H.length;){const te=W[H.charAt(Z++)],tt=Z<H.length?W[H.charAt(Z)]:0;++Z;const xt=Z<H.length?W[H.charAt(Z)]:64;++Z;const It=Z<H.length?W[H.charAt(Z)]:64;if(++Z,null==te||null==tt||null==xt||null==It)throw Error();xe.push(te<<2|tt>>4),64!==xt&&(xe.push(tt<<4&240|xt>>2),64!==It&&xe.push(xt<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ue=function(H){const $=de(H);return _e.encodeByteArray($,!0)},le=function(H){return ue(H).replace(/\./g,"")},pe=function(H){try{return _e.decodeString(H,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function z(H){return q(void 0,H)}function q(H,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return $}for(const W in $)!$.hasOwnProperty(W)||!ie(W)||(H[W]=q(H[W],$[W]));return H}function ie(H){return"__proto__"!==H}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,W)=>{this.resolve=$,this.reject=W})}wrapCallback($){return(W,xe)=>{W?this.reject(W):this.resolve(xe),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(W):$(W,xe))}}}function ke(H,$){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=$||"demo-project",Z=H.iat||0,te=H.sub||H.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:Z,exp:Z+3600,auth_time:Z,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},H);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Pe)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Ne().indexOf("Electron/")>=0}function Te(){const H=Ne();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ie(){return Ne().indexOf("MSAppHost/")>=0}function je(){return!1}function qe(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function Ce(){return new Promise((H,$)=>{try{let W=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(xe);Z.onsuccess=()=>{Z.result.close(),W||self.indexedDB.deleteDatabase(xe),H(!0)},Z.onupgradeneeded=()=>{W=!1},Z.onerror=()=>{var te;$((null===(te=Z.error)||void 0===te?void 0:te.message)||"")}}catch(W){$(W)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor($,W,xe){super(W),this.code=$,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor($,W,xe){this.service=$,this.serviceName=W,this.errors=xe}create($,...W){const xe=W[0]||{},Z=`${this.service}/${$}`,te=this.errors[$],Pe=te?function Fe(H,$){return H.replace(gt,(W,xe)=>{const Z=$[xe];return null!=Z?String(Z):`<${xe}?>`})}(te,xe):"Error";return new ve(Z,`${this.serviceName}: ${Pe} (${Z}).`,xe)}}const gt=/\{\$([^}]+)}/g;function Wt(H){return JSON.parse(H)}function qt(H){return JSON.stringify(H)}const Ke=function(H){let $={},W={},xe={},Z="";try{const te=H.split(".");$=Wt(pe(te[0])||""),W=Wt(pe(te[1])||""),Z=te[2],xe=W.d||{},delete W.d}catch(te){}return{header:$,claims:W,data:xe,signature:Z}},dn=function(H){const W=Ke(H).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},rn=function(H){const $=Ke(H).claims;return"object"==typeof $&&!0===$.admin};function Qi(H,$){return Object.prototype.hasOwnProperty.call(H,$)}function Xt(H,$){if(Object.prototype.hasOwnProperty.call(H,$))return H[$]}function Gt(H){for(const $ in H)if(Object.prototype.hasOwnProperty.call(H,$))return!1;return!0}function cs(H,$,W){const xe={};for(const Z in H)Object.prototype.hasOwnProperty.call(H,Z)&&(xe[Z]=$.call(W,H[Z],Z,H));return xe}function Cr(H,$){if(H===$)return!0;const W=Object.keys(H),xe=Object.keys($);for(const Z of W){if(!xe.includes(Z))return!1;const te=H[Z],Pe=$[Z];if(Ni(te)&&Ni(Pe)){if(!Cr(te,Pe))return!1}else if(te!==Pe)return!1}for(const Z of xe)if(!W.includes(Z))return!1;return!0}function Ni(H){return null!==H&&"object"==typeof H}function Ji(H){const $=[];for(const[W,xe]of Object.entries(H))Array.isArray(xe)?xe.forEach(Z=>{$.push(encodeURIComponent(W)+"="+encodeURIComponent(Z))}):$.push(encodeURIComponent(W)+"="+encodeURIComponent(xe));return $.length?"&"+$.join("&"):""}function us(H){const $={};return H.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[Z,te]=xe.split("=");$[decodeURIComponent(Z)]=decodeURIComponent(te)}}),$}function uo(H){const $=H.indexOf("?");if(!$)return"";const W=H.indexOf("#",$);return H.substring($,W>0?W:void 0)}class ur{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,W){W||(W=0);const xe=this.W_;if("string"==typeof $)for(let It=0;It<16;It++)xe[It]=$.charCodeAt(W)<<24|$.charCodeAt(W+1)<<16|$.charCodeAt(W+2)<<8|$.charCodeAt(W+3),W+=4;else for(let It=0;It<16;It++)xe[It]=$[W]<<24|$[W+1]<<16|$[W+2]<<8|$[W+3],W+=4;for(let It=16;It<80;It++){const ti=xe[It-3]^xe[It-8]^xe[It-14]^xe[It-16];xe[It]=4294967295&(ti<<1|ti>>>31)}let xt,yn,Z=this.chain_[0],te=this.chain_[1],Pe=this.chain_[2],tt=this.chain_[3],yt=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(xt=tt^te&(Pe^tt),yn=1518500249):(xt=te^Pe^tt,yn=1859775393):It<60?(xt=te&Pe|tt&(te|Pe),yn=2400959708):(xt=te^Pe^tt,yn=3395469782);const ti=(Z<<5|Z>>>27)+xt+yt+yn+xe[It]&4294967295;yt=tt,tt=Pe,Pe=4294967295&(te<<30|te>>>2),te=Z,Z=ti}this.chain_[0]=this.chain_[0]+Z&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+Pe&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+yt&4294967295}update($,W){if(null==$)return;void 0===W&&(W=$.length);const xe=W-this.blockSize;let Z=0;const te=this.buf_;let Pe=this.inbuf_;for(;Z<W;){if(0===Pe)for(;Z<=xe;)this.compress_($,Z),Z+=this.blockSize;if("string"==typeof $){for(;Z<W;)if(te[Pe]=$.charCodeAt(Z),++Pe,++Z,Pe===this.blockSize){this.compress_(te),Pe=0;break}}else for(;Z<W;)if(te[Pe]=$[Z],++Pe,++Z,Pe===this.blockSize){this.compress_(te),Pe=0;break}}this.inbuf_=Pe,this.total_+=W}digest(){const $=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Z=this.blockSize-1;Z>=56;Z--)this.buf_[Z]=255&W,W/=256;this.compress_(this.buf_);let xe=0;for(let Z=0;Z<5;Z++)for(let te=24;te>=0;te-=8)$[xe]=this.chain_[Z]>>te&255,++xe;return $}}function Qr(H,$){const W=new vt(H,$);return W.subscribe.bind(W)}class vt{constructor($,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{$(this)}).catch(xe=>{this.error(xe)})}next($){this.forEachObserver(W=>{W.next($)})}error($){this.forEachObserver(W=>{W.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,W,xe){let Z;if(void 0===$&&void 0===W&&void 0===xe)throw new Error("Missing Observer.");Z=function Dn(H,$){if("object"!=typeof H||null===H)return!1;for(const W of $)if(W in H&&"function"==typeof H[W])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:W,complete:xe},void 0===Z.next&&(Z.next=Nn),void 0===Z.error&&(Z.error=Nn),void 0===Z.complete&&(Z.complete=Nn);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(Pe){}}),this.observers.push(Z),te}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,$)}sendOne($,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{W(this.observers[$])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}const ho=function(H,$,W,xe){let Z;if(xe<$?Z="at least "+$:xe>W&&(Z=0===W?"none":"no more than "+W),Z)throw new Error(H+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+Z+".")};function dr(H,$){return`${H} failed: ${$} argument `}function Fn(H,$,W,xe){if((!xe||W)&&"function"!=typeof W)throw new Error(dr(H,$)+"must be a valid function.")}function Er(H,$,W,xe){if((!xe||W)&&("object"!=typeof W||null===W))throw new Error(dr(H,$)+"must be a valid context object.")}const Fo=function(H){const $=[];let W=0;for(let xe=0;xe<H.length;xe++){let Z=H.charCodeAt(xe);if(Z>=55296&&Z<=56319){const te=Z-55296;xe++,ee(xe<H.length,"Surrogate pair missing trail surrogate."),Z=65536+(te<<10)+(H.charCodeAt(xe)-56320)}Z<128?$[W++]=Z:Z<2048?($[W++]=Z>>6|192,$[W++]=63&Z|128):Z<65536?($[W++]=Z>>12|224,$[W++]=Z>>6&63|128,$[W++]=63&Z|128):($[W++]=Z>>18|240,$[W++]=Z>>12&63|128,$[W++]=Z>>6&63|128,$[W++]=63&Z|128)}return $},Kt=function(H){let $=0;for(let W=0;W<H.length;W++){const xe=H.charCodeAt(W);xe<128?$++:xe<2048?$+=2:xe>=55296&&xe<=56319?($+=4,W++):$+=3}return $};function Zt(H,$=1e3,W=2){const xe=$*Math.pow(W,H),Z=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+Z)}function Vi(H){return H&&H._delegate?H._delegate:H}},8776:(et,we,F)=>{var s=F(5e3);let ee=null;function L(){return ee}const ue=new s.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(q)}()},providedIn:"platform"}),n})();const z=new s.OlP("Location Initialized");let q=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ze(){return new q((0,s.LFG)(ue))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(n){const t=(0,s.LFG)(ue).location;return new Je((0,s.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ze=new s.OlP("appBaseHref");let Je=(()=>{class n extends ge{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+Ue(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+Ue(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(Ze,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends ge{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+Ue(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+Ue(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(Ze,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(qe(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ue(i))}normalize(e){return n.stripTrailingSlash(function je(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(e){return new(e||n)(s.LFG(ge),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ie(){return new Te((0,s.LFG)(ge),(0,s.LFG)(le))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}function Ta(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let En=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ut=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),Bo(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Bo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Bo(n,t){n.context.$implicit=t.item}let Ot=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ec("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ec("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function ec(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let wn=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Bi=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ms=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})(),Gn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ho="browser";function xa(n){return"server"===n}let gu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Da((0,s.LFG)(ue),window)}),n})();class Da{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ys(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mu(this.window.history)||mu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pn{}class jo extends class dl extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new jo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hl(){return an=an||document.querySelector("base"),an?an.getAttribute("href"):null}();return null==e?null:function yo(n){ic=ic||document.createElement("a"),ic.setAttribute("href",n);const t=ic.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){an=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ta(document.cookie,t)}}let ic,an=null;const Ti=new s.OlP("TRANSITION_ID"),In=[{provide:s.ip1,useFactory:function _u(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ti,ue,s.zs3],multi:!0}];class vs{static init(){(0,s.VLi)(new vs)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(f){c=c||f,o--,0==o&&i(c)};r.forEach(function(f){f.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ei=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const qo=new s.OlP("EventManagerPlugins");let Vs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class pl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Xr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends Xr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Aa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Aa))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Aa(n){L().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vo=/%COMP%/g;function Ma(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ma(n,r,e):(r=r.replace(vo,n),e.push(r))}return e}function Me(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Go=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Tn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new xr(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new bu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ma(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vs),s.LFG(ws),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Tn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wt[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Me(i)):this.eventManager.addEventListener(t,e,Me(i))}}class xr extends Tn{constructor(t,e,i,r){super(t),this.component=i;const o=Ma(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function sc(n){return"_ngcontent-%COMP%".replace(vo,n)}(r+"-"+i.id),this.hostAttr=function wu(n){return"_nghost-%COMP%".replace(vo,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class bu extends Tn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ma(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Cu=(()=>{class n extends pl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Tu=["alt","control","meta","shift"],Em={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dr=(()=>{class n extends pl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(Tu.forEach(f=>{const y=i.indexOf(f);y>-1&&(i.splice(y,1),c+=f+".")}),c+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(e){let i="",r=function ac(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Bs.hasOwnProperty(t)&&(t=Bs[t]))}return Em[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Tu.forEach(o=>{o!=r&&qi[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const cc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ho},{provide:s.g9A,useValue:function wo(){jo.makeCurrent(),vs.init()},multi:!0},{provide:ue,useFactory:function Eu(){return(0,s.RDi)(document),document},deps:[]}]),Iu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function es(){return new s.qLn},deps:[]},{provide:qo,useClass:Cu,multi:!0,deps:[ue,s.R0b,s.Lbi]},{provide:qo,useClass:Dr,multi:!0,deps:[ue]},{provide:Go,useClass:Go,deps:[Vs,ws,s.AFp]},{provide:s.FYo,useExisting:Go},{provide:Xr,useExisting:ws},{provide:ws,useClass:ws,deps:[ue]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Vs,useClass:Vs,deps:[qo,s.R0b]},{provide:pn,useClass:Ei,deps:[]}];let ka=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ti,useExisting:s.AFp},In]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Iu,imports:[Gn,s.hGG]}),n})();"undefined"!=typeof window&&window;class zd{}const Zn="*";function Ar(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mr(n,t=null){return{type:4,styles:t,timings:n}}function Pa(n,t=null){return{type:2,steps:n,options:t}}function $n(n){return{type:6,styles:n,offset:null}}function Yo(n,t,e){return{type:0,name:n,styles:t,options:e}}function tn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function qs(n,t=null){return{type:8,animation:n,options:t}}function Na(n=null){return{type:9,options:n}}function Jo(n,t=null){return{type:10,animation:n,options:t}}function Zd(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function xu(n){Promise.resolve(null).then(n)}class Fa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class mc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?xu(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Nt=!1;function Ii(n){return new s.vHH(3e3,Nt)}function Wn(){return"undefined"!=typeof window&&void 0!==window.document}function Xo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ts(n){switch(n.length){case 0:return new Fa;case 1:return n[0];default:return new mc(n)}}function Mu(n,t,e,i,r={},o={}){const c=[],h=[];let f=-1,y=null;if(i.forEach(T=>{const I=T.offset,M=I==f,P=M&&y||{};Object.keys(T).forEach(V=>{let Q=V,ye=T[V];if("offset"!==V)switch(Q=t.normalizePropertyName(Q,c),ye){case"!":ye=r[V];break;case Zn:ye=o[V];break;default:ye=t.normalizeStyleValue(V,Q,ye,c)}P[Q]=ye}),M||h.push(P),y=P,f=I}),c.length)throw function Wd(n){return new s.vHH(3502,Nt)}();return h}function ku(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Si(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Si(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Si(e,"destroy",n)))}}function Si(n,t,e){const i=e.totalTime,o=Gi(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function Gi(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function xi(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function ea(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let ns=(n,t)=>!1,zs=(n,t,e)=>[],Ts=null;function ta(n){const t=n.parentNode||n.host;return t===Ts?null:t}(Xo()||"undefined"!=typeof Element)&&(Wn()?(Ts=(()=>document.documentElement)(),ns=(n,t)=>{for(;t;){if(t===n)return!0;t=ta(t)}return!1}):ns=(n,t)=>n.contains(t),zs=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let na=null,zi=!1;function Sc(n){na||(na=function Ua(){return"undefined"!=typeof document?document.body:null}()||{},zi=!!na.style&&"WebkitAppearance"in na.style);let t=!0;return na.style&&!function Jd(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in na.style,!t&&zi&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in na.style)),t}const Yp=ns,Es=zs;let xc=(()=>{class n{validateStyleProperty(e){return Sc(e)}matchesElement(e,i){return!1}containsElement(e,i){return Yp(e,i)}getParentElement(e){return ta(e)}query(e,i,r){return Es(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,h=[],f){return new Fa(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ou=(()=>{class n{}return n.NOOP=new xc,n})();const Io="ng-enter",Ha="ng-leave",Ac="ng-trigger",Is=".ng-trigger",ja="ng-animating",ia=".ng-animating";function S(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:x(parseFloat(t[1]),t[2])}function x(n,t){return"s"===t?1e3*n:n}function R(n,t,e){return n.hasOwnProperty("duration")?n:function U(n,t,e){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(Ii()),{duration:0,delay:0,easing:""};r=x(parseFloat(h[1]),h[2]);const f=h[3];null!=f&&(o=x(parseFloat(f),h[4]));const y=h[5];y&&(c=y)}else r=n;if(!e){let h=!1,f=t.length;r<0&&(t.push(function ml(){return new s.vHH(3100,Nt)}()),h=!0),o<0&&(t.push(function _c(){return new s.vHH(3101,Nt)}()),h=!0),h&&t.splice(f,0,Ii())}return{duration:r,delay:o,easing:c}}(n,t,e)}function J(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Oe(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else J(n,e);return e}function st(n,t,e){return e?t+":"+e+";":""}function ct(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=st(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=st(0,qa(e),n.style[e]));n.setAttribute("style",t)}function ht(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=is(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Xo()&&ct(n))}function Vt(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=is(e);n.style[i]=""}),Xo()&&ct(n))}function Et(n){return Array.isArray(n)?1==n.length?n[0]:Pa(n):n}const Kn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ra(n){let t=[];if("string"==typeof n){let e;for(;e=Kn.exec(n);)t.push(e[1]);Kn.lastIndex=0}return t}function $s(n,t,e){const i=n.toString(),r=i.replace(Kn,(o,c)=>{let h=t[c];return t.hasOwnProperty(c)||(e.push(function _l(n){return new s.vHH(3003,Nt)}()),h=""),h.toString()});return r==i?n:r}function mr(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const kr=/-+([a-z0-9])/g;function is(n){return n.replace(kr,(...t)=>t[1].toUpperCase())}function qa(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Du(n){return new s.vHH(3004,Nt)}()}}function Ru(n,t){return window.getComputedStyle(n)[t]}function Lm(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function A0(n,t,e){if(":"==n[0]){const f=function Xd(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function To(n){return new s.vHH(3016,Nt)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Va(n){return new s.vHH(3015,Nt)}()),t;const r=i[1],o=i[2],c=i[3];t.push(Fu(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(Fu(c,r))}(i,e,t)):e.push(n),e}const eh=new Set(["true","1"]),th=new Set(["false","0"]);function Fu(n,t){const e=eh.has(n)||th.has(n),i=eh.has(t)||th.has(t);return(r,o)=>{let c="*"==n||n==r,h="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?eh.has(n):th.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?eh.has(t):th.has(t)),c&&h}}const Rc=new RegExp("s*:selfs*,?","g");function Xp(n,t,e,i){return new M0(n).build(t,e,i)}class M0{constructor(t){this._driver=t}build(t,e,i){const r=new Bm(e);this._resetContextStyleTimingState(r);const o=nr(this,Et(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function yc(){return new s.vHH(3006,Nt)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const f=h,y=f.name;y.toString().split(/\s*,\s*/).forEach(T=>{f.name=T,o.push(this.visitState(f,e))}),f.name=y}else if(1==h.type){const f=this.visitTransition(h,e);i+=f.queryCount,r+=f.depCount,c.push(f)}else e.errors.push(function Mm(){return new s.vHH(3007,Nt)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{if(Lu(h)){const f=h;Object.keys(f).forEach(y=>{ra(f[y]).forEach(T=>{c.hasOwnProperty(T)||o.add(T)})})}}),o.size&&(mr(o.values()),e.errors.push(function vc(n,t){return new s.vHH(3008,Nt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=nr(this,Et(t.animation),e);return{type:1,matchers:Lm(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ga(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>nr(this,i,e)),options:Ga(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const h=nr(this,c,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Ga(t.options)}}visitAnimate(t,e){const i=function Hm(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tf(R(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=tf(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=R(e,t);return tf(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:$n({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,h=!1;if(!c){h=!0;const y={};i.easing&&(y.easing=i.easing),c=$n(y)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,e);f.isEmptyStep=h,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==Zn?i.push(c):e.errors.push(function wc(n){return new s.vHH(3002,Nt)}()):i.push(c)}):i.push(t.styles);let r=!1,o=null;return i.forEach(c=>{if(Lu(c)){const h=c,f=h.easing;if(f&&(o=f,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void e.unsupportedCSSPropertiesFound.add(h);const f=e.collectedStyles[e.currentQuerySelector],y=f[h];let T=!0;y&&(o!=r&&o>=y.startTime&&r<=y.endTime&&(e.errors.push(function bc(n,t,e,i,r){return new s.vHH(3010,Nt)}()),T=!1),o=y.startTime),T&&(f[h]={startTime:o,endTime:r}),e.options&&function si(n,t,e){const i=t.params||{},r=ra(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function La(n){return new s.vHH(3001,Nt)}())})}(c[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $d(){return new s.vHH(3011,Nt)}()),i;let o=0;const c=[];let h=!1,f=!1,y=0;const T=t.steps.map(He=>{const Xe=this._makeStyleAst(He,e);let it=null!=Xe.offset?Xe.offset:function Um(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Lu(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Lu(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Xe.styles),rt=0;return null!=it&&(o++,rt=Xe.offset=it),f=f||rt<0||rt>1,h=h||rt<y,y=rt,c.push(rt),Xe});f&&e.errors.push(function Co(){return new s.vHH(3012,Nt)}()),h&&e.errors.push(function Cc(){return new s.vHH(3200,Nt)}());const I=t.steps.length;let M=0;o>0&&o<I?e.errors.push(function vl(){return new s.vHH(3202,Nt)}()):0==o&&(M=1/(I-1));const P=I-1,V=e.currentTime,Q=e.currentAnimateTimings,ye=Q.duration;return T.forEach((He,Xe)=>{const it=M>0?Xe==P?1:M*Xe:c[Xe],rt=it*ye;e.currentTime=V+Q.delay+rt,Q.duration=rt,this._validateStyleAst(He,e),He.offset=it,i.styles.push(He)}),i}visitReference(t,e){return{type:8,animation:nr(this,Et(t.animation),e),options:Ga(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ga(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ga(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function Pc(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Rc,"")),n=n.replace(/@\*/g,Is).replace(/@\w+/g,e=>Is+"-"+e.substr(1)).replace(/:animating/g,ia),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,xi(e.collectedStyles,e.currentQuerySelector,{});const h=nr(this,Et(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:Ga(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Tc(){return new s.vHH(3013,Nt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:R(t.timings,e.errors,!0);return{type:12,animation:nr(this,Et(t.animation),e),timings:i,options:null}}}class Bm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lu(n){return!Array.isArray(n)&&"object"==typeof n}function Ga(n){return n?(n=J(n)).params&&(n.params=function ef(n){return n?J(n):null}(n.params)):n={},n}function tf(n,t,e){return{duration:n,delay:t,easing:e}}function nf(n,t,e,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class ih{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Vu=new RegExp(":enter","g"),k0=new RegExp(":leave","g");function sf(n,t,e,i,r,o={},c={},h,f,y=[]){return(new O0).buildKeyframes(n,t,e,i,r,o,c,h,f,y)}class O0{buildKeyframes(t,e,i,r,o,c,h,f,y,T=[]){y=y||new ih;const I=new jm(t,e,y,r,o,T,[]);I.options=f,I.currentTimeline.setStyles([c],null,I.errors,f),nr(this,i,I);const M=I.timelines.filter(P=>P.containsAnimation());if(Object.keys(h).length){let P;for(let V=M.length-1;V>=0;V--){const Q=M[V];if(Q.element===e){P=Q;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,I.errors,f)}return M.length?M.map(P=>P.buildKeyframes()):[nf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?S(i.duration):null,h=null!=i.delay?S(i.delay):null;return 0!==c&&t.forEach(f=>{const y=e.appendInstructionToTimeline(f,c,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),nr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Bu);const c=S(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>nr(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?S(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),nr(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return R(e.params?$s(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(f=>{h.forwardTime((f.offset||0)*o),h.setStyles(f.styles,f.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?S(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Bu);let c=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let f=null;h.forEach((y,T)=>{e.currentQueryIndex=T;const I=e.createSubContext(t.options,y);o&&I.delayNextStep(o),y===e.element&&(f=I.currentTimeline),nr(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),h=c*(e.currentQueryTotal-1);let f=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=h-f;break;case"full":f=i.currentStaggerTime}const T=e.currentTimeline;f&&T.delayNextStep(f);const I=T.currentTime;nr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const Bu={};class jm{constructor(t,e,i,r,o,c,h,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Nc(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=S(i.duration)),null!=i.delay&&(r.delay=S(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=$s(o[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new jm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Bu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new qm(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(Vu,"."+this._enterClassName)).replace(k0,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&c.push(function Gs(n){return new s.vHH(3014,Nt)}()),h}}class Nc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Nc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Zn,this._currentKeyframe[e]=Zn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},c=function Iv(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Zn})):Oe(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const f=$s(c[h],o,i);this._pendingStyles[h]=f,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Zn),this._updateStyle(h,f)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,f)=>{const y=Oe(h,!0);Object.keys(y).forEach(T=>{const I=y[T];"!"==I?t.add(T):I==Zn&&e.add(T)}),i||(y.offset=f/this.duration),r.push(y)});const o=t.size?mr(t.values()):[],c=e.size?mr(e.values()):[];if(i){const h=r[0],f=J(h);h.offset=0,f.offset=1,r=[h,f]}return nf(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class qm extends Nc{constructor(t,e,i,r,o,c,h=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,h=e/c,f=Oe(t[0],!1);f.offset=0,o.push(f);const y=Oe(t[0],!1);y.offset=Gm(h),o.push(y);const T=t.length-1;for(let I=1;I<=T;I++){let M=Oe(t[I],!1);M.offset=Gm((e+M.offset*i)/c),o.push(M)}i=c,e=0,r="",t=o}return nf(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Gm(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Sv{}class rh extends Sv{normalizePropertyName(t,e){return is(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(zm[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function bo(n,t){return new s.vHH(3005,Nt)}())}return c+o}}const zm=(()=>function Ss(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Lc(n,t,e,i,r,o,c,h,f,y,T,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:f,preStyleProps:y,postStyleProps:T,totalTime:I,errors:M}}const Vc={};class of{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Zm(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):c}build(t,e,i,r,o,c,h,f,y,T){const I=[],M=this.ast.options&&this.ast.options.params||Vc,V=this.buildStyles(i,h&&h.params||Vc,I),Q=f&&f.params||Vc,ye=this.buildStyles(r,Q,I),He=new Set,Xe=new Map,it=new Map,rt="void"===r,At={params:Object.assign(Object.assign({},M),Q)},Rt=T?[]:sf(t,e,this.ast.animation,o,c,V,ye,At,y,I);let nn=0;if(Rt.forEach(Yi=>{nn=Math.max(Yi.duration+Yi.delay,nn)}),I.length)return Lc(e,this._triggerName,i,r,rt,V,ye,[],[],Xe,it,nn,I);Rt.forEach(Yi=>{const lo=Yi.element,FB=xi(Xe,lo,{});Yi.preStyleProps.forEach(mm=>FB[mm]=!0);const x0=xi(it,lo,{});Yi.postStyleProps.forEach(mm=>x0[mm]=!0),lo!==e&&He.add(lo)});const ei=mr(He.values());return Lc(e,this._triggerName,i,r,rt,V,ye,Rt,ei,Xe,it,nn)}}class $m{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=J(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!=c&&(r[o]=c)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const c=o;Object.keys(c).forEach(h=>{let f=c[h];f.length>1&&(f=$s(f,r,e));const y=this.normalizer.normalizePropertyName(h,e);f=this.normalizer.normalizeStyleValue(h,y,f,e),i[y]=f})}}),i}}class N0{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new $m(r.style,r.options&&r.options.params||{},i)}),sh(this.states,"true","1"),sh(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new of(t,r,this.states))}),this.fallbackTransition=function Uu(n,t,e){return new of(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function sh(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const af=new ih;class F0{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Xp(this._driver,e,i,[]);if(i.length)throw function Kd(n){return new s.vHH(3503,Nt)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Mu(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let c;const h=new Map;if(o?(c=sf(this._driver,e,o,Io,Ha,{},{},i,af,r),c.forEach(T=>{const I=xi(h,T.element,{});T.postStyleProps.forEach(M=>I[M]=null)})):(r.push(function An(){return new s.vHH(3300,Nt)}()),c=[]),r.length)throw function km(n){return new s.vHH(3504,Nt)}();h.forEach((T,I)=>{Object.keys(T).forEach(M=>{T[M]=this._driver.computeStyle(I,M,Zn)})});const y=ts(c.map(T=>{const I=h.get(T.element);return this._buildPlayer(T,{},I)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Cv(n){return new s.vHH(3301,Nt)}();return e}listen(t,e,i,r){const o=Gi(e,"","","");return ku(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const xv="ng-animate-queued",oh="ng-animate-disabled",ah=[],wl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Or="__ng_removed";class Bc{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Rv(n){return null!=n?n:null}(i?t.value:t),i){const o=J(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Sn="void",lh=new Bc(Sn);class kv{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ir(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Om(n,t){return new s.vHH(3302,Nt)}();if(null==i||0==i.length)throw function Wp(n){return new s.vHH(3303,Nt)}();if(!function Hu(n){return"start"==n||"done"==n}(i))throw function Yd(n,t){return new s.vHH(3400,Nt)}();const o=xi(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const h=xi(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(ir(t,Ac),ir(t,Ac+"-"+e),h[e]=lh),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(c);f>=0&&o.splice(f,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Rm(n){return new s.vHH(3401,Nt)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new uh(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(ir(t,Ac),ir(t,Ac+"-"+e),this._engine.statesByElement.set(t,h={}));let f=h[e];const y=new Bc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),h[e]=y,f||(f=lh),y.value!==Sn&&f.value===y.value){if(!function Di(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,y.params)){const Q=[],ye=o.matchStyles(f.value,f.params,Q),He=o.matchStyles(y.value,y.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Vt(t,ye),ht(t,He)})}return}const M=xi(this._engine.playersByElement,t,[]);M.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let P=o.matchTransition(f.value,y.value,t,y.params),V=!1;if(!P){if(!r)return;P=o.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:f,toState:y,player:c,isFallbackTransition:V}),V||(ir(t,xv),c.onStart(()=>{oi(t,xv)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const ye=this._engine.playersByElement.get(t);if(ye){let He=ye.indexOf(c);He>=0&&ye.splice(He,1)}}),this.players.push(c),M.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Is,!0);i.forEach(r=>{if(r[Or])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const h=[];if(Object.keys(o).forEach(f=>{if(c.set(f,o[f].value),this._triggers[f]){const y=this.trigger(t,f,Sn,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&ts(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const f=this._triggers[c].fallbackTransition,y=i[c]||lh,T=new Bc(Sn),I=new uh(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:f,fromState:y,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Or];(!o||o===wl)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ir(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const f=Gi(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,ku(i.player,h.phase,f,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class ch{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new kv(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const f=r.get(h);if(f){const y=i.indexOf(f);i.splice(y+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const c=i[r[o]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(dh(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dh(e))return;const o=e[Or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ir(t,oh)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),oi(t,oh))}removeNode(t,e,i,r){if(dh(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Or]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return dh(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Is,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ia,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ts(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Or];if(i&&i.setForRemoval){if(t[Or]=wl,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(oh))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ir(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ts(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Pm(n){return new s.vHH(3402,Nt)}()}_flushAnimations(t,e){const i=new ih,r=[],o=new Map,c=[],h=new Map,f=new Map,y=new Map,T=new Set;this.disabledNodes.forEach(pt=>{T.add(pt);const St=this.driver.query(pt,".ng-animate-queued",!0);for(let Pt=0;Pt<St.length;Pt++)T.add(St[Pt])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=Pv(M,this.collectedEnterElements),V=new Map;let Q=0;P.forEach((pt,St)=>{const Pt=Io+Q++;V.set(St,Pt),pt.forEach(fn=>ir(fn,Pt))});const ye=[],He=new Set,Xe=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const St=this.collectedLeaveElements[pt],Pt=St[Or];Pt&&Pt.setForRemoval&&(ye.push(St),He.add(St),Pt.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(fn=>He.add(fn)):Xe.add(St))}const it=new Map,rt=Pv(M,Array.from(He));rt.forEach((pt,St)=>{const Pt=Ha+Q++;it.set(St,Pt),pt.forEach(fn=>ir(fn,Pt))}),t.push(()=>{P.forEach((pt,St)=>{const Pt=V.get(St);pt.forEach(fn=>oi(fn,Pt))}),rt.forEach((pt,St)=>{const Pt=it.get(St);pt.forEach(fn=>oi(fn,Pt))}),ye.forEach(pt=>{this.processLeaveNode(pt)})});const At=[],Rt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(Pt=>{const fn=Pt.player,Yr=Pt.element;if(At.push(fn),this.collectedEnterElements.length){const co=Yr[Or];if(co&&co.setForMove){if(co.previousTriggersValues&&co.previousTriggersValues.has(Pt.triggerName)){const _m=co.previousTriggersValues.get(Pt.triggerName),Hp=this.statesByElement.get(Pt.element);Hp&&Hp[Pt.triggerName]&&(Hp[Pt.triggerName].value=_m)}return void fn.destroy()}}const hu=!I||!this.driver.containsElement(I,Yr),ba=it.get(Yr),Up=V.get(Yr),bi=this._buildInstruction(Pt,i,Up,ba,hu);if(bi.errors&&bi.errors.length)return void Rt.push(bi);if(hu)return fn.onStart(()=>Vt(Yr,bi.fromStyles)),fn.onDestroy(()=>ht(Yr,bi.toStyles)),void r.push(fn);if(Pt.isFallbackTransition)return fn.onStart(()=>Vt(Yr,bi.fromStyles)),fn.onDestroy(()=>ht(Yr,bi.toStyles)),void r.push(fn);const BB=[];bi.timelines.forEach(co=>{co.stretchStartingKeyframe=!0,this.disabledNodes.has(co.element)||BB.push(co)}),bi.timelines=BB,i.append(Yr,bi.timelines),c.push({instruction:bi,player:fn,element:Yr}),bi.queriedElements.forEach(co=>xi(h,co,[]).push(fn)),bi.preStyleProps.forEach((co,_m)=>{const Hp=Object.keys(co);if(Hp.length){let ym=f.get(_m);ym||f.set(_m,ym=new Set),Hp.forEach(FO=>ym.add(FO))}}),bi.postStyleProps.forEach((co,_m)=>{const Hp=Object.keys(co);let ym=y.get(_m);ym||y.set(_m,ym=new Set),Hp.forEach(FO=>ym.add(FO))})});if(Rt.length){const pt=[];Rt.forEach(St=>{pt.push(function Qd(n,t){return new s.vHH(3505,Nt)}())}),At.forEach(St=>St.destroy()),this.reportError(pt)}const nn=new Map,ei=new Map;c.forEach(pt=>{const St=pt.element;i.has(St)&&(ei.set(St,St),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,nn))}),r.forEach(pt=>{const St=pt.element;this._getPreviousPlayers(St,!1,pt.namespaceId,pt.triggerName,null).forEach(fn=>{xi(nn,St,[]).push(fn),fn.destroy()})});const Yi=ye.filter(pt=>bl(pt,f,y)),lo=new Map;Ym(lo,this.driver,Xe,y,Zn).forEach(pt=>{bl(pt,f,y)&&Yi.push(pt)});const x0=new Map;P.forEach((pt,St)=>{Ym(x0,this.driver,new Set(pt),f,"!")}),Yi.forEach(pt=>{const St=lo.get(pt),Pt=x0.get(pt);lo.set(pt,Object.assign(Object.assign({},St),Pt))});const mm=[],LB=[],VB={};c.forEach(pt=>{const{element:St,player:Pt,instruction:fn}=pt;if(i.has(St)){if(T.has(St))return Pt.onDestroy(()=>ht(St,fn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(fn.totalTime),void r.push(Pt);let Yr=VB;if(ei.size>1){let ba=St;const Up=[];for(;ba=ba.parentNode;){const bi=ei.get(ba);if(bi){Yr=bi;break}Up.push(ba)}Up.forEach(bi=>ei.set(bi,Yr))}const hu=this._buildAnimation(Pt.namespaceId,fn,nn,o,x0,lo);if(Pt.setRealPlayer(hu),Yr===VB)mm.push(Pt);else{const ba=this.playersByElement.get(Yr);ba&&ba.length&&(Pt.parentPlayer=ts(ba)),r.push(Pt)}}else Vt(St,fn.fromStyles),Pt.onDestroy(()=>ht(St,fn.toStyles)),LB.push(Pt),T.has(St)&&r.push(Pt)}),LB.forEach(pt=>{const St=o.get(pt.element);if(St&&St.length){const Pt=ts(St);pt.setRealPlayer(Pt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<ye.length;pt++){const St=ye[pt],Pt=St[Or];if(oi(St,Ha),Pt&&Pt.hasAnimation)continue;let fn=[];if(h.size){let hu=h.get(St);hu&&hu.length&&fn.push(...hu);let ba=this.driver.query(St,ia,!0);for(let Up=0;Up<ba.length;Up++){let bi=h.get(ba[Up]);bi&&bi.length&&fn.push(...bi)}}const Yr=fn.filter(hu=>!hu.destroyed);Yr.length?cf(this,St,Yr):this.processLeaveNode(St)}return ye.length=0,mm.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const St=this.players.indexOf(pt);this.players.splice(St,1)}),pt.play()}),mm}elementContainsData(t,e){let i=!1;const r=e[Or];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const f=!o||o==Sn;h.forEach(y=>{y.queued||!f&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const y=f.element,T=y!==o,I=xi(i,y,[]);this._getPreviousPlayers(y,T,c,h,e.toState).forEach(P=>{const V=P.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),P.destroy(),I.push(P)})}Vt(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const h=e.triggerName,f=e.element,y=[],T=new Set,I=new Set,M=e.timelines.map(V=>{const Q=V.element;T.add(Q);const ye=Q[Or];if(ye&&ye.removedBeforeQueried)return new Fa(V.duration,V.delay);const He=Q!==f,Xe=function uf(n){const t=[];return ju(n,t),t}((i.get(Q)||ah).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===Q),it=o.get(Q),rt=c.get(Q),At=Mu(0,this._normalizer,0,V.keyframes,it,rt),Rt=this._buildPlayer(V,At,Xe);if(V.subTimeline&&r&&I.add(Q),He){const nn=new uh(t,h,Q);nn.setRealPlayer(Rt),y.push(nn)}return Rt});y.forEach(V=>{xi(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function Ov(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),T.forEach(V=>ir(V,ja));const P=ts(M);return P.onDestroy(()=>{T.forEach(V=>oi(V,ja)),ht(f,e.toStyles)}),I.forEach(V=>{xi(r,V,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Fa(t.duration,t.delay)}}class uh{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Fa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>ku(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dh(n){return n&&1===n.nodeType}function Km(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Ym(n,t,e,i,r){const o=[];e.forEach(f=>o.push(Km(f)));const c=[];i.forEach((f,y)=>{const T={};f.forEach(I=>{const M=T[I]=t.computeStyle(y,I,r);(!M||0==M.length)&&(y[Or]=Mv,c.push(y))}),n.set(y,T)});let h=0;return e.forEach(f=>Km(f,o[h++])),c}function Pv(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(h){if(!h)return 1;let f=o.get(h);if(f)return f;const y=h.parentNode;return f=e.has(y)?y:r.has(y)?1:c(y),o.set(h,f),f}return t.forEach(h=>{const f=c(h);1!==f&&e.get(f).push(h)}),e}function ir(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function oi(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function cf(n,t,e){ts(e).onDone(()=>n.processLeaveNode(t))}function ju(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof mc?ju(i.players,t):t.push(i)}}function bl(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Uc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new ch(t,e,i),this._timelineEngine=new F0(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let h=this._triggerCache[c];if(!h){const f=[],T=Xp(this._driver,o,f,[]);if(f.length)throw function Ba(n,t){return new s.vHH(3404,Nt)}();h=function P0(n,t,e){return new N0(n,t,e)}(r,T,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=ea(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,h]=ea(i);return this._timelineEngine.listen(c,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Nv=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ht(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ht(this._element,this._initialStyles),this._endStyles&&(ht(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vt(this._element,this._endStyles),this._endStyles=null),ht(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rr(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];qu(r)&&(t=t||{},t[r]=n[r])}return t}function qu(n){return"display"===n||"position"===n}class hh{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Ru(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Fv{validateStyleProperty(t){return Sc(t)}matchesElement(t,e){return!1}containsElement(t,e){return Yp(t,e)}getParentElement(t){return ta(t)}query(t,e,i){return Es(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const y={},T=c.filter(M=>M instanceof hh);(function Nm(n,t){return 0===n||0===t})(i,r)&&T.forEach(M=>{let P=M.currentSnapshot;Object.keys(P).forEach(V=>y[V]=P[V])}),e=function Jp(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],c=[];if(i.forEach(h=>{o.hasOwnProperty(h)||c.push(h),o[h]=e[h]}),c.length)for(var r=1;r<t.length;r++){let h=t[r];c.forEach(function(f){h[f]=Ru(n,f)})}}return t}(t,e=e.map(M=>Oe(M,!1)),y);const I=function df(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=rr(t[0]),t.length>1&&(i=rr(t[t.length-1]))):t&&(e=rr(t)),e||i?new Nv(n,e,i):null}(t,e);return new hh(t,e,f,I)}}let ph=(()=>{class n extends zd{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Pa(e):e;return Gu(this._renderer,null,i,"register",[r]),new hf(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class hf extends class Am{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Lv(this._id,t,e||{},this._renderer)}}class Lv{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Gu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Gu(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const sa="@.disabled";let gh=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=null==c?void 0:c.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(o);return T||(T=new Qm("",o,this.engine),this._rendererCache.set(o,T)),T}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const f=T=>{Array.isArray(T)?T.forEach(f):this.engine.registerTrigger(c,h,e,T.name,T)};return i.data.animation.forEach(f),new Vv(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Uc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Qm{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==sa?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Vv extends Qm{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sa?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function mh(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),c="";return"@"!=o.charAt(0)&&([o,c]=function Jm(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let Rr=(()=>{class n extends Uc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(Ou),s.LFG(Sv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xm=new s.OlP("AnimationModuleType"),Ws=[{provide:zd,useClass:ph},{provide:Sv,useFactory:function pf(){return new rh}},{provide:Uc,useClass:Rr},{provide:s.FYo,useFactory:function ff(n,t,e){return new gh(n,t,e)},deps:[Go,Uc,s.R0b]}],Hc=[{provide:Ou,useFactory:()=>new Fv},{provide:Xm,useValue:"BrowserAnimations"},...Ws],e_=[{provide:Ou,useClass:xc},{provide:Xm,useValue:"NoopAnimations"},...Ws];let t_=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?e_:Hc}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Hc,imports:[ka]}),n})();var oa=F(3269),Vn=F(8996);function bt(...n){const t=(0,oa.yG)(n);return(0,Vn.D)(n,t)}var Zi=F(8306),Bn=F(5577),v=F(576);function g(n,t){return(0,v.m)(t)?(0,Bn.z)(n,t,1):(0,Bn.z)(n,1)}var m=F(4482),b=F(5403);function D(n,t){return(0,m.e)((e,i)=>{let r=0;e.subscribe((0,b.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var k=F(4004);class K{}class fe{}class Le{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Le;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Le?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nt{encodeKey(t){return Pr(t)}encodeValue(t){return Pr(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const mt=/%(\d[a-f0-9])/gi,ai={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Pr(n){return encodeURIComponent(n).replace(mt,(t,e)=>{var i;return null!==(i=ai[e])&&void 0!==i?i:t})}function Cl(n){return`${n}`}class xo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _t(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(c)||[];f.push(h),e.set(c,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new xo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Cl(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Cl(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Tl{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function zu(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function gf(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Zu(n){return"undefined"!=typeof FormData&&n instanceof FormData}class jc{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _h(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Le),this.context||(this.context=new Tl),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new xo,this.urlWithParams=e}serializeBody(){return null===this.body?null:zu(this.body)||gf(this.body)||Zu(this.body)||function mf(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zu(this.body)?null:gf(this.body)?this.body.type||null:zu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,T=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((M,P)=>M.set(P,t.setHeaders[P]),y)),t.setParams&&(T=Object.keys(t.setParams).reduce((M,P)=>M.set(P,t.setParams[P]),T)),new jc(i,r,c,{params:T,headers:y,context:I,reportProgress:f,responseType:o,withCredentials:h})}}var li=(()=>((li=li||{})[li.Sent=0]="Sent",li[li.UploadProgress=1]="UploadProgress",li[li.ResponseHeader=2]="ResponseHeader",li[li.DownloadProgress=3]="DownloadProgress",li[li.Response=4]="Response",li[li.User=5]="User",li))();class $u{constructor(t,e=200,i="OK"){this.headers=t.headers||new Le,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _f extends $u{constructor(t={}){super(t),this.type=li.ResponseHeader}clone(t={}){return new _f({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class n_ extends $u{constructor(t={}){super(t),this.type=li.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new n_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uv extends $u{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function yf(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Hv=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof jc)o=e;else{let f,y;f=r.headers instanceof Le?r.headers:new Le(r.headers),r.params&&(y=r.params instanceof xo?r.params:new xo({fromObject:r.params})),o=new jc(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=bt(o).pipe(g(f=>this.handler.handle(f)));if(e instanceof jc||"events"===r.observe)return c;const h=c.pipe(D(f=>f instanceof n_));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,k.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return h.pipe((0,k.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return h.pipe((0,k.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return h.pipe((0,k.U)(f=>f.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new xo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,yf(r,i))}post(e,i,r={}){return this.request("POST",e,yf(r,i))}put(e,i,r={}){return this.request("PUT",e,yf(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class i_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const V0=new s.OlP("HTTP_INTERCEPTORS");let Nx=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const B0=/^\)\]\}',?\n/;let qv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,V)=>r.setRequestHeader(P,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const P=r.statusText||"OK",V=new Le(r.getAllResponseHeaders()),Q=function U0(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new _f({headers:V,status:r.status,statusText:P,url:Q}),c},f=()=>{let{headers:P,status:V,statusText:Q,url:ye}=h(),He=null;204!==V&&(He=void 0===r.response?r.responseText:r.response),0===V&&(V=He?200:0);let Xe=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof He){const it=He;He=He.replace(B0,"");try{He=""!==He?JSON.parse(He):null}catch(rt){He=it,Xe&&(Xe=!1,He={error:rt,text:He})}}Xe?(i.next(new n_({body:He,headers:P,status:V,statusText:Q,url:ye||void 0})),i.complete()):i.error(new Uv({error:He,headers:P,status:V,statusText:Q,url:ye||void 0}))},y=P=>{const{url:V}=h(),Q=new Uv({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(Q)};let T=!1;const I=P=>{T||(i.next(h()),T=!0);let V={type:li.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},M=P=>{let V={type:li.UploadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),i.next(V)};return r.addEventListener("load",f),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:li.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",f),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vf=new s.OlP("XSRF_COOKIE_NAME"),r_=new s.OlP("XSRF_HEADER_NAME");class wf{}let s_=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ta(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(s.Lbi),s.LFG(vf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),o_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wf),s.LFG(r_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Gv=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(V0,[]);this.chain=i.reduceRight((r,o)=>new i_(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),bf=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:o_,useClass:Nx}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:vf,useValue:e.cookieName}:[],e.headerName?{provide:r_,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[o_,{provide:V0,useExisting:o_,multi:!0},{provide:wf,useClass:s_},{provide:vf,useValue:"XSRF-TOKEN"},{provide:r_,useValue:"X-XSRF-TOKEN"}]}),n})(),Hx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hv,{provide:K,useClass:Gv},qv,{provide:fe,useExisting:qv}],imports:[[bf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var mn=F(7579);class Ks extends mn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:zv}=Array,{getPrototypeOf:j0,prototype:UO,keys:q0}=Object;function G0(n){if(1===n.length){const t=n[0];if(zv(t))return{args:t,keys:null};if(function z0(n){return n&&"object"==typeof n&&j0(n)===UO}(t)){const e=q0(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var vh=F(4671);const{isArray:qx}=Array;function Zv(n){return(0,k.U)(t=>function aa(n,t){return qx(t)?n(...t):n(t)}(n,t))}function $v(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Gx=F(9672);function Z0(n,t,e){n?(0,Gx.f)(e,n,t):t()}function Cf(n,t){const e=(0,v.m)(n)?n:()=>n,i=r=>r.error(e());return new Zi.y(t?r=>t.schedule(i,0,r):i)}const a_=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var l_=F(8189);function c_(...n){return function Lt(){return(0,l_.J)(1)}()((0,Vn.D)(n,(0,oa.yG)(n)))}var El=F(8421);function Wv(n){return new Zi.y(t=>{(0,El.Xf)(n()).subscribe(t)})}var Il=F(515),xs=F(727);function Kv(){return(0,m.e)((n,t)=>{let e=null;n._refCount++;const i=(0,b.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Wx extends Zi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,m.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xs.w0;const e=this.getSubject();t.add(this.source.subscribe((0,b.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xs.w0.EMPTY)}return t}refCount(){return Kv()(this)}}function $i(n,t){return(0,m.e)((e,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();e.subscribe((0,b.x)(i,f=>{null==r||r.unsubscribe();let y=0;const T=o++;(0,El.Xf)(n(f,T)).subscribe(r=(0,b.x)(i,I=>i.next(t?t(f,I,T,y++):I),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var la=F(5698);function qc(...n){const t=(0,oa.yG)(n);return(0,m.e)((e,i)=>{(t?c_(n,e,t):c_(n,e)).subscribe(i)})}function $0(n,t,e,i,r){return(o,c)=>{let h=e,f=t,y=0;o.subscribe((0,b.x)(c,T=>{const I=y++;f=h?n(f,T,I):(h=!0,T),i&&c.next(f)},r&&(()=>{h&&c.next(f),c.complete()})))}}function Sl(n,t){return(0,m.e)($0(n,t,arguments.length>=2,!0))}function Wu(n){return(0,m.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,b.x)(e,void 0,void 0,c=>{o=(0,El.Xf)(n(c,Wu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function u_(n){return n<=0?()=>Il.E:(0,m.e)((t,e)=>{let i=[];t.subscribe((0,b.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Kx(n=d_){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function d_(){return new a_}function Tf(n){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function xl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):vh.y,(0,la.q)(1),e?Tf(t):Kx(()=>new a_))}var rs=F(8505);class Dl{constructor(t,e){this.id=t,this.url=e}}class Qv extends Dl{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ef extends Dl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class W0 extends Dl{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class K0 extends Dl{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jO extends Dl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yx extends Dl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qO extends Dl{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Y0 extends Dl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q0 extends Dl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class h_{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $O{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yt="primary";class WO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function If(n){return new WO(n)}const Jx="ngNavigationCancelingError";function X0(n){const t=Error("NavigationCancelingError: "+n);return t[Jx]=!0,t}function Jv(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ca(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!p_(n[r],t[r]))return!1;return!0}function p_(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Xv(n){return Array.prototype.concat.apply([],n)}function f_(n){return n.length>0?n[n.length-1]:null}function Un(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ua(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):bt(n)}const ew={exact:function tT(n,t,e){if(!zc(n.segments,t.segments)||!Al(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!tT(n.children[i],t.children[i],e))return!1;return!0},subset:Ku},eT={exact:function tD(n,t){return ca(n,t)},subset:function Sf(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>p_(n[e],t[e]))},ignored:()=>!0};function tw(n,t,e){return ew[e.paths](n.root,t.root,e.matrixParams)&&eT[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ku(n,t,e){return g_(n,t,t.segments,e)}function g_(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!zc(r,e)||t.hasChildren()||!Al(r,e,i))}if(n.segments.length===e.length){if(!zc(n.segments,e)||!Al(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ku(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(zc(n.segments,r)&&Al(n.segments,r,i)&&n.children[Yt])&&g_(n.children[Yt],t,o,i)}}function Al(n,t,e){return t.every((i,r)=>eT[e](n[r].parameters,i.parameters))}class da{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=If(this.queryParams)),this._queryParamMap}toString(){return __.serialize(this)}}class Ht{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Un(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y_(this)}}class xf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=If(this.parameters)),this._parameterMap}toString(){return sT(this)}}function zc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class m_{}class iw{parse(t){const e=new ow(t);return new da(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${wh(t.root,!0)}`,i=function iD(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Df(e)}=${Df(r)}`).join("&"):`${Df(e)}=${Df(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function iT(n){return encodeURI(n)}(t.fragment)}`:""}`}}const __=new iw;function y_(n){return n.segments.map(t=>sT(t)).join("/")}function wh(n,t){if(!n.hasChildren())return y_(n);if(t){const e=n.children[Yt]?wh(n.children[Yt],!1):"",i=[];return Un(n.children,(r,o)=>{o!==Yt&&i.push(`${o}:${wh(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function nw(n,t){let e=[];return Un(n.children,(i,r)=>{r===Yt&&(e=e.concat(t(i,r)))}),Un(n.children,(i,r)=>{r!==Yt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Yt?[wh(n.children[Yt],!1)]:[`${r}:${wh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${y_(n)}/${e[0]}`:`${y_(n)}/(${e.join("//")})`}}function nD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(n){return nD(n).replace(/%3B/gi,";")}function rw(n){return nD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(n){return decodeURIComponent(n)}function rT(n){return Af(n.replace(/\+/g,"%20"))}function sT(n){return`${rw(n.path)}${function Ys(n){return Object.keys(n).map(t=>`;${rw(t)}=${rw(n[t])}`).join("")}(n.parameters)}`}const rD=/^[^\/()?;=#]+/;function sw(n){const t=n.match(rD);return t?t[0]:""}const YO=/^[^=?&#]+/,QO=/^[^&#]+/;class ow{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Yt]=new Ht(t,e)),i}parseSegment(){const t=sw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xf(Af(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=sw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=sw(this.remaining);r&&(i=r,this.capture(i))}t[Af(e)]=Af(i)}parseQueryParam(t){const e=function oT(n){const t=n.match(YO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function sD(n){const t=n.match(QO);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=rT(e),o=rT(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=sw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Yt);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Yt]:new Ht([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class aw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=lw(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=lw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=cw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return cw(t,this._root).map(e=>e.value)}}function lw(n,t){if(n===t.value)return t;for(const e of t.children){const i=lw(n,e);if(i)return i}return null}function cw(n,t){if(n===t.value)return[t];for(const e of t.children){const i=cw(n,e);if(i.length)return i.unshift(t),i}return[]}class Ml{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class aT extends aw{constructor(t,e){super(t),this.snapshot=e,Mf(this,t)}toString(){return this.snapshot.toString()}}function uw(n,t){const e=function oD(n,t){const c=new v_([],{},{},"",{},Yt,t,null,n.root,-1,{});return new ha("",new Ml(c,[]))}(n,t),i=new Ks([new xf("",{})]),r=new Ks({}),o=new Ks({}),c=new Ks({}),h=new Ks(""),f=new bh(i,r,c,h,o,Yt,t,e.root);return f.snapshot=e.root,new aT(new Ml(f,[]),e)}class bh{constructor(t,e,i,r,o,c,h,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,k.U)(t=>If(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,k.U)(t=>If(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dw(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function lT(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class v_{constructor(t,e,i,r,o,c,h,f,y,T,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=If(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=If(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ha extends aw{constructor(t,e){super(e),this.url=t,Mf(this,e)}toString(){return cT(this._root)}}function Mf(n,t){t.value._routerState=n,t.children.forEach(e=>Mf(n,e))}function cT(n){const t=n.children.length>0?` { ${n.children.map(cT).join(", ")} } `:"";return`${n.value}${t}`}function hw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ca(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ca(t.params,e.params)||n.params.next(e.params),function Xx(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ca(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ca(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uT(n,t){const e=ca(n.params,t.params)&&function nT(n,t){return zc(n,t)&&n.every((e,i)=>ca(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||uT(n.parent,t.parent))}function kf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function aD(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kf(n,i,r);return kf(n,i)})}(n,t,e);return new Ml(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>kf(n,h)),c}}const i=function lD(n){return new bh(new Ks(n.url),new Ks(n.params),new Ks(n.queryParams),new Ks(n.fragment),new Ks(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>kf(n,o));return new Ml(i,r)}}function w_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Of(n){return"object"==typeof n&&null!=n&&n.outlets}function Ch(n,t,e,i,r){let o={};if(i&&Un(i,(h,f)=>{o[f]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===t)return new da(e,o,r);const c=b_(n,t,e);return new da(c,o,r)}function b_(n,t,e){const i={};return Un(n.children,(r,o)=>{i[o]=r===t?e:b_(r,t,e)}),new Ht(n.segments,i)}class hT{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&w_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Of);if(r&&r!==f_(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function C_(n,t,e){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return gw(n,t,e);const i=function cD(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],h=e[i];if(Of(h))break;const f=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!_w(f,y,c))return o;i+=2}else{if(!_w(f,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ht(n.segments.slice(0,i.pathIndex),{});return o.children[Yt]=new Ht(n.segments.slice(i.pathIndex),n.children),gw(o,0,r)}return i.match&&0===r.length?new Ht(n.segments,{}):i.match&&!n.hasChildren()?T_(n,t,e):i.match?gw(n,0,r):T_(n,t,e)}function gw(n,t,e){if(0===e.length)return new Ht(n.segments,{});{const i=function XO(n){return Of(n[0])?n[0].outlets:{[Yt]:n}}(e),r={};return Un(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=C_(n.children[c],t,o))}),Un(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Ht(n.segments,r)}}function T_(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Of(o)){const f=fT(o.outlets);return new Ht(i,f)}if(0===r&&w_(e[0])){i.push(new xf(n.segments[t].path,mw(e[0]))),r++;continue}const c=Of(o)?o.outlets[Yt]:`${o}`,h=r<e.length-1?e[r+1]:null;c&&h&&w_(h)?(i.push(new xf(c,mw(h))),r+=2):(i.push(new xf(c,{})),r++)}return new Ht(i,{})}function fT(n){const t={};return Un(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=T_(new Ht([],{}),0,e))}),t}function mw(n){const t={};return Un(n,(e,i)=>t[i]=`${e}`),t}function _w(n,t,e){return n==e.path&&ca(t,e.parameters)}class kl{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),hw(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Yu(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Un(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Yu(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Yu(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Yu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new $O(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zO(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(hw(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),hw(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=function E_(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=f,c.outlet&&c.outlet.activateWith(r,f),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class yw{constructor(t,e){this.routes=t,this.module=e}}function Zc(n){return"function"==typeof n}function Ol(n){return n instanceof da}const Qu=Symbol("INITIAL_VALUE");function Th(){return $i(n=>function zx(...n){const t=(0,oa.yG)(n),e=(0,oa.jO)(n),{args:i,keys:r}=G0(n);if(0===i.length)return(0,Vn.D)([],t);const o=new Zi.y(function Zx(n,t,e=vh.y){return i=>{Z0(t,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let f=0;f<r;f++)Z0(t,()=>{const y=(0,Vn.D)(n[f],t);let T=!1;y.subscribe((0,b.x)(i,I=>{o[f]=I,T||(T=!0,h--),h||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>$v(r,c):vh.y));return e?o.pipe(Zv(e)):o}(n.map(t=>t.pipe((0,la.q)(1),qc(Qu)))).pipe(Sl((t,e)=>{let i=!1;return e.reduce((r,o,c)=>r!==Qu?r:(o===Qu&&(i=!0),i||!1!==o&&c!==e.length-1&&!Ol(o)?r:o),t)},Qu),D(t=>t!==Qu),(0,k.U)(t=>Ol(t)?t:!0===t),(0,la.q)(1)))}class _T{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Eh,this.attachRef=null}}class Eh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _T,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let I_=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Yt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,f=new ww(e,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Eh),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ww{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===bh?this.route:t===Eh?this.childContexts:this.parent.get(t,e)}}let yT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[I_],encapsulation:2}),n})();function vT(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];wT(i,Ih(t,i))}}function wT(n,t){n.children&&vT(n.children,t)}function Ih(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function S_(n){const t=n.children&&n.children.map(S_),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Yt&&(e.component=yT),e}function Do(n){return n.outlet||Yt}function bT(n,t){const e=n.filter(i=>Do(i)===t);return e.push(...n.filter(i=>Do(i)!==t)),e}const Ju={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x_(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ju):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Jv)(e,n,t);if(!o)return Object.assign({},Ju);const c={};Un(o.posParams,(f,y)=>{c[y]=f.path});const h=o.consumed.length>0?Object.assign(Object.assign({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function D_(n,t,e,i,r="corrected"){if(e.length>0&&function za(n,t,e){return e.some(i=>Nf(n,t,i)&&Do(i)!==Yt)}(n,e,i)){const c=new Ht(t,function hD(n,t,e,i){const r={};r[Yt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Do(o)!==Yt){const c=new Ht([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Do(o)]=c}return r}(n,t,i,new Ht(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function bw(n,t,e){return e.some(i=>Nf(n,t,i))}(n,e,i)){const c=new Ht(n.segments,function dD(n,t,e,i,r,o){const c={};for(const h of i)if(Nf(n,e,h)&&!r[Do(h)]){const f=new Ht([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[Do(h)]=f}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new Ht(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Nf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Cw(n,t,e,i){return!!(Do(n)===i||i!==Yt&&Nf(t,e,n))&&("**"===n.path||x_(t,n,e).matched)}function Tw(n,t,e){return 0===t.length&&!n.children[e]}class Ff{constructor(t){this.segmentGroup=t||null}}class CT{constructor(t){this.urlTree=t}}function Lf(n){return Cf(new Ff(n))}function TT(n){return Cf(new CT(n))}class IT{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=D_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ht(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Yt).pipe((0,k.U)(o=>this.createUrlTree(Ew(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wu(o=>{if(o instanceof CT)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ff?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Yt).pipe((0,k.U)(r=>this.createUrlTree(Ew(r),t.queryParams,t.fragment))).pipe(Wu(r=>{throw r instanceof Ff?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Ht([],{[Yt]:t}):t;return new da(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,k.U)(o=>new Ht([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Vn.D)(r).pipe(g(o=>{const c=i.children[o],h=bT(e,o);return this.expandSegmentGroup(t,h,c,o).pipe((0,k.U)(f=>({segment:f,outlet:o})))}),Sl((o,c)=>(o[c.outlet]=c.segment,o),{}),function Yv(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):vh.y,u_(1),e?Tf(t):Kx(()=>new a_))}())}expandSegment(t,e,i,r,o,c){return(0,Vn.D)(i).pipe(g(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,c).pipe(Wu(y=>{if(y instanceof Ff)return bt(null);throw y}))),xl(h=>!!h),Wu((h,f)=>{if(h instanceof a_||"EmptyError"===h.name)return Tw(e,r,o)?bt(new Ht([],{})):Lf(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,c,h){return Cw(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Lf(e):Lf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?TT(o):this.lineralizeSegments(i,o).pipe((0,Bn.z)(c=>{const h=new Ht(c,{});return this.expandSegment(t,h,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:h,consumedSegments:f,remainingSegments:y,positionalParamSegments:T}=x_(e,r,o);if(!h)return Lf(e);const I=this.applyRedirectCommands(f,r.redirectTo,T);return r.redirectTo.startsWith("/")?TT(I):this.lineralizeSegments(r,I).pipe((0,Bn.z)(M=>this.expandSegment(t,e,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?bt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,k.U)(I=>(i._loadedConfig=I,new Ht(r,{})))):bt(new Ht(r,{}));const{matched:c,consumedSegments:h,remainingSegments:f}=x_(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,Bn.z)(T=>{const I=T.module,M=T.routes,{segmentGroup:P,slicedSegments:V}=D_(e,h,f,M),Q=new Ht(P.segments,P.children);if(0===V.length&&Q.hasChildren())return this.expandChildren(I,M,Q).pipe((0,k.U)(it=>new Ht(h,it)));if(0===M.length&&0===V.length)return bt(new Ht(h,{}));const ye=Do(i)===o;return this.expandSegment(I,Q,M,V,ye?Yt:o,!0).pipe((0,k.U)(Xe=>new Ht(h.concat(Xe.segments),Xe.children)))})):Lf(e)}getChildConfig(t,e,i){return e.children?bt(new yw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?bt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Bn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,k.U)(o=>(e._loadedConfig=o,o))):function ET(n){return Cf(X0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):bt(new yw([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?bt(r.map(c=>{const h=t.get(c);let f;if(function mT(n){return n&&Zc(n.canLoad)}(h))f=h.canLoad(e,i);else{if(!Zc(h))throw new Error("Invalid CanLoad guard");f=h(e,i)}return ua(f)})).pipe(Th(),(0,rs.b)(c=>{if(!Ol(c))return;const h=X0(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,k.U)(c=>!0===c)):bt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[Yt])return Cf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Yt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new da(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Un(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Un(e.children,(h,f)=>{c[f]=this.createSegmentGroup(t,h,i,r)}),new Ht(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Ew(n){const t={};for(const i of Object.keys(n.children)){const o=Ew(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function fD(n){if(1===n.numberOfChildren&&n.children[Yt]){const t=n.children[Yt];return new Ht(n.segments.concat(t.segments),t.children)}return n}(new Ht(n.segments,t))}class gD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Sh{constructor(t,e){this.component=t,this.route=e}}function mD(n,t,e){const i=n._root;return ss(i,t?t._root:null,e,[i.value])}function Vf(n,t,e){const i=function iR(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ss(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yu(t);return n.children.forEach(c=>{(function rR(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function sR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!zc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zc(n.url,t.url)||!ca(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uT(n,t)||!ca(n.queryParams,t.queryParams);default:return!uT(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new gD(i)):(o.data=c.data,o._resolvedData=c._resolvedData),ss(n,t,o.component?h?h.children:null:e,i,r),f&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Sh(h.outlet.component,c))}else c&&xh(t,h,r),r.canActivateChecks.push(new gD(i)),ss(n,null,o.component?h?h.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Un(o,(c,h)=>xh(c,e.getContext(h),r)),r}function xh(n,t,e){const i=Yu(n),r=n.value;Un(i,(o,c)=>{xh(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Sh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class vD{}function MT(n){return new Zi.y(t=>t.error(n))}class bD{constructor(t,e,i,r,o,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c}recognize(){const t=D_(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Yt);if(null===e)return null;const i=new v_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ml(i,e),o=new ha(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=dw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const c=e.children[o],h=bT(t,o),f=this.processSegmentGroup(h,c,o);if(null===f)return null;i.push(...f)}const r=Xu(i);return function CD(n){n.sort((t,e)=>t.value.outlet===Yt?-1:e.value.outlet===Yt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const c=this.processSegmentAgainstRoute(o,e,i,r);if(null!==c)return c}return Tw(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Cw(t,e,i,r))return null;let o,c=[],h=[];if("**"===t.path){const P=i.length>0?f_(i).parameters:{};o=new v_(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,OT(t),Do(t),t.component,t,Dh(e),kT(e)+i.length,M_(t))}else{const P=x_(e,t,i);if(!P.matched)return null;c=P.consumedSegments,h=P.remainingSegments,o=new v_(c,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,OT(t),Do(t),t.component,t,Dh(e),kT(e)+c.length,M_(t))}const f=function TD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:y,slicedSegments:T}=D_(e,c,h,f.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===T.length&&y.hasChildren()){const P=this.processChildren(f,y);return null===P?null:[new Ml(o,P)]}if(0===f.length&&0===T.length)return[new Ml(o,[])];const I=Do(t)===r,M=this.processSegment(f,y,T,I?Yt:r);return null===M?null:[new Ml(o,M)]}}function A_(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Xu(n){const t=[],e=new Set;for(const i of n){if(!A_(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Xu(i.children);t.push(new Ml(i.value,r))}return t.filter(i=>!e.has(i))}function Dh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function kT(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function OT(n){return n.data||{}}function M_(n){return n.resolve||{}}function Uf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Hf(n){return $i(t=>{const e=n(t);return e?(0,Vn.D)(e).pipe((0,k.U)(()=>t)):bt(t)})}class kh extends class Mh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $c=new s.OlP("ROUTES");class td{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,k.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=o.create(t);return new yw(Xv(c.injector.get($c,void 0,s.XFs.Self|s.XFs.Optional)).map(S_),c)}),Wu(o=>{throw e._loader$=void 0,o}));return e._loader$=new Wx(r,()=>new mn.x).pipe(Kv()),e._loader$}loadModuleFactory(t){return ua(t()).pipe((0,Bn.z)(e=>e instanceof s.YKP?bt(e):(0,Vn.D)(this.compiler.compileModuleAsync(e))))}}class Rh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ph(n){throw n}function Nh(n,t,e){return t.parse("/")}function xw(n,t){return bt(null)}const RT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class n{constructor(e,i,r,o,c,h,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mn.x,this.errorHandler=Ph,this.malformedUriErrorHandler=Nh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xw,afterPreactivation:xw},this.urlHandlingStrategy=new Rh,this.routeReuseStrategy=new kh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const I=c.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function eD(){return new da(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new td(c,h,M=>this.triggerEvent(new J0(M)),M=>this.triggerEvent(new h_(M))),this.routerState=uw(this.currentUrlTree,this.rootComponentType),this.transitions=new Ks({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(D(r=>0!==r.id),(0,k.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),$i(r=>{let o=!1,c=!1;return bt(r).pipe((0,rs.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$i(h=>{const f=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Dw(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe($i(I=>{const M=this.transitions.getValue();return i.next(new Qv(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?Il.E:Promise.resolve(I)}),function nR(n,t,e,i){return $i(r=>function tR(n,t,e,i,r){return new IT(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,k.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rs.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function Za(n,t,e,i,r){return(0,Bn.z)(o=>function wD(n,t,e,i,r="emptyOnly",o="legacy"){try{const c=new bD(n,t,e,i,r,o).recognize();return null===c?MT(new vD):bt(c)}catch(c){return MT(c)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,k.U)(c=>Object.assign(Object.assign({},o),{targetSnapshot:c}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rs.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(P,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new jO(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:P,source:V,restoredState:Q,extras:ye}=h,He=new Qv(M,this.serializeUrl(P),V,Q);i.next(He);const Xe=uw(P,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},h),{targetSnapshot:Xe,urlAfterRedirects:P,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Il.E}),Hf(h=>{const{targetSnapshot:f,id:y,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:P}}=h;return this.hooks.beforePreactivation(f,{navigationId:y,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!P})}),(0,rs.b)(h=>{const f=new Yx(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(f)}),(0,k.U)(h=>Object.assign(Object.assign({},h),{guards:mD(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function xT(n,t){return(0,Bn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?bt(Object.assign(Object.assign({},e),{guardsResult:!0})):function DT(n,t,e,i){return(0,Vn.D)(n).pipe((0,Bn.z)(r=>function Sw(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?bt(o.map(h=>{const f=Vf(h,t,r);let y;if(function uD(n){return n&&Zc(n.canDeactivate)}(f))y=ua(f.canDeactivate(n,t,e,i));else{if(!Zc(f))throw new Error("Invalid CanDeactivate guard");y=ua(f(n,t,e,i))}return y.pipe(xl())})).pipe(Th()):bt(!0)}(r.component,r.route,e,t,i)),xl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Bn.z)(h=>h&&function eR(n){return"boolean"==typeof n}(h)?function _D(n,t,e,i){return(0,Vn.D)(t).pipe(g(r=>c_(function AT(n,t){return null!==n&&t&&t(new GO(n)),bt(!0)}(r.route.parent,i),function oR(n,t){return null!==n&&t&&t(new ZO(n)),bt(!0)}(r.route,i),function yD(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function ST(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Wv(()=>bt(c.guards.map(f=>{const y=Vf(f,c.node,e);let T;if(function Pf(n){return n&&Zc(n.canActivateChild)}(y))T=ua(y.canActivateChild(i,n));else{if(!Zc(y))throw new Error("Invalid CanActivateChild guard");T=ua(y(i,n))}return T.pipe(xl())})).pipe(Th())));return bt(o).pipe(Th())}(n,r.path,e),function Iw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(o=>Wv(()=>{const c=Vf(o,t,e);let h;if(function vw(n){return n&&Zc(n.canActivate)}(c))h=ua(c.canActivate(t,n));else{if(!Zc(c))throw new Error("Invalid CanActivate guard");h=ua(c(t,n))}return h.pipe(xl())}));return bt(r).pipe(Th())}(n,r.route,e))),xl(r=>!0!==r,!0))}(i,o,n,t):bt(h)),(0,k.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,rs.b)(h=>{if(Ol(h.guardsResult)){const y=X0(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const f=new qO(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(f)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Hf(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,rs.b)(f=>{const y=new Y0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),$i(f=>{let y=!1;return bt(f).pipe(function Bf(n,t){return(0,Bn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return bt(e);let o=0;return(0,Vn.D)(r).pipe(g(c=>function Nr(n,t,e,i){return function ed(n,t,e,i){const r=Uf(n);if(0===r.length)return bt({});const o={};return(0,Vn.D)(r).pipe((0,Bn.z)(c=>function Ao(n,t,e,i){const r=Vf(n,t,i);return ua(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,rs.b)(h=>{o[c]=h}))),u_(1),(0,Bn.z)(()=>Uf(o).length===r.length?bt(o):Il.E))}(n._resolve,n,t,i).pipe((0,k.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),dw(n,e).resolve),null)))}(c.route,i,n,t)),(0,rs.b)(()=>o++),u_(1),(0,Bn.z)(c=>o===r.length?bt(e):Il.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rs.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,rs.b)(f=>{const y=new Q0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}))}),Hf(h=>{const{targetSnapshot:f,id:y,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:P}}=h;return this.hooks.afterPreactivation(f,{navigationId:y,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!P})}),(0,k.U)(h=>{const f=function dT(n,t,e){const i=kf(n,t._root,e?e._root:void 0);return new aT(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:f})}),(0,rs.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,k.U)(i=>(new kl(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,rs.b)({next(){o=!0},complete(){o=!0}}),function HO(n){return(0,m.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var h;o||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Wu(h=>{if(c=!0,function Gc(n){return n&&n[Jx]}(h)){const f=Ol(h.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const y=new W0(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),f?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dw(r.source)};this.scheduleNavigation(T,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new K0(r.id,this.serializeUrl(r.extractedUrl),h);i.next(f);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return Il.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const f=Object.assign({},c);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){vT(e),this.config=e.map(S_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:f}=i,y=r||this.routerState.root,T=f?this.currentUrlTree.fragment:c;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),function pw(n,t,e,i,r){if(0===e.length)return Ch(t.root,t.root,t.root,i,r);const o=function fw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hT(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Un(o.outlets,(f,y)=>{h[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,f)=>{0==f&&"."===h||(0==f&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new hT(e,t,i)}(e);if(o.toRoot())return Ch(t.root,t.root,new Ht([],{}),i,r);const c=function pT(n,t,e){if(n.isAbsolute)return new Rf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Rf(o,o===t.root,0)}const i=w_(n.commands[0])?0:1;return function JO(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Rf(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=c.processChildren?gw(c.segmentGroup,c.index,o.commands):C_(c.segmentGroup,c.index,o.commands);return Ch(t.root,c.segmentGroup,h,i,r)}(y,this.currentUrlTree,e,I,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ol(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function NT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},RT):!1===i?Object.assign({},PT):i,Ol(e))return tw(this.currentUrlTree,e,r);const o=this.parseUrl(e);return tw(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ef(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){var h,f;if(this.disposed)return Promise.resolve(!1);let y,T,I;c?(y=c.resolve,T=c.reject,I=c.promise):I=new Promise((V,Q)=>{y=V,T=Q});const M=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):P=0,this.setTransition({id:M,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:y,reject:T,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new W0(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Dw(n){return"imperative"!==n}let k_=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new mn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:nd(this.skipLocationChange),replaceUrl:nd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(bh),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),jf=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new mn.x,this.subscription=e.events.subscribe(o=>{o instanceof Ef&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){if(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:nd(this.skipLocationChange),replaceUrl:nd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(bh),s.Y36(ge))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function nd(n){return""===n||!!n}let FT=(()=>{class n{constructor(e,i,r,o,c,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof Ef&&this.update()})}ngAfterContentInit(){bt(this.links.changes,this.linksWithHrefs.changes,bt(null)).pipe((0,l_.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Vn.D)(i).pipe((0,l_.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function LT(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(k_,8),s.Y36(jf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,k_,5),s.Suo(r,jf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class VT{}class Aw{preload(t,e){return bt(null)}}let UT=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new td(r,i,f=>e.triggerEvent(new J0(f)),f=>e.triggerEvent(new h_(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(D(e=>e instanceof Ef),g(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const c=o._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Vn.D)(r).pipe((0,l_.J)(),(0,k.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?bt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Bn.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(VT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ef&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Qx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const id=new s.OlP("ROUTER_CONFIGURATION"),kw=new s.OlP("ROUTER_FORROOT_GUARD"),ID=[Te,{provide:m_,useClass:iw},{provide:Fr,useFactory:function lR(n,t,e,i,r,o,c={},h,f){const y=new Fr(null,n,t,e,i,r,Xv(o));return h&&(y.urlHandlingStrategy=h),f&&(y.routeReuseStrategy=f),function cR(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(T=>{var I,M;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(M=console.groupEnd)||void 0===M||M.call(console)}),y},deps:[m_,Eh,Te,s.zs3,s.Sil,$c,id,[class Oh{},new s.FiY],[class Ah{},new s.FiY]]},Eh,{provide:bh,useFactory:function uR(n){return n.routerState.root},deps:[Fr]},UT,Aw,class BT{preload(t,e){return e().pipe(Wu(()=>bt(null)))}},{provide:id,useValue:{enableTracing:!1}}];function SD(){return new s.PXZ("Router",Fr)}let xD=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[ID,HT(e),{provide:kw,useFactory:Rw,deps:[[Fr,new s.FiY,new s.tp0]]},{provide:id,useValue:i||{}},{provide:ge,useFactory:Ow,deps:[le,[new s.tBr(Ze),new s.FiY],id]},{provide:Mw,useFactory:DD,deps:[Fr,gu,id]},{provide:VT,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Aw},{provide:s.PXZ,multi:!0,useFactory:SD},[Pw,{provide:s.ip1,multi:!0,useFactory:jT,deps:[Pw]},{provide:qT,useFactory:dR,deps:[Pw]},{provide:s.tb,multi:!0,useExisting:qT}]]}}static forChild(e){return{ngModule:n,providers:[HT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kw,8),s.LFG(Fr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function DD(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Mw(n,t,e)}function Ow(n,t,e={}){return e.useHash?new Ae(n,t):new Je(n,t)}function Rw(n){return"guarded"}function HT(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:$c,multi:!0,useValue:n}]}let Pw=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mn.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(Fr),c=this.injector.get(id);return"disabled"===c.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(id),r=this.injector.get(UT),o=this.injector.get(Mw),c=this.injector.get(Fr),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),o.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function jT(n){return n.appInitializer.bind(n)}function dR(n){return n.bootstrapListener.bind(n)}const qT=new s.OlP("Router Initializer");var O_=F(6451),R_=F(5363),GT=F(6063);class P_ extends mn.x{constructor(t=1/0,e=1/0,i=GT.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let h=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)h=f;h&&i.splice(0,h+1)}}}var zT=F(3099);function N_(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,zT.B)({connector:()=>new P_(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function ZT(n,t){return(0,v.m)(t)?$i(()=>n,t):$i(()=>n)}var Nw=F(9468),Mn=F(5813),os=F(2011);F(5867);var Ee=F(5861),pa=F(9681),Mo=F(4859),N=F(2090),Qs=F(1877);const Vw=new Map,Bw={activated:!1,tokenObservers:[]},XT={initialized:!1,enabled:!1};function Wi(n){return Vw.get(n)||Bw}function Js(n,t){Vw.set(n,t)}function zf(){return XT}class nE{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ee.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function iE(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const _r=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gw(n){if(!Wi(n).activated)throw _r.create("use-before-activation",{appName:n.name})}function V_(n,t){return B_.apply(this,arguments)}function B_(){return(B_=(0,Ee.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,h;try{c=yield fetch(n,o)}catch(I){throw _r.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==c.status)throw _r.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(I){throw _r.create("fetch-parse-error",{originalErrorMessage:I.message})}const f=h.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(f[1]),T=Date.now();return{token:h.token,expireTimeMillis:T+y,issuedAtTimeMillis:T}})).apply(this,arguments)}function PD(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Wf="firebase-app-check-store";let Kf=null;function aE(){return Kf||(Kf=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(_r.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Wf,{keyPath:"compositeKey"})}}catch(e){t(_r.create("storage-open",{originalErrorMessage:e.message}))}}),Kf)}function Wc(){return(Wc=(0,Ee.Z)(function*(n,t){const i=(yield aE()).transaction(Wf,"readwrite"),o=i.objectStore(Wf).put({compositeKey:n,value:t});return new Promise((c,h)=>{o.onsuccess=f=>{c()},i.onerror=f=>{var y;h(_r.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Yf=new Qs.Yd("@firebase/app-check");function U_(n,t){return(0,N.hl)()?function lE(n,t){return function zw(n,t){return Wc.apply(this,arguments)}(function $w(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Yf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function pE(){return zf().enabled}function Kw(){return ko.apply(this,arguments)}function ko(){return(ko=(0,Ee.Z)(function*(){const n=zf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ga={error:"UNKNOWN_ERROR"};function fE(n){return N.US.encodeString(JSON.stringify(n),!1)}function Qf(n){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,Ee.Z)(function*(n,t=!1){const e=n.app;Gw(e);const i=Wi(e);let o,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&H_(f)&&(r=f)}if(!t&&r&&H_(r))return{token:r.token};let h,c=!1;if(pE()){i.exchangeTokenPromise||(i.exchangeTokenPromise=V_(PD(e,yield Kw()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const f=yield i.exchangeTokenPromise;return yield U_(e,f),Js(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Yf.warn(f.message):Yf.error(f),o=f}return r?(h={token:r.token},Js(e,Object.assign(Object.assign({},i),{token:r})),yield U_(e,r)):h=mE(o),c&&Lh(e,h),h})).apply(this,arguments)}function Jw(n,t){const e=Wi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Js(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function gE(n){const{app:t}=n,e=Wi(t);let i=e.tokenRefresher;i||(i=function Xw(n){const{app:t}=n;return new nE((0,Ee.Z)(function*(){let i;if(i=Wi(t).token?yield Qf(n,!0):yield Qf(n),i.error)throw i.error}),()=>!0,()=>{const e=Wi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Js(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Lh(n,t){const e=Wi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function H_(n){return n.expireTimeMillis-Date.now()>0}function mE(n){return{token:fE(ga),error:n}}class VD{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Wi(this.app);for(const e of t)Jw(this.app,e.next);return Promise.resolve()}}const DE="app-check-internal";!function jD(){(0,pa._registerComponent)(new Mo.wA("app-check",n=>function _E(n,t){return new VD(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(DE).initialize()})),(0,pa._registerComponent)(new Mo.wA(DE,n=>function yE(n){return{getToken:t=>Qf(n,t),addTokenListener:t=>function Qw(n,t,e,i){const{app:r}=n,o=Wi(r),c={next:e,error:i,type:t};if(Js(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&H_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),gE(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gE(n))}(n,"INTERNAL",t),removeTokenListener:t=>Jw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pa.registerVersion)("@firebase/app-check","0.5.8")}();class z_{constructor(){return(0,Mn.vb)("app-check")}}"undefined"!=typeof window&&window;var PE=F(127);const NE=new s.OlP("angularfire2.auth.use-emulator"),Jf=new s.OlP("angularfire2.auth.settings"),FE=new s.OlP("angularfire2.auth.tenant-id"),Z_=new s.OlP("angularfire2.auth.langugage-code"),$_=new s.OlP("angularfire2.auth.use-device-language"),LE=new s.OlP("angularfire.auth.persistence"),Ct=(n,t,e,i,r,o,c,h)=>(0,os.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),c)for(const[y,T]of Object.entries(c))f.settings[y]=T;return h&&f.setPersistence(h),f},[e,i,r,o,c,h]);let W_=(()=>{class n{constructor(e,i,r,o,c,h,f,y,T,I,M,P){const V=new mn.x,Q=bt(void 0).pipe((0,R_.Q)(c.outsideAngular),$i(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8775)))),(0,k.U)(()=>(0,os.on)(e,o,i)),(0,k.U)(ye=>Ct(ye,o,h,y,T,I,f,M)),N_({bufferSize:1,refCount:!1}));if(xa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Q.pipe(xl()).subscribe();const He=Q.pipe($i(rt=>rt.getRedirectResult().then(At=>At,()=>null)),Mn.iC,N_({bufferSize:1,refCount:!1})),Xe=Q.pipe($i(rt=>new Zi.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onAuthStateChanged(Rt=>At.next(Rt),Rt=>At.error(Rt),()=>At.complete()))})))),it=Q.pipe($i(rt=>new Zi.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onIdTokenChanged(Rt=>At.next(Rt),Rt=>At.error(Rt),()=>At.complete()))}))));this.authState=He.pipe(ZT(Xe),(0,Nw.R)(c.outsideAngular),(0,R_.Q)(c.insideAngular)),this.user=He.pipe(ZT(it),(0,Nw.R)(c.outsideAngular),(0,R_.Q)(c.insideAngular)),this.idToken=this.user.pipe($i(rt=>rt?(0,Vn.D)(rt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe($i(rt=>rt?(0,Vn.D)(rt.getIdTokenResult()):bt(null))),this.credential=(0,O_.T)(He,V,this.authState.pipe(D(rt=>!rt))).pipe((0,k.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,Nw.R)(c.outsideAngular),(0,R_.Q)(c.insideAngular))}return(0,os.pX)(this,Q,o,{spy:{apply:(ye,He,Xe)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&Xe.then(it=>V.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(os.Dh),s.LFG(os.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(NE,8),s.LFG(Jf,8),s.LFG(FE,8),s.LFG(Z_,8),s.LFG($_,8),s.LFG(LE,8),s.LFG(z_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xf=(()=>{class n{constructor(e,i){this.angularFireAuth=e,this._router=i,this.isAuth=!1,this.isAuthContent=new Ks(this.isAuth),this.isAuthExpose=this.isAuthContent.asObservable(),this.angularFireAuth.authState.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthContent.next(!0),this._router.navigate(["pranavam/basic"])):(localStorage.removeItem("user"),this.isAuthContent.next(!1))})}isAuthenticated(){return null!=JSON.parse(localStorage.getItem("user"))}signIn(e,i){this.angularFireAuth.signInWithEmailAndPassword(e,i).then(r=>{}).catch(r=>{console.log("Something is wrong:",r.message)})}SignOut(){this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this._router.navigate(["login"])})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(W_),s.LFG(Fr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sr=(()=>{class n{constructor(e,i){this._authService=e,this._router=i}canActivate(e,i){return!!this._authService.isAuthenticated()||(this._router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xf),s.LFG(Fr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ot{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,c,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((c=t.length)!=e.length)return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var f=t instanceof Date,y=e instanceof Date;if(f!=y)return!1;if(f&&y)return t.getTime()==e.getTime();var T=t instanceof RegExp,I=e instanceof RegExp;if(T!=I)return!1;if(T&&I)return t.toString()==e.toString();var M=Object.keys(t);if((c=M.length)!==Object.keys(e).length)return!1;for(o=c;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[h=M[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,c=i.length;o<c;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let c=0;c<i.length;c++)if(this.findIndexInList(i[c],r)>e){i.splice(c,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var eg=0;function Rl(){return"pr_id_"+ ++eg}var or=function ci(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,c,h)=>{c&&(c.style.zIndex=String(((o,c)=>{let h=n.length>0?n[n.length-1]:{key:o,value:c},f=h.value+(h.key===o?0:c)+1;return n.push({key:o,value:f}),f})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(c=>c.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const VE=["*"];let yr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),rd=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[yr.STARTS_WITH,yr.CONTAINS,yr.NOT_CONTAINS,yr.ENDS_WITH,yr.EQUALS,yr.NOT_EQUALS],numeric:[yr.EQUALS,yr.NOT_EQUALS,yr.LESS_THAN,yr.LESS_THAN_OR_EQUAL_TO,yr.GREATER_THAN,yr.GREATER_THAN_OR_EQUAL_TO],date:[yr.DATE_IS,yr.DATE_IS_NOT,yr.DATE_BEFORE,yr.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new mn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();var Pl=(()=>{return(n=Pl||(Pl={}))[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",Pl;var n})();let ui=(()=>{class n{constructor(){this.requireConfirmationSource=new mn.x,this.acceptConfirmationSource=new mn.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ab=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return ot.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r),c=ot.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==c.indexOf(o,c.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(ot.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,c){let h=[];if(e)for(let f of e)for(let y of i){let T=ot.resolveFieldData(f,y);if(this.filters[o](T,r,c)){h.push(f);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kn=(()=>{class n{constructor(){this.messageSource=new mn.x,this.clearSource=new mn.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),K_=(()=>{class n{constructor(){this.clickSource=new mn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BE=(()=>{class n{}return n.AND="and",n.OR="or",n})(),YD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:VE,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),_i=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Oo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();var tg=F(4986);function Q_(){return(0,m.e)((n,t)=>{let e,i=!1;n.subscribe((0,b.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function sd(n,t=vh.y){return n=null!=n?n:ng,(0,m.e)((e,i)=>{let r,o=!0;e.subscribe((0,b.x)(i,c=>{const h=t(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function ng(n,t){return n===t}F(8775);var lt,UE=F(3942),JD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$a={},J_=J_||{},Ft=JD||self;function ig(){}function lb(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rg(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var HE="closure_uid_"+(1e9*Math.random()>>>0),xR=0;function DR(n,t,e){return n.call.apply(n.bind,arguments)}function jE(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Mi(n,t,e){return(Mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DR:jE).apply(null,arguments)}function X_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[r].apply(i,c)}}function Nl(){this.s=this.s,this.o=this.o}var XD={};Nl.prototype.s=!1,Nl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function SR(n){return Object.prototype.hasOwnProperty.call(n,HE)&&n[HE]||(n[HE]=++xR)}(this);delete XD[n]}},Nl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qE=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},GE=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function zE(n){return Array.prototype.concat.apply([],arguments)}function ey(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function ty(n){return/^[\s\xa0]*$/.test(n)}var Vr,ZE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ki(n,t){return-1!=n.indexOf(t)}function cb(n,t){return n<t?-1:n>t?1:0}e:{var $E=Ft.navigator;if($E){var ub=$E.userAgent;if(ub){Vr=ub;break e}}Vr=""}function db(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function hb(n){const t={};for(const e in n)t[e]=n[e];return t}var WE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ny(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<WE.length;o++)e=WE[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function pb(n){return pb[" "](n),n}pb[" "]=ig;var ry,n,YE=ki(Vr,"Opera"),Hh=ki(Vr,"Trident")||ki(Vr,"MSIE"),QE=ki(Vr,"Edge"),fb=QE||Hh,iy=ki(Vr,"Gecko")&&!(ki(Vr.toLowerCase(),"webkit")&&!ki(Vr,"Edge"))&&!(ki(Vr,"Trident")||ki(Vr,"MSIE"))&&!ki(Vr,"Edge"),t1=ki(Vr.toLowerCase(),"webkit")&&!ki(Vr,"Edge");function gb(){var n=Ft.document;return n?n.documentMode:void 0}e:{var mb="",_b=(n=Vr,iy?/rv:([^\);]+)(\)|;)/.exec(n):QE?/Edge\/([\d\.]+)/.exec(n):Hh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):t1?/WebKit\/(\S+)/.exec(n):YE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_b&&(mb=_b?_b[1]:""),Hh){var yb=gb();if(null!=yb&&yb>parseFloat(mb)){ry=String(yb);break e}}ry=mb}var n1={};var XE=Ft.document&&Hh&&(gb()||parseInt(ry,10))||void 0,eI=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",ig,t),Ft.removeEventListener("test",ig,t)}catch(e){}return n}();function Br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function og(n,t){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(iy){e:{try{pb(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&og.Z.h.call(this)}}Br.prototype.h=function(){this.defaultPrevented=!0},vr(og,Br);var tI={2:"touch",3:"pen",4:"mouse"};og.prototype.h=function(){og.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ag="closure_listenable_"+(1e6*Math.random()|0),s1=0;function o1(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++s1,this.ca=this.fa=!1}function jh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function qh(n){this.src=n,this.g={},this.h=0}function sy(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=qE(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(jh(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function lg(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}qh.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=lg(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new o1(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var wb="closure_lm_"+(1e6*Math.random()|0),bb={};function oy(n,t,e,i,r){if(i&&i.once)return rI(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)oy(n,t[o],e,i,r);return null}return e=Sb(e),n&&n[ag]?n.N(t,e,rg(i)?!!i.capture:!!i,r):nI(n,t,e,!1,i,r)}function nI(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=rg(r)?!!r.capture:!!r,h=Ib(n);if(h||(n[wb]=h=new qh(n)),(e=h.add(t,e,i,c,o)).proxy)return e;if(i=function iI(){var t=AR;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)eI||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Eb(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function rI(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)rI(n,t[o],e,i,r);return null}return e=Sb(e),n&&n[ag]?n.O(t,e,rg(i)?!!i.capture:!!i,r):nI(n,t,e,!0,i,r)}function Cb(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Cb(n,t[o],e,i,r);else i=rg(i)?!!i.capture:!!i,e=Sb(e),n&&n[ag]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=lg(o=n.g[t],e,i,r))&&(jh(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Ib(n))&&(t=n.g[t.toString()],n=-1,t&&(n=lg(t,e,i,r)),(e=-1<n?t[n]:null)&&Tb(e))}function Tb(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[ag])sy(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Eb(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ib(t))?(sy(e,n),0==e.h&&(e.src=null,t[wb]=null)):jh(n)}}}function Eb(n){return n in bb?bb[n]:bb[n]="on"+n}function AR(n,t){if(n.ca)n=!0;else{t=new og(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Tb(n),n=e.call(i,t)}return n}function Ib(n){return(n=n[wb])instanceof qh?n:null}var Gh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sb(n){return"function"==typeof n?n:(n[Gh]||(n[Gh]=function(t){return n.handleEvent(t)}),n[Gh])}function Yn(){Nl.call(this),this.i=new qh(this),this.P=this,this.I=null}function yi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Br(t,n);else if(t instanceof Br)t.target=t.target||n;else{var r=t;ny(t=new Br(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=ay(c,i,!0,t)&&r}if(r=ay(c=t.g=n,i,!0,t)&&r,r=ay(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=ay(c=t.g=e[o],i,!1,t)&&r}function ay(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var h=c.listener,f=c.ia||c.src;c.fa&&sy(n.i,c),r=!1!==h.call(f,i)&&r}}return r&&!i.defaultPrevented}vr(Yn,Nl),Yn.prototype[ag]=!0,Yn.prototype.removeEventListener=function(n,t,e,i){Cb(this,n,t,e,i)},Yn.prototype.M=function(){if(Yn.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)jh(e[i]);delete n.g[t],n.h--}}this.I=null},Yn.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Yn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var sI=Ft.JSON.stringify;function oI(){var n=Zh;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var cy,aI=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new l1,n=>n.reset());class l1{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function c1(n){Ft.setTimeout(()=>{throw n},0)}function ly(n,t){cy||function xb(){var n=Ft.Promise.resolve(void 0);cy=function(){n.then(u1)}}(),zh||(cy(),zh=!0),Zh.add(n,t)}var zh=!1,Zh=new class a1{constructor(){this.h=this.g=null}add(t,e){const i=aI.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function u1(){for(var n;n=oI();){try{n.h.call(n.g)}catch(e){c1(e)}var t=aI;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}zh=!1}function cg(n,t){Yn.call(this),this.h=n||1,this.g=t||Ft,this.j=Mi(this.kb,this),this.l=Date.now()}function uy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Db(n,t,e){if("function"==typeof n)e&&(n=Mi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mi(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ft.setTimeout(n,t||0)}function lI(n){n.g=Db(()=>{n.g=null,n.i&&(n.i=!1,lI(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}vr(cg,Yn),(lt=cg.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(uy(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){cg.Z.M.call(this),uy(this),delete this.g};class Ab extends Nl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:lI(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ug(n){Nl.call(this),this.h=n,this.g={}}vr(ug,Nl);var d1=[];function cI(n,t,e,i){Array.isArray(e)||(e&&(d1[0]=e.toString()),e=d1);for(var r=0;r<e.length;r++){var o=oy(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function uI(n){db(n.g,function(t,e){this.g.hasOwnProperty(e)&&Tb(t)},n),n.g={}}function Fl(){this.g=!0}function dg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function h1(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return sI(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}ug.prototype.M=function(){ug.Z.M.call(this),uI(this)},ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fl.prototype.Aa=function(){this.g=!1},Fl.prototype.info=function(){};var Wh={},Mb=null;function kb(){return Mb=Mb||new Yn}function Ob(n){Br.call(this,Wh.Ma,n)}function od(n){const t=kb();yi(t,new Ob(t,n))}function Rb(n,t){Br.call(this,Wh.STAT_EVENT,n),this.stat=t}function Ur(n){const t=kb();yi(t,new Rb(t,n))}function Pb(n,t){Br.call(this,Wh.Na,n),this.size=t}function Kh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},t)}Wh.Ma="serverreachability",vr(Ob,Br),Wh.STAT_EVENT="statevent",vr(Rb,Br),Wh.Na="timingevent",vr(Pb,Br);var hg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dy(){}function pI(){}dy.prototype.h=null;var py,Yh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ad(){Br.call(this,"d")}function hy(){Br.call(this,"c")}function pg(){}function Qh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new ug(this),this.P=p1,this.W=new cg(n=fb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lb}function Lb(){this.i=null,this.g="",this.h=!1}vr(ad,Br),vr(hy,Br),vr(pg,dy),pg.prototype.g=function(){return new XMLHttpRequest},pg.prototype.i=function(){return{}},py=new pg;var p1=45e3,Vb={},fy={};function Bb(n,t,e){n.K=1,n.v=tp(Ka(t)),n.s=e,n.U=!0,fI(n,null)}function fI(n,t){n.F=Date.now(),gg(n),n.A=Ka(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),CI(e.h,"t",i),n.C=0,e=n.l.H,n.h=new Lb,n.g=Cg(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Ab(Mi(n.Ia,n,n.g),n.O)),cI(n.V,n.g,"readystatechange",n.gb),t=n.H?hb(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),od(1),function dI(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),f=0;f<h.length;f++){var y=h[f].split("=");if(1<y.length){var T=y[0];y=y[1];var I=T.split("_");c=2<=I.length&&"type"==I[1]?c+(T+"=")+y+"&":c+(T+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function gI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function mI(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=fg(n,e),r==fy){4==t&&(n.o=4,Ur(14),i=!1),dg(n.j,n.m,null,"[Incomplete Response]");break}if(r==Vb){n.o=4,Ur(15),dg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}dg(n.j,n.m,r,null),ld(n,r)}gI(n)&&r!=fy&&r!=Vb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ur(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),PI(t),t.L=!0,Ur(11))):(dg(n.j,n.m,e,"[Invalid Chunked Response]"),Ll(n),mg(n))}function fg(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?fy:(e=Number(t.substring(e,i)),isNaN(e)?Vb:(i+=1)+e>t.length?fy:(t=t.substr(i,e),n.C=i+e,t))}function gg(n){n.Y=Date.now()+n.P,gy(n,n.P)}function gy(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kh(Mi(n.eb,n),t)}function eo(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function mg(n){0==n.l.G||n.I||x1(n.l,n)}function Ll(n){eo(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,uy(n.W),uI(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function ld(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Zb(e.i,n)))if(e.I=n.N,!n.J&&Zb(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Kh(Mi(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;eC(e),vg(e)}Iy(e),Ur(18)}if(1>=hd(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else op(e,11)}else if((n.J||e.g==n)&&eC(e),!ty(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const T=y[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const I=y[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var o=i.i;!o.g&&(ki(V,"spdy")||ki(V,"quic")||ki(V,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&($b(o,o.h),o.h=null))}if(i.D){const Q=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,Qn(i.F,i.D,Q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=M1(i,i.H?i.la:null,i.W),c.J){w1(i.i,c);var h=c,f=i.K;f&&h.setTimeout(f),h.B&&(eo(h),gg(h)),i.g=c}else I1(i);0<e.l.length&&wg(e)}else"stop"!=y[0]&&"close"!=y[0]||op(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?op(e,7):Jb(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}od(4)}catch(y){}}function Ub(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(lb(n)||"string"==typeof n)GE(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(lb(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function f1(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(lb(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Jh(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Jh)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Xh(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Wa(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Wa(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Wa(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(lt=Qh.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const t=this.L;t&&3==Ya(n)?t.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const T=Ya(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>T)&&(3!=T||fb||this.g&&(this.h.h||this.g.ga()||Qb(this.g)))){this.I||4!=T||7==t||od(8==t||0>=I?3:2),eo(this);var e=this.g.ba();this.N=e;t:if(gI(this)){var i=Qb(this.g);n="";var r=i.length,o=4==Ya(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ll(this),mg(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function $h(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ty(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Ur(12),Ll(this),mg(this);break e}dg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ld(this,e)}this.U?(mI(this,T,c),fb&&this.i&&3==T&&(cI(this.V,this.W,"tick",this.fb),this.W.start())):(dg(this.j,this.m,c,null),ld(this,c)),4==T&&Ll(this),this.i&&!this.I&&(4==T?x1(this.l,this):(this.i=!1,gg(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Ur(12)):(this.o=0,Ur(13)),Ll(this),mg(this)}}}catch(T){}},lt.fb=function(){if(this.g){var n=Ya(this.g),t=this.g.ga();this.C<t.length&&(eo(this),mI(this,n,t),this.i&&4!=n&&gg(this))}},lt.cancel=function(){this.I=!0,Ll(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hI(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(od(3),Ur(17)),Ll(this),this.o=2,mg(this)):gy(this,this.Y-n)},(lt=Jh.prototype).R=function(){Xh(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},lt.T=function(){return Xh(this),this.g.concat()},lt.get=function(n,t){return Wa(this.h,n)?this.h[n]:t},lt.set=function(n,t){Wa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},lt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var _I=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kc(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Kc){this.g=void 0!==t?t:n.g,ep(this,n.j),this.s=n.s,_g(this,n.i),my(this,n.m),this.l=n.l,t=n.h;var e=new np;e.i=t.i,t.g&&(e.g=new Jh(t.g),e.h=t.h),yI(this,e),this.o=n.o}else n&&(e=String(n).match(_I))?(this.g=!!t,ep(this,e[1]||"",!0),this.s=cd(e[2]||""),_g(this,e[3]||"",!0),my(this,e[4]),this.l=cd(e[5]||"",!0),yI(this,e[6]||"",!0),this.o=cd(e[7]||"")):(this.g=!!t,this.h=new np(null,this.g))}function Ka(n){return new Kc(n)}function ep(n,t,e){n.j=e?cd(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function _g(n,t,e){n.i=e?cd(t,!0):t}function my(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function yI(n,t,e){t instanceof np?(n.h=t,function TI(n,t){t&&!n.j&&(Vl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(qb(this,i),CI(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=ud(t,bI)),n.h=new np(t,n.g))}function Qn(n,t,e){n.h.set(t,e)}function tp(n){return Qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cd(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ud(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,m1),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function m1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Kc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ud(t,wI,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ud(t,wI,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(ud(e,"/"==e.charAt(0)?y1:_1,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ud(e,jb)),n.join("")};var wI=/[#\/\?@]/g,_1=/[#\?:]/g,y1=/[#\?]/g,bI=/[#\?@]/g,jb=/#/g;function np(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Vl(n){n.g||(n.g=new Jh,n.h=0,n.i&&function g1(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function qb(n,t){Vl(n),t=dd(n,t),Wa(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Wa((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Xh(n)))}function Gb(n,t){return Vl(n),t=dd(n,t),Wa(n.g.h,t)}function CI(n,t,e){qb(n,t),0<e.length&&(n.i=null,n.g.set(dd(n,t),ey(e)),n.h+=e.length)}function dd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function zb(n){this.l=n||EI,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=np.prototype).add=function(n,t){Vl(this),this.i=null,n=dd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){Vl(this),this.g.forEach(function(e,i){GE(e,function(r){n.call(t,r,i,this)},this)},this)},lt.T=function(){Vl(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},lt.R=function(n){Vl(this);var t=[];if("string"==typeof n)Gb(this,n)&&(t=zE(t,this.g.get(dd(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=zE(t,n[e])}return t},lt.set=function(n,t){return Vl(this),this.i=null,Gb(this,n=dd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var EI=10;function Hr(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hd(n){return n.h?1:n.g?n.g.size:0}function Zb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function $b(n,t){n.g?n.g.add(t):n.h=t}function w1(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ip(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ey(n.i)}function Wb(){}function Kb(){this.g=new Wb}function b1(n,t,e){const i=e||"";try{Ub(n,function(r,o){let c=r;rg(r)&&(c=sI(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function _y(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function yg(n){this.l=n.$b||null,this.j=n.ib||!1}function rp(n,t){Yn.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zb.prototype.cancel=function(){if(this.i=ip(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wb.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},Wb.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},vr(yg,dy),yg.prototype.g=function(){return new rp(this.l,this.j)},yg.prototype.i=function(n){return function(){return n}}({}),vr(rp,Yn);var yy=0;function Yb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pd(n)}function pd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=rp.prototype).open=function(n,t){if(this.readyState!=yy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,pd(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ft).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yc(this)),this.readyState=yy},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pd(this)),this.g&&(this.readyState=3,pd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Yc(this):pd(this),3==this.readyState&&Yb(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,Yc(this))},lt.Ta=function(n){this.g&&(this.response=n,Yc(this))},lt.ha=function(){this.g&&Yc(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MR=Ft.JSON.parse;function vi(n){Yn.call(this),this.headers=new Jh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SI,this.K=this.L=!1}vr(vi,Yn);var SI="",xI=/^https?$/i,vy=["POST","PUT"];function C1(n){return"content-type"==n.toLowerCase()}function wy(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,by(n),Cy(n)}function by(n){n.D||(n.D=!0,yi(n,"complete"),yi(n,"error"))}function T1(n){if(n.h&&void 0!==J_&&(!n.C[1]||4!=Ya(n)||2!=n.ba()))if(n.v&&4==Ya(n))Db(n.Fa,0,n);else if(yi(n,"readystatechange"),4==Ya(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(_I)[1]||null;if(!r&&Ft.self&&Ft.self.location){var o=Ft.self.location.protocol;r=o.substr(0,o.length-1)}i=!xI.test(r?r.toLowerCase():"")}e=i}if(e)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var c=2<Ya(n)?n.g.statusText:""}catch(f){c=""}n.j=c+" ["+n.ba()+"]",by(n)}}finally{Cy(n)}}}function Cy(n,t){if(n.g){AI(n);const e=n.g,i=n.C[0]?ig:null;n.g=null,n.C=null,t||yi(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function AI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Ya(n){return n.g?n.g.readyState:0}function Qb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case SI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ty(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function E1(n){let t="";return db(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Qn(n,t,e))}function sp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function MI(n){this.za=0,this.l=[],this.h=new Fl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sp("baseRetryDelayMs",5e3,n),this.$a=sp("retryDelaySeedMs",1e4,n),this.Ya=sp("forwardChannelMaxRetries",2,n),this.ra=sp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new zb(n&&n.concurrentRequestLimit),this.Ca=new Kb,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Jb(n){if(kI(n),3==n.G){var t=n.V++,e=Ka(n.F);Qn(e,"SID",n.J),Qn(e,"RID",t),Qn(e,"TYPE","terminate"),bg(n,e),(t=new Qh(n,n.h,t,void 0)).K=2,t.v=tp(Ka(e)),e=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(e=Ft.navigator.sendBeacon(t.v.toString(),"")),!e&&Ft.Image&&((new Image).src=t.v,e=!0),e||(t.g=Cg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),gg(t)}A1(n)}function vg(n){n.g&&(PI(n),n.g.cancel(),n.g=null)}function kI(n){vg(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),eC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Ey(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&wg(n)}function wg(n){Hr(n.i)||n.m||(n.m=!0,ly(n.Ha,n),n.C=0)}function Xb(n,t){var e;e=t?t.m:n.V++;const i=Ka(n.F);Qn(i,"SID",n.J),Qn(i,"RID",e),Qn(i,"AID",n.U),bg(n,i),n.o&&n.s&&Ty(i,n.o,n.s),e=new Qh(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=RI(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),$b(n.i,e),Bb(e,i,t)}function bg(n,t){n.j&&Ub({},function(e,i){Qn(t,i,e)})}function RI(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Mi(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let f=0;f<e;f++){let y=r[f].h;const T=r[f].g;if(y-=o,0>y)o=Math.max(0,r[f].h-100),h=!1;else try{b1(T,c,"req"+y+"_")}catch(I){i&&i(T)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function I1(n){n.g||n.u||(n.Y=1,ly(n.Ga,n),n.A=0)}function Iy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Kh(Mi(n.Ga,n),D1(n,n.A)),n.A++,0))}function PI(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function S1(n){n.g=new Qh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ka(n.oa);Qn(t,"RID","rpc"),Qn(t,"SID",n.J),Qn(t,"CI",n.N?"0":"1"),Qn(t,"AID",n.U),bg(n,t),Qn(t,"TYPE","xmlhttp"),n.o&&n.s&&Ty(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=tp(Ka(t)),e.s=null,e.U=!0,fI(e,n)}function eC(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function x1(n,t){var e=null;if(n.g==t){eC(n),PI(n),n.g=null;var i=2}else{if(!Zb(n.i,t))return;e=t.D,w1(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;yi(i=kb(),new Pb(i,e,t,r)),wg(n)}else I1(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function OI(n,t){return!(hd(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Kh(Mi(n.Ha,n,t),D1(n,n.C)),n.C++,0)))}(n,t)||2==i&&Iy(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:op(n,5);break;case 4:op(n,10);break;case 3:op(n,6);break;default:op(n,2)}}function D1(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function op(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Mi(n.jb,n);e||(e=new Kc("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||ep(e,"https"),tp(e)),function II(n,t){const e=new Fl;if(Ft.Image){const i=new Image;i.onload=X_(_y,e,i,"TestLoadImage: loaded",!0,t),i.onerror=X_(_y,e,i,"TestLoadImage: error",!1,t),i.onabort=X_(_y,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=X_(_y,e,i,"TestLoadImage: timeout",!1,t),Ft.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ur(2);n.G=0,n.j&&n.j.va(t),A1(n),kI(n)}function A1(n){n.G=0,n.I=-1,n.j&&((0!=ip(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ey(n.l),n.l.length=0),n.j.ua())}function M1(n,t,e){let i=function Hb(n){return n instanceof Kc?Ka(n):new Kc(n,void 0)}(e);if(""!=i.i)t&&_g(i,t+"."+i.i),my(i,i.m);else{const r=Ft.location;i=function vI(n,t,e,i){var r=new Kc(null,void 0);return n&&ep(r,n),t&&_g(r,t),e&&my(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&db(n.aa,function(r,o){Qn(i,o,r)}),e=n.sa,(t=n.D)&&e&&Qn(i,t,e),Qn(i,"VER",n.ma),bg(n,i),i}function Cg(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vi(e&&n.Ba&&!n.qa?new yg({ib:!0}):n.qa)).L=n.H,t}function k1(){}function Tg(){if(Hh&&!(10<=Number(XE)))throw Error("Environmental error: no available transport.")}function as(n,t){Yn.call(this),this.g=new MI(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!ty(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ty(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Eg(this)}function tC(n){ad.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function nC(){hy.call(this),this.status=1}function Eg(n){this.g=n}(lt=vi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():py.g(),this.C=function Fb(n){return n.h||(n.h=n.i())}(this.u?this.u:py),this.g.onreadystatechange=Mi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void wy(this,o)}n=e||"";const r=new Jh(this.headers);i&&Ub(i,function(o,c){r.set(c,o)}),i=function e1(n){e:{var t=C1;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ft.FormData&&n instanceof Ft.FormData,!(0<=qE(vy,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{AI(this),0<this.B&&((this.K=function DI(n){return Hh&&function r1(){return function KE(n){var t=n1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=ZE(String(ry)).split("."),e=ZE("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=cb(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||cb(0==r[2].length,0==o[2].length)||cb(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mi(this.pa,this)):this.A=Db(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){wy(this,o)}},lt.pa=function(){void 0!==J_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),Cy(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cy(this,!0)),vi.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?T1(this):this.cb())},lt.cb=function(){T1(this)},lt.ba=function(){try{return 2<Ya(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),MR(t)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=MI.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Qh(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=hb(o),ny(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=RI(this,r,t),Qn(e=Ka(this.F),"RID",n),Qn(e,"CVER",22),this.D&&Qn(e,"X-HTTP-Session-Id",this.D),bg(this,e),this.o&&o&&Ty(e,this.o,o),$b(this.i,r),this.Ra&&Qn(e,"TYPE","init"),this.ja?(Qn(e,"$req",t),Qn(e,"SID","null"),r.$=!0,Bb(r,e,null)):Bb(r,e,t),this.G=2}}else 3==this.G&&(n?Xb(this,n):0==this.l.length||Hr(this.i)||Xb(this))},lt.Ga=function(){if(this.u=null,S1(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Kh(Mi(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ur(10),vg(this),S1(this))},lt.ab=function(){null!=this.v&&(this.v=null,vg(this),Iy(this),Ur(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ur(2)):(this.h.info("Failed to ping google.com"),Ur(1))},(lt=k1.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},Tg.prototype.g=function(n,t){return new as(n,t)},vr(as,Yn),as.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ly(Mi(n.hb,n,t))),Ur(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=M1(n,null,n.W),wg(n)},as.prototype.close=function(){Jb(this.g)},as.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Ey(this.g,t)}else this.v?((t={}).__data__=sI(n),Ey(this.g,t)):Ey(this.g,n)},as.prototype.M=function(){this.g.j=null,delete this.j,Jb(this.g),delete this.g,as.Z.M.call(this)},vr(tC,ad),vr(nC,hy),vr(Eg,k1),Eg.prototype.xa=function(){yi(this.g,"a")},Eg.prototype.wa=function(n){yi(this.g,new tC(n))},Eg.prototype.va=function(n){yi(this.g,new nC(n))},Eg.prototype.ua=function(){yi(this.g,"b")},Tg.prototype.createWebChannel=Tg.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,Nb.COMPLETE="complete",pI.EventType=Yh,Yh.OPEN="a",Yh.CLOSE="b",Yh.ERROR="c",Yh.MESSAGE="d",Yn.prototype.listen=Yn.prototype.N,vi.prototype.listenOnce=vi.prototype.O,vi.prototype.getLastError=vi.prototype.La,vi.prototype.getLastErrorCode=vi.prototype.Da,vi.prototype.getStatus=vi.prototype.ba,vi.prototype.getResponseJson=vi.prototype.Qa,vi.prototype.getResponseText=vi.prototype.ga,vi.prototype.send=vi.prototype.ea;var iC=$a.createWebChannelTransport=function(){return new Tg},NI=$a.getStatEventTarget=function(){return kb()},rC=$a.ErrorCode=hg,FI=$a.EventType=Nb,kR=$a.Event=Wh,LI=$a.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},O1=$a.FetchXmlHttpFactory=yg,ap=$a.WebChannel=pI,R1=$a.XhrIo=vi;const P1="@firebase/firestore";class jr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let Ig="9.8.0";const Qc=new Qs.Yd("@firebase/firestore");function sC(){return Qc.logLevel}function Be(n,...t){if(Qc.logLevel<=Qs.in.DEBUG){const e=t.map(oC);Qc.debug(`Firestore (${Ig}): ${n}`,...e)}}function Oi(n,...t){if(Qc.logLevel<=Qs.in.ERROR){const e=t.map(oC);Qc.error(`Firestore (${Ig}): ${n}`,...e)}}function fd(n,...t){if(Qc.logLevel<=Qs.in.WARN){const e=t.map(oC);Qc.warn(`Firestore (${Ig}): ${n}`,...e)}}function oC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Qe(n="Unexpected state"){const t=`FIRESTORE (${Ig}) INTERNAL ASSERTION FAILED: `+n;throw Oi(t),new Error(t)}function Mt(n,t){n||Qe()}function Ye(n,t){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(jr.UNAUTHENTICATED))}shutdown(){}}class VI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class L1{constructor(t){this.t=t,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ki,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;t.enqueueRetryable((0,Ee.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},f=y=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ki)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt("string"==typeof i.accessToken),new lC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Mt(null===t||"string"==typeof t),new jr(t)}}class V1{constructor(t,e,i){this.type="FirstParty",this.user=jr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class B1{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new V1(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gd{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mt("string"==typeof e.token),this.p=e.token,new Sy(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ds{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function H1(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Ds.A=-1;class j1{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=H1(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Bt(n,t){return n<t?-1:n>t?1:0}function lp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function BI(n){return n+"\0"}class di{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return di.fromMillis(Date.now())}static fromDate(t){return di.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new di(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new di(0,0))}static max(){return new Dt(new di(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function UI(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function cp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function xy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class up{constructor(t,e,i){void 0===e?e=0:e>t.length&&Qe(),void 0===i?i=t.length-e:i>t.length-e&&Qe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===up.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof up?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class sn extends up{construct(t,e,i){return new sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new sn(e)}static emptyPath(){return new sn([])}}const q1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends up{construct(t,e,i){return new Ri(t,e,i)}static isValidIdentifier(t){return q1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ri(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ri(e)}static emptyPath(){return new Ri([])}}class Jc{constructor(t){this.fields=t,t.sort(Ri.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return lp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Pi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Pi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Pi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const G1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bl(n){if(Mt(!!n),"string"==typeof n){let t=0;const e=G1.exec(n);if(Mt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function md(n){return"string"==typeof n?Pi.fromBase64String(n):Pi.fromUint8Array(n)}function uC(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function z1(n){const t=n.mapValue.fields.__previous_value__;return uC(t)?z1(t):t}function Dy(n){const t=Bl(n.mapValue.fields.__local_write_time__.timestampValue);return new di(t.seconds,t.nanos)}class HI{constructor(t,e,i,r,o,c,h,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class Ul{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ul("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}function Sg(n){return null==n}function xg(n){return 0===n&&1/n==-1/0}function Z1(n){return"number"==typeof n&&Number.isInteger(n)&&!xg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(sn.fromString(t))}static fromName(t){return new $e(sn.fromString(t).popFirst(5))}static empty(){return new $e(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new sn(t.slice()))}}const _d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dC={nullValue:"NULL_VALUE"};function dp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uC(n)?4:$1(n)?9007199254740991:10:Qe()}function Qa(n,t){if(n===t)return!0;const e=dp(n);if(e!==dp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Dy(n).isEqual(Dy(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Bl(i.timestampValue),c=Bl(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,md(n.bytesValue).isEqual(md(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Jn(i.geoPointValue.latitude)===Jn(r.geoPointValue.latitude)&&Jn(i.geoPointValue.longitude)===Jn(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Jn(i.integerValue)===Jn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Jn(i.doubleValue),c=Jn(r.doubleValue);return o===c?xg(o)===xg(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return lp(n.arrayValue.values||[],t.arrayValue.values||[],Qa);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(UI(o)!==UI(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Qa(o[h],c[h])))return!1;return!0}(n,t);default:return Qe()}var r}function Xc(n,t){return void 0!==(n.values||[]).find(e=>Qa(e,t))}function eu(n,t){if(n===t)return 0;const e=dp(n),i=dp(t);if(e!==i)return Bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=Jn(r.integerValue||r.doubleValue),h=Jn(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return jI(n.timestampValue,t.timestampValue);case 4:return jI(Dy(n),Dy(t));case 5:return Bt(n.stringValue,t.stringValue);case 6:return function(r,o){const c=md(r),h=md(o);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let f=0;f<c.length&&f<h.length;f++){const y=Bt(c[f],h[f]);if(0!==y)return y}return Bt(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=Bt(Jn(r.latitude),Jn(o.latitude));return 0!==c?c:Bt(Jn(r.longitude),Jn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let f=0;f<c.length&&f<h.length;++f){const y=eu(c[f],h[f]);if(y)return y}return Bt(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===_d.mapValue&&o===_d.mapValue)return 0;if(r===_d.mapValue)return 1;if(o===_d.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),f=o.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let T=0;T<h.length&&T<y.length;++T){const I=Bt(h[T],y[T]);if(0!==I)return I;const M=eu(c[h[T]],f[y[T]]);if(0!==M)return M}return Bt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw Qe()}}function jI(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Bt(n,t);const e=Bl(n),i=Bl(t),r=Bt(e.seconds,i.seconds);return 0!==r?r:Bt(e.nanos,i.nanos)}function yd(n){return Hl(n)}function Hl(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Bl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?md(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Hl(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${Hl(i.fields[h])}`;return o+"}"}(n.mapValue):Qe();var t}function tu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Dg(n){return!!n&&"integerValue"in n}function vd(n){return!!n&&"arrayValue"in n}function qI(n){return!!n&&"nullValue"in n}function Ay(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hp(n){return!!n&&"mapValue"in n}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return cp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=nu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function $1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OR(n){return"nullValue"in n?dC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?tu(Ul.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Qe()}function RR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?tu(Ul.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?_d:Qe()}function W1(n,t){const e=eu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function hC(n,t){const e=eu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class qr{constructor(t){this.value=t}static empty(){return new qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!hp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=Ri.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=nu(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());hp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];hp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){cp(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new qr(nu(this.value))}}function GI(n){const t=[];return cp(n.fields,(e,i)=>{const r=new Ri([e]);if(hp(i)){const o=GI(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Jc(t)}class On{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new On(t,0,Dt.min(),Dt.min(),qr.empty(),0)}static newFoundDocument(t,e,i){return new On(t,1,e,Dt.min(),i,0)}static newNoDocument(t,e){return new On(t,2,e,Dt.min(),qr.empty(),0)}static newUnknownDocument(t,e){return new On(t,3,e,Dt.min(),qr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof On&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class My{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function ky(n){return n.fields.find(t=>2===t.kind)}function iu(n){return n.fields.filter(t=>2!==t.kind)}My.UNKNOWN_ID=-1;class Ag{constructor(t,e){this.fieldPath=t,this.kind=e}}class Mg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Mg(0,to.min())}}function zI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new di(e+1,0):new di(e,i));return new to(r,$e.empty(),t)}function ZI(n){return new to(n.readTime,n.key,-1)}class to{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new to(Dt.min(),$e.empty(),-1)}static max(){return new to(Dt.max(),$e.empty(),-1)}}function K1(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:Bt(n.largestBatchId,t.largestBatchId))}class hi{constructor(t,e){this.comparator=t,this.root=e||wr.EMPTY}insert(t,e){return new hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(t){return new hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pp(this.root,t,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pp(this.root,t,this.comparator,!0)}}class pp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:wr.RED,this.left=null!=r?r:wr.EMPTY,this.right=null!=o?o:wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new wr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return wr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const t=this.left.check();if(t!==this.right.check())throw Qe();return t+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1,wr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(n,t,e,i,r){return this}insert(n,t,e){return new wr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(t){this.comparator=t,this.data=new hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Y1(this.data.getIterator())}getIteratorFrom(t){return new Y1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof xn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new xn(this.comparator);return e.data=t,e}}class Y1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kg(n){return n.hasNext()?n.getNext():void 0}class Q1{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.P=null}}function $I(n,t=null,e=[],i=[],r=null,o=null,c=null){return new Q1(n,t,e,i,r,o,c)}function fp(n){const t=Ye(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+yd(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Sg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>yd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>yd(i)).join(",")),t.P=e}return t.P}function Oy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!E(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Qa(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!O(n.startAt,t.startAt)&&O(n.endAt,t.endAt)}function pC(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function fC(n,t){return n.filters.filter(e=>e instanceof Gr&&e.field.isEqual(t))}function WI(n,t,e){let i=dC,r=!0;for(const o of fC(n,t)){let c=dC,h=!0;switch(o.op){case"<":case"<=":c=OR(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=dC}W1({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];W1({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function J1(n,t,e){let i=_d,r=!0;for(const o of fC(n,t)){let c=_d,h=!0;switch(o.op){case">=":case">":c=RR(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=_d}hC({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];hC({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class Gr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new NR(t,e,i):"array-contains"===e?new u(t,i):"in"===e?new d(t,i):"not-in"===e?new p(t,i):"array-contains-any"===e?new _(t,i):new Gr(t,e,i)}static V(t,e,i){return"in"===e?new FR(t,i):new a(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(eu(e,this.value)):null!==e&&dp(this.value)===dp(e)&&this.v(eu(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NR extends Gr{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.v(e)}}class FR extends Gr{constructor(t,e){super(t,"in",e),this.keys=l(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class a extends Gr{constructor(t,e){super(t,"not-in",e),this.keys=l(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function l(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class u extends Gr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vd(e)&&Xc(e.arrayValue,this.value)}}class d extends Gr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Xc(this.value.arrayValue,e)}}class p extends Gr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Xc(this.value.arrayValue,e)}}class _ extends Gr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vd(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Xc(this.value.arrayValue,i))}}class w{constructor(t,e){this.position=t,this.inclusive=e}}class C{constructor(t,e="asc"){this.field=t,this.dir=e}}function E(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function A(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),e.key):eu(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function O(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qa(n.position[e],t.position[e]))return!1;return!0}class B{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.D=null,this.C=null}}function j(n,t,e,i,r,o,c,h){return new B(n,t,e,i,r,o,c,h)}function X(n){return new B(n)}function Ve(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ge(n){for(const t of n.filters)if(t.S())return t.field;return null}function at(n){return null!==n.collectionGroup}function De(n){const t=Ye(n);if(null===t.D){t.D=[];const e=Ge(t),i=Ve(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new C(e)),t.D.push(new C(Ri.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new C(Ri.keyField(),o))}}}return t.D}function ut(n){const t=Ye(n);if(!t.C)if("F"===t.limitType)t.C=$I(t.path,t.collectionGroup,De(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of De(t))e.push(new C(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new w(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new w(t.startAt.position,t.startAt.inclusive):null;t.C=$I(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function $t(n,t,e){return new B(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function on(n,t){return Oy(ut(n),ut(t))&&n.limitType===t.limitType}function As(n){return`${fp(ut(n))}|lt:${n.limitType}`}function jl(n){return`Query(target=${function PR(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${yd(i.value)}`;var i}).join(", ")}]`),Sg(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>yd(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>yd(e)).join(",")),`Target(${t})`}(ut(n))}; limitType=${n.limitType})`}function Og(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const h=A(r,o,c);return r.inclusive?h<=0:h<0}(e.startAt,De(e),i)||e.endAt&&!function(r,o,c){const h=A(r,o,c);return r.inclusive?h>=0:h>0}(e.endAt,De(e),i)));var e,i}function Ry(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Py(n){return(t,e)=>{let i=!1;for(const r of De(n)){const o=gC(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function gC(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,o,c){const h=o.data.field(r),f=c.data.field(r);return null!==h&&null!==f?eu(h,f):Qe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Qe()}}function Ny(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(t)?"-0":t}}function Fy(n){return{integerValue:""+n}}function Ly(n,t){return Z1(t)?Fy(t):Ny(n,t)}class gp{constructor(){this._=void 0}}function mC(n,t,e){return n instanceof Vy?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Rg?VR(n,t):n instanceof Pg?BR(n,t):function(i,r){const o=LR(i,r),c=UR(o)+UR(i.k);return Dg(o)&&Dg(i.k)?Fy(c):Ny(i.M,c)}(n,t)}function zB(n,t,e){return n instanceof Rg?VR(n,t):n instanceof Pg?BR(n,t):e}function LR(n,t){return n instanceof By?Dg(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Vy extends gp{}class Rg extends gp{constructor(t){super(),this.elements=t}}function VR(n,t){const e=HR(t);for(const i of n.elements)e.some(r=>Qa(r,i))||e.push(i);return{arrayValue:{values:e}}}class Pg extends gp{constructor(t){super(),this.elements=t}}function BR(n,t){let e=HR(t);for(const i of n.elements)e=e.filter(r=>!Qa(r,i));return{arrayValue:{values:e}}}class By extends gp{constructor(t,e){super(),this.M=t,this.k=e}}function UR(n){return Jn(n.integerValue||n.doubleValue)}function HR(n){return vd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _C{constructor(t,e){this.field=t,this.transform=e}}class $B{constructor(t,e){this.version=t,this.transformResults=e}}class ar{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function KI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class YI{}function WB(n,t,e){n instanceof yC?function(i,r,o){const c=i.value.clone(),h=zR(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Ng?function(i,r,o){if(!KI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=zR(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(GR(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function X1(n,t,e){var r;n instanceof yC?function(i,r,o){if(!KI(i.precondition,r))return;const c=i.value.clone(),h=ZR(i.fieldTransforms,o,r);c.setAll(h),r.convertToFoundDocument(qR(r),c).setHasLocalMutations()}(n,t,e):n instanceof Ng?function(i,r,o){if(!KI(i.precondition,r))return;const c=ZR(i.fieldTransforms,o,r),h=r.data;h.setAll(GR(i)),h.setAll(c),r.convertToFoundDocument(qR(r),h).setHasLocalMutations()}(n,t,e):KI(n.precondition,r=t)&&r.convertToNoDocument(Dt.min())}function KB(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=LR(i.transform,r||null);null!=o&&(null==e&&(e=qr.empty()),e.set(i.field,o))}return e||null}function jR(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&lp(e,i,(r,o)=>function ZB(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Rg&&i instanceof Rg||e instanceof Pg&&i instanceof Pg?lp(e.elements,i.elements,Qa):e instanceof By&&i instanceof By?Qa(e.k,i.k):e instanceof Vy&&i instanceof Vy);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function qR(n){return n.isFoundDocument()?n.version:Dt.min()}class yC extends YI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Ng extends YI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function GR(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function zR(n,t,e){const i=new Map;Mt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,zB(c,h,e[r]))}return i}function ZR(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,mC(o,c,t))}return i}class vC extends YI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class eA extends YI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class YB{constructor(t){this.count=t}}var lr,un;function $R(n){switch(n){default:return Qe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function WR(n){if(void 0===n)return Oi("GRPC error has no .code"),he.UNKNOWN;switch(n){case lr.OK:return he.OK;case lr.CANCELLED:return he.CANCELLED;case lr.UNKNOWN:return he.UNKNOWN;case lr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case lr.INTERNAL:return he.INTERNAL;case lr.UNAVAILABLE:return he.UNAVAILABLE;case lr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case lr.NOT_FOUND:return he.NOT_FOUND;case lr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case lr.ABORTED:return he.ABORTED;case lr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case lr.DATA_LOSS:return he.DATA_LOSS;default:return Qe()}}(un=lr||(lr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class mp{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){cp(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return xy(this.inner)}size(){return this.innerSize}}const QB=new hi($e.comparator);function Ja(){return QB}const JB=new hi($e.comparator);function tA(...n){let t=JB;for(const e of n)t=t.insert(e.key,e);return t}function wC(){return new mp(n=>n.toString(),(n,t)=>n.isEqual(t))}const XB=new hi($e.comparator),e3=new xn($e.comparator);function bn(...n){let t=e3;for(const e of n)t=t.add(e);return t}const t3=new xn(Bt);function QI(){return t3}class bC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,CC.createSynthesizedTargetChangeForCurrentChange(t,e)),new bC(Dt.min(),i,QI(),Ja(),bn())}}class CC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new CC(Pi.EMPTY_BYTE_STRING,e,bn(),bn(),bn())}}class JI{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class KR{constructor(t,e){this.targetId=t,this.$=e}}class YR{constructor(t,e,i=Pi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class QR{constructor(){this.B=0,this.L=XR(),this.U=Pi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=bn(),e=bn(),i=bn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Qe()}}),new CC(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=XR()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class n3{constructor(t){this.nt=t,this.st=new Map,this.it=Ja(),this.rt=JR(),this.ot=new xn(Bt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:Qe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(pC(o))if(0===i){const c=new $e(o.path);this.ct(e,c,On.newNoDocument(c,Dt.min()))}else Mt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,c)=>{const h=this.wt(c);if(h){if(o.current&&pC(h.target)){const f=new $e(h.target.path);null!==this.it.get(f)||this.It(c,f)||this.ct(c,f,On.newNoDocument(f,t))}o.j&&(e.set(c,o.H()),o.J())}});let i=bn();this.rt.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const y=this.wt(f);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,c)=>c.setReadTime(t));const r=new bC(t,e,this.ot,this.it,i);return this.it=Ja(),this.rt=JR(),this.ot=new xn(Bt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new QR,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new xn(Bt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Be("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new QR),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function JR(){return new hi($e.comparator)}function XR(){return new hi($e.comparator)}const i3={asc:"ASCENDING",desc:"DESCENDING"},r3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class s3{constructor(t,e){this.databaseId=t,this.N=e}}function TC(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eP(n,t){return n.N?t.toBase64():t.toUint8Array()}function o3(n,t){return TC(n,t.toTimestamp())}function zr(n){return Mt(!!n),Dt.fromTimestamp(function(t){const e=Bl(t);return new di(e.seconds,e.nanos)}(n))}function nA(n,t){return(e=n,new sn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function tP(n){const t=sn.fromString(n);return Mt(uP(t)),t}function EC(n,t){return nA(n.databaseId,t.path)}function ru(n,t){const e=tP(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(iP(e))}function iA(n,t){return nA(n.databaseId,t)}function nP(n){const t=tP(n);return 4===t.length?sn.emptyPath():iP(t)}function IC(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iP(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rP(n,t,e){return{name:EC(n,t),fields:e.value.mapValue.fields}}function sP(n,t,e){const i=ru(n,t.name),r=zr(t.updateTime),o=new qr({mapValue:{fields:t.fields}}),c=On.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function SC(n,t){let e;if(t instanceof yC)e={update:rP(n,t.key,t.value)};else if(t instanceof vC)e={delete:EC(n,t.key)};else if(t instanceof Ng)e={update:rP(n,t.key,t.data),updateMask:g3(t.fieldMask)};else{if(!(t instanceof eA))return Qe();e={verify:EC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Vy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof By)return{fieldPath:o.field.canonicalString(),increment:c.k};throw Qe()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:o3(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Qe()),e;var r}function rA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ar.updateTime(zr(r.updateTime)):void 0!==r.exists?ar.exists(r.exists):ar.none():ar.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Mt("REQUEST_TIME"===c.setToServerValue),h=new Vy):"appendMissingElements"in c?h=new Rg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Pg(c.removeAllFromArray.values||[]):"increment"in c?h=new By(o,c.increment):Qe();const f=Ri.fromServerFormat(c.fieldPath);return new _C(f,h)}(n,r)):[];var r;if(t.update){const r=ru(n,t.update.name),o=new qr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Jc((t.updateMask.fieldPaths||[]).map(y=>Ri.fromServerFormat(y)));return new Ng(r,o,c,e,i)}return new yC(r,o,e,i)}if(t.delete){const r=ru(n,t.delete);return new vC(r,e)}if(t.verify){const r=ru(n,t.verify);return new eA(r,e)}return Qe()}function oP(n,t){return{documents:[iA(n,t.path)]}}function aP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=iA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=iA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(T=>function(I){if("=="===I.op){if(Ay(I.value))return{unaryFilter:{field:Uy(I.field),op:"IS_NAN"}};if(qI(I.value))return{unaryFilter:{field:Uy(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(Ay(I.value))return{unaryFilter:{field:Uy(I.field),op:"IS_NOT_NAN"}};if(qI(I.value))return{unaryFilter:{field:Uy(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uy(I.field),op:h3(I.op),value:I.value}}}(T));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(y=>{return{field:Uy((T=y).field),direction:d3(T.dir)};var T})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(y=t.limit,n.N||Sg(y)?y:{value:y});var y,h,f;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function lP(n){let t=nP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Mt(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let o=[];e.where&&(o=cP(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(T=>{return new C(Hy((I=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(T){let I;return I="object"==typeof T?T.value:T,Sg(I)?null:I}(e.limit));let f=null;var T;e.startAt&&(f=new w((T=e.startAt).values||[],!!T.before));let y=null;return e.endAt&&(y=function(T){return new w(T.values||[],!T.before)}(e.endAt)),j(t,r,c,o,h,"F",f,y)}function cP(n){return n?void 0!==n.unaryFilter?[f3(n)]:void 0!==n.fieldFilter?[p3(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>cP(t)).reduce((t,e)=>t.concat(e)):Qe():[]}function d3(n){return i3[n]}function h3(n){return r3[n]}function Uy(n){return{fieldPath:n.canonicalString()}}function Hy(n){return Ri.fromServerFormat(n.fieldPath)}function p3(n){return Gr.create(Hy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(n.fieldFilter.op),n.fieldFilter.value)}function f3(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Hy(n.unaryFilter.field);return Gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Hy(n.unaryFilter.field);return Gr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hy(n.unaryFilter.field);return Gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Hy(n.unaryFilter.field);return Gr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function g3(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function uP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function no(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=dP(t)),t=m3(n.get(e),t);return dP(t)}function m3(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function dP(n){return n+"\x01\x01"}function su(n){const t=n.length;if(Mt(t>=2),2===t)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&Qe(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let f;0===r.length?f=h:(r+=h,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:Qe()}o=c+2}return new sn(i)}const hP=["userId","batchId"];function XI(n,t){return[n,no(t)]}function pP(n,t,e){return[n,no(t),e]}const _3={},y3=["prefixPath","collectionGroup","readTime","documentId"],v3=["prefixPath","collectionGroup","documentId"],w3=["collectionGroup","readTime","prefixPath","documentId"],b3=["canonicalId","targetId"],C3=["targetId","path"],T3=["path","targetId"],E3=["collectionId","parent"],I3=["indexId","uid"],S3=["uid","sequenceNumber"],x3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D3=["indexId","uid","orderedDocumentKey"],A3=["userId","collectionPath","documentId"],M3=["userId","collectionPath","largestBatchId"],k3=["userId","collectionGroup","largestBatchId"],fP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],O3=[...fP,"documentOverlays"],gP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R3=[...gP,"indexConfiguration","indexState","indexEntries"],mP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,i)=>{e(t)})}static reject(t){return new me((e,i)=>{i(t)})}static waitFor(t){return new me((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=me.resolve(!1);for(const i of t)e=e.next(r=>r?me.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class eS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Ki,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new xC(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=sA(i.target.error);this.At.reject(new xC(t,r))}}static open(t,e,i,r){try{return new eS(e,t.transaction(r,i))}catch(o){throw new xC(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new N3(e)}}class ql{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===ql.Vt((0,N.z$)())&&Oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),Lg(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,N.hl)())return!1;if(ql.St())return!0;const t=(0,N.z$)(),e=ql.Vt(t),i=0<e&&e<10,r=ql.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Ee.Z)(function*(){return e.db||(Be("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new xC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Re(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new xC(t,h))},o.onupgradeneeded=c=>{Be("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Pt.kt(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Be("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ee.Z)(function*(){const c="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const f=eS.open(o.db,t,c?"readonly":"readwrite",i),y=r(f).next(T=>(f.bt(),T)).catch(T=>(f.abort(T),me.reject(T))).toPromise();return y.catch(()=>{}),yield f.Rt,y}catch(f){const y="FirebaseError"!==f.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",f.message,"Retrying:",y),o.close(),!y)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class P3{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Lg(this.Ft.delete())}}class xC extends Re{constructor(t,e){super(he.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Fg(n){return"IndexedDbTransactionError"===n.name}class N3{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Be("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Lg(i)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),Lg(this.store.add(t))}get(t){return Lg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Be("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),Lg(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),Lg(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new me((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new me((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(t,e){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,c,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new me((i,r)=>{e.onerror=o=>{const c=sA(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}Kt(t,e){const i=[];return new me((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const f=new P3(h),y=e(h.primaryKey,h.value,f);if(y instanceof me){const T=y.catch(I=>(f.done(),me.reject(I)));i.push(T)}f.isDone?r():null===f.Lt?h.continue():h.continue(f.Lt)}}).next(()=>me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Lg(n){return new me((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=sA(i.target.error);e(r)}})}let yP=!1;function sA(n){const t=ql.Vt((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yP||(yP=!0,setTimeout(()=>{throw i},0)),i}}return n}class vP extends _P{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Zr(n,t){const e=Ye(n);return ql.xt(e.Ht,t)}class oA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&WB(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&X1(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&X1(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bn())}isEqual(t){return this.batchId===t.batchId&&lp(this.mutations,t.mutations,(e,i)=>jR(e,i))&&lp(this.baseMutations,t.baseMutations,(e,i)=>jR(e,i))}}class aA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Mt(t.mutations.length===i.length);let r=XB;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new aA(t,e,i,r)}}class lA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _p{constructor(t,e,i,r,o=Dt.min(),c=Dt.min(),h=Pi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(t){return new _p(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class wP{constructor(t){this.Jt=t}}function bP(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:tS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:EC(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:TC(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Vg(t.version)};else{if(!t.isUnknownDocument())return Qe();i.unknownDocument={path:e.path.toArray(),version:Vg(t.version)}}var r,o;return i}function tS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Vg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bg(n){const t=new di(n.seconds,n.nanoseconds);return Dt.fromTimestamp(t)}function jy(n,t){const e=(t.baseMutations||[]).map(o=>rA(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>rA(n.Jt,o)),r=di.fromMillis(t.localWriteTimeMs);return new oA(t.batchId,r,e,i)}function DC(n){const t=Bg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Bg(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(Mt(1===(r=n.query).documents.length),i=ut(X(nP(r.documents[0])))):i=ut(lP(n.query)),new _p(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Pi.fromBase64String(n.resumeToken))}function CP(n,t){const e=Vg(t.snapshotVersion),i=Vg(t.lastLimboFreeSnapshotVersion);let r;r=pC(t.target)?oP(n.Jt,t.target):aP(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function cA(n){const t=lP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$t(t,t.limit,"L"):t}function uA(n,t){return new lA(t.largestBatchId,rA(n.Jt,t.overlayMutation))}function TP(n,t){const e=t.path.lastSegment();return[n,no(t.path.popLast()),e]}class L3{getBundleMetadata(t,e){return EP(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return EP(t).put({bundleId:(i=e).id,createTime:Vg(zr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return IP(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:cA(r.bundledQuery),readTime:Bg(r.readTime)};var r})}saveNamedQuery(t,e){return IP(t).put({name:(i=e).name,readTime:Vg(zr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function EP(n){return Zr(n,"bundles")}function IP(n){return Zr(n,"namedQueries")}class dA{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new dA(t,e.uid||"")}getOverlay(t,e){return AC(t).get(TP(this.userId,e)).next(i=>i?uA(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const h=new lA(e,c);r.push(this.Xt(t,h))}),me.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(no(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(AC(t).Qt("collectionPathOverlayIndex",h))}),me.waitFor(o)}getOverlaysForCollection(t,e,i){const r=wC(),o=no(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return AC(t).qt("collectionPathOverlayIndex",c).next(h=>{for(const f of h){const y=uA(this.M,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=wC();let c;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return AC(t).Wt({index:"collectionGroupOverlayIndex",range:h},(f,y,T)=>{const I=uA(this.M,y);o.size()<r||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):T.done()}).next(()=>o)}Xt(t,e){return AC(t).put(function(i,r,o){const[c,h,f]=TP(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:SC(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function AC(n){return Zr(n,"documentOverlays")}class Ug{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Jn(t.integerValue));else if("doubleValue"in t){const i=Jn(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),xg(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(md(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?$1(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):Qe()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),$e.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function V3(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function SP(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=V3(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Ug.fe=new Ug;class B3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=SP(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=SP(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class U3{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class H3{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class MC{constructor(){this.De=new B3,this.Ce=new U3(this.De),this.xe=new H3(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Hg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Hg(this.indexId,this.documentKey,this.arrayValue,i)}}function jg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=xP(n.arrayValue,t.arrayValue),0!==e?e:(e=xP(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function xP(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class j3{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=ky(t);if(void 0!==e&&!this.Be(e))return!1;const i=iu(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],c))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class q3{constructor(){this.qe=new hA}addToCollectionParentIndex(t,e){return this.qe.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(to.min())}updateCollectionGroup(t,e,i){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class hA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new xn(sn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new xn(sn.comparator)).toArray()}}const nS=new Uint8Array(0);class G3{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new hA,this.Ge=new mp(i=>fp(i),(i,r)=>Oy(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const o={collectionId:i,parent:no(r)};return DP(t).put(o)}return me.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[BI(e),""],!1,!0);return DP(t).qt(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(su(c.parent))}return i})}addFieldIndex(t,e){const i=iS(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=iS(t),r=rS(t),o=kC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=kC(t);let r=!0;const o=new Map;return me.forEach(this.Qe(e),c=>this.je(t,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=bn();const h=[];return me.forEach(o,(f,y)=>{var T;Be("IndexedDbIndexManager",`Using index ${T=f,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${fp(e)}`);const I=function(it,rt){const At=ky(rt);if(void 0===At)return null;for(const Rt of fC(it,At.fieldPath))switch(Rt.op){case"array-contains-any":return Rt.value.arrayValue.values||[];case"array-contains":return[Rt.value]}return null}(y,f),M=function(it,rt){const At=new Map;for(const Rt of iu(rt))for(const nn of fC(it,Rt.fieldPath))switch(nn.op){case"==":case"in":At.set(Rt.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return At.set(Rt.fieldPath.canonicalString(),nn.value),Array.from(At.values())}return null}(y,f),P=function(it,rt){const At=[];let Rt=!0;for(const nn of iu(rt)){const ei=0===nn.kind?WI(it,nn.fieldPath,it.startAt):J1(it,nn.fieldPath,it.startAt);At.push(ei.value),Rt&&(Rt=ei.inclusive)}return new w(At,Rt)}(y,f),V=function(it,rt){const At=[];let Rt=!0;for(const nn of iu(rt)){const ei=0===nn.kind?J1(it,nn.fieldPath,it.endAt):WI(it,nn.fieldPath,it.endAt);At.push(ei.value),Rt&&(Rt=ei.inclusive)}return new w(At,Rt)}(y,f),Q=this.We(f,y,P),ye=this.We(f,y,V),He=this.ze(f,y,M),Xe=this.He(f.indexId,I,Q,P.inclusive,ye,V.inclusive,He);return me.forEach(Xe,it=>i.Gt(it,e.limit).next(rt=>{rt.forEach(At=>{const Rt=$e.fromSegments(At.documentKey);c.has(Rt)||(c=c.add(Rt),h.push(Rt))})}))}).next(()=>h)}return me.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,o,c,h){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),y=f/(null!=e?e.length:1),T=[];for(let I=0;I<f;++I){const M=e?this.Je(e[I/y]):nS,P=this.Ye(t,M,i[I%y],r),V=this.Xe(t,M,o[I%y],c),Q=h.map(ye=>this.Ye(t,M,ye,!0));T.push(...this.createRange(P,V,Q))}return T}Ye(t,e,i,r){const o=new Hg(t,$e.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new Hg(t,$e.empty(),e,i);return r?o.ke():o}je(t,e){const i=new j3(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const h of o)i.$e(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(t,e){let i=2;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new xn(Ri.comparator),f=!1;for(const y of c.filters){const T=y;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?f=!0:h=h.add(T.field))}for(const y of c.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new MC;for(const r of iu(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Ne(r.kind);Ug.fe.Zt(o,c)}return i.Se()}Je(t){const e=new MC;return Ug.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new MC;return Ug.fe.Zt(tu(this.databaseId,e),i.Ne(function(r){const o=iu(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new MC);let o=0;for(const c of iu(t)){const h=i[o++];for(const f of r)if(this.en(e,c.fieldPath)&&vd(h))r=this.nn(r,c,h);else{const y=f.Ne(c.kind);Ug.fe.Zt(h,y)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const f=new MC;f.seed(h.Se()),Ug.fe.Zt(c,f.Ne(e.kind)),o.push(f)}return o}en(t,e){return!!t.filters.find(i=>i instanceof Gr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=iS(t),r=rS(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const c=[];return me.forEach(o,h=>r.get([h.indexId,this.uid]).next(f=>{c.push(function(y,T){const I=T?new Mg(T.sequenceNumber,new to(Bg(T.readTime),new $e(su(T.documentKey)),T.largestBatchId)):Mg.empty(),M=y.fields.map(([P,V])=>new Ag(Ri.fromServerFormat(P),V));return new My(y.indexId,y.collectionGroup,M,I)}(h,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Bt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=iS(t),o=rS(t);return this.rn(t).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>me.forEach(h,f=>{return o.put({indexId:f.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Vg((M=i).readTime),documentKey:no(M.documentKey.path),largestBatchId:M.largestBatchId});var M})))}updateIndexEntries(t,e){const i=new Map;return me.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),me.forEach(h,f=>this.on(t,r,f).next(y=>{const T=this.un(o,f);return y.isEqual(T)?me.resolve():this.an(t,o,f,y,T)}))))})}cn(t,e,i,r){return kC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return kC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=kC(t);let o=new xn(jg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(c,h)=>{o=o.add(new Hg(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}un(t,e){let i=new xn(jg);const r=this.Ze(e,t);if(null==r)return i;const o=ky(e);if(null!=o){const c=t.data.field(o.fieldPath);if(vd(c))for(const h of c.arrayValue.values||[])i=i.add(new Hg(e.indexId,t.key,this.Je(h),r))}else i=i.add(new Hg(e.indexId,t.key,nS,r));return i}an(t,e,i,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(h,f,y,T,I){const M=h.getIterator(),P=f.getIterator();let V=kg(M),Q=kg(P);for(;V||Q;){let ye=!1,He=!1;if(V&&Q){const Xe=y(V,Q);Xe<0?He=!0:Xe>0&&(ye=!0)}else null!=V?He=!0:ye=!0;ye?(T(Q),Q=kg(P)):He?(I(V),V=kg(M)):(V=kg(M),Q=kg(P))}}(r,o,jg,h=>{c.push(this.cn(t,e,i,h))},h=>{c.push(this.hn(t,e,i,h))}),me.waitFor(c)}rn(t){let e=1;return rS(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,h)=>jg(c,h)).filter((c,h,f)=>!h||0!==jg(c,f[h-1]));const r=[];r.push(t);for(const c of i){const h=jg(c,t),f=jg(c,e);if(0===h)r[0]=t.ke();else if(h>0&&f<0)r.push(c),r.push(c.ke());else if(f>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,nS,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,nS,[]]));return o}getMinOffset(t,e){let i;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?(!i||K1(o.indexState.offset,i)<0)&&(i=o.indexState.offset):i=to.min()})).next(()=>i)}}function DP(n){return Zr(n,"collectionParents")}function kC(n){return Zr(n,"indexEntries")}function iS(n){return Zr(n,"indexConfiguration")}function rS(n){return Zr(n,"indexState")}const AP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ro{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ro(t,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function MP(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let h=0;const f=i.Wt({range:c},(T,I,M)=>(h++,M.delete()));o.push(f.next(()=>{Mt(1===h)}));const y=[];for(const T of e.mutations){const I=pP(t,T.key.path,e.batchId);o.push(r.delete(I)),y.push(T.key)}return me.waitFor(o).next(()=>y)}function sS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Qe();t=n.noDocument}return JSON.stringify(t).length}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class pA{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Mt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new pA(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yp(t).Wt({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=qy(t),c=yp(t);return c.add({}).next(h=>{Mt("number"==typeof h);const f=new oA(h,e,i,r),y=function(M,P,V){const Q=V.baseMutations.map(He=>SC(M.Jt,He)),ye=V.mutations.map(He=>SC(M.Jt,He));return{userId:P,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:Q,mutations:ye}}(this.M,this.userId,f),T=[];let I=new xn((M,P)=>Bt(M.canonicalString(),P.canonicalString()));for(const M of r){const P=pP(this.userId,M.key.path,h);I=I.add(M.key.path.popLast()),T.push(c.put(y)),T.push(o.put(P,_3))}return I.forEach(M=>{T.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.ln[h]=f.keys()}),me.waitFor(T).next(()=>f)})}lookupMutationBatch(t,e){return yp(t).get(e).next(i=>i?(Mt(i.userId===this.userId),jy(this.M,i)):null)}fn(t,e){return this.ln[e]?me.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return yp(t).Wt({index:"userMutationsIndex",range:r},(c,h,f)=>{h.userId===this.userId&&(Mt(h.batchId>=i),o=jy(this.M,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return yp(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yp(t).qt("userMutationsIndex",e).next(i=>i.map(r=>jy(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=XI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return qy(t).Wt({range:r},(c,h,f)=>{const[y,T,I]=c,M=su(T);if(y===this.userId&&e.path.isEqual(M))return yp(t).get(I).next(P=>{if(!P)throw Qe();Mt(P.userId===this.userId),o.push(jy(this.M,P))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xn(Bt);const r=[];return e.forEach(o=>{const c=XI(this.userId,o.path),h=IDBKeyRange.lowerBound(c),f=qy(t).Wt({range:h},(y,T,I)=>{const[M,P,V]=y,Q=su(P);M===this.userId&&o.path.isEqual(Q)?i=i.add(V):I.done()});r.push(f)}),me.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=XI(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new xn(Bt);return qy(t).Wt({range:c},(f,y,T)=>{const[I,M,P]=f,V=su(M);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(P)):T.done()}).next(()=>this.dn(t,h))}dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(yp(t).get(o).next(c=>{if(null===c)throw Qe();Mt(c.userId===this.userId),i.push(jy(this.M,c))}))}),me.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return MP(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),me.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qy(t).Wt({range:i},(o,c,h)=>{if(o[0]===this.userId){const f=su(o[1]);r.push(f)}else h.done()}).next(()=>{Mt(0===r.length)})})}containsKey(t,e){return kP(t,this.userId,e)}wn(t){return OP(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kP(n,t,e){const i=XI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return qy(n).Wt({range:o,jt:!0},(h,f,y)=>{const[T,I,M]=h;T===t&&I===r&&(c=!0),y.done()}).next(()=>c)}function yp(n){return Zr(n,"mutations")}function qy(n){return Zr(n,"documentMutations")}function OP(n){return Zr(n,"mutationQueues")}class qg{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new qg(0)}static yn(){return new qg(-1)}}class z3{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new qg(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>Dt.fromTimestamp(new di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Gy(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Mt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Gy(t).Wt((c,h)=>{const f=DC(h);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>me.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Gy(t).Wt((i,r)=>{const o=DC(r);e(o)})}pn(t){return RP(t).get("targetGlobalKey").next(e=>(Mt(null!==e),e))}In(t,e){return RP(t).put("targetGlobalKey",e)}Tn(t,e){return Gy(t).put(CP(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=fp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Gy(t).Wt({range:r,index:"queryTargetsIndex"},(c,h,f)=>{const y=DC(h);Oy(e,y.target)&&(o=y,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=vp(t);return e.forEach(c=>{const h=no(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,c))}),me.waitFor(r)}removeMatchingKeys(t,e,i){const r=vp(t);return me.forEach(e,o=>{const c=no(o.path);return me.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=vp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=vp(t);let o=bn();return r.Wt({range:i,jt:!0},(c,h,f)=>{const y=su(c[1]),T=new $e(y);o=o.add(T)}).next(()=>o)}containsKey(t,e){const i=no(e.path),r=IDBKeyRange.bound([i],[BI(i)],!1,!0);let o=0;return vp(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,h],f,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}Et(t,e){return Gy(t).get(e).next(i=>i?DC(i):null)}}function Gy(n){return Zr(n,"targets")}function RP(n){return Zr(n,"targetGlobal")}function vp(n){return Zr(n,"targetDocuments")}function Gg(n){return fA.apply(this,arguments)}function fA(){return fA=(0,Ee.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==mP)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),fA.apply(this,arguments)}function PP([n,t],[e,i]){const r=Bt(n,e);return 0===r?Bt(t,i):r}class Z3{constructor(t){this.An=t,this.buffer=new xn(PP),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();PP(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $3{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ee.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Fg(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gg(r)}yield e.Sn(t)}))}}class W3{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return me.resolve(Ds.A);const i=new Z3(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(AP)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AP):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,o,c,h,f,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),sC()<=Qs.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(f-h)+`ms\n\tRemoved ${I} documents in `+(y-f)+`ms\nTotal Duration: ${y-T}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class K3{constructor(t,e){this.db=t,this.garbageCollector=new W3(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return oS(t,i)}removeReference(t,e,i){return oS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return oS(t,e)}On(t,e){return function(i,r){let o=!1;return OP(i).zt(c=>kP(i,c,r).next(h=>(h&&(o=!0),me.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Mn(t,(c,h)=>{if(h<=e){const f=this.On(t,c).next(y=>{if(!y)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Dt.min()),vp(t).delete([0,no(c.path)])))});r.push(f)}}).next(()=>me.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return oS(t,e)}Mn(t,e){const i=vp(t);let r,o=Ds.A;return i.Wt({index:"documentTargetsIndex"},([c,h],{path:f,sequenceNumber:y})=>{0===c?(o!==Ds.A&&e(new $e(su(r)),o),o=y,r=f):o=Ds.A}).next(()=>{o!==Ds.A&&e(new $e(su(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function oS(n,t){return vp(n).put((i=n.currentSequenceNumber,{targetId:0,path:no(t.path),sequenceNumber:i}));var i}class NP{constructor(){this.changes=new mp(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,On.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?me.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Y3{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return zg(t).put(i)}removeEntry(t,e,i){return zg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],tS(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=On.newInvalidDocument(e);return zg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(OC(e))},(r,o)=>{i=this.$n(e,o)}).next(()=>i)}Bn(t,e){let i={size:0,document:On.newInvalidDocument(e)};return zg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(OC(e))},(r,o)=>{i={document:this.$n(e,o),size:sS(o)}}).next(()=>i)}getEntries(t,e){let i=Ja();return this.Ln(t,e,(r,o)=>{const c=this.$n(r,o);i=i.insert(r,c)}).next(()=>i)}Un(t,e){let i=Ja(),r=new hi($e.comparator);return this.Ln(t,e,(o,c)=>{const h=this.$n(o,c);i=i.insert(o,h),r=r.insert(o,sS(c))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return me.resolve();let r=new xn(VP);e.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(OC(r.first()),OC(r.last())),c=r.getIterator();let h=c.getNext();return zg(t).Wt({index:"documentKeyIndex",range:o},(f,y,T)=>{const I=$e.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&VP(h,I)<0;)i(h,null),h=c.getNext();h&&h.isEqual(I)&&(i(h,y),h=c.hasNext()?c.getNext():null),h?T.Ut(OC(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),tS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zg(t).qt(IDBKeyRange.bound(r,o,!0)).next(c=>{let h=Ja();for(const f of c){const y=this.$n($e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=Ja();const c=LP(e,i),h=LP(e,to.max());return zg(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(f,y,T)=>{const I=this.$n($e.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(I.key,I),o.size===r&&T.done()}).next(()=>o)}newChangeBuffer(t){return new Q3(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return FP(t).get("remoteDocumentGlobalKey").next(e=>(Mt(!!e),e))}Fn(t,e){return FP(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function F3(n,t){let e;if(t.document)e=sP(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=Bg(t.noDocument.readTime);e=On.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qe();{const i=$e.fromSegments(t.unknownDocument.path),r=Bg(t.unknownDocument.version);e=On.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new di(i[0],i[1]);return Dt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return On.newInvalidDocument(t)}}class Q3 extends NP{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new mp(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new xn((o,c)=>Bt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.Gn.get(o);if(e.push(this.Kn.removeEntry(t,o,h.readTime)),c.isValidDocument()){const f=bP(this.Kn.M,c);r=r.add(o.path.popLast()),i+=sS(f)-h.size,e.push(this.Kn.addEntry(t,o,f))}else if(i-=h.size,this.trackRemovals){const f=bP(this.Kn.M,c.convertToNoDocument(Dt.min()));e.push(this.Kn.addEntry(t,o,f))}}),r.forEach(o=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Kn.updateMetadata(t,i)),me.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((o,c)=>{this.Gn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function FP(n){return Zr(n,"remoteDocumentGlobal")}function zg(n){return Zr(n,"remoteDocumentsV14")}function OC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function LP(n,t){const e=t.documentKey.path.toArray();return[n,tS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function VP(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Bt(e[o],i[o]),r)return r;return r=Bt(e.length,i.length),r||(r=Bt(e[e.length-2],i[i.length-2]),r||Bt(e[e.length-1],i[i.length-1]))}class J3{constructor(t){this.M=t}kt(t,e,i,r){const o=new eS("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hP,{unique:!0}),h.createObjectStore("documentMutations"),BP(t),function(h){h.createObjectStore("remoteDocuments")}(t));let c=me.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),BP(t)),c=c.next(()=>function(h){const f=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,f){return f.store("mutations").qt().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hP,{unique:!0});const T=f.store("mutations"),I=y.map(M=>T.put(M));return me.waitFor(I)})}(t,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(o)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(o))),i<8&&r>=8&&(c=c.next(()=>this.zn(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const f=h.createObjectStore("documentOverlays",{keyPath:A3});f.createIndex("collectionPathOverlayIndex",M3,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",k3,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(h){const f=h.createObjectStore("remoteDocumentsV14",{keyPath:y3});f.createIndex("documentKeyIndex",v3),f.createIndex("collectionGroupIndex",w3)}(t)).next(()=>this.Jn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:I3}).createIndex("sequenceNumberIndex",S3,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:x3}).createIndex("documentKeyIndex",D3,{unique:!1})}(t)})),c}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=sS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>me.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(h=>me.forEach(h,f=>{Mt(f.userId===o.userId);const y=jy(this.M,f);return MP(t,o.userId,y).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((c,h)=>{const f=new sn(c),y=[0,no(f)];o.push(e.get(y).next(T=>T?me.resolve():e.put({targetId:0,path:no(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>me.waitFor(o))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:E3});const i=e.store("collectionParents"),r=new hA,o=c=>{if(r.add(c)){const h=c.lastSegment(),f=c.popLast();return i.put({collectionId:h,parent:no(f)})}};return e.store("remoteDocuments").Wt({jt:!0},(c,h)=>{const f=new sn(c);return o(f.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([c,h,f],y)=>{const T=su(h);return o(T.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=DC(r),c=CP(this.M,o);return e.put(c)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,c)=>{const h=e.store("remoteDocumentsV14"),f=(y=c,y.document?new $e(sn.fromString(y.document.name).popFirst(5)):y.noDocument?$e.fromSegments(y.noDocument.path):y.unknownDocument?$e.fromSegments(y.unknownDocument.path):Qe()).path.toArray();var y;const T={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(T))}).next(()=>me.waitFor(r))}}function BP(n){n.createObjectStore("targetDocuments",{keyPath:C3}).createIndex("documentTargetsIndex",T3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",b3,{unique:!0}),n.createObjectStore("targetGlobal")}const gA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mA{constructor(t,e,i,r,o,c,h,f,y,T,I=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=o,this.window=c,this.document=h,this.Xn=y,this.Zn=T,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=M=>Promise.resolve(),!mA.vt())throw new Re(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new K3(this,r),this.hs=e+"main",this.M=new wP(f),this.ls=new ql(this.hs,this.ts,new J3(this.M)),this.fs=new z3(this.referenceDelegate,this.M),this.ds=new Y3(this.M),this._s=new L3,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&Oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,gA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new Ds(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,Ee.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,Ee.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>aS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(Fg(t))return Be("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return RC(t).get("owner").next(e=>me.resolve(this.Ps(e)))}Vs(t){return aS(t).delete(this.clientId)}vs(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Zr(i,"clientMetadata");return r.qt().next(o=>{const c=t.Ds(o,18e5),h=o.filter(f=>-1===c.indexOf(f));return me.forEach(h,f=>r.delete(f.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?me.resolve(!0):RC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,gA);return!1}}return!(!this.networkEnabled||!this.inForeground)||aS(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Be("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new vP(e,Ds.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>aS(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return pA.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new G3(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return dA.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Be("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(c=this.ts)?R3:13===c?gP:12===c?O3:11===c?fP:void Qe();var c;let h;return this.ls.runTransaction(t,r,o,f=>(h=new vP(f,this.es?this.es.next():Ds.A),"readwrite-primary"===e?this.Es(h).next(y=>!!y||this.As(h)).next(y=>{if(!y)throw Oi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Re(he.FAILED_PRECONDITION,mP);return i(h)}).next(y=>this.bs(h).next(()=>y)):this.$s(h).next(()=>i(h)))).then(f=>(h.raiseOnCommittedEvent(),f))}$s(t){return RC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(he.FAILED_PRECONDITION,gA)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RC(t).put("owner",e)}static vt(){return ql.vt()}Rs(t){const e=RC(t);return e.get("owner").next(i=>this.Ps(i)?(Be("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(Oi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Be("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Oi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){Oi("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function RC(n){return Zr(n,"owner")}function aS(n){return Zr(n,"clientMetadata")}function _A(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class X3{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):at(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new $e(e)).next(i=>{let r=tA();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let o=tA();return this.indexManager.getCollectionParents(t,r).next(c=>me.forEach(c,h=>{const f=(y=e,T=h.child(r),new B(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,T;return this.zs(t,f,i).next(y=>{y.forEach((T,I)=>{o=o.insert(T,I)})})}).next(()=>o))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const c of o)for(const h of c.mutations){const f=h.key;let y=r.get(f);null==y&&(y=On.newInvalidDocument(f),r=r.insert(f,y)),X1(h,y,c.localWriteTime),y.isFoundDocument()||(r=r.remove(f))}}).next(()=>(r.forEach((o,c)=>{Og(e,c)||(r=r.remove(o))}),r))}}class yA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=bn(),r=bn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new yA(t,e.fromCache,i,r)}}class UP{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(o=>o||this.ei(t,e,r,i)).next(o=>o||this.ni(t,e))}ti(t,e){return me.resolve(null)}ei(t,e,i,r){return function be(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Dt.min())?this.ni(t,e):this.Zs.Ks(t,i).next(o=>{const c=this.si(e,o);return this.ii(e,c,i,r)?this.ni(t,e):(sC()<=Qs.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jl(e)),this.ri(t,c,e,zI(r,-1)))})}si(t,e){let i=new xn(Py(t));return e.forEach((r,o)=>{Og(t,o)&&(i=i.add(o))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ni(t,e){return sC()<=Qs.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",jl(e)),this.Zs.Qs(t,e,to.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class eU{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new hi(Bt),this.ai=new mp(o=>fp(o),Oy),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new X3(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function HP(n,t,e,i){return new eU(n,t,e,i)}function jP(n,t){return vA.apply(this,arguments)}function vA(){return vA=(0,Ee.Z)(function*(n,t){const e=Ye(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(o=>(r=o,e.li(t),e.Bs.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=bn();for(const y of r){c.push(y.batchId);for(const T of y.mutations)f=f.add(T.key)}for(const y of o){h.push(y.batchId);for(const T of y.mutations)f=f.add(T.key)}return e.fi.Ks(i,f).next(y=>({di:y,removedBatchIds:c,addedBatchIds:h}))})})}),vA.apply(this,arguments)}function tU(n,t){const e=Ye(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.hi.newChangeBuffer({trackRemovals:!0});return function(c,h,f,y){const T=f.batch,I=T.keys();let M=me.resolve();return I.forEach(P=>{M=M.next(()=>y.getEntry(h,P)).next(V=>{const Q=f.docVersions.get(P);Mt(null!==Q),V.version.compareTo(Q)<0&&(T.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),y.addEntry(V)))})}),M.next(()=>c.Bs.removeMutationBatch(h,T))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function qP(n){const t=Ye(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function nU(n,t){const e=Ye(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const h=[];t.targetChanges.forEach((y,T)=>{const I=r.get(T);if(!I)return;h.push(e.fs.removeMatchingKeys(o,y.removedDocuments,T).next(()=>e.fs.addMatchingKeys(o,y.addedDocuments,T)));let M=I.withSequenceNumber(o.currentSequenceNumber);var P,V,Q;t.targetMismatches.has(T)?M=M.withResumeToken(Pi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):y.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(y.resumeToken,i)),r=r.insert(T,M),V=M,Q=y,(0===(P=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(o,M))});let f=Ja();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(GP(o,c,t.documentUpdates).next(y=>{f=y})),!i.isEqual(Dt.min())){const y=e.fs.getLastRemoteSnapshotVersion(o).next(T=>e.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return me.waitFor(h).next(()=>c.apply(o)).next(()=>e.fi.Gs(o,f)).next(()=>f)}).then(o=>(e.ui=r,o))}function GP(n,t,e){let i=bn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=Ja();return e.forEach((c,h)=>{const f=r.get(c);h.isNoDocument()&&h.version.isEqual(Dt.min())?(t.removeEntry(c,h.readTime),o=o.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||0===h.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(h),o=o.insert(c,h)):Be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),o})}function iU(n,t){const e=Ye(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function zy(n,t){const e=Ye(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(o=>o?(r=o,me.resolve(r)):e.fs.allocateTargetId(i).next(c=>(r=new _p(t,c,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function Zy(n,t,e){return wA.apply(this,arguments)}function wA(){return wA=(0,Ee.Z)(function*(n,t,e){const i=Ye(n),r=i.ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Fg(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),wA.apply(this,arguments)}function lS(n,t,e){const i=Ye(n);let r=Dt.min(),o=bn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,f,y){const T=Ye(h),I=T.ai.get(y);return void 0!==I?me.resolve(T.ui.get(I)):T.fs.getTargetData(f,y)}(i,c,ut(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.oi.Qs(c,t,e?r:Dt.min(),e?o:bn())).next(h=>($P(i,Ry(t),h),{documents:h,_i:o})))}function zP(n,t){const e=Ye(n),i=Ye(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(c=>c?c.target:null))}function ZP(n,t){const e=Ye(n),i=e.ci.get(t)||Dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,zI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($P(e,t,r),r))}function $P(n,t,e){let i=Dt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ci.set(t,i)}function bA(){return bA=(0,Ee.Z)(function*(n,t,e,i){const r=Ye(n);let o=bn(),c=Ja();for(const y of e){const T=t.wi(y.metadata.name);y.document&&(o=o.add(T));const I=t.mi(y);I.setReadTime(t.gi(y.metadata.readTime)),c=c.insert(T,I)}const h=r.hi.newChangeBuffer({trackRemovals:!0}),f=yield zy(r,(y=i,ut(X(sn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>GP(y,h,c).next(T=>(h.apply(y),T)).next(T=>r.fs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.fs.addMatchingKeys(y,o,f.targetId)).next(()=>r.fi.Gs(y,T)).next(()=>T)))}),bA.apply(this,arguments)}function sU(n,t){return CA.apply(this,arguments)}function CA(){return CA=(0,Ee.Z)(function*(n,t,e=bn()){const i=yield zy(n,ut(cA(t.bundledQuery))),r=Ye(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=zr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(o,t);const h=i.withResumeToken(Pi.EMPTY_BYTE_STRING,c);return r.ui=r.ui.insert(h.targetId,h),r.fs.updateTargetData(o,h).next(()=>r.fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.fs.addMatchingKeys(o,e,i.targetId)).next(()=>r._s.saveNamedQuery(o,t))})}),CA.apply(this,arguments)}class oU{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return me.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:zr(i.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:cA(i.bundledQuery),readTime:zr(i.readTime)}),me.resolve();var i}}class aU{constructor(){this.overlays=new hi($e.comparator),this.Ii=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),me.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ii.delete(i)),me.resolve()}getOverlaysForCollection(t,e,i){const r=wC(),o=e.length+1,c=new $e(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return me.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new hi((y,T)=>y-T);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let T=o.get(y.largestBatchId);null===T&&(T=wC(),o=o.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const h=wC(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,T)=>h.set(y,T)),!(h.size()>=r)););return me.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lA(e,i));let o=this.Ii.get(e);void 0===o&&(o=bn(),this.Ii.set(e,o)),this.Ii.set(e,o.add(i.key))}}class TA{constructor(){this.Ti=new xn($r.Ei),this.Ai=new xn($r.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new $r(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new $r(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new $e(new sn([])),i=new $r(e,t),r=new $r(e,t+1),o=[];return this.Ai.forEachInRange([i,r],c=>{this.Pi(c),o.push(c.key)}),o}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new $e(new sn([])),i=new $r(e,t),r=new $r(e,t+1);let o=bn();return this.Ai.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new $r(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class $r{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return $e.comparator(t.key,e.key)||Bt(t.Ci,e.Ci)}static Ri(t,e){return Bt(t.Ci,e.Ci)||$e.comparator(t.key,e.key)}}class lU{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new xn($r.Ei)}checkEmpty(t){return me.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const o=this.xi;this.xi++;const c=new oA(o,e,i,r);this.Bs.push(c);for(const h of r)this.Ni=this.Ni.add(new $r(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(t,e){return me.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),o=r<0?0:r;return me.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $r(e,0),r=new $r(e,Number.POSITIVE_INFINITY),o=[];return this.Ni.forEachInRange([i,r],c=>{const h=this.ki(c.Ci);o.push(h)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xn(Bt);return e.forEach(r=>{const o=new $r(r,0),c=new $r(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([o,c],h=>{i=i.add(h.Ci)})}),me.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;$e.isDocumentKey(o)||(o=o.child(""));const c=new $r(new $e(o),0);let h=new xn(Bt);return this.Ni.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(f.Ci)),!0)},c),me.resolve(this.Oi(h))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Mt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return me.forEach(e.mutations,r=>{const o=new $r(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new $r(e,0),r=this.Ni.firstAfterOrEqual(i);return me.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return me.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class cU{constructor(t){this.$i=t,this.docs=new hi($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return me.resolve(i?i.document.mutableCopy():On.newInvalidDocument(e))}getEntries(t,e){let i=Ja();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():On.newInvalidDocument(r))}),me.resolve(i)}getAllFromCollection(t,e,i){let r=Ja();const o=new $e(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||K1(ZI(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return me.resolve(r)}getAllFromCollectionGroup(t,e,i,r){Qe()}Bi(t,e){return me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new uU(this)}getSize(t){return me.resolve(this.size)}}class uU extends NP{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),me.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class dU{constructor(t){this.persistence=t,this.Li=new mp(e=>fp(e),Oy),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new TA,this.targetCount=0,this.Ki=qg.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),me.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new qg(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.Tn(e),me.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Li.forEach((c,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Li.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),me.waitFor(o).next(()=>r)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return me.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),me.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),me.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return me.resolve(i)}containsKey(t,e){return me.resolve(this.qi.containsKey(e))}}class hU{constructor(t,e){this.Gi={},this.overlays={},this.es=new Ds(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new dU(this),this.indexManager=new q3,this.ds=new cU(i=>this.referenceDelegate.Qi(i)),this.M=new wP(e),this._s=new oU(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new aU,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new lU(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Be("MemoryPersistence","Starting transaction:",t);const r=new pU(this.es.next());return this.referenceDelegate.ji(),i(r).next(o=>this.referenceDelegate.Wi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}zi(t,e){return me.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class pU extends _P{constructor(t){super(),this.currentSequenceNumber=t}}class EA{constructor(t){this.persistence=t,this.Hi=new TA,this.Ji=null}static Yi(t){return new EA(t)}get Xi(){if(this.Ji)return this.Ji;throw Qe()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),me.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),me.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xi,i=>{const r=$e.fromPath(i);return this.Zi(t,r).next(o=>{o||e.removeEntry(r,Dt.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return me.or([()=>me.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function WP(n,t){return`firestore_clients_${n}_${t}`}function KP(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function IA(n,t){return`firestore_targets_${n}_${t}`}class cS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Re(r.error.code,r.error.message))),c?new cS(t,e,r.state,o):(Oi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class PC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Re(i.error.code,i.error.message))),o?new PC(t,i.state,r):(Oi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class uS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=QI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=Z1(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new uS(t,o):(Oi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class SA{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new SA(e.clientId,e.onlineState):(Oi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class xA{constructor(){this.activeTargetIds=QI()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DA{constructor(t,e,i,r,o){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new hi(Bt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=WP(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new xA),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const o=t.getItem(WP(t.persistenceKey,r));if(o){const c=uS.tr(r,o);c&&(t.ar=t.ar.insert(c.clientId,c))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(IA(this.persistenceKey,t));if(i){const r=PC.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(IA(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Be("SharedClientState","READ",t,e),e}setItem(t,e){Be("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Be("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Oi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ee.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(o){let c=Ds.A;if(null!=o)try{const h=JSON.parse(o);Mt("number"==typeof h),c=h}catch(h){Oi("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==Ds.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Fr(o)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new cS(this.currentUser,t,e,i),o=KP(this.persistenceKey,this.currentUser,t);this.setItem(o,r.er())}Ar(t){const e=KP(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=IA(this.persistenceKey,t),o=new PC(t,e,i);this.setItem(r,o.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return uS.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return cS.tr(new jr(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return PC.tr(r,e)}pr(t){return SA.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,Ee.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);Be("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),o=this.Tr(i),c=[],h=[];return o.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Lr(c,h).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=QI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class YP{constructor(){this.Ur=new xA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new xA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fU{Kr(t){}shutdown(){}}class QP{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mU{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class _U extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,o){const c=this.ho(t,e);Be("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,o),this.fo(t,c,h,i).then(f=>(Be("RestConnection","Received: ",f),f),f=>{throw fd("RestConnection",`${t} failed with error: `,f,"url: ",c,"request:",i),f})}_o(t,e,i,r,o){return this.co(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ig,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.uo}/v1/${e}:${gU[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,c)=>{const h=new R1;h.listenOnce(FI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case rC.NO_ERROR:const y=h.getResponseJson();Be("Connection","XHR received:",JSON.stringify(y)),o(y);break;case rC.TIMEOUT:Be("Connection",'RPC "'+t+'" timed out'),c(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case rC.HTTP_ERROR:const T=h.getStatus();if(Be("Connection",'RPC "'+t+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const M=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(V)>=0?V:he.UNKNOWN}(I.status);c(new Re(M,I.message))}else c(new Re(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Re(he.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Be("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);h.send(e,"POST",f,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=iC(),c=NI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new O1({})),this.lo(h.initMessageHeaders,e,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");Be("Connection","Creating WebChannel: "+f,h);const y=o.createWebChannel(f,h);let T=!1,I=!1;const M=new mU({Jr:V=>{I?Be("Connection","Not sending because WebChannel is closed:",V):(T||(Be("Connection","Opening WebChannel transport."),y.open(),T=!0),Be("Connection","WebChannel sending:",V),y.send(V))},Yr:()=>y.close()}),P=(V,Q,ye)=>{V.listen(Q,He=>{try{ye(He)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return P(y,ap.EventType.OPEN,()=>{I||Be("Connection","WebChannel transport opened.")}),P(y,ap.EventType.CLOSE,()=>{I||(I=!0,Be("Connection","WebChannel transport closed"),M.ro())}),P(y,ap.EventType.ERROR,V=>{I||(I=!0,fd("Connection","WebChannel transport errored:",V),M.ro(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),P(y,ap.EventType.MESSAGE,V=>{var Q;if(!I){const ye=V.data[0];Mt(!!ye);const He=ye,Xe=He.error||(null===(Q=He[0])||void 0===Q?void 0:Q.error);if(Xe){Be("Connection","WebChannel received error:",Xe);const it=Xe.status;let rt=function(Rt){const nn=lr[Rt];if(void 0!==nn)return WR(nn)}(it),At=Xe.message;void 0===rt&&(rt=he.INTERNAL,At="Unknown error status: "+it+" with message "+Xe.message),I=!0,M.ro(new Re(rt,At)),y.close()}else Be("Connection","WebChannel received:",ye),M.oo(ye)}}),P(c,kR.STAT_EVENT,V=>{V.stat===LI.PROXY?Be("Connection","Detected buffering proxy"):V.stat===LI.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.io()},0),M}}function JP(){return"undefined"!=typeof window?window:null}function dS(){return"undefined"!=typeof document?document:null}function NC(n){return new s3(n,!0)}class AA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class XP{constructor(t,e,i,r,o,c,h,f){this.Yn=t,this.Vo=i,this.vo=r,this.So=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new AA(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Ee.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Ee.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Ee.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===he.RESOURCE_EXHAUSTED?(Oi(e.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Re(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,Ee.Z)(function*(){t.state=0,t.start()}))}jo(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yU extends XP{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=o}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function l3(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Qe(),r=t.targetChange.targetIds||[],o=function(f,y){return f.N?(Mt(void 0===y||"string"==typeof y),Pi.fromBase64String(y||"")):(Mt(void 0===y||y instanceof Uint8Array),Pi.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(f){const y=void 0===f.code?he.UNKNOWN:WR(f.code);return new Re(y,f.message||"")}(c);e=new YR(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=ru(n,i.document.name),o=zr(i.document.updateTime),c=new qr({mapValue:{fields:i.document.fields}}),h=On.newFoundDocument(r,o,c);e=new JI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=ru(n,i.document),o=i.readTime?zr(i.readTime):Dt.min(),c=On.newNoDocument(r,o);e=new JI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=ru(n,i.document);e=new JI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Qe();{const i=t.filter,o=new YB(i.count||0);e=new KR(i.targetId,o)}}var f;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Dt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Dt.min():o.readTime?zr(o.readTime):Dt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=IC(this.M),e.addTarget=function(r,o){let c;const h=o.target;return c=pC(h)?{documents:oP(r,h)}:{query:aP(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=eP(r,o.resumeToken):o.snapshotVersion.compareTo(Dt.min())>0&&(c.readTime=TC(r,o.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function u3(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=IC(this.M),e.removeTarget=t,this.Lo(e)}}class vU extends XP{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function c3(n,t){return n&&n.length>0?(Mt(void 0!==t),n.map(e=>function(i,r){let o=zr(i.updateTime?i.updateTime:r);return o.isEqual(Dt.min())&&(o=zr(r)),new $B(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=zr(t.commitTime);return this.listener.tu(i,e)}return Mt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=IC(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>SC(this.M,i))};this.Lo(e)}}class wU extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(he.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So._o(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(he.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class bU{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Oi(e),this.uu=!1):Be("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class CU{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr(h=>{i.enqueueAndForget((0,Ee.Z)(function*(){var f;wp(c)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Ee.Z)(function*(y){const T=Ye(y);T.wu.add(4),yield $y(T),T.yu.set("Unknown"),T.wu.delete(4),yield FC(T)}),function(y){return f.apply(this,arguments)})(c))}))}),this.yu=new bU(i,r)}}function FC(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Ee.Z)(function*(n){if(wp(n))for(const t of n.mu)yield t(!0)}),MA.apply(this,arguments)}function $y(n){return kA.apply(this,arguments)}function kA(){return kA=(0,Ee.Z)(function*(n){for(const t of n.mu)yield t(!1)}),kA.apply(this,arguments)}function hS(n,t){const e=Ye(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),PA(e)?RA(e):Ky(e).Mo()&&OA(e,t))}function LC(n,t){const e=Ye(n),i=Ky(e);e._u.delete(t),i.Mo()&&eN(e,t),0===e._u.size&&(i.Mo()?i.$o():wp(e)&&e.yu.set("Unknown"))}function OA(n,t){n.pu.Z(t.targetId),Ky(n).Ho(t)}function eN(n,t){n.pu.Z(t),Ky(n).Jo(t)}function RA(n){n.pu=new n3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),Ky(n).start(),n.yu.au()}function PA(n){return wp(n)&&!Ky(n).ko()&&n._u.size>0}function wp(n){return 0===Ye(n).wu.size}function tN(n){n.pu=void 0}function TU(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Ee.Z)(function*(n){n._u.forEach((t,e)=>{OA(n,t)})}),NA.apply(this,arguments)}function EU(n,t){return FA.apply(this,arguments)}function FA(){return FA=(0,Ee.Z)(function*(n,t){tN(n),PA(n)?(n.yu.lu(t),RA(n)):n.yu.set("Unknown")}),FA.apply(this,arguments)}function IU(n,t,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Ee.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof YR&&2===t.state&&t.cause)try{yield(i=(0,Ee.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield pS(n,i)}else if(t instanceof JI?n.pu.ut(t):t instanceof KR?n.pu._t(t):n.pu.ht(t),!e.isEqual(Dt.min()))try{const i=yield qP(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.pu.yt(o);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=r._u.get(f);y&&r._u.set(f,y.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach(h=>{const f=r._u.get(h);if(!f)return;r._u.set(h,f.withResumeToken(Pi.EMPTY_BYTE_STRING,f.snapshotVersion)),eN(r,h);const y=new _p(f.target,h,1,f.sequenceNumber);OA(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield pS(n,i)}var i}),LA.apply(this,arguments)}function pS(n,t,e){return VA.apply(this,arguments)}function VA(){return VA=(0,Ee.Z)(function*(n,t,e){if(!Fg(t))throw t;n.wu.add(1),yield $y(n),n.yu.set("Offline"),e||(e=()=>qP(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield FC(n)}))}),VA.apply(this,arguments)}function nN(n,t){return t().catch(e=>pS(n,e,t))}function Wy(n){return BA.apply(this,arguments)}function BA(){return BA=(0,Ee.Z)(function*(n){const t=Ye(n),e=bp(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;SU(t);)try{const r=yield iU(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,xU(t,r)}catch(r){yield pS(t,r)}iN(t)&&rN(t)}),BA.apply(this,arguments)}function SU(n){return wp(n)&&n.du.length<10}function xU(n,t){n.du.push(t);const e=bp(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function iN(n){return wp(n)&&!bp(n).ko()&&n.du.length>0}function rN(n){bp(n).start()}function DU(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Ee.Z)(function*(n){bp(n).nu()}),UA.apply(this,arguments)}function AU(n){return HA.apply(this,arguments)}function HA(){return HA=(0,Ee.Z)(function*(n){const t=bp(n);for(const e of n.du)t.Zo(e.mutations)}),HA.apply(this,arguments)}function MU(n,t,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Ee.Z)(function*(n,t,e){const i=n.du.shift(),r=aA.from(i,t,e);yield nN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wy(n)}),jA.apply(this,arguments)}function kU(n,t){return qA.apply(this,arguments)}function qA(){return qA=(0,Ee.Z)(function*(n,t){var e;t&&bp(n).Xo&&(yield(e=(0,Ee.Z)(function*(i,r){if($R(o=r.code)&&o!==he.ABORTED){const c=i.du.shift();bp(i).Fo(),yield nN(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Wy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),iN(n)&&rN(n)}),qA.apply(this,arguments)}function sN(n,t){return GA.apply(this,arguments)}function GA(){return GA=(0,Ee.Z)(function*(n,t){const e=Ye(n);e.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=wp(e);e.wu.add(3),yield $y(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield FC(e)}),GA.apply(this,arguments)}function zA(n,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ee.Z)(function*(n,t){const e=Ye(n);t?(e.wu.delete(2),yield FC(e)):t||(e.wu.add(2),yield $y(e),e.yu.set("Unknown"))}),ZA.apply(this,arguments)}function Ky(n){return n.Iu||(n.Iu=function(t,e,i){const r=Ye(t);return r.iu(),new yU(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:TU.bind(null,n),eo:EU.bind(null,n),zo:IU.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Iu.Fo(),PA(n)?RA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),tN(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function bp(n){return n.Tu||(n.Tu=function(t,e,i){const r=Ye(t);return r.iu(),new vU(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:DU.bind(null,n),eo:kU.bind(null,n),eu:AU.bind(null,n),tu:MU.bind(null,n)}),n.mu.push(function(){var t=(0,Ee.Z)(function*(e){e?(n.Tu.Fo(),yield Wy(n)):(yield n.Tu.stop(),n.du.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class $A{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new $A(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(n,t){if(Oi("AsyncQueue",`${t}: ${n}`),Fg(n))return new Re(he.UNAVAILABLE,`${t}: ${n}`);throw n}class Qy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=tA(),this.sortedSet=new hi(this.comparator)}static emptySet(t){return new Qy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Qy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oN{constructor(){this.Eu=new hi($e.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):Qe():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Jy{constructor(t,e,i,r,o,c,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Jy(t,e,Qy.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&on(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class OU{constructor(){this.Ru=void 0,this.listeners=[]}}class RU{constructor(){this.queries=new mp(t=>As(t),on),this.onlineState="Unknown",this.bu=new Set}}function WA(n,t){return KA.apply(this,arguments)}function KA(){return KA=(0,Ee.Z)(function*(n,t){const e=Ye(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new OU),r)try{o.Ru=yield e.onListen(i)}catch(c){const h=Yy(c,`Initialization of query '${jl(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.Ru&&t.Vu(o.Ru)&&JA(e)}),KA.apply(this,arguments)}function YA(n,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Ee.Z)(function*(n,t){const e=Ye(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),QA.apply(this,arguments)}function PU(n,t){const e=Ye(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const h of c.listeners)h.Vu(r)&&(i=!0);c.Ru=r}}i&&JA(e)}function NU(n,t,e){const i=Ye(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function JA(n){n.bu.forEach(t=>{t.next()})}class XA{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Jy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=Jy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class FU{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class aN{constructor(t){this.M=t}wi(t){return ru(this.M,t)}mi(t){return t.metadata.exists?sP(this.M,t.document,!1):On.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return zr(t)}}class LU{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lN(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=sn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new aN(this.M);for(const r of t)if(r.metadata.queries){const o=i.wi(r.metadata.name);for(const c of r.metadata.queries){const h=(e.get(c)||bn()).add(o);e.set(c,h)}}return e}complete(){var t=this;return(0,Ee.Z)(function*(){const e=yield function rU(n,t,e,i){return bA.apply(this,arguments)}(t.localStore,new aN(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield sU(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function lN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cN{constructor(t){this.key=t}}class uN{constructor(t){this.key=t}}class dN{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=bn(),this.mutatedKeys=bn(),this.Gu=Py(t),this.Qu=new Qy(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new oN,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,I)=>{const M=r.get(T),P=Og(this.query,I)?I:null,V=!!M&&this.mutatedKeys.has(M.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ye=!1;M&&P?M.data.isEqual(P.data)?V!==Q&&(i.track({type:3,doc:P}),ye=!0):this.Hu(M,P)||(i.track({type:2,doc:P}),ye=!0,(f&&this.Gu(P,f)>0||y&&this.Gu(P,y)<0)&&(h=!0)):!M&&P?(i.track({type:0,doc:P}),ye=!0):M&&!P&&(i.track({type:1,doc:M}),ye=!0,(f||y)&&(h=!0)),ye&&(P?(c=c.add(P),o=Q?o.add(T):o.delete(T)):(c=c.delete(T),o=o.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),o=o.delete(T.key),i.track({type:1,doc:T})}return{Qu:c,zu:i,ii:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Au();o.sort((y,T)=>function(I,M){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return P(I)-P(M)}(y.type,T.type)||this.Gu(y.doc,T.doc)),this.Ju(i);const c=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,f=h!==this.qu;return this.qu=h,0!==o.length||f?{snapshot:new Jy(this.query,t.Qu,r,o,t.mutatedKeys,0===h,f,!1),Xu:c}:{Xu:c}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oN,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=bn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new uN(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new cN(i))}),e}ta(t){this.Uu=t._i,this.Ku=bn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return Jy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class VU{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class BU{constructor(t){this.key=t,this.na=!1}}class UU{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new mp(h=>As(h),on),this.ra=new Map,this.oa=new Set,this.ua=new hi($e.comparator),this.aa=new Map,this.ca=new TA,this.ha={},this.la=new Map,this.fa=qg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function HU(n,t){return eM.apply(this,arguments)}function eM(){return eM=(0,Ee.Z)(function*(n,t){const e=TM(n);let i,r;const o=e.ia.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ea();else{const c=yield zy(e.localStore,ut(t));e.isPrimaryClient&&hS(e.remoteStore,c);const h=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield tM(e,t,i,"current"===h)}return r}),eM.apply(this,arguments)}function tM(n,t,e,i){return nM.apply(this,arguments)}function nM(){return nM=(0,Ee.Z)(function*(n,t,e,i){n._a=(T,I,M)=>{return(P=(0,Ee.Z)(function*(V,Q,ye,He){let Xe=Q.view.Wu(ye);Xe.ii&&(Xe=yield lS(V.localStore,Q.query,!1).then(({documents:At})=>Q.view.Wu(At,Xe)));const it=He&&He.targetChanges.get(Q.targetId),rt=Q.view.applyChanges(Xe,V.isPrimaryClient,it);return hM(V,Q.targetId,rt.Xu),rt.snapshot}),function(V,Q,ye,He){return P.apply(this,arguments)})(n,T,I,M);var P};const r=yield lS(n.localStore,t,!0),o=new dN(t,r._i),c=o.Wu(r.documents),h=CC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),f=o.applyChanges(c,n.isPrimaryClient,h);hM(n,e,f.Xu);const y=new VU(t,e,o);return n.ia.set(t,y),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),f.snapshot}),nM.apply(this,arguments)}function jU(n,t){return iM.apply(this,arguments)}function iM(){return iM=(0,Ee.Z)(function*(n,t){const e=Ye(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(o=>!on(o,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),LC(e.remoteStore,i.targetId),Xy(e,i.targetId)}).catch(Gg))):(Xy(e,i.targetId),yield Zy(e.localStore,i.targetId,!0))}),iM.apply(this,arguments)}function rM(){return rM=(0,Ee.Z)(function*(n,t,e){const i=EM(n);try{const r=yield function(o,c){const h=Ye(o),f=di.now(),y=c.reduce((I,M)=>I.add(M.key),bn());let T;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.fi.Ks(I,y).next(M=>{T=M;const P=[];for(const V of c){const Q=KB(V,T.get(V.key));null!=Q&&P.push(new Ng(V.key,Q,GI(Q.value.mapValue),ar.exists(!0)))}return h.Bs.addMutationBatch(I,f,P,c)})).then(I=>(I.applyToLocalDocumentSet(T),{batchId:I.batchId,changes:T}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let f=o.ha[o.currentUser.toKey()];f||(f=new hi(Bt)),f=f.insert(c,h),o.ha[o.currentUser.toKey()]=f}(i,r.batchId,e),yield wd(i,r.changes),yield Wy(i.remoteStore)}catch(r){const o=Yy(r,"Failed to persist write");e.reject(o)}}),rM.apply(this,arguments)}function hN(n,t){return sM.apply(this,arguments)}function sM(){return sM=(0,Ee.Z)(function*(n,t){const e=Ye(n);try{const i=yield nU(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.aa.get(o);c&&(Mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.na=!0:r.modifiedDocuments.size>0?Mt(c.na):r.removedDocuments.size>0&&(Mt(c.na),c.na=!1))}),yield wd(e,i,t)}catch(i){yield Gg(i)}}),sM.apply(this,arguments)}function pN(n,t,e){const i=Ye(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((o,c)=>{const h=c.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=Ye(o);h.onlineState=c;let f=!1;h.queries.forEach((y,T)=>{for(const I of T.listeners)I.Pu(c)&&(f=!0)}),f&&JA(h)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function GU(n,t,e){return oM.apply(this,arguments)}function oM(){return oM=(0,Ee.Z)(function*(n,t,e){const i=Ye(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),o=r&&r.key;if(o){let c=new hi($e.comparator);c=c.insert(o,On.newNoDocument(o,Dt.min()));const h=bn().add(o),f=new bC(Dt.min(),new Map,new xn(Bt),c,h);yield hN(i,f),i.ua=i.ua.remove(o),i.aa.delete(t),pM(i)}else yield Zy(i.localStore,t,!1).then(()=>Xy(i,t,e)).catch(Gg)}),oM.apply(this,arguments)}function zU(n,t){return aM.apply(this,arguments)}function aM(){return aM=(0,Ee.Z)(function*(n,t){const e=Ye(n),i=t.batch.batchId;try{const r=yield tU(e.localStore,t);dM(e,i,null),uM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield wd(e,r)}catch(r){yield Gg(r)}}),aM.apply(this,arguments)}function ZU(n,t,e){return lM.apply(this,arguments)}function lM(){return lM=(0,Ee.Z)(function*(n,t,e){const i=Ye(n);try{const r=yield function(o,c){const h=Ye(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return h.Bs.lookupMutationBatch(f,c).next(T=>(Mt(null!==T),y=T.keys(),h.Bs.removeMutationBatch(f,T))).next(()=>h.Bs.performConsistencyCheck(f)).next(()=>h.fi.Ks(f,y))})}(i.localStore,t);dM(i,t,e),uM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield wd(i,r)}catch(r){yield Gg(r)}}),lM.apply(this,arguments)}function cM(){return cM=(0,Ee.Z)(function*(n,t){const e=Ye(n);wp(e.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=Ye(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=Yy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),cM.apply(this,arguments)}function uM(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function dM(n,t,e){const i=Ye(n);let r=i.ha[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function Xy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||fN(n,i)})}function fN(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(LC(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),pM(n))}function hM(n,t,e){for(const i of e)i instanceof cN?(n.ca.addReference(i.key,t),WU(n,i)):i instanceof uN?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||fN(n,i.key)):Qe()}function WU(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(Be("SyncEngine","New document in limbo: "+e),n.oa.add(i),pM(n))}function pM(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new $e(sn.fromString(t)),i=n.fa.next();n.aa.set(i,new BU(e)),n.ua=n.ua.insert(e,i),hS(n.remoteStore,new _p(ut(X(e.path)),i,2,Ds.A))}}function wd(n,t,e){return fM.apply(this,arguments)}function fM(){return fM=(0,Ee.Z)(function*(n,t,e){const i=Ye(n),r=[],o=[],c=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,f)=>{c.push(i._a(f,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y.fromCache?"not-current":"current"),r.push(y);const T=yA.Ys(f.targetId,y);o.push(T)}}))}),yield Promise.all(c),i.sa.zo(r),yield(h=(0,Ee.Z)(function*(f,y){const T=Ye(f);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>me.forEach(y,M=>me.forEach(M.Hs,P=>T.persistence.referenceDelegate.addReference(I,M.targetId,P)).next(()=>me.forEach(M.Js,P=>T.persistence.referenceDelegate.removeReference(I,M.targetId,P)))))}catch(I){if(!Fg(I))throw I;Be("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const M=I.targetId;if(!I.fromCache){const P=T.ui.get(M),Q=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);T.ui=T.ui.insert(M,Q)}}}),function(f,y){return h.apply(this,arguments)})(i.localStore,o))}),fM.apply(this,arguments)}function KU(n,t){return gM.apply(this,arguments)}function gM(){return gM=(0,Ee.Z)(function*(n,t){const e=Ye(n);if(!e.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const i=yield jP(e.localStore,t);e.currentUser=t,(r=e).la.forEach(c=>{c.forEach(h=>{h.reject(new Re(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield wd(e,i.di)}var r}),gM.apply(this,arguments)}function YU(n,t){const e=Ye(n),i=e.aa.get(t);if(i&&i.na)return bn().add(i.key);{let r=bn();const o=e.ra.get(t);if(!o)return r;for(const c of o){const h=e.ia.get(c);r=r.unionWith(h.view.ju)}return r}}function QU(n,t){return mM.apply(this,arguments)}function mM(){return mM=(0,Ee.Z)(function*(n,t){const e=Ye(n),i=yield lS(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&hM(e,t.targetId,r.Xu),r}),mM.apply(this,arguments)}function JU(n,t){return _M.apply(this,arguments)}function _M(){return _M=(0,Ee.Z)(function*(n,t){const e=Ye(n);return ZP(e.localStore,t).then(i=>wd(e,i))}),_M.apply(this,arguments)}function XU(n,t,e,i){return yM.apply(this,arguments)}function yM(){return yM=(0,Ee.Z)(function*(n,t,e,i){const r=Ye(n),o=yield function(c,h){const f=Ye(c),y=Ye(f.Bs);return f.persistence.runTransaction("Lookup mutation documents","readonly",T=>y.fn(T,h).next(I=>I?f.fi.Ks(T,I):me.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Wy(r.remoteStore):"acknowledged"===e||"rejected"===e?(dM(r,t,i||null),uM(r,t),h=t,Ye(Ye(r.localStore).Bs)._n(h)):Qe(),yield wd(r,o)):Be("SyncEngine","Cannot apply mutation batch with id: "+t)}),yM.apply(this,arguments)}function vM(){return vM=(0,Ee.Z)(function*(n,t){const e=Ye(n);if(TM(e),EM(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield gN(e,i.toArray());e.da=!0,yield zA(e.remoteStore,!0);for(const o of r)hS(e.remoteStore,o)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Xy(e,c),Zy(e.localStore,c,!0))),LC(e.remoteStore,c)}),yield r,yield gN(e,i),function(o){const c=Ye(o);c.aa.forEach((h,f)=>{LC(c.remoteStore,f)}),c.ca.Si(),c.aa=new Map,c.ua=new hi($e.comparator)}(e),e.da=!1,yield zA(e.remoteStore,!1)}}),vM.apply(this,arguments)}function gN(n,t,e){return wM.apply(this,arguments)}function wM(){return wM=(0,Ee.Z)(function*(n,t,e){const i=Ye(n),r=[],o=[];for(const c of t){let h;const f=i.ra.get(c);if(f&&0!==f.length){h=yield zy(i.localStore,ut(f[0]));for(const y of f){const T=i.ia.get(y),I=yield QU(i,T);I.snapshot&&o.push(I.snapshot)}}else{const y=yield zP(i.localStore,c);h=yield zy(i.localStore,y),yield tM(i,mN(y),c,!1)}r.push(h)}return i.sa.zo(o),r}),wM.apply(this,arguments)}function mN(n){return j(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function t6(n){const t=Ye(n);return Ye(Ye(t.localStore).persistence).Fs()}function n6(n,t,e,i){return bM.apply(this,arguments)}function bM(){return bM=(0,Ee.Z)(function*(n,t,e,i){const r=Ye(n);if(r.da)return void Be("SyncEngine","Ignoring unexpected query state notification.");const o=r.ra.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield ZP(r.localStore,Ry(o[0])),h=bC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield wd(r,c,h);break}case"rejected":yield Zy(r.localStore,t,!0),Xy(r,t,i);break;default:Qe()}}),bM.apply(this,arguments)}function r6(n,t,e){return CM.apply(this,arguments)}function CM(){return CM=(0,Ee.Z)(function*(n,t,e){const i=TM(n);if(i.da){for(const r of t){if(i.ra.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const o=yield zP(i.localStore,r),c=yield zy(i.localStore,o);yield tM(i,mN(o),c.targetId,!1),hS(i.remoteStore,c)}for(const r of e)i.ra.has(r)&&(yield Zy(i.localStore,r,!1).then(()=>{LC(i.remoteStore,r),Xy(i,r)}).catch(Gg))}}),CM.apply(this,arguments)}function TM(n){const t=Ye(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GU.bind(null,t),t.sa.zo=PU.bind(null,t.eventManager),t.sa.wa=NU.bind(null,t.eventManager),t}function EM(n){const t=Ye(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZU.bind(null,t),t}class _N{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ee.Z)(function*(){e.M=NC(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return HP(this.persistence,new UP,t.initialUser,this.M)}ya(t){return new hU(EA.Yi,this.M)}ga(t){return new YP}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class yN extends _N{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield EM(i.Ta.syncEngine),yield Wy(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return HP(this.persistence,new UP,t.initialUser,this.M)}pa(t){return new $3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=_A(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new mA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,JP(),dS(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new YP}}class o6 extends yN{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof DA&&(i.sharedClientState.syncEngine={$r:XU.bind(null,r),Br:n6.bind(null,r),Lr:r6.bind(null,r),Fs:t6.bind(null,r),Fr:JU.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var o=(0,Ee.Z)(function*(c){yield function e6(n,t){return vM.apply(this,arguments)}(i.Ta.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}ga(t){const e=JP();if(!DA.vt(e))throw new Re(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=_A(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new DA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class IM{initialize(t,e){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>pN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=KU.bind(null,i.syncEngine),yield zA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new RU}createDatastore(t){const e=NC(t.databaseInfo.databaseId),i=new _U(t.databaseInfo);return new wU(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>pN(this.syncEngine,h,0),c=QP.vt()?new QP:new fU,new CU(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,h,f,y){const T=new UU(i,r,o,c,h,f);return y&&(T.da=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ee.Z)(function*(e){const i=Ye(e);Be("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield $y(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function vN(n,t=10240){let e=0;return{read:()=>(0,Ee.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class a6{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new Ki,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const o=yield t.Sa(r);return new FU(JSON.parse(o),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,Ee.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,Ee.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,Ee.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class l6{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(o,c){const h=Ye(o),f=IC(h.M)+"/documents",y={documents:c.map(P=>EC(h.M,P))},T=yield h._o("BatchGetDocuments",f,y),I=new Map;T.forEach(P=>{const V=function a3(n,t){return"found"in t?function(e,i){Mt(!!i.found);const r=ru(e,i.found.name),o=zr(i.found.updateTime),c=new qr({mapValue:{fields:i.found.fields}});return On.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){Mt(!!i.missing),Mt(!!i.readTime);const r=ru(e,i.missing),o=zr(i.readTime);return On.newNoDocument(r,o)}(n,t):Qe()}(h.M,P);I.set(V.key.toString(),V)});const M=[];return c.forEach(P=>{const V=I.get(P.toString());Mt(!!V),M.push(V)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new vC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=$e.fromPath(r);t.mutations.push(new eA(o,t.precondition(o)))}),yield(i=(0,Ee.Z)(function*(r,o){const c=Ye(r),h=IC(c.M)+"/documents",f={writes:o.map(y=>SC(c.M,y))};yield c.co("Commit",h,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Qe();e=Dt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ar.updateTime(e):ar.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dt.min()))throw new Re(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(e)}return ar.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class c6{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.xa=i.maxAttempts,this.No=new AA(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,Ee.Z)(function*(){const e=new l6(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ma(o)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!Sg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!$R(e)}return!1}}class u6{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=jr.UNAUTHENTICATED,this.clientId=j1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ee.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Yy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function wN(n,t){return SM.apply(this,arguments)}function SM(){return SM=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(o){i.isEqual(o)||(yield jP(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),SM.apply(this,arguments)}function bN(n,t){return xM.apply(this,arguments)}function xM(){return xM=(0,Ee.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield DM(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>sN(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>sN(t.remoteStore,o)),n.onlineComponents=t}),xM.apply(this,arguments)}function DM(n){return AM.apply(this,arguments)}function AM(){return AM=(0,Ee.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield wN(n,new _N)),n.offlineComponents}),AM.apply(this,arguments)}function gS(n){return MM.apply(this,arguments)}function MM(){return MM=(0,Ee.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield bN(n,new IM)),n.onlineComponents}),MM.apply(this,arguments)}function CN(n){return DM(n).then(t=>t.persistence)}function kM(n){return DM(n).then(t=>t.localStore)}function TN(n){return gS(n).then(t=>t.remoteStore)}function OM(n){return gS(n).then(t=>t.syncEngine)}function ev(n){return RM.apply(this,arguments)}function RM(){return RM=(0,Ee.Z)(function*(n){const t=yield gS(n),e=t.eventManager;return e.onListen=HU.bind(null,t.syncEngine),e.onUnlisten=jU.bind(null,t.syncEngine),e}),RM.apply(this,arguments)}function EN(n,t,e={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,o,c,h,f){const y=new fS({next:I=>{o.enqueueAndForget(()=>YA(r,T));const M=I.docs.has(c);!M&&I.fromCache?f.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&h&&"server"===h.source?f.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),T=new XA(X(c.path),y,{includeMetadataChanges:!0,ku:!0});return WA(r,T)}(yield ev(n),n.asyncQueue,t,e,i)})),i.promise}function IN(n,t,e={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,o,c,h,f){const y=new fS({next:I=>{o.enqueueAndForget(()=>YA(r,T)),I.fromCache&&"server"===h.source?f.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),T=new XA(c,y,{includeMetadataChanges:!0,ku:!0});return WA(r,T)}(yield ev(n),n.asyncQueue,t,e,i)})),i.promise}const SN=new Map;function PM(n,t,e){if(!e)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xN(n,t,e,i){if(!0===t&&!0===i)throw new Re(he.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function DN(n){if(!$e.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AN(n){if($e.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Qe()}function ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mS(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function MN(n,t){if(t<=0)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class kN{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class VC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kN({}),this._settingsFrozen=!1,t instanceof Ul?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(r.options.projectId)}(t))}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kN(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new F1;switch(e.type){case"gapi":const i=e.client;return Mt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new B1(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=SN.get(t);e&&(Be("ComponentProvider","Removing Datastore"),SN.delete(t),e.terminate())}(this),Promise.resolve()}}class Xn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class Ms{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ms(this.firestore,t,this._query)}}class ou extends Ms{constructor(t,e,i){super(t,e,X(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new $e(t))}withConverter(t){return new ou(this.firestore,t,this._path)}}function ON(n,t,...e){if(n=(0,N.m9)(n),PM("collection","path",t),n instanceof VC){const i=sn.fromString(t,...e);return AN(i),new ou(n,null,i)}{if(!(n instanceof Xn||n instanceof ou))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return AN(i),new ou(n.firestore,null,i)}}function _S(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=j1.R()),PM("doc","path",t),n instanceof VC){const i=sn.fromString(t,...e);return DN(i),new Xn(n,null,new $e(i))}{if(!(n instanceof Xn||n instanceof ou))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return DN(i),new Xn(n.firestore,n instanceof ou?n.converter:null,new $e(i))}}function RN(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof Xn||n instanceof ou)&&(t instanceof Xn||t instanceof ou)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function PN(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof Ms&&t instanceof Ms&&n.firestore===t.firestore&&on(n._query,t._query)&&n.converter===t.converter}class b6{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new AA(this,"async_queue_retry"),this.Qa=()=>{const e=dS();e&&Be("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=dS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=dS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new Ki;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!Fg(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,Oi("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=$A.createAndSchedule(this,t,e,i,o=>this.Ha(o));return this.La.push(r),r}ja(){this.Ua&&Qe()}verifyOperationInProgress(){}Ja(){var t=this;return(0,Ee.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function NM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class C6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pi extends VC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new b6,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||NN(this),this._firestoreClient.terminate()}}function cr(n){return n._firestoreClient||NN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NN(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new HI(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new u6(n._authCredentials,n._appCheckCredentials,n._queue,i)}function FN(n,t,e){const i=new Ki;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield wN(n,e),yield bN(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function LN(n){if(n._initialized||n._terminated)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class au{constructor(t){this._byteString=t}static fromBase64String(t){try{return new au(Pi.fromBase64String(t))}catch(e){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new au(Pi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Zg{constructor(t){this._methodName=t}}class yS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}const O6=/^__.*__$/;class R6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ng(t,this.data,this.fieldMask,e,this.fieldTransforms):new yC(t,this.data,e,this.fieldTransforms)}}class VN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ng(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function BN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class vS{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new vS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return CS(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(BN(this.ec)&&O6.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class P6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||NC(t)}lc(t,e,i,r=!1){return new vS({ec:t,methodName:e,hc:i,path:Ri.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function $g(n){const t=n._freezeSettings(),e=NC(n._databaseId);return new P6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function wS(n,t,e,i,r,o={}){const c=n.lc(o.merge||o.mergeFields?2:0,t,e,r);BM("Data must be an object, but it was:",c,i);const h=jN(i,c);let f,y;if(o.merge)f=new Jc(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const T=[];for(const I of o.mergeFields){const M=UM(t,I,e);if(!c.contains(M))throw new Re(he.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GN(T,M)||T.push(M)}f=new Jc(T),y=c.fieldTransforms.filter(I=>f.covers(I.field))}else f=null,y=c.fieldTransforms;return new R6(new qr(h),f,y)}class BC extends Zg{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof BC}}function UN(n,t,e){return new vS({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class FM extends Zg{_toFieldTransform(t){return new _C(t.path,new Vy)}isEqual(t){return t instanceof FM}}class N6 extends Zg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=UN(this,t,!0),i=this.fc.map(o=>Wg(o,e)),r=new Rg(i);return new _C(t.path,r)}isEqual(t){return this===t}}class F6 extends Zg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=UN(this,t,!0),i=this.fc.map(o=>Wg(o,e)),r=new Pg(i);return new _C(t.path,r)}isEqual(t){return this===t}}class L6 extends Zg{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new By(t.M,Ly(t.M,this.dc));return new _C(t.path,e)}isEqual(t){return this===t}}function LM(n,t,e,i){const r=n.lc(1,t,e);BM("Data must be an object, but it was:",r,i);const o=[],c=qr.empty();cp(i,(f,y)=>{const T=bS(t,f,e);y=(0,N.m9)(y);const I=r.oc(T);if(y instanceof BC)o.push(T);else{const M=Wg(y,I);null!=M&&(o.push(T),c.set(T,M))}});const h=new Jc(o);return new VN(c,h,r.fieldTransforms)}function VM(n,t,e,i,r,o){const c=n.lc(1,t,e),h=[UM(t,i,e)],f=[r];if(o.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(UM(t,o[M])),f.push(o[M+1]);const y=[],T=qr.empty();for(let M=h.length-1;M>=0;--M)if(!GN(y,h[M])){const P=h[M];let V=f[M];V=(0,N.m9)(V);const Q=c.oc(P);if(V instanceof BC)y.push(P);else{const ye=Wg(V,Q);null!=ye&&(y.push(P),T.set(P,ye))}}const I=new Jc(y);return new VN(T,I,c.fieldTransforms)}function HN(n,t,e,i=!1){return Wg(e,n.lc(i?4:3,t))}function Wg(n,t){if(qN(n=(0,N.m9)(n)))return BM("Unsupported field value:",t,n),jN(n,t);if(n instanceof Zg)return function(e,i){if(!BN(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let h=Wg(c,i.uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ly(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=di.fromDate(e);return{timestampValue:TC(i.M,r)}}if(e instanceof di){const r=new di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:TC(i.M,r)}}if(e instanceof yS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof au)return{bytesValue:eP(i.M,e._byteString)};if(e instanceof Xn){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ac(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:nA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${mS(e)}`)}(n,t)}function jN(n,t){const e={};return xy(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cp(n,(i,r)=>{const o=Wg(r,t.sc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function qN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof di||n instanceof yS||n instanceof au||n instanceof Xn||n instanceof Zg)}function BM(n,t,e){if(!qN(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=mS(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function UM(n,t,e){if((t=(0,N.m9)(t))instanceof bd)return t._internalPath;if("string"==typeof t)return bS(n,t);throw CS("Field path arguments must be of type string or ",n,!1,void 0,e)}const V6=new RegExp("[~\\*/\\[\\]]");function bS(n,t,e){if(t.search(V6)>=0)throw CS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new bd(...t.split("."))._internalPath}catch(i){throw CS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function CS(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new Re(he.INVALID_ARGUMENT,h+n+f)}function GN(n,t){return n.some(e=>e.isEqual(t))}class UC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new B6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(TS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class B6 extends UC{data(){return super.data()}}function TS(n,t){return"string"==typeof t?bS(n,t):t instanceof bd?t._internalPath:t._delegate._internalPath}class Kg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cd extends UC{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new HC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(TS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class HC extends Cd{data(t={}){return super.data(t)}}class Cp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Kg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new HC(this._firestore,this._userDataWriter,i.key,i,new Kg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new HC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Kg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new HC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Kg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:U6(c.type),doc:h,oldIndex:f,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function U6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function zN(n,t){return n instanceof Cd&&t instanceof Cd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Cp&&t instanceof Cp&&n._firestore===t._firestore&&PN(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function ZN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jC{}function Tp(n,...t){for(const e of t)n=e._apply(n);return n}class H6 extends jC{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=$g(t.firestore),i=function(r,o,c,h,f,y,T){let I;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){JN(T,y);const P=[];for(const V of T)P.push(QN(h,r,V));I={arrayValue:{values:P}}}else I=QN(h,r,T)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||JN(T,y),I=HN(c,"where",T,"in"===y||"not-in"===y);const M=Gr.create(f,y,I);return function(P,V){if(V.S()){const ye=Ge(P);if(null!==ye&&!ye.isEqual(V.field))throw new Re(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${V.field.toString()}'`);const He=Ve(P);null!==He&&XN(0,V.field,He)}const Q=function(ye,He){for(const Xe of ye.filters)if(He.indexOf(Xe.op)>=0)return Xe.op;return null}(P,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Q)throw new Re(he.INVALID_ARGUMENT,Q===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new Ms(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new B(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class q6 extends jC{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new C(r,o);return function(h,f){if(null===Ve(h)){const y=Ge(h);null!==y&&XN(0,y,f.field)}}(i,c),c}(t._query,this._c,this.gc);return new Ms(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new B(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class $N extends jC{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new Ms(t.firestore,t.converter,$t(t._query,this.yc,this.Ic))}}class WN extends jC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=YN(t,this.type,this.Tc,this.Ec);return new Ms(t.firestore,t.converter,(r=e,new B((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class KN extends jC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=YN(t,this.type,this.Tc,this.Ec);return new Ms(t.firestore,t.converter,(r=e,new B((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function YN(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof UC)return function(r,o,c,h,f){if(!h)throw new Re(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const T of De(r))if(T.field.isKeyField())y.push(tu(o,h.key));else{const I=h.data.field(T.field);if(uC(I))throw new Re(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=T.field.canonicalString();throw new Re(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(I)}return new w(y,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=$g(n.firestore);return function(o,c,h,f,y,T){const I=o.explicitOrderBy;if(y.length>I.length)throw new Re(he.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<y.length;P++){const V=y[P];if(I[P].field.isKeyField()){if("string"!=typeof V)throw new Re(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!at(o)&&-1!==V.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const Q=o.path.child(sn.fromString(V));if(!$e.isDocumentKey(Q))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ye=new $e(Q);M.push(tu(c,ye))}else{const Q=HN(h,f,V);M.push(Q)}}return new w(M,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function QN(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!at(t)&&-1!==e.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(sn.fromString(e));if(!$e.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tu(n,new $e(i))}if(e instanceof Xn)return tu(n,e._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mS(e)}.`)}function JN(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function XN(n,t,e){if(!e.isEqual(t))throw new Re(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const Q6={maxAttempts:5};class HM{convertValue(t,e="none"){switch(dp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Jn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(md(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Qe()}}convertObject(t,e){const i={};return cp(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new yS(Jn(t.latitude),Jn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=z1(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Dy(t));default:return null}}convertTimestamp(t){const e=Bl(t);return new di(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=sn.fromString(t);Mt(uP(i));const r=new Ul(i.get(1),i.get(3)),o=new $e(i.popFirst(5));return r.isEqual(e)||Oi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function ES(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class J6 extends HM{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}class eF{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=$g(t)}set(t,e,i){this._verifyNotCommitted();const r=Ep(t,this._firestore),o=ES(r.converter,e,i),c=wS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ar.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ep(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof bd?VM(this._dataReader,"WriteBatch.update",o._key,e,i,r):LM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,ar.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ep(t,this._firestore);return this._mutations=this._mutations.concat(new vC(e._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ep(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Re(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yg extends HM{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,e)}}function tF(n,t,e){n=ln(n,Xn);const i=ln(n.firestore,pi),r=ES(n.converter,t,e);return tv(i,[wS($g(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ar.none())])}function nF(n,t,e,...i){n=ln(n,Xn);const r=ln(n.firestore,pi),o=$g(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof bd?VM(o,"updateDoc",n._key,t,e,i):LM(o,"updateDoc",n._key,t),tv(r,[c.toMutation(n._key,ar.exists(!0))])}function iF(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||NM(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(NM(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let f,y,T;if(n instanceof Xn)y=ln(n.firestore,pi),T=X(n._key.path),f={next:I=>{t[c]&&t[c](jM(y,n,I))},error:t[c+1],complete:t[c+2]};else{const I=ln(n,Ms);y=ln(I.firestore,pi),T=I._query;const M=new Yg(y);f={next:P=>{t[c]&&t[c](new Cp(y,M,I,P))},error:t[c+1],complete:t[c+2]},ZN(n._query)}return function(I,M,P,V){const Q=new fS(V),ye=new XA(M,Q,P);return I.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return WA(yield ev(I),ye)})),()=>{Q.Aa(),I.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return YA(yield ev(I),ye)}))}}(cr(y),T,h,f)}function tv(n,t){return function(e,i){const r=new Ki;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function qU(n,t,e){return rM.apply(this,arguments)}(yield OM(e),i,r)})),r.promise}(cr(n),t)}function jM(n,t,e){const i=e.docs.get(t._key),r=new Yg(n);return new Cd(n,r,t._key,i,new Kg(e.hasPendingWrites,e.fromCache),t.converter)}class lH extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=$g(t)}get(t){const e=Ep(t,this._firestore),i=new J6(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Qe();const o=r[0];if(o.isFoundDocument())return new UC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new UC(this._firestore,i,e._key,null,e.converter);throw Qe()})}set(t,e,i){const r=Ep(t,this._firestore),o=ES(r.converter,e,i),c=wS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Ep(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof bd?VM(this._dataReader,"Transaction.update",o._key,e,i,r):LM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Ep(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ep(t,this._firestore),i=new Yg(this._firestore);return super.get(t).then(r=>new Cd(this._firestore,i,e._key,r._document,new Kg(!1,!1),e.converter))}}function qM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function sF(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function oF(){if(!function cC(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Ig=pa.SDK_VERSION,(0,pa._registerComponent)(new Mo.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new pi(r,new L1(e.getProvider("auth-internal")),new gd(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,pa.registerVersion)(P1,"3.4.9",n),(0,pa.registerVersion)(P1,"3.4.9","esm2017")}();class qC{constructor(t){this._delegate=t}static fromBase64String(t){return oF(),new qC(au.fromBase64String(t))}static fromUint8Array(t){return sF(),new qC(au.fromUint8Array(t))}toBase64(){return oF(),this._delegate.toBase64()}toUint8Array(){return sF(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GM(n){return function _H(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class yH{enableIndexedDbPersistence(t,e){return function E6(n,t){LN(n=ln(n,pi));const e=cr(n),i=n._freezeSettings(),r=new IM;return FN(e,r,new yN(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function I6(n){LN(n=ln(n,pi));const t=cr(n),e=n._freezeSettings(),i=new IM;return FN(t,i,new o6(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function S6(n){if(n._initialized&&!n._terminated)throw new Re(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ki;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(e=(0,Ee.Z)(function*(i){if(!ql.vt())return Promise.resolve();const r=i+"main";yield ql.delete(r)}),function(i){return e.apply(this,arguments)})(_A(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class aF{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ul||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&fd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function v6(n,t,e,i={}){var r;const o=(n=ln(n,VC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=jr.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jr(f)}n._authCredentials=new VI(new lC(c,h))}}(this._delegate,t,e,i)}enableNetwork(){return function D6(n){return function d6(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield CN(n),e=yield TN(n);return t.setNetworkEnabled(!0),function(i){const r=Ye(i);return r.wu.delete(0),FC(r)}(e)}))}(cr(n=ln(n,pi)))}(this._delegate)}disableNetwork(){return function A6(n){return function h6(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield CN(n),e=yield TN(n);return t.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const o=Ye(r);o.wu.add(0),yield $y(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(cr(n=ln(n,pi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,xN("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function x6(n){return function(t){const e=new Ki;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function $U(n,t){return cM.apply(this,arguments)}(yield OM(t),e)})),e.promise}(cr(n=ln(n,pi)))}(this._delegate)}onSnapshotsInSync(t){return function aH(n,t){return function g6(n,t){const e=new fS(t);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield ev(n),r=e,Ye(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield ev(n),r=e,void Ye(i).bu.delete(r);var i,r}))}}(cr(n=ln(n,pi)),NM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new nv(this,ON(this._delegate,t))}catch(e){throw io(e,"collection()","Firestore.collection()")}}doc(t){try{return new Xa(this,_S(this._delegate,t))}catch(e){throw io(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ro(this,function w6(n,t){if(n=ln(n,VC),PM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ms(n,null,(e=t,new B(sn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw io(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function cH(n,t,e){n=ln(n,pi);const i=Object.assign(Object.assign({},Q6),e);return function(r){if(r.maxAttempts<1)throw new Re(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function m6(n,t,e){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(o=n,gS(o).then(c=>c.datastore));var o;new c6(n.asyncQueue,r,e,t,i).run()})),i.promise}(cr(n),r=>t(new lH(n,r)),i)}(this._delegate,e=>t(new lF(this,e)))}batch(){return cr(this._delegate),new cF(new eF(this._delegate,t=>tv(this._delegate,t)))}loadBundle(t){return function M6(n,t){const e=cr(n=ln(n,pi)),i=new C6;return function _6(n,t,e,i){const r=function(o,c){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,y){if(f instanceof Uint8Array)return vN(f,y);if(f instanceof ArrayBuffer)return vN(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new a6(f,c);var f}(e,NC(t));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function s6(n,t,e){const i=Ye(n);var r;(r=(0,Ee.Z)(function*(o,c,h){try{const f=yield c.getMetadata();if(yield function(M,P){const V=Ye(M),Q=zr(P.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ye=>V._s.getBundleMetadata(ye,P.id)).then(ye=>!!ye&&ye.createTime.compareTo(Q)>=0)}(o.localStore,f))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=f).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(lN(f));const y=new LU(f,o.localStore,c.M);let T=yield c.ma();for(;T;){const M=yield y.Fu(T);M&&h._updateProgress(M),T=yield c.ma()}const I=yield y.complete();return yield wd(o,I.Lu,void 0),yield function(M,P){const V=Ye(M);return V.persistence.runTransaction("Save bundle","readwrite",Q=>V._s.saveBundleMetadata(Q,P))}(o.localStore,f),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(f){return fd("SyncEngine",`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}var M}),function(o,c,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield OM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function k6(n,t){return function y6(n,t){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(e,i){const r=Ye(e);return r.persistence.runTransaction("Get named query","readonly",o=>r._s.getNamedQuery(o,i))}(yield kM(n),t)}))}(cr(n=ln(n,pi)),t).then(e=>e?new Ms(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ro(this,e):null)}}class IS extends HM{constructor(t){super(),this.firestore=t}convertBytes(t){return new qC(new au(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Xa.forKey(e,this.firestore,null)}}class lF{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new IS(t)}get(t){const e=Jg(t);return this._delegate.get(e).then(i=>new GC(this._firestore,new Cd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Jg(t);return i?(qM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Jg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Jg(t);return this._delegate.delete(e),this}}class cF{constructor(t){this._delegate=t}set(t,e,i){const r=Jg(t);return i?(qM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Jg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Jg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Qg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new HC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Qg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Qg(t,new IS(t),e),r.set(e,o)),o}}Qg.INSTANCES=new WeakMap;class Xa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new IS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Xa(e,new Xn(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new Xa(e,new Xn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new nv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new nv(this.firestore,ON(this._delegate,t))}catch(e){throw io(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof Xn&&RN(this._delegate,t)}set(t,e){e=qM("DocumentReference.set",e);try{return e?tF(this._delegate,t,e):tF(this._delegate,t)}catch(i){throw io(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?nF(this._delegate,t):nF(this._delegate,t,e,...i)}catch(r){throw io(r,"updateDoc()","DocumentReference.update()")}}delete(){return function sH(n){return tv(ln(n.firestore,pi),[new vC(n._key,ar.none())])}(this._delegate)}onSnapshot(...t){const e=uF(t),i=dF(t,r=>new GC(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return iF(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function eH(n){n=ln(n,Xn);const t=ln(n.firestore,pi),e=cr(t),i=new Yg(t);return function p6(n,t){const e=new Ki;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,o,c){try{const h=yield function(f,y){const T=Ye(f);return T.persistence.runTransaction("read document","readonly",I=>T.fi.Ls(I,y))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Re(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Yy(h,`Failed to get document '${o} from cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield kM(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Cd(t,i,n._key,r,new Kg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function tH(n){n=ln(n,Xn);const t=ln(n.firestore,pi);return EN(cr(t),n._key,{source:"server"}).then(e=>jM(t,n,e))}(this._delegate):function X6(n){n=ln(n,Xn);const t=ln(n.firestore,pi);return EN(cr(t),n._key).then(e=>jM(t,n,e))}(this._delegate),e.then(i=>new GC(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Xa(this.firestore,this._delegate.withConverter(t?Qg.getInstance(this.firestore,t):null))}}function io(n,t,e){return n.message=n.message.replace(t,e),n}function uF(n){for(const t of n)if("object"==typeof t&&!GM(t))return t;return{}}function dF(n,t){var e,i;let r;return r=GM(n[0])?n[0]:GM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class GC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return zN(this._delegate,t._delegate)}}class zC extends GC{data(t){const e=this._delegate.data(t);return function aC(n,t){n||Qe()}(void 0!==e),e}}class ro{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new IS(t)}where(t,e,i){try{return new ro(this.firestore,Tp(this._delegate,function j6(n,t,e){const i=t,r=TS("where",n);return new H6(r,i,e)}(t,e,i)))}catch(r){throw io(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ro(this.firestore,Tp(this._delegate,function G6(n,t="asc"){const e=t,i=TS("orderBy",n);return new q6(i,e)}(t,e)))}catch(i){throw io(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ro(this.firestore,Tp(this._delegate,function z6(n){return MN("limit",n),new $N("limit",n,"F")}(t)))}catch(e){throw io(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ro(this.firestore,Tp(this._delegate,function Z6(n){return MN("limitToLast",n),new $N("limitToLast",n,"L")}(t)))}catch(e){throw io(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ro(this.firestore,Tp(this._delegate,function $6(...n){return new WN("startAt",n,!0)}(...t)))}catch(e){throw io(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ro(this.firestore,Tp(this._delegate,function W6(...n){return new WN("startAfter",n,!1)}(...t)))}catch(e){throw io(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ro(this.firestore,Tp(this._delegate,function K6(...n){return new KN("endBefore",n,!1)}(...t)))}catch(e){throw io(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ro(this.firestore,Tp(this._delegate,function Y6(...n){return new KN("endAt",n,!0)}(...t)))}catch(e){throw io(e,"endAt()","Query.endAt()")}}isEqual(t){return PN(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function iH(n){n=ln(n,Ms);const t=ln(n.firestore,pi),e=cr(t),i=new Yg(t);return function f6(n,t){const e=new Ki;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,o,c){try{const h=yield lS(r,o,!0),f=new dN(o,h._i),y=f.Wu(h.documents),T=f.applyChanges(y,!1);c.resolve(T.snapshot)}catch(h){const f=Yy(h,`Failed to execute query '${o} against cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield kM(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Cp(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function rH(n){n=ln(n,Ms);const t=ln(n.firestore,pi),e=cr(t),i=new Yg(t);return IN(e,n._query,{source:"server"}).then(r=>new Cp(t,i,n,r))}(this._delegate):function nH(n){n=ln(n,Ms);const t=ln(n.firestore,pi),e=cr(t),i=new Yg(t);return ZN(n._query),IN(e,n._query).then(r=>new Cp(t,i,n,r))}(this._delegate),e.then(i=>new zM(this.firestore,new Cp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=uF(t),i=dF(t,r=>new zM(this.firestore,new Cp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return iF(this._delegate,e,i)}withConverter(t){return new ro(this.firestore,this._delegate.withConverter(t?Qg.getInstance(this.firestore,t):null))}}class wH{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new zC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new zC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new wH(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new zC(this._firestore,i))})}isEqual(t){return zN(this._delegate,t._delegate)}}class nv extends ro{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Xa(this.firestore,t):null}doc(t){try{return new Xa(this.firestore,void 0===t?_S(this._delegate):_S(this._delegate,t))}catch(e){throw io(e,"doc()","CollectionReference.doc()")}}add(t){return function oH(n,t){const e=ln(n.firestore,pi),i=_S(n),r=ES(n.converter,t);return tv(e,[wS($g(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Xa(this.firestore,e))}isEqual(t){return RN(this._delegate,t._delegate)}withConverter(t){return new nv(this.firestore,this._delegate.withConverter(t?Qg.getInstance(this.firestore,t):null))}}function Jg(n){return ln(n,Xn)}class ZM{constructor(...t){this._delegate=new bd(...t)}static documentId(){return new ZM(Ri.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof bd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Xg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function dH(){return new FM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Xg(t)}static delete(){const t=function uH(){return new BC("deleteField")}();return t._methodName="FieldValue.delete",new Xg(t)}static arrayUnion(...t){const e=function hH(...n){return new N6("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Xg(e)}static arrayRemove(...t){const e=function pH(...n){return new F6("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Xg(e)}static increment(t){const e=function fH(n){return new L6("increment",n)}(t);return e._methodName="FieldValue.increment",new Xg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const bH={Firestore:aF,GeoPoint:yS,Timestamp:di,Blob:qC,Transaction:lF,WriteBatch:cF,DocumentReference:Xa,DocumentSnapshot:GC,Query:ro,QueryDocumentSnapshot:zC,QuerySnapshot:zM,CollectionReference:nv,FieldPath:ZM,FieldValue:Xg,setLogLevel:function vH(n){!function N1(n){Qc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function hF(n,t){return function EH(n,t=tg.z){return new Zi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function $M(n,t){return hF(n,t).pipe((0,k.U)(e=>({payload:e,type:"query"})))}function SS(n,t){return $M(n,t).pipe(qc(void 0),Q_(),(0,k.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const f=r.find(T=>T.doc.ref.isEqual(c.ref)),y=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function pF(n,t,e){return SS(n,e).pipe(Sl((i,r)=>function SH(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function xH(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return WM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return WM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return WM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),sd(),(0,k.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function WM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function fF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function TH(n){(function CH(n,t){n.INTERNAL.registerComponent(new Mo.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},bH)))})(n,(t,e)=>new aF(t,e,new yH)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(UE.Z);class gF{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=SS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,k.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(qc(void 0),Q_(),D(([i,r])=>r.length>0||!i),(0,k.U)(([i,r])=>r),Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Sl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=fF(t);return pF(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return $M(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Mn.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(Mn.iC)}add(t){return this.ref.add(t)}doc(t){return new mF(this.ref.doc(t),this.afs)}}class mF{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=vF(i,e);return new gF(r,o,this.afs)}snapshotChanges(){return function IH(n,t){return hF(n,t).pipe(qc(void 0),Q_(),(0,k.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,k.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Vn.D)(this.ref.get(t)).pipe(Mn.iC)}}class DH{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?SS(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),D(e=>e.length>0),Mn.iC):SS(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Sl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=fF(t);return pF(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return $M(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Mn.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(Mn.iC)}}const _F=new s.OlP("angularfire2.enableFirestorePersistence"),yF=new s.OlP("angularfire2.firestore.persistenceSettings"),AH=new s.OlP("angularfire2.firestore.settings"),MH=new s.OlP("angularfire2.firestore.use-emulator");function vF(n,t=(e=>e)){return{query:t(n),ref:n}}let ma=(()=>{class n{constructor(e,i,r,o,c,h,f,y,T,I,M,P,V,Q,ye,He,Xe){this.schedulers=f;const it=(0,os.on)(e,h,i),rt=T;I&&Ct(it,h,M,V,Q,ye,P,He),[this.firestore,this.persistenceEnabled$]=(0,os.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const At=h.runOutsideAngular(()=>it.firestore());if(o&&At.settings(o),rt&&At.useEmulator(...rt),r&&!xa(c)){const Rt=()=>{try{return(0,Vn.D)(At.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(nn){return"undefined"!=typeof console&&console.warn(nn),bt(!1)}};return[At,h.runOutsideAngular(Rt)]}return[At,bt(!1)]},[o,rt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=vF(r,i),h=this.schedulers.ngZone.run(()=>o);return new gF(h,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new DH(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new mF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(os.Dh),s.LFG(os.xv,8),s.LFG(_F,8),s.LFG(AH,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(yF,8),s.LFG(MH,8),s.LFG(W_,8),s.LFG(NE,8),s.LFG(Jf,8),s.LFG(FE,8),s.LFG(Z_,8),s.LFG($_,8),s.LFG(LE,8),s.LFG(z_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kH=(()=>{class n{constructor(){PE.Z.registerVersion("angularfire",Mn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:_F,useValue:!0},{provide:yF,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ma]}),n})(),OH=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e,i){return this.firestore.collection("lordinhouse",r=>r.where("lord","==",e).where("house","==",i)).snapshotChanges()}read_All_Items(){return this.firestore.collection("lordinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("user").add(e)}update_Item(e,i){this.firestore.doc("lordinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_a=(()=>{class n{constructor(e){this.http=e,this.starTypeData="./assets/csv/starTypeData.csv",this.signTypeData="./assets/csv/signTypeData.csv",this.houseTypeData="./assets/csv/houseTypeData.csv",this.planetTypeData="./assets/csv/planetTypeData.csv"}getStarTypeInfo(){return this.http.get(this.starTypeData,{responseType:"text"})}getSignTypeInfo(){return this.http.get(this.signTypeData,{responseType:"text"})}getHouseTypeInfo(){return this.http.get(this.houseTypeData,{responseType:"text"})}getPlanetTypeInfo(){return this.http.get(this.planetTypeData,{responseType:"text"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wF=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("signs",i=>i.where("sign","==",e)).snapshotChanges()}read_All_Signs(){return this.firestore.collection("signs").snapshotChanges()}create_Sign(e){return this.firestore.collection("signs").add(e)}update_Sign(e,i){this.firestore.doc("signs/"+e).update(i)}delete_Sign(e){this.firestore.doc("signs/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bF=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("signashouse").snapshotChanges()}Read_For_Lagnam(e){return this.firestore.collection("signashouse",i=>i.where("house","==","\u0bae\u0bc1\u0ba4\u0bb2\u0bbe\u0bb5\u0ba4\u0bc1").where("sign","==",e)).snapshotChanges()}read_Items_Where(e,i){return this.firestore.collection("signashouse",r=>r.where("house","==",e).where("sign","==",i)).snapshotChanges()}create_Item(e){return this.firestore.collection("signashouse").add(e)}update_Item(e,i){this.firestore.doc("signashouse/"+e).update(i)}delete_Item(e){this.firestore.doc("signashouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CF=(()=>{class n{constructor(e){this.firestore=e}Read_For_Rasi(e){return this.firestore.collection("planetinsign",i=>i.where("planet","==","\u0b9a\u0ba8\u0bcd\u0ba4\u0bbf\u0bb0\u0ba9\u0bcd").where("sign","==",e)).snapshotChanges()}read_All_Items(){return this.firestore.collection("planetinsign").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinsign").add(e)}update_Item(e,i){this.firestore.doc("planetinsign/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinsign/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TF=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("stars",i=>i.where("star","==",e)).snapshotChanges()}read_All_Stars(){return this.firestore.collection("stars").snapshotChanges()}create_Star(e){return this.firestore.collection("stars").add(e)}update_Star(e,i){this.firestore.doc("stars/"+e).update(i)}delete_Star(e){this.firestore.doc("stars/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EF=(()=>{class n{constructor(e){this.firestore=e}Read_For_Natchathiram(e){return this.firestore.collection("planetinstar",i=>i.where("planet","==","\u0b9a\u0ba8\u0bcd\u0ba4\u0bbf\u0bb0\u0ba9\u0bcd").where("star","==",e)).snapshotChanges()}read_All_Items(){return this.firestore.collection("planetinstar").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinstar").add(e)}update_Item(e,i){this.firestore.doc("planetinstar/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinstar/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),re=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var c=0;c<r.length;c++){if(r[c]==e)return o;r[c].attributes&&r[c].attributes[i]&&1==r[c].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,c=i.getBoundingClientRect(),h=this.getViewport();let f,y;c.top+o+r.height>h.height?(f=-1*r.height,e.style.transformOrigin="bottom",c.top+f<0&&(f=-1*c.top)):(f=o,e.style.transformOrigin="top"),y=r.width>h.width?-1*c.left:c.left+r.width>h.width?-1*(c.left+r.width-h.width):0,e.style.top=f+"px",e.style.left=y+"px"}static absolutePosition(e,i){let P,V,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,c=r.width,h=i.offsetHeight,f=i.offsetWidth,y=i.getBoundingClientRect(),T=this.getWindowScrollTop(),I=this.getWindowScrollLeft(),M=this.getViewport();y.top+h+o>M.height?(P=y.top+T-o,e.style.transformOrigin="bottom",P<0&&(P=T)):(P=h+y.top+T,e.style.transformOrigin="top"),V=y.left+c>M.width?Math.max(0,y.left+I+f-c):y.left+I,e.style.top=P+"px",e.style.left=V+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,c=h=>{let f=window.getComputedStyle(h,null);return o.test(f.getPropertyValue("overflow"))||o.test(f.getPropertyValue("overflowX"))||o.test(f.getPropertyValue("overflowY"))};for(let h of r){let f=1===h.nodeType&&h.dataset.scrollselectors;if(f){let y=f.split(",");for(let T of y){let I=this.findSingle(h,T);I&&c(I)&&i.push(I)}}9!==h.nodeType&&c(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,c=getComputedStyle(e).getPropertyValue("paddingTop"),h=c?parseFloat(c):0,f=e.getBoundingClientRect(),T=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-o-h,I=e.scrollTop,M=e.clientHeight,P=this.getOuterHeight(i);T<0?e.scrollTop=I+T:T+P>M&&(e.scrollTop=I+T-M+P)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,c=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(e,i){var r=1,h=50/i;let f=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(f)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class xS{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=re.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let em=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(re.removeClass(i,"p-ink-active"),!re.getHeight(i)&&!re.getWidth(i)){let h=Math.max(re.getOuterWidth(this.el.nativeElement),re.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=re.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-re.getWidth(i)/2,c=e.pageY-r.top+document.body.scrollLeft-re.getHeight(i)/2;i.style.top=c+"px",i.style.left=o+"px",re.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&re.removeClass(e,"p-ink-active")}onAnimationEnd(e){re.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),re.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(rd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();const IF=["container"],RH=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function PH(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,RH,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function NH(n,t){1&n&&s.GkF(0)}function FH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)}),s._UZ(1,"span",11),s.qZA()}}const LH=function(n){return[n,"p-toast-message"]},VH=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},BH=function(n){return{value:"visible",params:n}},UH=function(n){return{$implicit:n}};function HH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){return s.CHM(e),s.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return s.CHM(e),s.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return s.CHM(e),s.oxw().onAnimationEnd(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let jH=(()=>{class n{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&s.Gf(IF,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,PH,7,10,"ng-container",3),s.YNc(4,NH,1,0,"ng-container",4),s.YNc(5,FH,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(i.message.styleClass),s.Q6J("ngClass",s.VKq(10,LH,"p-toast-message-"+i.message.severity))("@messageState",s.VKq(17,BH,s.l5B(12,VH,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),s.uIk("id",i.message.id),s.xp6(2),s.Q6J("ngClass",i.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(19,UH,i.message)),s.xp6(1),s.Q6J("ngIf",!1!==i.message.closable))},directives:[En,Ot,ms,em],encapsulation:2,data:{animation:[Ar("messageState",[Yo("visible",$n({transform:"translateY(0)",opacity:1})),tn("void => *",[$n({transform:"{{showTransformParams}}",opacity:0}),Mr("{{showTransitionParams}}")]),tn("* => void",[Mr("{{hideTransitionParams}}",$n({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),el=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=Rl()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&or.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&ot.isEmpty(this.messages)&&or.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&or.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kn),s.Y36(s.sBO),s.Y36(rd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,_i,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(IF,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,HH,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),s.xp6(2),s.Q6J("ngForOf",i.messages))},directives:[jH,En,Bi,Ut],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Ar("toastAnimation",[tn(":enter, :leave",[Zd("@*",Na())])])]},changeDetection:0}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Ip],Oo]}),n})(),SF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),tm=(()=>{class n extends SF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const ks=new s.OlP("NgValueAccessor"),ZH={provide:ks,useExisting:(0,s.Gpc)(()=>Os),multi:!0},WH=new s.OlP("CompositionEventMode");let Os=(()=>{class n extends SF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $H(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(WH,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([ZH]),s.qOj]}),n})();const Rs=new s.OlP("NgValidators"),xp=new s.OlP("NgAsyncValidators");function LF(n){return null!=n}function VF(n){const t=(0,s.QGY)(n)?(0,Vn.D)(n):n;return(0,s.CqO)(t),t}function BF(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function UF(n,t){return t.map(e=>e(n))}function HF(n){return n.map(t=>function YH(n){return!n.validate}(t)?t:e=>t.validate(e))}function KM(n){return null!=n?function jF(n){if(!n)return null;const t=n.filter(LF);return 0==t.length?null:function(e){return BF(UF(e,t))}}(HF(n)):null}function YM(n){return null!=n?function qF(n){if(!n)return null;const t=n.filter(LF);return 0==t.length?null:function(e){return function GH(...n){const t=(0,oa.jO)(n),{args:e,keys:i}=G0(n),r=new Zi.y(o=>{const{length:c}=e;if(!c)return void o.complete();const h=new Array(c);let f=c,y=c;for(let T=0;T<c;T++){let I=!1;(0,El.Xf)(e[T]).subscribe((0,b.x)(o,M=>{I||(I=!0,y--),h[T]=M},()=>f--,void 0,()=>{(!f||!I)&&(y||o.next(i?$v(i,h):h),o.complete())}))}});return t?r.pipe(Zv(t)):r}(UF(e,t).map(VF)).pipe((0,k.U)(BF))}}(HF(n)):null}function GF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function QM(n){return n?Array.isArray(n)?n:[n]:[]}function AS(n,t){return Array.isArray(n)?n.includes(t):n===t}function $F(n,t){const e=QM(t);return QM(n).forEach(r=>{AS(e,r)||e.push(r)}),e}function WF(n,t){return QM(t).filter(e=>!AS(n,e))}class KF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Td extends KF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class so extends KF{get formDirective(){return null}get path(){return null}}class YF{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Ps=(()=>{class n extends YF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Td,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),QF=(()=>{class n extends YF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(so,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function ZC(n,t){ek(n,t),t.valueAccessor.writeValue(n.value),function rj(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XF(n,t)})}(n,t),function oj(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function sj(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ij(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function RS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ek(n,t){const e=function zF(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(GF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function ZF(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(GF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();RS(t._rawValidators,r),RS(t._rawAsyncValidators,r)}function XF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ik(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const $C="VALID",NS="INVALID",iv="PENDING",WC="DISABLED";function sk(n){return(FS(n)?n.validators:n)||null}function iL(n){return Array.isArray(n)?KM(n):n||null}function ok(n,t){return(FS(t)?t.asyncValidators:n)||null}function rL(n){return Array.isArray(n)?YM(n):n||null}function FS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ak=n=>n instanceof ck;function oL(n){return(n=>n instanceof cL)(n)?n.value:n.getRawValue()}function aL(n,t){const e=ak(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function lL(n,t){ak(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class lk{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=iL(this._rawValidators),this._composedAsyncValidatorFn=rL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$C}get invalid(){return this.status===NS}get pending(){return this.status==iv}get disabled(){return this.status===WC}get enabled(){return this.status!==WC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=iL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rL(t)}addValidators(t){this.setValidators($F(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($F(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(WF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(WF(t,this._rawAsyncValidators))}hasValidator(t){return AS(this._rawValidators,t)}hasAsyncValidator(t){return AS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=WC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$C,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$C||this.status===iv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?WC:$C}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iv,this._hasOwnPendingAsyncValidator=!0;const e=VF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function uj(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=ak(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof hj)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?WC:this.errors?NS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iv)?iv:this._anyControlsHaveStatus(NS)?NS:$C}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){FS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class cL extends lk{constructor(t=null,e,i){super(sk(e),ok(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FS(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ik(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ik(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ck extends lk{constructor(t,e,i){super(sk(e),ok(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){lL(this,t),Object.keys(t).forEach(i=>{aL(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=oL(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class hj extends lk{constructor(t,e,i){super(sk(e),ok(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){lL(this,t),t.forEach((i,r)=>{aL(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>oL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const pj={provide:so,useExisting:(0,s.Gpc)(()=>LS)},KC=(()=>Promise.resolve(null))();let LS=(()=>{class n extends so{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new ck({},KM(e),YM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){KC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ZC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){KC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){KC.then(()=>{const i=this._findContainer(e.path),r=new ck({});(function eL(n,t){ek(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){KC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){KC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function nL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rs,10),s.Y36(xp,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([pj]),s.qOj]}),n})();const gj={provide:Td,useExisting:(0,s.Gpc)(()=>br)},hL=(()=>Promise.resolve(null))();let br=(()=>{class n extends Td{constructor(e,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new cL,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function nk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Os?e=o:function cj(n){return Object.getPrototypeOf(n.constructor)===tm}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function tk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ZC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hL.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;hL.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function kS(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(so,9),s.Y36(Rs,10),s.Y36(xp,10),s.Y36(ks,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([gj]),s.qOj,s.TTD]}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Uj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[gL]]}),n})(),VS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Uj]}),n})(),ya=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(br,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();function US(n,t=0){return function jj(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}var Gj=F(1144);const zj=["addListener","removeListener"],Zj=["addEventListener","removeEventListener"],$j=["on","off"];function HS(n,t,e,i){if((0,v.m)(e)&&(i=e,e=void 0),i)return HS(n,t,e).pipe(Zv(i));const[r,o]=function Yj(n){return(0,v.m)(n.addEventListener)&&(0,v.m)(n.removeEventListener)}(n)?Zj.map(c=>h=>n[c](t,h,e)):function Wj(n){return(0,v.m)(n.addListener)&&(0,v.m)(n.removeListener)}(n)?zj.map(RL(n,t)):function Kj(n){return(0,v.m)(n.on)&&(0,v.m)(n.off)}(n)?$j.map(RL(n,t)):[];if(!r&&(0,Gj.z)(n))return(0,Bn.z)(c=>HS(c,t,e))((0,El.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Zi.y(c=>{const h=(...f)=>c.next(1<f.length?f:f[0]);return r(h),()=>o(h)})}function RL(n,t){return e=>i=>n[e](t,i)}var PL=F(4408);const YC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=YC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new xs.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=YC;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=YC;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var NL=F(7565);const Xj=new class Jj extends NL.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Qj extends PL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=YC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(YC.cancelAnimationFrame(e),t._scheduled=void 0)}});let mk,e4=1;const jS={};function FL(n){return n in jS&&(delete jS[n],!0)}const t4={setImmediate(n){const t=e4++;return jS[t]=!0,mk||(mk=Promise.resolve()),mk.then(()=>FL(t)&&n()),t},clearImmediate(n){FL(n)}},{setImmediate:n4,clearImmediate:r4}=t4,qS={setImmediate(...n){const{delegate:t}=qS;return((null==t?void 0:t.setImmediate)||n4)(...n)},clearImmediate(n){const{delegate:t}=qS;return((null==t?void 0:t.clearImmediate)||r4)(n)},delegate:void 0},a4=new class o4 extends NL.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class s4 extends PL.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qS.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(qS.clearImmediate(e),t._scheduled=void 0)}});function LL(n){return!!n&&(n instanceof Zi.y||(0,v.m)(n.lift)&&(0,v.m)(n.subscribe))}var c4=F(3532);function _k(n,t=tg.z){return function l4(n){return(0,m.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},f=()=>{o=null,c&&e.complete()};t.subscribe((0,b.x)(e,y=>{i=!0,r=y,o||(0,El.Xf)(n(y)).subscribe(o=(0,b.x)(e,h,f))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function d4(n=0,t,e=tg.P){let i=-1;return null!=t&&((0,c4.K)(t)?e=t:i=t),new Zi.y(r=>{let o=function u4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}var VL=F(5032);function yk(n){return(0,m.e)((t,e)=>{(0,El.Xf)(n).subscribe((0,b.x)(e,()=>e.complete(),VL.Z)),!e.closed&&t.subscribe(e)})}let vk;try{vk="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){vk=!1}let GS,im,BL=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ji(n){return n===Ho}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vk)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JC(){if("object"!=typeof document||!document)return 0;if(null==GS){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),GS=0,0===n.scrollLeft&&(n.scrollLeft=1,GS=0===n.scrollLeft?1:2),n.remove()}return GS}const g4=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function m4(){return(0,s.f3M)(ue)}}),_4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let HL=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function y4(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?_4.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(g4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class b4 extends class v4{}{constructor(t){super(),this._data=t}connect(){return LL(this._data)?this._data:bt(this._data)}disconnect(){}}class C4{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((c,h,f)=>{let y,T;null==c.previousIndex?(y=this._insertView(()=>i(c,h,f),f,e,r(c)),T=y?1:0):null==f?(this._detachAndCacheView(h,e),T=3):(y=this._moveView(h,f,e,r(c)),T=2),o&&o({context:null==y?void 0:y.context,operation:T,record:c})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const c=t();return i.createEmbeddedView(c.templateRef,c.context,c.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const qL=new s.OlP("_ViewRepeater"),T4=["contentWrapper"],E4=["*"],GL=new s.OlP("VIRTUAL_SCROLL_STRATEGY");class I4{constructor(t,e,i){this._scrolledIndexChange=new mn.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(sd()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),c=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const f=Math.ceil(i/this._itemSize),y=Math.max(0,Math.min(c,r-f));c!=y&&(c=y,o=y*this._itemSize,e.start=Math.floor(c)),e.end=Math.max(0,Math.min(r,e.start+f))}const h=o-e.start*this._itemSize;if(h<this._minBufferPx&&0!=e.start){const f=Math.ceil((this._maxBufferPx-h)/this._itemSize);e.start=Math.max(0,e.start-f),e.end=Math.min(r,Math.ceil(c+(i+this._minBufferPx)/this._itemSize))}else{const f=e.end*this._itemSize-(o+i);if(f<this._minBufferPx&&e.end!=r){const y=Math.ceil((this._maxBufferPx-f)/this._itemSize);y>0&&(e.end=Math.min(r,e.end+y),e.start=Math.max(0,Math.floor(c-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(c))}}function S4(n){return n._scrollStrategy}let bk=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new I4(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=US(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=US(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=US(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s._Bn([{provide:GL,useFactory:S4,deps:[(0,s.Gpc)(()=>n)]}]),s.TTD]}),n})(),zL=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Zi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(_k(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(D(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function qj(n){return n instanceof s.SBq?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>HS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(BL),s.LFG(ue,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZL=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new mn.x,this._elementScrolled=new Zi.y(c=>this.ngZone.runOutsideAngular(()=>HS(this.elementRef.nativeElement,"scroll").pipe(yk(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=JC()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==JC()?e.left=e.right:1==JC()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function p4(){if(null==im){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return im=!1,im;if("scrollBehavior"in document.documentElement.style)im=!0;else{const n=Element.prototype.scrollTo;im=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return im}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==JC()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==JC()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(zL),s.Y36(s.R0b),s.Y36(HL,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),A4=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new mn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(_k(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BL),s.LFG(s.R0b),s.LFG(ue,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k4="undefined"!=typeof requestAnimationFrame?Xj:a4;let rm=(()=>{class n extends ZL{constructor(e,i,r,o,c,h,f){super(e,h,r,c),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new mn.x,this._renderedRangeSubject=new mn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Zi.y(y=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=xs.w0.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function Hj(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(qc(null),_k(0,k4)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(yk(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function M4(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,c=o?"X":"Y";let f=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(f+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(GL,8),s.Y36(HL,8),s.Y36(zL),s.Y36(A4))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(T4,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s._Bn([{provide:ZL,useExisting:n}]),s.qOj],ngContentSelectors:E4,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function $L(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let Ck=(()=>{class n{constructor(e,i,r,o,c,h){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=c,this.viewChange=new mn.x,this._dataSourceChanges=new mn.x,this.dataStream=this._dataSourceChanges.pipe(qc(null),Q_(),$i(([f,y])=>this._changeDataSource(f,y)),N_(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new mn.x,this.dataStream.subscribe(f=>{this._data=f,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(yk(this._destroyed)).subscribe(f=>{this._renderedRange=f,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function w4(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new b4(LL(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=US(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let c,h;for(let f=0;f<o;f++){const y=this._viewContainerRef.get(f+r);if(y&&y.rootNodes.length){c=h=y.rootNodes[0];break}}for(let f=o-1;f>-1;f--){const y=this._viewContainerRef.get(f+r);if(y&&y.rootNodes.length){h=y.rootNodes[y.rootNodes.length-1];break}}return c&&h?$L(i,"end",h)-$L(i,"start",c):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):bt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,c,h)=>this._getEmbeddedViewArgs(o,h),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(qL),s.Y36(rm,4),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[s._Bn([{provide:qL,useClass:C4}])]}),n})(),WL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),sv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jL,WL],jL,WL]}),n})(),O4=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?re.appendChild(this.container,this.el.nativeElement):re.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),re.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?or.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&or.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+re.getWindowScrollLeft(),top:e.top+re.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+re.getOuterWidth(this.el.nativeElement),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-re.getOuterWidth(this.container),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top-re.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top+re.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return re.hasClass(e,"p-inputwrapper")?re.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=re.getOuterWidth(this.container),c=re.getOuterHeight(this.container),h=re.getViewport();return r+o>h.width||r<0||i<0||i+c>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xS(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):re.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&or.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(rd))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();function P4(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function N4(n,t){1&n&&s.GkF(0)}const KL=function(n){return{height:n}},F4=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},Tk=function(n){return{$implicit:n}},L4=["container"],V4=["filter"],B4=["in"],U4=["editableInput"];function H4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function j4(n,t){1&n&&s.GkF(0)}const q4=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function G4(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,H4,2,1,"ng-container",13),s.YNc(2,j4,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,q4,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,Tk,e.selectedOption))}}const z4=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function Z4(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,z4,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function $4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){return s.CHM(e),s.oxw().onEditableInputClick()})("input",function(r){return s.CHM(e),s.oxw().onEditableInputChange(r)})("focus",function(r){return s.CHM(e),s.oxw().onEditableInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function W4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function K4(n,t){1&n&&s.GkF(0)}function Y4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(2,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return s.CHM(e),s.oxw(2).onKeydown(r,!1)})("input",function(r){return s.CHM(e),s.oxw(2).onFilterInputChange(r)}),s.qZA(),s._UZ(4,"span",30),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function Q4(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function J4(n,t){1&n&&s.GkF(0)}function X4(n,t){1&n&&s.GkF(0)}const YL=function(n,t){return{$implicit:n,selectedOption:t}};function eq(n,t){if(1&n&&(s.TgZ(0,"li",32),s.YNc(1,Q4,2,1,"span",13),s.YNc(2,J4,1,0,"ng-container",14),s.qZA(),s.YNc(3,X4,1,0,"ng-container",14)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(8),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,Tk,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(7,YL,r.getOptionGroupChildren(e),r.selectedOption))}}function tq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,eq,4,10,"ng-template",31),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToDisplay)}}function nq(n,t){1&n&&s.GkF(0)}function iq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,nq,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(8),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(2,YL,i.optionsToDisplay,i.selectedOption))}}function rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onItemClick(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).selectedOption,r=s.oxw(2);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function sq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,rq,1,5,"ng-template",31),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function oq(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onItemClick(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(3).selectedOption,r=s.oxw(2);s.xp6(1),s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",37,38),s.NdJ("scrolledIndexChange",function(){return s.CHM(e),s.oxw(4).scrollToSelectedVirtualScrollElement()}),s.YNc(2,oq,2,5,"ng-container",39),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,KL,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function lq(n,t){if(1&n&&s.YNc(0,aq,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function cq(n,t){if(1&n&&(s.YNc(0,sq,2,1,"ng-container",33),s.YNc(1,lq,1,1,"ng-template",null,34,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function uq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function dq(n,t){1&n&&s.GkF(0,null,41)}function hq(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,uq,2,1,"ng-container",33),s.YNc(2,dq,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function pq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function fq(n,t){1&n&&s.GkF(0,null,42)}function gq(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,pq,2,1,"ng-container",33),s.YNc(2,fq,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function mq(n,t){1&n&&s.GkF(0)}const _q=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},yq=function(n){return{value:"visible",params:n}},vq=function(n){return{"p-dropdown-virtualscroll":n}};function wq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(1,K4,1,0,"ng-container",20),s.YNc(2,Y4,5,4,"div",21),s.TgZ(3,"div",22)(4,"ul",23),s.YNc(5,tq,2,1,"ng-container",13),s.YNc(6,iq,2,5,"ng-container",13),s.YNc(7,cq,3,2,"ng-template",null,24,s.W1O),s.YNc(9,hq,3,3,"li",25),s.YNc(10,gq,3,3,"li",25),s.qZA()(),s.YNc(11,mq,1,0,"ng-container",20),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(19,yq,s.WLB(16,_q,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(21,vq,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngIf",!e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const bq=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},Cq={provide:ks,useExisting:(0,s.Gpc)(()=>oo),multi:!0};let Tq=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,P4,2,1,"span",1),s.YNc(2,N4,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,KL,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,F4,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,Tk,i.option)))},directives:[em,Bi,En,Ot,ms],encapsulation:2}),n})(),oo=(()=>{class n{constructor(e,i,r,o,c,h,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=c,this.config=h,this.overlayService=f,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=Rl()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Lr.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Lr.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}re.findSingle(this.overlay,"li.p-highlight")&&re.scrollInView(this.itemsWrapper,re.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return re.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=re.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&or.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=re.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&or.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?re.absolutePosition(this.overlay,this.containerViewChild.nativeElement):re.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let c=this.optionsToDisplay[r.groupIndex-1];c&&(this.selectItem(e,this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||ot.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let c of i)if(o=this.findOption(e,this.getOptionGroupChildren(c),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:o}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?re.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():re.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!re.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xS(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&or.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(ab),s.Y36(rd),s.Y36(K_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,_i,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(L4,5),s.Gf(V4,5),s.Gf(B4,5),s.Gf(rm,5),s.Gf(U4,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[s._Bn([Cq])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,G4,3,13,"span",5),s.YNc(6,Z4,2,4,"span",6),s.YNc(7,$4,2,4,"input",7),s.YNc(8,W4,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,wq,12,23,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(20,bq,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[Tq,rm,En,Bi,Ot,O4,ms,Ut,bk,Ck],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Ar("overlayAnimation",[tn(":enter",[$n({opacity:0,transform:"scaleY(0.8)"}),Mr("{{showTransitionParams}}")]),tn(":leave",[Mr("{{hideTransitionParams}}",$n({opacity:0}))])])]},changeDetection:0}),n})(),zS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Oo,sv,R4,Ip],Oo,sv]}),n})(),ov=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,re.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&re.addClass(e,i);let r=this.getIconClass();r&&re.addMultipleClasses(e,r);let o=re.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(re.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Ip]]}),n})();function Iq(n,t){if(1&n&&s._UZ(0,"img",6),2&n){const e=s.oxw(2);s.Q6J("src",e.image,s.LSH)}}function Sq(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(3);s.Tol(e.icon),s.Q6J("ngClass","p-chip-icon")}}function xq(n,t){if(1&n&&s.YNc(0,Sq,1,3,"span",7),2&n){const e=s.oxw(2);s.Q6J("ngIf",e.icon)}}function Dq(n,t){if(1&n&&(s.TgZ(0,"div",9),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label)}}function Aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).close(r)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.removeIcon),s.Q6J("ngClass","pi-chip-remove-icon")}}function Mq(n,t){if(1&n&&(s.TgZ(0,"div",1),s.Hsn(1),s.YNc(2,Iq,1,1,"img",2),s.YNc(3,xq,1,1,"ng-template",null,3,s.W1O),s.YNc(5,Dq,2,1,"div",4),s.YNc(6,Aq,1,3,"span",5),s.qZA()),2&n){const e=s.MAs(4),i=s.oxw();s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.image)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.label),s.xp6(1),s.Q6J("ngIf",i.removable)}}const kq=["*"];let QL=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new s.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(e){this.visible=!1,this.onRemove.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove"},ngContentSelectors:kq,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Mq,7,8,"div",0)),2&e&&s.Q6J("ngIf",i.visible)},directives:[Ot,En,Bi],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),Oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();function Rq(n,t){1&n&&s._UZ(0,"p-chip",17),2&n&&s.s9C("label",t.$implicit)}function Pq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),s._uU(4),s.qZA()(),s.TgZ(5,"div",14)(6,"div",15),s.YNc(7,Rq,1,1,"p-chip",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.lagnam," "),s.xp6(3),s.Q6J("ngForOf",e.lagnamSignDetails)}}function Nq(n,t){1&n&&s._UZ(0,"p-chip",17),2&n&&s.s9C("label",t.$implicit)}function Fq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),s._uU(4),s.qZA()(),s.TgZ(5,"div",14)(6,"div",15),s.YNc(7,Nq,1,1,"p-chip",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.lagnam," \u0bb2\u0b95\u0bcd\u0ba9\u0bae\u0bcd "),s.xp6(3),s.Q6J("ngForOf",e.lagnamDetails)}}function Lq(n,t){1&n&&s._UZ(0,"p-chip",17),2&n&&s.s9C("label",t.$implicit)}function Vq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),s._uU(4),s.qZA()(),s.TgZ(5,"div",14)(6,"div",15),s.YNc(7,Lq,1,1,"p-chip",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.rasi," "),s.xp6(3),s.Q6J("ngForOf",e.rasiSignDetails)}}function Bq(n,t){1&n&&s._UZ(0,"p-chip",17),2&n&&s.s9C("label",t.$implicit)}function Uq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),s._uU(4),s.qZA()(),s.TgZ(5,"div",14)(6,"div",15),s.YNc(7,Bq,1,1,"p-chip",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.rasi," \u0bb0\u0bbe\u0b9a\u0bbf "),s.xp6(3),s.Q6J("ngForOf",e.rasiDetails)}}function Hq(n,t){1&n&&s._UZ(0,"p-chip",17),2&n&&s.s9C("label",t.$implicit)}function jq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),s._uU(4),s.qZA()(),s.TgZ(5,"div",14)(6,"div",15),s.YNc(7,Hq,1,1,"p-chip",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.star," "),s.xp6(3),s.Q6J("ngForOf",e.starGenDetails)}}function qq(n,t){1&n&&s._UZ(0,"p-chip",17),2&n&&s.s9C("label",t.$implicit)}function Gq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),s._uU(4),s.qZA()(),s.TgZ(5,"div",14)(6,"div",15),s.YNc(7,qq,1,1,"p-chip",16),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.star," "),s.xp6(3),s.Q6J("ngForOf",e.starMoonDetails)}}let zq=(()=>{class n{constructor(e,i,r,o,c,h,f,y){this.dbService=e,this.generalService=i,this._signService=r,this._signashouseService=o,this._planetinsignService=c,this._starService=h,this._planetinstarService=f,this.messageService=y,this.signData=[],this.starData=[],this.signs=[],this.stars=[],this.lagnamSignDetails=[],this.rasiSignDetails=[],this.lagnamDetails=[],this.rasiDetails=[],this.starGenDetails=[],this.starMoonDetails=[]}ngOnInit(){this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.stars.push({name:"",value:""}),this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(o=>{this.starData.push(o)}),this.starData[0].split(",").forEach(o=>this.stars.push({name:o,value:o}))})}get_Option2_Values(){this.signs.push({name:"",value:""}),this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(o=>{this.signData.push(o)}),this.signData[0].split(",").forEach(o=>this.signs.push({name:o,value:o}))})}Save_Details(){let e={};e.name=this.name.toUpperCase(),e.dob=this.dob,e.tob=this.tob,this.dbService.create_Item(e).then(i=>{this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"})}).catch(i=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:i})})}ClearAll(){this.lagnam="",this.rasi="",this.lagnamSignDetails=[],this.rasiSignDetails=[],this.lagnamDetails=[],this.rasiDetails=[]}ClearChips(){this.lagnamDetails=[],this.lagnamSignDetails=[],this.rasiSignDetails=[],this.rasiDetails=[],this.starGenDetails=[],this.starMoonDetails=[]}Read_Items_Where(){this.ClearChips(),null!=this.lagnam&&""!=this.lagnam&&(this._signService.read_Items_Where(this.lagnam).subscribe(e=>{this.lagnamSignData=e.map(i=>({value:i.payload.doc.data().value}))}),this._signashouseService.Read_For_Lagnam(this.lagnam).subscribe(e=>{this.lagnamData=e.map(i=>({value:i.payload.doc.data().value}))})),null!=this.rasi&&""!=this.rasi&&this.rasi!=this.lagnam&&this._signService.read_Items_Where(this.rasi).subscribe(e=>{this.rasiSignData=e.map(i=>({value:i.payload.doc.data().value}))}),null!=this.rasi&&""!=this.rasi&&this._planetinsignService.Read_For_Rasi(this.rasi).subscribe(e=>{this.rasiData=e.map(i=>({value:i.payload.doc.data().value}))}),null!=this.star&&""!=this.star&&(this._starService.read_Items_Where(this.star).subscribe(e=>{this.starGenData=e.map(i=>({value:i.payload.doc.data().value}))}),this._planetinstarService.Read_For_Natchathiram(this.star).subscribe(e=>{this.starMoonData=e.map(i=>({value:i.payload.doc.data().value}))})),setTimeout(()=>this.update_Values(),2e3)}update_Values(){0!=this.lagnamSignData.length&&(this.lagnamSignDetails=[],this.lagnamSignData.forEach(e=>{-1===this.lagnamSignDetails.indexOf(e.value)&&this.lagnamSignDetails.push(e.value)})),0!=this.lagnamData.length&&(this.lagnamDetails=[],this.lagnamData.forEach(e=>{-1===this.lagnamDetails.indexOf(e.value)&&this.lagnamDetails.push(e.value)})),0!=this.rasiSignData.length&&(this.rasiSignDetails=[],this.rasiSignData.forEach(e=>{-1===this.rasiSignDetails.indexOf(e.value)&&this.rasiSignDetails.push(e.value)})),0!=this.rasiData.length&&(this.rasiDetails=[],this.rasiData.forEach(e=>{-1===this.rasiDetails.indexOf(e.value)&&this.rasiDetails.push(e.value)})),0!=this.starGenData.length&&(this.starGenDetails=[],this.starGenData.forEach(e=>{-1===this.starGenDetails.indexOf(e.value)&&this.starGenDetails.push(e.value)})),0!=this.starMoonData.length&&(this.starMoonDetails=[],this.starMoonData.forEach(e=>{-1===this.starMoonDetails.indexOf(e.value)&&this.starMoonDetails.push(e.value)}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(OH),s.Y36(_a),s.Y36(wF),s.Y36(bF),s.Y36(CF),s.Y36(TF),s.Y36(EF),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-basics"]],features:[s._Bn([kn])],decls:37,vars:16,consts:[[1,"container-fluid","p-0"],[1,"row"],[1,"col-md-4"],["type","text","pInputText","",1,"p-inputtext-sm",3,"ngModel","ngModelChange"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["pButton","","type","button","label","Save",1,"top20",3,"disabled","click"],["pButton","","type","button","label","Check",1,"top20",3,"click"],["pButton","","type","button","label","Clear All",1,"top20",3,"click"],[1,"row",2,"margin-top","25px"],["class","col-12 col-lg-4 col-xxl-3 d-flex",4,"ngIf"],[1,"col-12","col-lg-4","col-xxl-3","d-flex"],[1,"card","flex-fill","w-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body","d-flex","w-100"],[1,"align-self-center","chart","chart-lg","tile"],[3,"label",4,"ngFor","ngForOf"],[3,"label"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast"),s.TgZ(2,"div",1)(3,"div",2)(4,"input",3),s.NdJ("ngModelChange",function(o){return i.name=o}),s.qZA(),s._uU(5," \u0baa\u0bc6\u0baf\u0bb0\u0bcd "),s.qZA(),s.TgZ(6,"div",2)(7,"input",3),s.NdJ("ngModelChange",function(o){return i.dob=o}),s.qZA(),s._uU(8," \u0ba4\u0bc7\u0ba4\u0bbf "),s.qZA(),s.TgZ(9,"div",2)(10,"input",3),s.NdJ("ngModelChange",function(o){return i.tob=o}),s.qZA(),s._uU(11," \u0ba8\u0bc7\u0bb0\u0bae\u0bcd "),s.qZA()(),s.TgZ(12,"div",1)(13,"div",2)(14,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.lagnam=o}),s.qZA(),s._uU(15," \u0bb2 "),s.qZA(),s.TgZ(16,"div",2)(17,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.rasi=o}),s.qZA(),s._uU(18," \u0bb0\u0bbe "),s.qZA(),s.TgZ(19,"div",2)(20,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.star=o}),s.qZA(),s._uU(21," \u0ba8\u0b9f\u0bcd "),s.qZA()(),s.TgZ(22,"div",1)(23,"div",2)(24,"button",5),s.NdJ("click",function(){return i.Save_Details()}),s.qZA()(),s.TgZ(25,"div",2)(26,"button",6),s.NdJ("click",function(){return i.Read_Items_Where()}),s.qZA()(),s.TgZ(27,"div",2)(28,"button",7),s.NdJ("click",function(){return i.ClearAll()}),s.qZA()()(),s.TgZ(29,"div",8),s.YNc(30,Pq,8,2,"div",9),s.YNc(31,Fq,8,2,"div",9),s.YNc(32,Vq,8,2,"div",9),s.qZA(),s.TgZ(33,"div",8),s.YNc(34,Uq,8,2,"div",9),s.YNc(35,jq,8,2,"div",9),s.YNc(36,Gq,8,2,"div",9),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngModel",i.name),s.xp6(3),s.Q6J("ngModel",i.dob),s.xp6(3),s.Q6J("ngModel",i.tob),s.xp6(4),s.Q6J("options",i.signs)("ngModel",i.lagnam),s.xp6(3),s.Q6J("options",i.signs)("ngModel",i.rasi),s.xp6(3),s.Q6J("options",i.stars)("ngModel",i.star),s.xp6(4),s.Q6J("disabled",!i.name||!i.dob||!i.tob),s.xp6(6),s.Q6J("ngIf",i.lagnamSignDetails.length>0),s.xp6(1),s.Q6J("ngIf",i.lagnamDetails.length>0),s.xp6(1),s.Q6J("ngIf",i.rasiSignDetails.length>0),s.xp6(2),s.Q6J("ngIf",i.rasiDetails.length>0),s.xp6(1),s.Q6J("ngIf",i.starGenDetails.length>0),s.xp6(1),s.Q6J("ngIf",i.starMoonDetails.length>0))},directives:[el,Os,ya,Ps,br,oo,ov,Ot,Ut,QL],styles:[".tile[_ngcontent-%COMP%]{height:200px!important;max-height:200px;min-height:200px!important;overflow:scroll}.top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),JL=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e,i){return this.firestore.collection("lordinhouse",r=>r.where("lord","==",e).where("house","==",i)).snapshotChanges()}read_All_Items(){return this.firestore.collection("lordinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("lordinhouse").add(e)}update_Item(e,i){this.firestore.doc("lordinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XL=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e,i){return this.firestore.collection("planetinhouse",r=>r.where("planet","==",e).where("house","==",i)).snapshotChanges()}read_All_Items(){return this.firestore.collection("planetinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinhouse").add(e)}update_Item(e,i){this.firestore.doc("planetinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e2=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("houses",i=>i.where("house","==",e)).snapshotChanges()}read_All_Houses(){return this.firestore.collection("houses").snapshotChanges()}create_House(e){return this.firestore.collection("houses").add(e)}update_House(e,i){this.firestore.doc("houses/"+e).update(i)}delete_House(e){this.firestore.doc("houses/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zq(n,t){1&n&&s._UZ(0,"p-chip",16),2&n&&s.s9C("label",t.$implicit)}function $q(n,t){if(1&n&&(s.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h5",12),s._uU(4),s.qZA()(),s.TgZ(5,"div",13)(6,"div",14),s.YNc(7,Zq,1,1,"p-chip",15),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.AsE("",e.actualHouse," \u0b85\u0ba4\u0bbf\u0baa\u0ba4\u0bbf ",e.placedHouse," \u0bb5\u0bc0\u0b9f\u0bcd\u0b9f\u0bbf\u0bb2\u0bcd"),s.xp6(3),s.Q6J("ngForOf",e.lordinhouseDetails)}}function Wq(n,t){1&n&&s._UZ(0,"p-chip",16),2&n&&s.s9C("label",t.$implicit)}function Kq(n,t){if(1&n&&(s.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h5",12),s._uU(4),s.qZA()(),s.TgZ(5,"div",13)(6,"div",14),s.YNc(7,Wq,1,1,"p-chip",15),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.AsE("",e.actualHouseLord," - ",e.placedHouse," \u0bb5\u0bc0\u0b9f\u0bcd\u0b9f\u0bbf\u0bb2\u0bcd"),s.xp6(3),s.Q6J("ngForOf",e.planetinhouseDetails)}}function Yq(n,t){1&n&&s._UZ(0,"p-chip",16),2&n&&s.s9C("label",t.$implicit)}function Qq(n,t){if(1&n&&(s.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h5",12),s._uU(4),s.qZA()(),s.TgZ(5,"div",13)(6,"div",14),s.YNc(7,Yq,1,1,"p-chip",15),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.actualHouse," \u0bb5\u0bc0\u0b9f\u0bc1"),s.xp6(3),s.Q6J("ngForOf",e.actualhouseDetails)}}function Jq(n,t){1&n&&s._UZ(0,"p-chip",16),2&n&&s.s9C("label",t.$implicit)}function Xq(n,t){if(1&n&&(s.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h5",12),s._uU(4),s.qZA()(),s.TgZ(5,"div",13)(6,"div",14),s.YNc(7,Jq,1,1,"p-chip",15),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(4),s.hij("",e.placedHouse," \u0bb5\u0bc0\u0b9f\u0bc1"),s.xp6(3),s.Q6J("ngForOf",e.placedhouseDetails)}}let eG=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this._lordinhouseService=i,this._planetinhouseService=r,this._houseService=o,this.houseData=[],this.signData=[],this.planetData=[],this.houses=[],this.signs=[],this.planets=[],this.lordinhouseDetails=[],this.planetinhouseDetails=[],this.actualhouseDetails=[],this.placedhouseDetails=[],this.visible=!1}ngOnInit(){this.get_Option1_Values(),this.get_Option2_Values(),this.get_Option3_Values()}get_Option1_Values(){this.houses.push({name:"",value:""}),this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(o=>{this.houseData.push(o)}),this.houseData[0].split(",").forEach(o=>this.houses.push({name:o,value:o}))})}get_Option2_Values(){this.signs.push({name:"",value:""}),this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(o=>{this.signData.push(o)}),this.signData[0].split(",").forEach(o=>this.signs.push({name:o,value:o}))})}get_Option3_Values(){this.planets.push({name:"",value:""}),this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(o=>{this.planetData.push(o)}),this.planetData[0].split(",").forEach(o=>this.planets.push({name:o,value:o}))})}ClearAll(){this.lagnam="",this.rasi="",this.actualHouse="",this.actualHouseSign="",this.actualHouseLord="",this.placedHouse="",this.placedHouseSign="",this.lordinhouseDetails=[],this.planetinhouseDetails=[],this.actualhouseDetails=[],this.placedhouseDetails=[]}ClearChips(){this.lordinhouseDetails=[],this.planetinhouseDetails=[],this.actualhouseDetails=[],this.placedhouseDetails=[]}read_Items_Where(){this.ClearChips(),null!=this.actualHouse&&""!=this.actualHouse&&this._houseService.read_Items_Where(this.actualHouse).subscribe(e=>{this.actualhouseData=e.map(i=>({value:i.payload.doc.data().value}))}),null!=this.placedHouse&&""!=this.placedHouse&&this._houseService.read_Items_Where(this.placedHouse).subscribe(e=>{this.placedhouseData=e.map(i=>({value:i.payload.doc.data().value}))}),null!=this.actualHouse&&""!=this.actualHouse&&null!=this.placedHouse&&""!=this.placedHouse&&this._lordinhouseService.read_Items_Where(this.actualHouse,this.placedHouse).subscribe(e=>{this.lordinhouseData=e.map(i=>({value:i.payload.doc.data().value}))}),null!=this.actualHouseLord&&""!=this.actualHouseLord&&null!=this.placedHouse&&""!=this.placedHouse&&this._planetinhouseService.read_Items_Where(this.actualHouseLord,this.placedHouse).subscribe(e=>{this.planetinhouseData=e.map(i=>({value:i.payload.doc.data().value}))}),setTimeout(()=>this.update_Values(),2e3)}update_Values(){null!=this.actualHouse&&""!=this.actualHouse&&(this.actualhouseDetails=[],this.actualhouseData.forEach(e=>{-1===this.actualhouseDetails.indexOf(e.value)&&this.actualhouseDetails.push(e.value)})),null!=this.placedHouse&&""!=this.placedHouse&&this.actualHouse!=this.placedHouse&&(this.placedhouseDetails=[],this.placedhouseData.forEach(e=>{-1===this.placedhouseDetails.indexOf(e.value)&&this.placedhouseDetails.push(e.value)})),null!=this.actualHouse&&""!=this.actualHouse&&null!=this.placedHouse&&""!=this.placedHouse&&(this.lordinhouseDetails=[],this.lordinhouseData.forEach(e=>{-1===this.lordinhouseDetails.indexOf(e.value)&&this.lordinhouseDetails.push(e.value)})),null!=this.actualHouseLord&&""!=this.actualHouseLord&&null!=this.placedHouse&&""!=this.placedHouse&&(this.planetinhouseDetails=[],this.planetinhouseData.forEach(e=>{-1===this.planetinhouseDetails.indexOf(e.value)&&this.planetinhouseDetails.push(e.value)}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(JL),s.Y36(XL),s.Y36(e2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:30,vars:14,consts:[[1,"container-fluid","p-0"],[1,"row"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],[1,"col-md-6"],["pButton","","type","button","label","Check",1,"top20",3,"click"],["pButton","","type","button","label","Clear All",1,"top20",3,"click"],[1,"row",2,"margin-top","25px"],["class","col-12 col-lg-4 col-xxl-3 d-flex",4,"ngIf"],[1,"col-12","col-lg-4","col-xxl-3","d-flex"],[1,"card","flex-fill","w-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body","d-flex","w-100"],[1,"align-self-center","chart","chart-lg","tile"],[3,"label",4,"ngFor","ngForOf"],[3,"label"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-dropdown",3),s.NdJ("ngModelChange",function(o){return i.actualHouse=o}),s.qZA(),s._uU(4," \u0bb5\u0bc0\u0b9f\u0bc1 "),s.qZA(),s.TgZ(5,"div",4)(6,"p-dropdown",3),s.NdJ("ngModelChange",function(o){return i.actualHouseSign=o}),s.qZA(),s._uU(7," \u0b85\u0ba4\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0baa\u0ba4\u0bbf "),s.qZA()(),s.TgZ(8,"div",1)(9,"div",2)(10,"p-dropdown",3),s.NdJ("ngModelChange",function(o){return i.actualHouseLord=o}),s.qZA(),s._uU(11," \u0b86\u0ba9\u0ba4\u0bc1 "),s.qZA(),s.TgZ(12,"div",4)(13,"p-dropdown",3),s.NdJ("ngModelChange",function(o){return i.placedHouse=o}),s.qZA(),s._uU(14," \u0bb5\u0bc0\u0b9f\u0bbe\u0ba9 "),s.qZA()(),s.TgZ(15,"div",1)(16,"div",2)(17,"p-dropdown",3),s.NdJ("ngModelChange",function(o){return i.placedHouseSign=o}),s.qZA(),s._uU(18," -\u0bb2\u0bcd \u0b89\u0bb3\u0bcd\u0bb3\u0ba4\u0bc1 "),s.qZA()(),s.TgZ(19,"div",1)(20,"div",2)(21,"button",5),s.NdJ("click",function(){return i.read_Items_Where()}),s.qZA()(),s.TgZ(22,"div",2)(23,"button",6),s.NdJ("click",function(){return i.ClearAll()}),s.qZA()()(),s.TgZ(24,"div",7),s.YNc(25,$q,8,3,"div",8),s.YNc(26,Kq,8,3,"div",8),s.qZA(),s.TgZ(27,"div",7),s.YNc(28,Qq,8,2,"div",8),s.YNc(29,Xq,8,2,"div",8),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("options",i.houses)("ngModel",i.actualHouse),s.xp6(3),s.Q6J("options",i.signs)("ngModel",i.actualHouseSign),s.xp6(4),s.Q6J("options",i.planets)("ngModel",i.actualHouseLord),s.xp6(3),s.Q6J("options",i.houses)("ngModel",i.placedHouse),s.xp6(4),s.Q6J("options",i.signs)("ngModel",i.placedHouseSign),s.xp6(8),s.Q6J("ngIf",i.lordinhouseDetails.length>0),s.xp6(1),s.Q6J("ngIf",i.planetinhouseDetails.length>0),s.xp6(2),s.Q6J("ngIf",i.actualhouseDetails.length>0),s.xp6(1),s.Q6J("ngIf",i.placedhouseDetails.length>0))},directives:[oo,Ps,br,ov,Ot,Ut,QL],styles:[".tile[_ngcontent-%COMP%]{height:200px!important;max-height:200px;min-height:200px!important;overflow:scroll}.top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();const tG=["content"];function nG(n,t){1&n&&s.GkF(0)}function iG(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,nG,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function rG(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Oqu(e.option("header"))}}const sG=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function oG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(4).close(r)}),s._UZ(1,"span",17),s.qZA()}2&n&&s.Q6J("ngClass",s.DdM(1,sG))}function aG(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,rG,2,1,"span",12),s.TgZ(2,"div",13),s.YNc(3,oG,2,2,"button",14),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("header")),s.xp6(2),s.Q6J("ngIf",e.closable)}}function lG(n,t){if(1&n&&s._UZ(0,"i",1),2&n){const e=s.oxw(3);s.Tol(e.option("icon")),s.Q6J("ngClass","p-confirm-dialog-icon")}}function cG(n,t){1&n&&s.GkF(0)}function uG(n,t){if(1&n&&(s.TgZ(0,"div",18),s.Hsn(1),s.YNc(2,cG,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}function dG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).reject()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("rejectButtonStyleClass")),s.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),s.uIk("aria-label",e.rejectAriaLabel)}}function hG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).accept()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("acceptButtonStyleClass")),s.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),s.uIk("aria-label",e.acceptAriaLabel)}}function pG(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,dG,1,6,"button",19),s.YNc(2,hG,1,6,"button",19),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("rejectVisible")),s.xp6(1),s.Q6J("ngIf",e.option("acceptVisible"))}}const fG=function(n){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}},gG=function(n,t){return{transform:n,transition:t}},mG=function(n){return{value:"visible",params:n}};function _G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("mousedown",function(){return s.CHM(e),s.oxw(2).moveOnTop()})("@animation.start",function(r){return s.CHM(e),s.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw(2).onAnimationEnd(r)}),s.YNc(1,iG,2,1,"div",4),s.YNc(2,aG,4,2,"div",4),s.TgZ(3,"div",5,6),s.YNc(5,lG,1,3,"i",7),s._UZ(6,"span",8),s.qZA(),s.YNc(7,uG,3,1,"div",9),s.YNc(8,pG,3,2,"div",9),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.VKq(11,fG,e.rtl))("ngStyle",e.style)("@animation",s.VKq(16,mG,s.WLB(13,gG,e.transformOptions,e.transitionOptions))),s.xp6(1),s.Q6J("ngIf",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.headerTemplate),s.xp6(3),s.Q6J("ngIf",e.option("icon")),s.xp6(1),s.Q6J("innerHTML",e.option("message"),s.oJD),s.xp6(1),s.Q6J("ngIf",e.footer||e.footerTemplate),s.xp6(1),s.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function yG(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,_G,9,18,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",e.getMaskClass()),s.xp6(1),s.Q6J("ngIf",e.visible)}}const vG=[[["p-footer"]]],wG=["p-footer"],bG=qs([$n({transform:"{{transform}}",opacity:0}),Mr("{{transition}}",$n({transform:"none",opacity:1}))]),CG=qs([Mr("{{transition}}",$n({transform:"{{transform}}",opacity:0}))]);let Gl=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.confirmationService=r,this.zone=o,this.cd=c,this.config=h,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new s.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=Rl(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(f=>{f?f.key===this.key&&(this.confirmation=f,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new s.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new s.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){if("visible"===e.toState){this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=re.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const i=this.getElementToFocus();i&&i.focus()}}onAnimationEnd(e){"void"===e.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return re.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return re.findSingle(this.container,".p-confirm-dialog-reject");case"close":return re.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):re.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&re.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&re.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Pl.CANCEL),this.hide(Pl.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(or.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{if(27==i.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===or.get(this.container)&&this.visible&&this.close(i),9===i.which&&this.focusTrap){i.preventDefault();let r=re.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);i.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&or.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Pl.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Pl.REJECT),this.hide(Pl.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(Lr.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(Lr.REJECT)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(ui),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(rd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,YD,5),s.Suo(r,_i,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(tG,5),2&e){let r;s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:wG,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,i){1&e&&(s.F$t(vG),s.YNc(0,yG,2,4,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},directives:[Ot,En,Bi,ms,em,ov],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Ar("animation",[tn("void => visible",[Jo(bG)]),tn("visible => void",[Jo(CG)])])]},changeDetection:0}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Dp,Ip],Dp,Oo]}),n})(),zl=(()=>{class n{constructor(e,i,r,o){this.el=e,this.ngModel=i,this.control=r,this.cd=o,this.onResize=new s.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(br,8),s.Y36(Td,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)})("focus",function(o){return i.onFocus(o)})("blur",function(o){return i.onBlur(o)}),2&e&&s.ekj("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),n})(),EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();const IG=["input"];function SG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}const t2=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},n2=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function xG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,t2))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,n2))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function DG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,t2))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function AG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,n2))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const MG=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},kG={provide:ks,useExisting:(0,s.Gpc)(()=>r2),multi:!0};let r2=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,c=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(c).length||(this.updateInput(c,null,"spin",null),this.updateModel(e,c),this.handleOnInput(e,o,c))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,c=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:c=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(c),this.input.nativeElement.setAttribute("aria-valuenow",c),this.updateModel(e,c);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const T=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,c=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,T?this.input.nativeElement.setSelectionRange(i-1,i-1):c=o.slice(0,i-1)+o.slice(i);else if(f>0&&i>f){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";c=o.slice(0,i-1)+I+o.slice(i)}else 1===y?(c=o.slice(0,i-1)+"0"+o.slice(i),c=this.parseValue(c)>0?c:""):c=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,c,null,"delete-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const T=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,c=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,T?this.input.nativeElement.setSelectionRange(i+1,i+1):c=o.slice(0,i)+o.slice(i+1);else if(f>0&&i>f){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";c=o.slice(0,i)+I+o.slice(i+1)}else 1===y?(c=o.slice(0,i)+"0"+o.slice(i+1),c=this.parseValue(c)>0?c:""):c=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,c,null,"delete-back-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),c=this.isMinusSign(r);(48<=i&&i<=57||c||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:c})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const c=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:c}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let c=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,f=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:T,suffixCharIndex:I,currencyCharIndex:M}=this.getCharIndexes(f);let P;if(r.isMinusSign)0===c&&(P=f,(-1===T||0!==h)&&(P=this.insertText(f,i,0,h)),this.updateValue(e,P,i,"insert"));else if(r.isDecimalSign)y>0&&c===y?this.updateValue(e,f,i,"insert"):(y>c&&y<h||-1===y&&this.maxFractionDigits)&&(P=this.insertText(f,i,c,h),this.updateValue(e,P,i,"insert"));else{const V=this.numberFormat.resolvedOptions().maximumFractionDigits,Q=c!==h?"range-insert":"insert";if(y>0&&c>y){if(c+i.length-(y+1)<=V){const ye=M>=c?M-1:I>=c?I:f.length;P=f.slice(0,c)+i+f.slice(c+i.length,ye)+f.slice(ye),this.updateValue(e,P,i,Q)}}else P=this.insertText(f,i,c,h),this.updateValue(e,P,i,Q)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,c=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=c;let h=i.charAt(e);if(this.isNumeralChar(h))return e+c;let f=e-1;for(;f>=0;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+c;break}f--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(f=e;f<r;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+c;break}f++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let c=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,c,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let c=this.input.nativeElement.value,h=this.formatValue(e),f=c.length;if(h!==o&&(h=this.concatValues(h,o)),0===f){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const T=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(T,T)}else{let y=this.input.nativeElement.selectionStart,T=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let I=h.length;if("range-insert"===r){const M=this.parseValue((c||"").slice(0,y)),V=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),Q=new RegExp(V,"g");Q.test(h);const ye=i.split("").join(`(${this.groupChar})?`),He=new RegExp(ye,"g");He.test(h.slice(Q.lastIndex)),T=Q.lastIndex+He.lastIndex,this.input.nativeElement.setSelectionRange(T,T)}else if(I===f)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(T+1,T+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(T-1,T-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(T,T);else if("delete-back-single"===r){let M=c.charAt(T-1),P=c.charAt(T),V=f-I,Q=this._group.test(P);Q&&1===V?T+=1:!Q&&this.isNumeralChar(M)&&(T+=-1*V+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(T,T)}else if("-"===c&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const P=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(P,P)}else T+=I-f,this.input.nativeElement.setSelectionRange(T,T)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(IG,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([kG]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,SG,1,0,"i",3),s.YNc(4,xG,3,12,"span",4),s.YNc(5,DG,1,6,"button",5),s.YNc(6,AG,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,MG,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[En,Bi,ya,Ot,ov],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),Ek=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,BS,Dp]]}),n})();function OG(n,t){1&n&&s.GkF(0)}const Ik=function(n){return{$implicit:n}};function RG(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,OG,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,Ik,e.paginatorState))}}function PG(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const ZS=function(n){return{"p-disabled":n}};function NG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToFirst(r)}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,ZS,e.isFirstPage()||e.empty()))}}const FG=function(n){return{"p-highlight":n}};function LG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw(3).onPageLinkClick(r,c-1)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,FG,e-1==i.getPage())),s.xp6(1),s.Oqu(e)}}function VG(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,LG,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function BG(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function UG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){return s.CHM(e),s.oxw(2).onPageDropdownChange(r)}),s.YNc(1,BG,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function HG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToLast(r)}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,ZS,e.isLastPage()||e.empty()))}}function jG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).changePage(r-1)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function qG(n,t){1&n&&s.GkF(0)}function GG(n,t){if(1&n&&s.YNc(0,qG,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,Ik,e))}}function zG(n,t){1&n&&(s.ynx(0),s.YNc(1,GG,1,4,"ng-template",30),s.BQk())}function ZG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).rows=r})("onChange",function(r){return s.CHM(e),s.oxw(2).onRppChange(r)}),s.YNc(1,zG,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function $G(n,t){1&n&&s.GkF(0)}function WG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,$G,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,Ik,e.paginatorState))}}function KG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,RG,2,4,"div",2),s.YNc(2,PG,2,1,"span",3),s.YNc(3,NG,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToPrev(r)}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,VG,2,1,"span",7),s.YNc(7,UG,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToNext(r)}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,HG,2,4,"button",11),s.YNc(11,jG,1,2,"p-inputNumber",12),s.YNc(12,ZG,2,6,"p-dropdown",13),s.YNc(13,WG,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,ZS,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,ZS,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let YG=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,KG,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[oo,r2,Ot,Bi,En,ms,em,Ut,Ps,br,_i],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),QG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,zS,Ek,VS,Oo,Ip],zS,Ek,VS,Oo]}),n})();function JG(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function XG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,JG,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function ez(n,t){1&n&&s.GkF(0)}const tz=function(n,t){return{$implicit:n,index:t}};function nz(n,t){if(1&n&&s.YNc(0,ez,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,tz,i,r))}}const iz=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function rz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),c=o.$implicit,h=o.index;return s.oxw().onItemClick(r,c,h)})("keydown.enter",function(r){const o=s.CHM(e),c=o.$implicit,h=o.index;return s.oxw().onItemClick(r,c,h)})("blur",function(){return s.CHM(e),s.oxw().onBlur()}),s.YNc(2,XG,4,2,"ng-container",4),s.YNc(3,nz,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,iz,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const sz={provide:ks,useExisting:(0,s.Gpc)(()=>oz),multi:!0};let oz=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let o=this.getOptionValue(i);this.value!==o&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!ot.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let o of this.value)if(ot.equals(o,r,this.dataKey)){i=!0;break}}else i=ot.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([sz])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,rz,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},directives:[En,Bi,Ut,em,Ot,ms],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),az=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Ip]]}),n})();const lz=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function cz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),c=s.MAs(3);return o.onClick(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,lz,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const uz=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},dz=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},hz={provide:ks,useExisting:(0,s.Gpc)(()=>pz),multi:!0};let pz=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([hz])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(c){return i.onKeyup(c)})("keydown",function(c){return i.onKeydown(c)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(c){s.CHM(r);const h=s.MAs(3);return i.onClick(c,h)}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,cz,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,uz,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,dz,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},directives:[Bi,En,Ot],encapsulation:2,changeDetection:0}),n})(),fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn]]}),n})();const gz=["container"],mz=["inputfield"],_z=["contentWrapper"];function yz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).clear()}),s.qZA()}}function vz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1);return s.oxw().onButtonClick(r,o)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function wz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("keydown",function(r){return s.CHM(e),s.oxw().onInputKeydown(r)})("click",function(){return s.CHM(e),s.oxw().onInputClick()})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("input",function(r){return s.CHM(e),s.oxw().onUserInput(r)}),s.qZA(),s.YNc(2,yz,1,0,"i",6),s.YNc(3,vz,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function bz(n,t){1&n&&s.GkF(0)}function Cz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(4).onPrevButtonClick(r)}),s._UZ(1,"span",31),s.qZA()}}function Tz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToMonthView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function Ez(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToYearView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function Iz(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function Sz(n,t){1&n&&s.GkF(0)}const s2=function(n){return{$implicit:n}};function xz(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,Iz,2,2,"ng-container",13),s.YNc(2,Sz,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,s2,e.yearPickerValues))}}function Dz(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function Az(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Mz(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function kz(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function Oz(n,t){1&n&&s.GkF(0)}const Rz=function(n,t){return{"p-highlight":n,"p-disabled":t}};function Pz(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(6).onDateSelect(r,o)})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(3).index;return s.oxw(3).onDateCellKeydown(r,o,c)}),s.YNc(2,kz,2,1,"ng-container",13),s.YNc(3,Oz,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,Rz,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,s2,e))}}const Nz=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function Fz(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,Pz,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,Nz,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function Lz(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,Mz,3,1,"td",43),s.YNc(2,Fz,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function Vz(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,Dz,3,1,"th",38),s.YNc(5,Az,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,Lz,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function Bz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,Cz,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,Tz,2,2,"button",24),s.YNc(5,Ez,2,2,"button",25),s.YNc(6,xz,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).onNextButtonClick(r)}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,Vz,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}const o2=function(n){return{"p-highlight":n}};function Uz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const c=s.CHM(e).index;return s.oxw(4).onMonthSelect(r,c)})("keydown",function(r){const c=s.CHM(e).index;return s.oxw(4).onMonthCellKeydown(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(2,o2,r.isMonthSelected(i))),s.xp6(1),s.hij(" ",e," ")}}function Hz(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,Uz,2,4,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}function jz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw(4).onYearSelect(r,c)})("keydown",function(r){const c=s.CHM(e).$implicit;return s.oxw(4).onYearCellKeydown(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,o2,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function qz(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,jz,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function Gz(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,Bz,10,7,"div",17),s.qZA(),s.YNc(3,Hz,2,1,"div",18),s.YNc(4,qz,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function zz(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function Zz(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function $z(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function Wz(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function Kz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,Wz,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function Yz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function Qz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,zz,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,Zz,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,$z,3,1,"div",62),s.YNc(21,Kz,8,2,"div",63),s.YNc(22,Yz,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const a2=function(n){return[n]};function Jz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onTodayButtonClick(r)}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onClearButtonClick(r)}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,a2,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,a2,e.clearButtonStyleClass))}}function Xz(n,t){1&n&&s.GkF(0)}const eZ=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},l2=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},tZ=function(n){return{value:"visibleTouchUI",params:n}},nZ=function(n){return{value:"visible",params:n}};function iZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationDone(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.Hsn(2),s.YNc(3,bz,1,0,"ng-container",12),s.YNc(4,Gz,5,3,"ng-container",13),s.YNc(5,Qz,23,8,"div",14),s.YNc(6,Jz,3,8,"div",15),s.Hsn(7,1),s.YNc(8,Xz,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,eZ,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,tZ,s.WLB(18,l2,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,nZ,s.WLB(23,l2,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const rZ=[[["p-header"]],[["p-footer"]]],sZ=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},oZ=["p-header","p-footer"],aZ={provide:ks,useExisting:(0,s.Gpc)(()=>lZ),multi:!0};let lZ=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=c,this.overlayService=h,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(f,y){return"12"==this.hourFormat?12===f?y?12:0:y?f+12:f:f}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=Rl();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=re.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(Lr.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,c=i;o>11&&(o=o%11-1,c=i+1),this.months.push(this.createMonth(o,c))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),c=this.getDaysCountInMonth(e,i),h=this.getDaysCountInPrevMonth(e,i),f=1,y=new Date,T=[],I=Math.ceil((c+o)/7);for(let M=0;M<I;M++){let P=[];if(0==M){for(let Q=h-o+1;Q<=h;Q++){let ye=this.getPreviousMonthAndYear(e,i);P.push({day:Q,month:ye.month,year:ye.year,otherMonth:!0,today:this.isToday(y,Q,ye.month,ye.year),selectable:this.isSelectable(Q,ye.month,ye.year,!0)})}let V=7-P.length;for(let Q=0;Q<V;Q++)P.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)}),f++}else for(let V=0;V<7;V++){if(f>c){let Q=this.getNextMonthAndYear(e,i);P.push({day:f-c,month:Q.month,year:Q.year,otherMonth:!0,today:this.isToday(y,f-c,Q.month,Q.year),selectable:this.isSelectable(f-c,Q.month,Q.year,!0)})}else P.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)});f++}this.showWeek&&T.push(this.getWeekNumber(new Date(P[0].year,P[0].month,P[0].day))),r.push(P)}return{month:e,year:i,dates:r,weekNumbers:T}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let c=new Date(r.year,r.month,r.day);return e.getTime()<=c.getTime()&&i.getTime()>=c.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let c=!0,h=!0,f=!0,y=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(c=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(h=!1),this.disabledDates&&(f=!this.isDateDisabled(e,i,r)),this.disabledDays&&(y=!this.isDayDisabled(e,i,r)),c&&h&&f&&y)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let c=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(c)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(re.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,c=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let h=re.index(c),f=c.parentElement.nextElementSibling;f?re.hasClass(f.children[h].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(f.children[h].children[0].tabIndex="0",f.children[h].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let h=re.index(c),f=c.parentElement.previousElementSibling;if(f){let y=f.children[h].children[0];re.hasClass(y,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(y.tabIndex="0",y.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let h=c.previousElementSibling;if(h){let f=h.children[0];re.hasClass(f,"p-disabled")||re.hasClass(f.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let h=c.nextElementSibling;if(h){let f=h.children[0];re.hasClass(f,"p-disabled")?this.navigateToMonth(!1,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=re.index(r);let h=o[40===e.which?c+3:c-3];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=re.index(r);let h=o[40===e.which?c+2:c-2];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=re.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),c=o[o.length-1];c.tabIndex="0",c.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=re.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=re.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=re.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if("year"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if(e=re.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=re.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=re.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let c=this.value;const h=this.convertTo24Hour(e,o);this.isRangeSelection()&&(c=this.value[1]||this.value[0]),this.isMultipleSelection()&&(c=this.value[this.value.length-1]);const f=c?c.toDateString():null;return!(this.minDate&&f&&this.minDate.toDateString()===f&&(this.minDate.getHours()>h||this.minDate.getHours()===h&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&f&&this.maxDate.toDateString()===f&&(this.maxDate.getHours()<h||this.maxDate.getHours()===h&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let c=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},c),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let c="12"==this.hourFormat?r.pop():null,h=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,h,c)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return e instanceof Date&&ot.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?or.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):or.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&or.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=re.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",re.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):re.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),re.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),re.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(re.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(re.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||re.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(i){this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Lr.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=T=>{const I=r+1<i.length&&i.charAt(r+1)===T;return I&&r++,I},c=(T,I,M)=>{let P=""+I;if(o(T))for(;P.length<M;)P="0"+P;return P},h=(T,I,M,P)=>o(T)?P[I]:M[I];let f="",y=!1;if(e)for(r=0;r<i.length;r++)if(y)"'"!==i.charAt(r)||o("'")?f+=i.charAt(r):y=!1;else switch(i.charAt(r)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=h("D",e.getDay(),this.getTranslation(Lr.DAY_NAMES_SHORT),this.getTranslation(Lr.DAY_NAMES));break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=h("M",e.getMonth(),this.getTranslation(Lr.MONTH_NAMES_SHORT),this.getTranslation(Lr.MONTH_NAMES));break;case"y":f+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?f+="'":y=!0;break;default:f+=i.charAt(r)}return f}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),c=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=c<10?"0"+c:c),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),c=parseInt(i[1]),h=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(c)||o>23||c>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(h)||h>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:c,second:h}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,c,V,h=0,f="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),y=-1,T=-1,I=-1,M=-1,P=!1,Q=it=>{let rt=r+1<i.length&&i.charAt(r+1)===it;return rt&&r++,rt},ye=it=>{let rt=Q(it),At="@"===it?14:"!"===it?20:"y"===it&&rt?4:"o"===it?3:2,nn=new RegExp("^\\d{"+("y"===it?At:1)+","+At+"}"),ei=e.substring(h).match(nn);if(!ei)throw"Missing number at position "+h;return h+=ei[0].length,parseInt(ei[0],10)},He=(it,rt,At)=>{let Rt=-1,nn=Q(it)?At:rt,ei=[];for(let Yi=0;Yi<nn.length;Yi++)ei.push([Yi,nn[Yi]]);ei.sort((Yi,lo)=>-(Yi[1].length-lo[1].length));for(let Yi=0;Yi<ei.length;Yi++){let lo=ei[Yi][1];if(e.substr(h,lo.length).toLowerCase()===lo.toLowerCase()){Rt=ei[Yi][0],h+=lo.length;break}}if(-1!==Rt)return Rt+1;throw"Unknown name at position "+h},Xe=()=>{if(e.charAt(h)!==i.charAt(r))throw"Unexpected literal at position "+h;h++};for("month"===this.view&&(I=1),r=0;r<i.length;r++)if(P)"'"!==i.charAt(r)||Q("'")?Xe():P=!1;else switch(i.charAt(r)){case"d":I=ye("d");break;case"D":He("D",this.getTranslation(Lr.DAY_NAMES_SHORT),this.getTranslation(Lr.DAY_NAMES));break;case"o":M=ye("o");break;case"m":T=ye("m");break;case"M":T=He("M",this.getTranslation(Lr.MONTH_NAMES_SHORT),this.getTranslation(Lr.MONTH_NAMES));break;case"y":y=ye("y");break;case"@":V=new Date(ye("@")),y=V.getFullYear(),T=V.getMonth()+1,I=V.getDate();break;case"!":V=new Date((ye("!")-this.ticksTo1970)/1e4),y=V.getFullYear(),T=V.getMonth()+1,I=V.getDate();break;case"'":Q("'")?Xe():P=!0;break;default:Xe()}if(h<e.length&&(c=e.substr(h),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=f?0:-100)),M>-1)for(T=1,I=M;o=this.getDaysCountInMonth(y,T-1),!(I<=o);)T++,I-=o;if(V=this.daylightSavingAdjust(new Date(y,T-1,I)),V.getFullYear()!==y||V.getMonth()+1!==T||V.getDate()!==I)throw"Invalid date";return V}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:c}=i[r],h=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let f=c;f<this.numberOfMonths;f++)h+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${f+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${h}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xS(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return re.hasClass(e.target,"p-datepicker-prev")||re.hasClass(e.target,"p-datepicker-prev-icon")||re.hasClass(e.target,"p-datepicker-next")||re.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!re.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&or.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(rd),s.Y36(K_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,_i,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(gz,5),s.Gf(mz,5),s.Gf(_z,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([aZ])],ngContentSelectors:oZ,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(rZ),s.TgZ(0,"span",0,1),s.YNc(2,wz,4,17,"ng-template",2),s.YNc(3,iZ,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,sZ,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[En,Bi,Ot,ov,em,ms,Ut],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ar("overlayAnimation",[Yo("visibleTouchUI",$n({transform:"translate(-50%,-50%)",opacity:1})),tn("void => visible",[$n({opacity:0,transform:"scaleY(0.8)"}),Mr("{{showTransitionParams}}",$n({opacity:1,transform:"*"}))]),tn("visible => void",[Mr("{{hideTransitionParams}}",$n({opacity:0}))]),tn("void => visibleTouchUI",[$n({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Mr("{{showTransitionParams}}")]),tn("visibleTouchUI => void",[Mr("{{hideTransitionParams}}",$n({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),cZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,Dp,Oo,Ip],Dp,Oo]}),n})();const uZ=["container"],dZ=["resizeHelper"],hZ=["reorderIndicatorUp"],pZ=["reorderIndicatorDown"],fZ=["wrapper"],gZ=["table"],mZ=["tableHeader"];function _Z(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function yZ(n,t){1&n&&s.GkF(0)}function vZ(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,yZ,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function wZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",17),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function bZ(n,t){1&n&&s.GkF(0)}function CZ(n,t){1&n&&s.GkF(0)}function TZ(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function EZ(n,t){1&n&&s.GkF(0)}const Ap=function(n){return{$implicit:n}};function IZ(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,EZ,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Ap,e.columns))}}function SZ(n,t){if(1&n&&(s.TgZ(0,"table",18,19),s.YNc(2,bZ,1,0,"ng-container",20),s.TgZ(3,"thead",21),s.YNc(4,CZ,1,0,"ng-container",20),s.qZA(),s.YNc(5,TZ,1,5,"tbody",22),s._UZ(6,"tbody",23),s.YNc(7,IZ,2,4,"tfoot",24),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(12,Ap,e.columns)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(14,Ap,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function xZ(n,t){1&n&&s.GkF(0)}function DZ(n,t){1&n&&s.GkF(0)}function AZ(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function MZ(n,t){1&n&&s.GkF(0)}function kZ(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,MZ,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Ap,e.columns))}}function OZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",27),s.NdJ("scrolledIndexChange",function(r){return s.CHM(e),s.oxw().onScrollIndexChange(r)}),s.TgZ(1,"table",18,19),s.YNc(3,xZ,1,0,"ng-container",20),s.TgZ(4,"thead",21,28),s.YNc(6,DZ,1,0,"ng-container",20),s.qZA(),s.YNc(7,AZ,1,5,"tbody",22),s._UZ(8,"tbody",23),s.YNc(9,kZ,2,4,"tfoot",24),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),s.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),s.xp6(1),s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(17,Ap,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(19,Ap,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function RZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",29),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function PZ(n,t){1&n&&s.GkF(0)}function NZ(n,t){if(1&n&&(s.TgZ(0,"div",30),s.YNc(1,PZ,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function FZ(n,t){1&n&&s._UZ(0,"div",31,32)}function LZ(n,t){1&n&&s._UZ(0,"span",33,34)}function VZ(n,t){1&n&&s._UZ(0,"span",35,36)}const BZ=function(n,t,e,i,r,o,c,h,f,y,T,I,M,P){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":o,"p-datatable-scrollable-horizontal":c,"p-datatable-scrollable-both":h,"p-datatable-flex-scrollable":f,"p-datatable-responsive-stack":y,"p-datatable-responsive-scroll":T,"p-datatable-responsive":I,"p-datatable-grouped-header":M,"p-datatable-grouped-footer":P}},UZ=function(n){return{height:n}},HZ=["pTableBody",""];function jZ(n,t){1&n&&s.GkF(0)}const $S=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function qZ(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,jZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,$S,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function GZ(n,t){1&n&&s.GkF(0)}function zZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,GZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.qbA(2,$S,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function ZZ(n,t){1&n&&s.GkF(0)}const $Z=function(n,t,e,i,r,o,c){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:c}};function WZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,ZZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.Hh0(2,$Z,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function KZ(n,t){1&n&&s.GkF(0)}function YZ(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,KZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,$S,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function QZ(n,t){if(1&n&&(s.YNc(0,qZ,2,8,"ng-container",2),s.YNc(1,zZ,2,8,"ng-container",0),s.YNc(2,WZ,2,10,"ng-container",0),s.YNc(3,YZ,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function JZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,QZ,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function XZ(n,t){1&n&&s.GkF(0)}function e$(n,t){if(1&n&&s.YNc(0,XZ,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,$S,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function t$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,e$,1,8,"ng-template",5),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkVirtualForOf",e.dt.filteredValue||e.dt.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function n$(n,t){1&n&&s.GkF(0)}const WS=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function i$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,n$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,WS,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function r$(n,t){1&n&&s.GkF(0)}function s$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,r$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,WS,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function o$(n,t){1&n&&s.GkF(0)}function a$(n,t){1&n&&s.GkF(0)}function l$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,a$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,WS,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const c2=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function c$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,o$,1,0,"ng-container",4),s.YNc(2,l$,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,c2,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,r))}}function u$(n,t){if(1&n&&(s.YNc(0,i$,2,9,"ng-container",0),s.YNc(1,s$,2,9,"ng-container",2),s.YNc(2,c$,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function d$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,u$,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function h$(n,t){1&n&&s.GkF(0)}function p$(n,t){1&n&&s.GkF(0)}function f$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,p$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,c2,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen))}}function g$(n,t){if(1&n&&(s.YNc(0,h$,1,0,"ng-container",4),s.YNc(1,f$,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,WS,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function m$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,g$,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function _$(n,t){1&n&&s.GkF(0)}const u2=function(n,t){return{$implicit:n,frozen:t}};function y$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,_$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,u2,e.columns,e.frozen))}}function v$(n,t){1&n&&s.GkF(0)}function w$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,v$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,u2,e.columns,e.frozen))}}let KS=(()=>{class n{constructor(){this.sortSource=new mn.x,this.selectionSource=new mn.x,this.contextMenuSource=new mn.x,this.valueSource=new mn.x,this.totalRecordsSource=new mn.x,this.columnsSource=new mn.x,this.resetSource=new mn.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),va=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=c,this.overlayService=h,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(f,y)=>y,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Rl(),this.virtualScrollInitialized=!1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(ot.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(ot.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,c)=>{let h=ot.resolveFieldData(o,e),f=ot.resolveFieldData(c,e),y=null;return y=null==h&&null!=f?-1:null!=h&&null==f?1:null==h&&null==f?0:"string"==typeof h&&"string"==typeof f?h.localeCompare(f):h<f?-1:h>f?1:0,i*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){let c=ot.resolveFieldData(e,r[o].field),h=ot.resolveFieldData(i,r[o].field),f=null;if(null==c&&null!=h)f=-1;else if(null!=c&&null==h)f=1;else if(null==c&&null==h)f=0;else if("string"==typeof c||c instanceof String){if(c.localeCompare&&c!=h)return r[o].order*c.localeCompare(h)}else f=c<h?-1:1;return c==h?r.length-1>o?this.multisortField(e,i,r,o+1):0:r[o].order*f}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!re.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let c=e.rowData,h=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)re.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=h,this.selectRange(e.originalEvent,h);else{let f=this.isSelected(c);if(!f&&!this.isRowSelectable(c,h))return;let y=!this.rowTouched&&this.metaKeySelection,T=this.dataKey?String(ot.resolveFieldData(c,this.dataKey)):null;if(this.anchorRowIndex=h,this.rangeRowIndex=h,y){let I=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(f&&I){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let M=this.findIndexInSelection(c);this._selection=this.selection.filter((P,V)=>V!=M),this.selectionChange.emit(this.selection),T&&delete this.selectionKeys[T]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row"})}else this.isSingleSelectionMode()?(this._selection=c,this.selectionChange.emit(c),T&&(this.selectionKeys={},this.selectionKeys[T]=1)):this.isMultipleSelectionMode()&&(I?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,c],this.selectionChange.emit(this.selection),T&&(this.selectionKeys[T]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h})}else if("single"===this.selectionMode)f?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h})):(this._selection=c,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),T&&(this.selectionKeys={},this.selectionKeys[T]=1));else if("multiple"===this.selectionMode)if(f){let I=this.findIndexInSelection(c);this._selection=this.selection.filter((M,P)=>P!=I),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),T&&delete this.selectionKeys[T]}else this._selection=this.selection?[...this.selection,c]:[c],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),T&&(this.selectionKeys[T]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),c=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),c&&(this.selectionKeys={},this.selectionKeys[c]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),c&&(this.selectionKeys[c]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let c=[];for(let h=r;h<=o;h++){let f=this.filteredValue?this.filteredValue[h]:this.value[h];if(!this.isSelected(f)){if(!this.isRowSelectable(f,i))continue;c.push(f),this._selection=[...this.selection,f];let y=this.dataKey?String(ot.resolveFieldData(f,this.dataKey)):null;y&&(this.selectionKeys[y]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:c,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let c=this.value[o],h=this.findIndexInSelection(c);this._selection=this.selection.filter((y,T)=>T!=h);let f=this.dataKey?String(ot.resolveFieldData(c,this.dataKey)):null;f&&delete this.selectionKeys[f],this.onRowUnselect.emit({originalEvent:e,data:c,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[ot.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(ot.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let c=this.findIndexInSelection(i);this._selection=this.selection.filter((h,f)=>f!=c),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let o=this.selectionPageOnly&&this._selection?this._selection.filter(c=>!r.some(h=>this.equals(c,h))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((c,h)=>this.rowSelectable({data:c,index:h})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:ot.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let h,r=!0,o=!1,c=!1;for(let f in this.filters)if(this.filters.hasOwnProperty(f)&&"global"!==f){c=!0;let y=f,T=this.filters[y];if(Array.isArray(T)){for(let I of T)if(r=this.executeLocalFilter(y,this.value[i],I),I.operator===BE.OR&&r||I.operator===BE.AND&&!r)break}else r=this.executeLocalFilter(y,this.value[i],T);if(!r)break}if(this.filters.global&&!o&&e)for(let f=0;f<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](ot.resolveFieldData(this.value[i],e[f].field||e[f]),this.filters.global.value,this.filterLocale),!o);f++);h=this.filters.global?c?c&&r&&o:o:c&&r,h&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,c=r.matchMode||yr.STARTS_WITH,h=ot.resolveFieldData(i,e);return this.filterService.filters[c](h,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let f=0;f<o.length;f++){let y=o[f];!1!==y.exportable&&y.field&&(r+='"'+this.getExportHeader(y)+'"',f<o.length-1&&(r+=this.csvSeparator))}i.forEach((f,y)=>{r+="\n";for(let T=0;T<o.length;T++){let I=o[T];if(!1!==I.exportable&&I.field){let M=ot.resolveFieldData(f,I.field);M=null!=M?this.exportFunction?this.exportFunction({data:M,field:I.field}):String(M).replace(/"/g,'""'):"",r+='"'+M+'"',T<o.length-1&&(r+=this.csvSeparator)}}});let c=new Blob([r],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.style.display="none",document.body.appendChild(h),void 0!==h.download?(h.setAttribute("href",URL.createObjectURL(c)),h.setAttribute("download",this.exportFilename+".csv"),h.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(h)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,o=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.lazyLoadOnInit||this.virtualScrollInitialized?this.onLazyLoad.emit({first:r,rows:o,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}):this.virtualScrollInitialized=!0)},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===re.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(re.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===re.find(i,".ng-invalid.ng-dirty").length){let r=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(ot.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;re.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&h>15&&this.resizeTableCells(r,h)}else if("expand"===this.columnResizeMode){let c=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.width=c+"px",this.tableViewChild.nativeElement.style.minWidth=c+"px",this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",re.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=re.index(this.resizeColumnElement),o=[];const c=re.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");re.find(c,"tr > th").forEach(y=>o.push(re.getOuterWidth(y))),this.destroyStyleElement(),this.createStyleElement();let f="";o.forEach((y,T)=>{let I=T===r?e:i&&T===r+1?i:y;f+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${T+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${T+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${T+1}) {\n                    ${this.scrollable?`flex: 1 1 ${I}px !important`:`width: ${I}px !important`}\n                }\n            `}),this.styleElement.innerHTML=f}onColumnDragStart(e,i){this.reorderIconWidth=re.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=re.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=re.getOffset(this.containerViewChild.nativeElement),o=re.getOffset(i);if(this.draggedColumn!=i){let c=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),h=re.indexWithinGroup(i,"preorderablecolumn"),f=o.left-r.left,T=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>T?(this.reorderIndicatorUpViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),h-c==1&&-1===this.dropPosition||h-c==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=re.indexWithinGroup(i,"preorderablecolumn"),c=r!=o;c&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(c=!1),c&&o<r&&1===this.dropPosition&&(o+=1),c&&o>r&&-1===this.dropPosition&&(o-=1),c&&(ot.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=re.getOffset(r).top+re.getWindowScrollTop(),c=e.pageY,h=o+re.getOuterHeight(r)/2,f=r.previousElementSibling;c<h?(re.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,f?re.addClass(f,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top")):(f?re.removeClass(f,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,re.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&re.removeClass(r,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;ot.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let c=JSON.parse(i,function(c,h){return"string"==typeof h&&r.test(h)?new Date(h):h});this.paginator&&(void 0!==this.first&&(this.first=c.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=c.rows,this.rowsChange.emit(this.rows))),c.sortField&&(this.restoringSort=!0,this._sortField=c.sortField,this._sortOrder=c.sortOrder),c.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=c.multiSortMeta),c.filters&&(this.restoringFilter=!0,this.filters=c.filters),this.resizableColumns&&(this.columnWidthsState=c.columnWidths,this.tableWidthState=c.tableWidth),c.expandedRowKeys&&(this.expandedRowKeys=c.expandedRowKeys),c.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(c.selection)),this.stateRestored=!0,this.onStateRestore.emit(c)}}saveColumnWidths(e){let i=[];re.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(re.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=re.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),ot.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,o)=>{i+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            ${this.scrollable?`flex: 1 1 ${r}px !important`:`width: ${r}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let c=[];o.map(h=>{let f=this.findColumnByKey(h);f&&c.push(f)}),this.columnOrderStateRestored=!0,this.columns=c}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollInitialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(KS),s.Y36(s.sBO),s.Y36(ab),s.Y36(K_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,_i,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(uZ,5),s.Gf(dZ,5),s.Gf(hZ,5),s.Gf(pZ,5),s.Gf(fZ,5),s.Gf(gZ,5),s.Gf(mZ,5),s.Gf(rm,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([KS]),s.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,_Z,2,2,"div",2),s.YNc(3,vZ,2,1,"div",3),s.YNc(4,wZ,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,SZ,8,16,"table",7),s.YNc(8,OZ,10,21,"cdk-virtual-scroll-viewport",8),s.qZA(),s.YNc(9,RZ,1,17,"p-paginator",9),s.YNc(10,NZ,2,1,"div",10),s.YNc(11,FZ,2,0,"div",11),s.YNc(12,LZ,2,0,"span",12),s.YNc(13,VZ,2,0,"span",13),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.rFY(16,BZ,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,UZ,i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",!i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[YG,z$,rm,Bi,En,Ot,ms,bk]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),n})(),z$=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r+1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=o,h=0;for(;o===c;){h++;let f=e[++r];if(!f)break;c=ot.resolveFieldData(f,this.dt.groupRowsBy)}return 1===h?null:h}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=re.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=re.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(va),s.Y36(KS),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:HZ,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(s.YNc(0,JZ,2,2,"ng-container",0),s.YNc(1,t$,2,3,"ng-container",0),s.YNc(2,d$,2,2,"ng-container",0),s.YNc(3,m$,2,2,"ng-container",0),s.YNc(4,y$,2,5,"ng-container",0),s.YNc(5,w$,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[Ot,Ut,ms,Ck],encapsulation:2}),n})(),Zl=(()=>{class n{constructor(e,i){this.dt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onArrowDownKeyDown(e){if(!this.isEnabled())return;const r=this.findNextSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onArrowUpKeyDown(e){if(!this.isEnabled())return;const r=this.findPrevSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onEnterKeyDown(e){!this.isEnabled()||this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}findNextSelectableRow(e){let i=e.nextElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findNextSelectableRow(i):null}findPrevSelectableRow(e){let i=e.previousElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findPrevSelectableRow(i):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(va),s.Y36(KS))},n.\u0275dir=s.lG2({type:n,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o)})("touchend",function(o){return i.onTouchEnd(o)})("keydown.arrowdown",function(o){return i.onArrowDownKeyDown(o)})("keydown.arrowup",function(o){return i.onArrowUpKeyDown(o)})("keydown.enter",function(o){return i.onEnterKeyDown(o)})("keydown.shift.enter",function(o){return i.onEnterKeyDown(o)})("keydown.meta.enter",function(o){return i.onEnterKeyDown(o)})("keydown.pagedown",function(){return i.onPageDownKeyDown()})("keydown.pageup",function(){return i.onPageDownKeyDown()})("keydown.home",function(){return i.onPageDownKeyDown()})("keydown.end",function(){return i.onPageDownKeyDown()})("keydown.space",function(){return i.onSpaceKeydown()}),2&e&&(s.uIk("tabindex",i.isEnabled()?0:void 0),s.ekj("p-selectable-row",i.isEnabled())("p-highlight",i.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,QG,BS,zS,sv,VS,Dp,az,cZ,Ek,fz],Oo,sv]}),n})();const $$=["HouseTable"];function W$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function K$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function Y$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_House()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.csvalues)}}function Q$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_House()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function J$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function X$(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function e5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function t5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,X$,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,e5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function n5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.House),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const r5=function(){return{width:"50vw"}},s5=function(){return["House","type","value"]};let o5=(()=>{class n{constructor(e,i,r,o){this.houseService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.houseTypeData=[],this.allHouses=[],this.allValues=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"house",header:"house"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_House(),this.get_House_Type_Values()}get_House_Type_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.houseTypeData.push(r)})}),setTimeout(()=>this.update_House_Type_Values(),3e3)}update_House_Type_Values(){var e=this.houseTypeData[0].split(","),i=this.houseTypeData[1].split(",");e.forEach(r=>this.allHouses.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedHouse.id,this.house=this.selectedHouse.House,this.type=this.selectedHouse.type,this.value=this.selectedHouse.value,this.selecteForEditorDel=!0}cancel_House(){this.selectedHouse=null,this.house="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Houses(){}read_All_House(){this.houseService.read_All_Houses().subscribe(e=>{this.houseList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,House:i.payload.doc.data().house,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_House()},reject:()=>{this.cancel_House()}})}create_House(){let e={};e.house=this.house,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.houseService.create_House(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"House added",detail:"House added to database"}),this.cancel_House()}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}Update_House(){let e={};e.house=this.house,e.type=this.type,e.value=this.value,this.houseService.update_House(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"House updated",detail:this.selectedHouse.id+" is updated"}),this.cancel_House()}Delete_House(){this.houseService.delete_House(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"House deleted",detail:this.selectedHouse.id+" is deleted"}),this.cancel_House()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(e2),s.Y36(ui),s.Y36(kn),s.Y36(_a))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-house"]],viewQuery:function(e,i){if(1&e&&s.Gf($$,5),2&e){let r;s.iGM(r=s.CRH())&&(i.HouseTable=r.first)}},features:[s._Bn([ui,kn])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["HouseTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.house=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,W$,2,1,"div",5),s.YNc(9,K$,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,Y$,3,1,"div",5),s.YNc(12,Q$,3,1,"div",5),s.YNc(13,J$,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_House()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedHouse=o}),s.YNc(20,t5,4,2,"ng-template",12),s.YNc(21,n5,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,r5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allHouses)("ngModel",i.house),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.house||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.houseList)("globalFilterFields",s.DdM(20,s5))("selection",i.selectedHouse))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();function a5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function l5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function c5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function u5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function d5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function h5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function p5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function f5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function g5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,p5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,f5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function m5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const _5=function(){return{width:"50vw"}},y5=function(){return["house","lord","trait"]};let v5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"lord",header:"Lord"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.lord,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,lord:i.payload.doc.data().lord,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.lord=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.lord=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(JL),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-lordinhouse"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,a5,2,1,"div",5),s.YNc(9,l5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,c5,3,1,"div",5),s.YNc(12,u5,3,1,"div",5),s.YNc(13,d5,3,1,"div",5),s.YNc(14,h5,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,g5,4,2,"ng-template",10),s.YNc(19,m5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,_5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,y5))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),w5=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("lordinsigns").snapshotChanges()}create_Item(e){return this.firestore.collection("lordinsigns").add(e)}update_Item(e,i){this.firestore.doc("lordinsigns/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinsigns/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function C5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function T5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function E5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function I5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function S5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function x5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function D5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function A5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,x5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,D5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function M5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.value)}}const k5=function(){return{width:"50vw"}},O5=function(){return["house","lord","trait"]};let R5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"lord",header:"Lord"},{field:"sign",header:"Sign"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.lord,this.option2Selected=this.selectedItem.sign,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,lord:i.payload.doc.data().lord,sign:i.payload.doc.data().sign,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.lord=this.option1Selected,e.sign=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.lord=this.option1Selected,e.sign=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){console.log("enter"),this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(w5),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-lorninsign"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,b5,2,1,"div",5),s.YNc(9,C5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,T5,3,1,"div",5),s.YNc(12,E5,3,1,"div",5),s.YNc(13,I5,3,1,"div",5),s.YNc(14,S5,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,A5,4,2,"ng-template",10),s.YNc(19,M5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,k5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,O5))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),P5=(()=>{class n{constructor(e){this.firestore=e}read_All_Planets(){return this.firestore.collection("planetss").snapshotChanges()}create_Planet(e){return this.firestore.collection("planetss").add(e)}update_Planet(e,i){this.firestore.doc("planetss/"+e).update(i)}delete_Planet(e){this.firestore.doc("planetss/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N5=["PlanetTable"];function F5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function L5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function V5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Planet()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.csvalues)}}function B5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Planet()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.value)}}function U5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.value)}}function H5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function j5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function q5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,H5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,j5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function G5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const z5=function(){return{width:"50vw"}},Z5=function(){return["Planet","type","value"]};let $5=(()=>{class n{constructor(e,i,r,o){this.planetService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.planetTypeData=[],this.selecteForEditorDel=!1,this.allPlanets=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Planet(),this.get_Planet_Type_Values()}get_Planet_Type_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.planetTypeData.push(r)})}),setTimeout(()=>this.update_Planet_Type_Values(),3e3)}update_Planet_Type_Values(){var e=this.planetTypeData[0].split(","),i=this.planetTypeData[1].split(",");e.forEach(r=>this.allPlanets.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedPlanet.id,this.planet=this.selectedPlanet.Planet,this.type=this.selectedPlanet.type,this.value=this.selectedPlanet.value,this.selecteForEditorDel=!0}cancel_Planet(){this.selectedPlanet=null,this.planet="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Planets(){}read_All_Planet(){this.planetService.read_All_Planets().subscribe(e=>{this.planetList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Planet()},reject:()=>{this.cancel_Planet()}})}create_Planet(){let e={};e.planet=this.planet,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.planetService.create_Planet(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Planet added",detail:"planet added to database"}),this.cancel_Planet()}Update_Planet(){let e={};e.planet=this.planet,e.type=this.type,e.value=this.value,this.planetService.update_Planet(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Planet updated",detail:this.selectedPlanet.id+" is updated"}),this.cancel_Planet()}Delete_Planet(){this.planetService.delete_Planet(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Planet deleted",detail:this.selectedPlanet.id+" is deleted"}),this.cancel_Planet()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(P5),s.Y36(ui),s.Y36(kn),s.Y36(_a))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planet"]],viewQuery:function(e,i){if(1&e&&s.Gf(N5,5),2&e){let r;s.iGM(r=s.CRH())&&(i.PlanetTable=r.first)}},decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["PlanetTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.planet=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,F5,2,1,"div",5),s.YNc(9,L5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,V5,3,1,"div",5),s.YNc(12,B5,3,1,"div",5),s.YNc(13,U5,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Planet()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedPlanet=o}),s.YNc(20,q5,4,2,"ng-template",12),s.YNc(21,G5,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,z5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allPlanets)("ngModel",i.planet),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.planet||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.planetList)("globalFilterFields",s.DdM(20,Z5))("selection",i.selectedPlanet))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),W5=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("planetaslord").snapshotChanges()}create_Item(e){return this.firestore.collection("planetaslord").add(e)}update_Item(e,i){this.firestore.doc("planetaslord/"+e).update(i)}delete_Item(e){this.firestore.doc("planetaslord/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ma))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function Y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function Q5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function J5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function X5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function eW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function tW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function nW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function iW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,tW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,nW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function rW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.value)}}const sW=function(){return{width:"50vw"}},oW=function(){return["house","lord","trait"]};let aW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"lord",header:"Lord"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.lord,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,lord:i.payload.doc.data().lord,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.lord=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.lord=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(W5),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetaslord"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,K5,2,1,"div",5),s.YNc(9,Y5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,Q5,3,1,"div",5),s.YNc(12,J5,3,1,"div",5),s.YNc(13,X5,3,1,"div",5),s.YNc(14,eW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,iW,4,2,"ng-template",10),s.YNc(19,rW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,sW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,oW))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();function lW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function cW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function uW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function dW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function hW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function pW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function fW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function gW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function mW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,fW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,gW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function _W(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const yW=function(){return{width:"50vw"}},vW=function(){return["house","lord","trait"]};let wW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(XL),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinhouse"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,lW,2,1,"div",5),s.YNc(9,cW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,uW,3,1,"div",5),s.YNc(12,dW,3,1,"div",5),s.YNc(13,hW,3,1,"div",5),s.YNc(14,pW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,mW,4,2,"ng-template",10),s.YNc(19,_W,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,yW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,vW))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();function bW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function CW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function TW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function EW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function IW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function SW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function xW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function DW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function AW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,xW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,DW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function MW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.value)}}const kW=function(){return{width:"50vw"}},OW=function(){return["house","lord","trait"]};let RW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"sign",header:"Sign"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.sign,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,sign:i.payload.doc.data().sign,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected.trim(),e.sign=this.option2Selected.trim();for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected.trim(),e.sign=this.option2Selected.trim(),e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(CF),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinsign"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,bW,2,1,"div",5),s.YNc(9,CW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,TW,3,1,"div",5),s.YNc(12,EW,3,1,"div",5),s.YNc(13,IW,3,1,"div",5),s.YNc(14,SW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,AW,4,2,"ng-template",10),s.YNc(19,MW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,kW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,OW))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();function PW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function NW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function FW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function LW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function VW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function BW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function UW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function HW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function jW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,UW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,HW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function qW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.value)}}const GW=function(){return{width:"50vw"}},zW=function(){return["house","lord","trait"]};let ZW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"star",header:"Star"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.star,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,star:i.payload.doc.data().star,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected.trim(),e.star=this.option2Selected.trim();for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected.trim(),e.star=this.option2Selected.trim(),e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(EF),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinstar"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,PW,2,1,"div",5),s.YNc(9,NW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,FW,3,1,"div",5),s.YNc(12,LW,3,1,"div",5),s.YNc(13,VW,3,1,"div",5),s.YNc(14,BW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,jW,4,2,"ng-template",10),s.YNc(19,qW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,GW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,zW))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[""]}),n})();const $W=["SignTable"];function WW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function KW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function YW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Sign()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.csvalues)}}function QW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Sign()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function JW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function XW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Sign()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function eK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function tK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function nK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,eK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,tK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function iK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const rK=function(){return{width:"50vw"}},sK=function(){return["Sign","type","value"]};let oK=(()=>{class n{constructor(e,i,r,o){this.signService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.signTypeData=[],this.selecteForEditorDel=!1,this.allSigns=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"sign",header:"Sign"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Sign(),this.get_Sign_Type_Values()}get_Sign_Type_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.signTypeData.push(r)})}),setTimeout(()=>this.update_Sign_Type_Values(),3e3)}update_Sign_Type_Values(){var e=this.signTypeData[0].split(","),i=this.signTypeData[1].split(",");e.forEach(r=>this.allSigns.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedSign.id,this.sign=this.selectedSign.Sign,this.type=this.selectedSign.type,this.value=this.selectedSign.value,this.selecteForEditorDel=!0}cancel_Sign(){this.selectedSign=null,this.sign="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}get_All_Signs(){}read_All_Sign(){this.signService.read_All_Signs().subscribe(e=>{this.signList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,sign:i.payload.doc.data().sign,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.Delete_Sign()},reject:()=>{this.cancel_Sign()}})}create_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.signService.create_Sign(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Sign added",detail:"Sign added to database"}),this.cancel_Sign()}Update_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.signService.update_Sign(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Sign updated",detail:this.selectedSign.id+" is updated"}),this.cancel_Sign()}Delete_Sign(){this.signService.delete_Sign(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Sign deleted",detail:this.selectedSign.id+" is deleted"}),this.cancel_Sign()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wF),s.Y36(ui),s.Y36(kn),s.Y36(_a))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign"]],viewQuery:function(e,i){if(1&e&&s.Gf($W,5),2&e){let r;s.iGM(r=s.CRH())&&(i.SignTable=r.first)}},features:[s._Bn([kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["SignTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.sign=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,WW,2,1,"div",5),s.YNc(9,KW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,YW,3,1,"div",5),s.YNc(12,QW,3,1,"div",5),s.YNc(13,JW,3,1,"div",5),s.YNc(14,XW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedSign=o}),s.YNc(18,nK,4,2,"ng-template",10),s.YNc(19,iK,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,rK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allSigns)("ngModel",i.sign),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.signList)("globalFilterFields",s.DdM(20,sK))("selection",i.selectedSign))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();function aK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function lK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function cK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function uK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function dK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function hK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function pK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function fK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function gK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,pK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,fK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function mK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const _K=function(){return{width:"50vw"}},yK=function(){return["house","lord","trait"]};let vK=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"sign",header:"Sign"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.sign,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,sign:i.payload.doc.data().sign,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.sign=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.sign=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_a),s.Y36(ui),s.Y36(bF),s.Y36(kn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signashouse"]],features:[s._Bn([ui,kn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,aK,2,1,"div",5),s.YNc(9,lK,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,cK,3,1,"div",5),s.YNc(12,uK,3,1,"div",5),s.YNc(13,dK,3,1,"div",5),s.YNc(14,hK,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,gK,4,2,"ng-template",10),s.YNc(19,mK,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,_K)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,yK))("selection",i.selectedItem))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();const wK=["StarTable"];function bK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function CK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function TK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Star()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.csvalues)}}function EK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Star()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function IK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function SK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function xK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function DK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,SK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,xK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function AK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const MK=function(){return{width:"50vw"}},kK=function(){return["star","type","value"]};let OK=(()=>{class n{constructor(e,i,r,o){this.starService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.starTypeData=[],this.selecteForEditorDel=!1,this.allStars=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"star",header:"Star"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Star(),this.get_Star_Type_Values()}get_Star_Type_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.starTypeData.push(r)})}),setTimeout(()=>this.update_Star_Type_Values(),3e3)}update_Star_Type_Values(){var e=this.starTypeData[0].split(","),i=this.starTypeData[1].split(",");e.forEach(r=>this.allStars.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedStar.id,this.star=this.selectedStar.star,this.type=this.selectedStar.type,this.value=this.selectedStar.value,this.selecteForEditorDel=!0}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}cancel_Star(){this.selectedStar=null,this.star="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}read_All_Star(){this.starService.read_All_Stars().subscribe(e=>{this.starList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,star:i.payload.doc.data().star,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Star()},reject:()=>{this.cancel_Star()}})}create_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.starService.create_Star(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Star added",detail:"Star added to database"}),this.cancel_Star()}Update_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.starService.update_Star(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Star updated",detail:this.selectedStar.id+" is updated"}),this.cancel_Star()}Delete_Star(){this.starService.delete_Star(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Star deleted",detail:this.selectedStar.id+" is deleted"}),this.cancel_Star()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(TF),s.Y36(ui),s.Y36(kn),s.Y36(_a))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-star"]],viewQuery:function(e,i){if(1&e&&s.Gf(wK,5),2&e){let r;s.iGM(r=s.CRH())&&(i.StarTable=r.first)}},features:[s._Bn([kn])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["StarTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.star=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,bK,2,1,"div",5),s.YNc(9,CK,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,TK,3,1,"div",5),s.YNc(12,EK,3,1,"div",5),s.YNc(13,IK,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Star()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedStar=o}),s.YNc(20,DK,4,2,"ng-template",12),s.YNc(21,AK,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,MK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allStars)("ngModel",i.star),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.star||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.starList)("globalFilterFields",s.DdM(20,kK))("selection",i.selectedStar))},directives:[el,Gl,oo,Ps,br,Ot,Os,ya,zl,va,_i,Ut,wn,Zl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();const RK=function(n){return{active:n}};function PK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw().listClick(r,c)}),s.TgZ(1,"a",9),s._UZ(2,"i",3),s.TgZ(3,"span",3),s._uU(4),s.qZA()()()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(4,RK,i.selectedItem==e.name)),s.xp6(1),s.Q6J("routerLink",e.link),s.xp6(1),s.uIk("data-feather",e.icon),s.xp6(2),s.Oqu(e.name)}}function NK(n,t){1&n&&(s.TgZ(0,"div",1)(1,"a",2)(2,"span",3),s._uU(3,"Pranavam"),s.qZA()()())}let FK=(()=>{class n{constructor(e){this._authService=e,this.menuItems=[{name:"Basic",icon:"sliders",link:"basic"},{name:"Advanced",icon:"anchor",link:"dashboard"},{name:"Star",icon:"star",link:"star"},{name:"Sign",icon:"activity",link:"sign"},{name:"House",icon:"home",link:"house"},{name:"Planet",icon:"sun",link:"planet"},{name:"Planet-In-Star",icon:"sunrise",link:"planetinstar"},{name:"Planet-In-Sign",icon:"sunset",link:"planetinsign"},{name:"Planet-In-House",icon:"archive",link:"planetinhouse"},{name:"Planet-as-Lord",icon:"codepen",link:"planetaslord"},{name:"Lord-In-Sign",icon:"airplay",link:"lordinsign"},{name:"Lord-In-House",icon:"at-sign",link:"lordinhouse"},{name:"Sign-as-House",icon:"command",link:"signashouse"}],this.selectedItem="Basic",this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}listClick(e,i){this.selectedItem=i.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu"]],decls:10,vars:2,consts:[["id","sidebar",1,"sidebar","js-sidebar"],[1,"sidebar-content","js-simplebar"],["href","index.html",1,"sidebar-brand"],[1,"align-middle"],[1,"sidebar-nav"],[1,"sidebar-header"],["class","sidebar-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","sidebar-content js-simplebar",4,"ngIf"],[1,"sidebar-item",3,"ngClass","click"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),s._uU(4,"Pranavam"),s.qZA()(),s.TgZ(5,"ul",4)(6,"li",5),s._uU(7," Pages "),s.qZA(),s.YNc(8,PK,5,6,"li",6),s.qZA()(),s.YNc(9,NK,4,0,"div",7),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",i.menuItems),s.xp6(1),s.Q6J("ngIf",!i.canShow))},directives:[Ut,En,jf,FT,Ot],styles:[""]}),n})(),LK=(()=>{class n{constructor(e){this._authService=e}ngOnInit(){}signOut(){this._authService.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-topbar"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand","navbar-light","navbar-bg"],[1,"sidebar-toggle","js-sidebar-toggle"],[1,"hamburger","align-self-center"],[1,"navbar-collapse","collapse"],[1,"navbar-nav","navbar-align"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-icon","dropdown-toggle","d-inline-block","d-sm-none"],["data-feather","settings",1,"align-middle"],["href","#","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle","d-none","d-sm-inline-block"],["src","../assets/img/avatars/avatar.jpg","alt","Charles Hall",1,"avatar","img-fluid","rounded","me-1"],[1,"text-dark"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"a",1),s._UZ(2,"i",2),s.qZA(),s.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),s._UZ(7,"i",7),s.qZA(),s.TgZ(8,"a",8),s._UZ(9,"img",9),s.TgZ(10,"span",10),s._uU(11,"Charles Hall"),s.qZA()(),s.TgZ(12,"div",11)(13,"a",12),s.NdJ("click",function(){return i.signOut()}),s._uU(14,"Log out"),s.qZA()()()()()())},styles:[""]}),n})(),VK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"footer"],[1,"container-fluid"],[1,"row","text-muted"],[1,"col-6","text-start"],[1,"mb-0"],["href","https://adminkit.io/","target","_blank",1,"text-muted"],[1,"col-6","text-end"],[1,"list-inline"],[1,"list-inline-item"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5)(6,"strong"),s._uU(7,"Pranavam"),s.qZA()(),s._uU(8," \xa9 "),s.qZA()(),s.TgZ(9,"div",6)(10,"ul",7)(11,"li",8)(12,"a",5),s._uU(13,"Support"),s.qZA()(),s.TgZ(14,"li",8)(15,"a",5),s._uU(16,"Help Center"),s.qZA()(),s.TgZ(17,"li",8)(18,"a",5),s._uU(19,"Privacy"),s.qZA()(),s.TgZ(20,"li",8)(21,"a",5),s._uU(22,"Terms"),s.qZA()()()()()()())},styles:[""]}),n})(),BK=(()=>{class n{constructor(e){this._authService=e,this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"wrapper"],[1,"main"],[1,"content"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-menu"),s.TgZ(2,"div",1),s._UZ(3,"app-topbar"),s.TgZ(4,"main",2),s._UZ(5,"router-outlet"),s.qZA(),s._UZ(6,"app-footer"),s.qZA()())},directives:[FK,LK,I_,VK],styles:[""]}),n})(),d2=(()=>{class n{constructor(e){this.authenticationService=e}ngOnInit(){}signIn(){this.authenticationService.signIn(this.email,this.password),this.email="",this.password=""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signin"]],decls:22,vars:2,consts:[[1,"container","d-flex","flex-column"],[1,"row","vh-100"],[1,"col-sm-10","col-md-8","col-lg-6","mx-auto","d-table","h-100"],[1,"d-table-cell","align-middle"],[1,"text-center","mt-4"],[1,"lead"],[1,"card"],[1,"card-body"],[1,"m-sm-4"],[1,"mb-3"],[1,"form-label"],["type","email","name","email","placeholder","Enter your email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Enter your password",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-lg","btn-primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),s._uU(6," Sign in to your account to continue "),s.qZA()(),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"form")(11,"div",9)(12,"label",10),s._uU(13,"Email"),s.qZA(),s.TgZ(14,"input",11),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(15,"div",9)(16,"label",10),s._uU(17,"Password"),s.qZA(),s.TgZ(18,"input",12),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(19,"div",13)(20,"button",14),s.NdJ("click",function(){return i.signIn()}),s._uU(21,"Sign in"),s.qZA()()()()()()()()()()),2&e&&(s.xp6(14),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password))},directives:[pL,QF,LS,Os,Ps,br],styles:[""]}),n})(),UK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[xD.forRoot([{path:"pranavam",component:BK,canActivate:[sr],children:[{path:"basic",component:zq,canActivate:[sr]},{path:"dashboard",component:eG,canActivate:[sr]},{path:"star",component:OK,canActivate:[sr]},{path:"sign",component:oK,canActivate:[sr]},{path:"house",component:o5,canActivate:[sr]},{path:"planet",component:$5,canActivate:[sr]},{path:"planetinsign",component:RW,canActivate:[sr]},{path:"planetinhouse",component:wW,canActivate:[sr]},{path:"planetinstar",component:ZW,canActivate:[sr]},{path:"planetaslord",component:aW,canActivate:[sr]},{path:"lordinsign",component:R5,canActivate:[sr]},{path:"lordinhouse",component:v5,canActivate:[sr]},{path:"signashouse",component:vK,canActivate:[sr]}]},{path:"",component:d2},{path:"login",component:d2},{path:"**",redirectTo:"pages/notfound"}])],xD]}),n})(),HK=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[I_],styles:[".p-inputtext{width:200px!important;min-height:40px!important}  .p-dropdown{margin-top:20px;width:200px!important;height:40px;padding:0}  .p-autocomplete{margin-top:20px;width:200px!important;height:40px;padding:0}[_nghost-%COMP%]     .p-hidden-accessible{display:none}textarea[_ngcontent-%COMP%]{height:99px}"]}),n})();const h2="@firebase/database";let Sk="";function f2(n){Sk=n}class GK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class zK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const g2=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new GK(t)}}catch(t){}return new zK},sm=g2("localStorage"),xk=g2("sessionStorage"),av=new Qs.Yd("@firebase/database"),m2=function(){let n=1;return function(){return n++}}(),_2=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},XC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=XC.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let om=null,y2=!0;const v2=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(av.logLevel=Qs.in.VERBOSE,om=av.log.bind(av),t&&xk.set("logging_enabled",!0)):"function"==typeof n?om=n:(om=null,xk.remove("logging_enabled"))},Wr=function(...n){if(!0===y2&&(y2=!1,null===om&&!0===xk.get("logging_enabled")&&v2(!0)),om){const t=XC.apply(null,n);om(t)}},e0=function(n){return function(...t){Wr(n,...t)}},Dk=function(...n){const t="FIREBASE INTERNAL ERROR: "+XC(...n);av.error(t)},lu=function(...n){const t=`FIREBASE FATAL ERROR: ${XC(...n)}`;throw av.error(t),new Error(t)},Ns=function(...n){const t="FIREBASE WARNING: "+XC(...n);av.warn(t)},YS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ed="[MIN_NAME]",cu="[MAX_NAME]",am=function(n,t){if(n===t)return 0;if(n===Ed||t===cu)return-1;if(t===Ed||n===cu)return 1;{const e=QS(n),i=QS(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},WK=function(n,t){return n===t?0:n<t?-1:1},t0=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},Ak=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=Ak(n[t[i]]);return e+="}",e},w2=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Kr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const b2=function(n){(0,N.hu)(!YS(n),"Invalid JSON number");const i=1023;let r,o,c,h,f;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(f=52;f;f-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const T=y.join("");let I="";for(f=0;f<64;f+=8){let M=parseInt(T.substr(f,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},JK=new RegExp("^-?(0*)\\d{1,10}$"),C2=-2147483648,Mk=2147483647,QS=function(n){if(JK.test(n)){const t=Number(n);if(t>=C2&&t<=Mk)return t}return null},lv=function(n){try{n()}catch(t){setTimeout(()=>{throw Ns("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},n0=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class eY{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ns(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class tY{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ns(t)}}let r0=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const x2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M2="websocket",k2="long_polling";class Ok{constructor(t,e,i,r,o=!1,c="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&sm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function O2(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===M2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==k2)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function nY(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Kr(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class iY{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const Rk={},Pk={};function Nk(n){const t=n.toString();return Rk[t]||(Rk[t]=new iY),Rk[t]}class sY{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&lv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mp{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=e0(t),this.stats_=Nk(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),O2(e,k2,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new sY(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fk((...o)=>{const[c,h,f,y,T]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&x2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mp.forceAllow_=!0}static forceDisallow(){Mp.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Mp.forceAllow_&&(Mp.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=w2(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Fk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=m2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Fk.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Wr("frame writing exception"),h.stack&&Wr(h.stack),Wr(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Wr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Wr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let XS=null;"undefined"!=typeof MozWebSocket?XS=MozWebSocket:"undefined"!=typeof WebSocket&&(XS=WebSocket);let cv=(()=>{class n{constructor(e,i,r,o,c,h,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=e0(this.connId),this.stats_=Nk(i),this.connURL=n.connectionURL_(i,h,f,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const h={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&x2.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),O2(e,M2,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sm.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Sk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,f=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;f&&(c.proxy={origin:f})}this.mySock=new XS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==XS&&!n.forceDisallow_}static previouslyFailed(){return sm.isInMemoryStorage||!0===sm.get("previous_websocket_failure")}markConnectionHealthy(){sm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=w2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),B2=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mp,cv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=cv&&cv.isAvailable();let r=i&&!cv.previouslyFailed();if(e.webSocketOnly&&(i||Ns("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cv];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Z2{constructor(t,e,i,r,o,c,h,f,y,T){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=y,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=e0("c:"+this.id+":"),this.transportManager_=new B2(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=n0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=t0("t",t),i=t0("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=t0("t",t),i=t0("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=t0("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Dk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ns("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),n0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):n0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $2{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class W2{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ex extends W2{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ex}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Cn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _n(){return new Cn("")}function Qt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function kp(n){return n.pieces_.length-n.pieceNum_}function Rn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cn(n.pieces_,t)}function Vk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function s0(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Q2(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Cn(t,0)}function fi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Cn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Cn(e,0)}function Jt(n){return n.pieceNum_>=n.pieces_.length}function ao(n,t){const e=Qt(n),i=Qt(t);if(null===e)return t;if(e===i)return ao(Rn(n),Rn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function xY(n,t){const e=s0(n,0),i=s0(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=am(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function Bk(n,t){if(kp(n)!==kp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function tl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(kp(n)>kp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class DY{constructor(t,e){this.errorPrefix_=e,this.parts_=s0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);J2(this)}}function J2(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lm(n))}function lm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Uk extends W2{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Uk}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const o0=1e3;let nx,cm=(()=>{class n extends $2{constructor(e,i,r,o,c,h,f,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=f,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=e0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=o0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ex.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:h=>{const f=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||o!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(h).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,f=>{const y=f.d,T=f.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==T&&this.removeListen_(r,o),e.onComplete&&e.onComplete(T,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ns(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Dk("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=o0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=o0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=o0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ee.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let f=!1,y=null;const T=function(){y?y.close():(f=!0,o())};e.realtime_={close:T,sendRequest:function(P){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,V]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);f?Wr("getToken() completed but was canceled"):(Wr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=V&&V.token,y=new Z2(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Q=>{Ns(Q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(P){e.log_("Failed to get token: "+P),f||(e.repoInfo_.nodeAdmin&&Ns(P),T())}}})()}interrupt(e){Wr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Wr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=o0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>Ak(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Cn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Wr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Wr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Sk.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ex.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class en{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new en(t,e)}}class tx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new en(Ed,t),r=new en(Ed,e);return 0!==this.compare(i,r)}minPost(){return en.MIN}}class tV extends tx{static get __EMPTY_NODE(){return nx}static set __EMPTY_NODE(t){nx=t}compare(t,e){return am(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return en.MIN}maxPost(){return new en(cu,nx)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new en(t,nx)}toString(){return".key"}}const uu=new tV;class ix{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let jk,$l=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:Po.EMPTY_NODE,this.right=null!=c?c:Po.EMPTY_NODE}copy(e,i,r,o,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Po.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Po.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Po{constructor(t,e=Po.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Po(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,$l.BLACK,null,null))}remove(t){return new Po(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$l.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ix(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ix(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ix(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ix(this.root_,null,this.comparator_,!0,t)}}function LY(n,t){return am(n.name,t.name)}function Hk(n,t){return am(n,t)}Po.EMPTY_NODE=new class FY{copy(t,e,i,r,o){return this}insert(t,e,i){return new $l(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nV=function(n){return"number"==typeof n?"number:"+b2(n):"string:"+n},iV=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===jk||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===jk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let rV,sV,oV,uv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),iV(this.priorityNode_)}static set __childrenNodeConstructor(e){rV=e}static get __childrenNodeConstructor(){return rV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Jt(e)?this:".priority"===Qt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Qt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===kp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nV(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?b2(this.value_):this.value_,this.lazyHash_=_2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Hn=new class HY extends tx{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?am(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return en.MIN}maxPost(){return new en(cu,new uv("[PRIORITY-POST]",oV))}makePost(t,e){const i=sV(t);return new en(e,new uv("[PRIORITY-POST]",i))}toString(){return".priority"}},jY=Math.log(2);class qY{constructor(t){this.count=parseInt(Math.log(t+1)/jY,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const rx=function(n,t,e,i){n.sort(t);const r=function(f,y){const T=y-f;let I,M;if(0===T)return null;if(1===T)return I=n[f],M=e?e(I):I,new $l(M,I.node,$l.BLACK,null,null);{const P=parseInt(T/2,10)+f,V=r(f,P),Q=r(P+1,y);return I=n[P],M=e?e(I):I,new $l(M,I.node,$l.BLACK,V,Q)}},h=function(f){let y=null,T=null,I=n.length;const M=function(V,Q){const ye=I-V,He=I;I-=V;const Xe=r(ye+1,He),it=n[ye],rt=e?e(it):it;P(new $l(rt,it.node,Q,null,Xe))},P=function(V){y?(y.left=V,y=V):(T=V,y=V)};for(let V=0;V<f.count;++V){const Q=f.nextBitIsOne(),ye=Math.pow(2,f.count-(V+1));Q?M(ye,$l.BLACK):(M(ye,$l.BLACK),M(ye,$l.RED))}return T}(new qY(n.length));return new Po(i||t,h)};let qk;const dv={};class Id{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(dv&&Hn,"ChildrenNode.ts has not been loaded"),qk=qk||new Id({".priority":dv},{".priority":Hn}),qk}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Po?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==uu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(en.Wrap);let h,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?rx(i,t.getCompare()):dv;const f=t.toString(),y=Object.assign({},this.indexSet_);y[f]=t;const T=Object.assign({},this.indexes_);return T[f]=h,new Id(T,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const c=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(c,"Missing index implementation for "+o),r===dv){if(c.isDefinedOn(t.node)){const h=[],f=e.getIterator(en.Wrap);let y=f.getNext();for(;y;)y.name!==t.name&&h.push(y),y=f.getNext();return h.push(t),rx(h,c.getCompare())}return dv}{const h=e.get(t.name);let f=r;return h&&(f=f.remove(new en(t.name,h))),f.insert(t,t.node)}});return new Id(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===dv)return r;{const o=e.get(t.name);return o?r.remove(new en(t.name,o)):r}});return new Id(i,this.indexSet_)}}let a0,jt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&iV(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return a0||(a0=new n(new Po(Hk),null,Id.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||a0}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?a0:i}}getChild(e){const i=Qt(e);return null===i?this:this.getImmediateChild(i).getChild(Rn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new en(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?a0:this.priorityNode_;return new n(o,h,c)}}updateChild(e,i){const r=Qt(e);if(null===r)return i;{(0,N.hu)(".priority"!==Qt(e)||1===kp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Rn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Hn,(h,f)=>{i[h]=f.val(e),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*r){const h=[];for(const f in i)h[f]=i[f];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+nV(this.getPriority().val())+":"),this.forEachChild(Hn,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":_2(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new en(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new en(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new en(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,en.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,en.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===l0?-1:0}withIndex(e){if(e===uu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===uu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Hn),o=i.getIterator(Hn);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===uu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const l0=new class GY extends jt{constructor(){super(new Po(Hk),jt.EMPTY_NODE,Id.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return jt.EMPTY_NODE}isEmpty(){return!1}};function wi(n,t=null){if(null===n)return jt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new uv(n,wi(t));if(n instanceof Array){let e=jt.EMPTY_NODE;return Kr(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=wi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(wi(t))}{const e=[];let i=!1;if(Kr(n,(c,h)=>{if("."!==c.substring(0,1)){const f=wi(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new en(c,f)))}}),0===e.length)return jt.EMPTY_NODE;const o=rx(e,LY,c=>c.name,Hk);if(i){const c=rx(e,Hn.getCompare());return new jt(o,wi(t),new Id({".priority":c},{".priority":Hn}))}return new jt(o,wi(t),Id.Default)}}Object.defineProperties(en,{MIN:{value:new en(Ed,jt.EMPTY_NODE)},MAX:{value:new en(cu,l0)}}),tV.__EMPTY_NODE=jt.EMPTY_NODE,uv.__childrenNodeConstructor=jt,function VY(n){jk=n}(l0),function UY(n){oV=n}(l0),function BY(n){sV=n}(wi);class Gk extends tx{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!Jt(t)&&".priority"!==Qt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?am(t.name,e.name):o}makePost(t,e){const i=wi(t),r=jt.EMPTY_NODE.updateChild(this.indexPath_,i);return new en(e,r)}maxPost(){const t=jt.EMPTY_NODE.updateChild(this.indexPath_,l0);return new en(cu,t)}toString(){return s0(this.indexPath_,0).join("/")}}const zk=new class ZY extends tx{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?am(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return en.MIN}maxPost(){return en.MAX}makePost(t,e){const i=wi(t);return new en(e,i)}toString(){return".value"}},hv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$Y=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=hv.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=hv.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),cV=function(n){if(n===""+Mk)return"-";const t=QS(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return cu;const o=hv.charAt(hv.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},uV=function(n){if(n===""+C2)return Ed;const t=QS(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Mk:(delete e[e.length-1],e.join("")):(e[e.length-1]=hv.charAt(hv.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function dV(n){return{type:"value",snapshotNode:n}}function pv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function c0(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function u0(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class $k{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(c0(e,h)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(pv(e,i)):c.trackChildChange(u0(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Hn,(r,o)=>{e.hasChild(r)||i.trackChildChange(c0(r,o))}),e.isLeafNode()||e.forEachChild(Hn,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(u0(r,o,c))}else i.trackChildChange(pv(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?jt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class d0{constructor(t){this.indexedFilter_=new $k(t.getIndex()),this.index_=t.getIndex(),this.startPost_=d0.getStartPost_(t),this.endPost_=d0.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new en(e,i))||(i=jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=jt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(jt.EMPTY_NODE);const o=this;return e.forEachChild(Hn,(c,h)=>{o.matches(new en(c,h))||(r=r.updateImmediateChild(c,jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class KY{constructor(t){this.rangedFilter_=new d0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new en(e,i))||(i=jt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=jt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let o,c,h,f;if(r=e.withIndex(this.index_),r=r.updatePriority(jt.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();h=(M,P)=>I(P,M)}else f=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,T=!1;for(;f.hasNext();){const I=f.getNext();!T&&h(o,I)<=0&&(T=!0),T&&y<this.limit_&&h(I,c)<=0?y++:r=r.updateImmediateChild(I.name,jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const I=this.index_.getCompare();c=(M,P)=>I(P,M)}else c=this.index_.getCompare();const h=t;(0,N.hu)(h.numChildren()===this.limit_,"");const f=new en(e,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),T=this.rangedFilter_.matches(f);if(h.hasChild(e)){const I=h.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:c(M,f);if(T&&!i.isEmpty()&&P>=0)return null!=o&&o.trackChildChange(u0(e,i,I)),h.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(c0(e,I));const Q=h.updateImmediateChild(e,jt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(null!=o&&o.trackChildChange(pv(M.name,M.node)),Q.updateImmediateChild(M.name,M.node)):Q}}return i.isEmpty()?t:T&&c(y,f)>=0?(null!=o&&(o.trackChildChange(c0(y.name,y.node)),o.trackChildChange(pv(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(y.name,jt.EMPTY_NODE)):t}}class sx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ed}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hn}copy(){const t=new sx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Wk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Kk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function ox(n,t){const e=n.copy();return e.index_=t,e}function hV(n){const t={};if(n.isDefault())return t;let e;return n.index_===Hn?e="$priority":n.index_===zk?e="$value":n.index_===uu?e="$key":((0,N.hu)(n.index_ instanceof Gk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function pV(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Hn&&(t.i=n.index_.toString()),t}class ax extends $2{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=e0("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=ax.getListenId_(t,i),h={};this.listens_[c]=h;const f=hV(t._queryParams);this.restRequest_(o+".json",f,(y,T)=>{let I=T;if(404===y&&(I=null,y=null),null===y&&this.onDataUpdate_(o,I,!1,i),(0,N.DV)(this.listens_,c)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=ax.getListenId_(t,e);delete this.listens_[i]}get(t){const e=hV(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=(0,N.cI)(h.responseText)}catch(y){Ns("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else 401!==h.status&&404!==h.status&&Ns("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class t8{constructor(){this.rootNode_=jt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function lx(){return{value:null,children:new Map}}function fv(n,t,e){if(Jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Qt(t);n.children.has(i)||n.children.set(i,lx()),fv(n.children.get(i),t=Rn(t),e)}}function Yk(n,t){if(Jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Hn,(i,r)=>{fv(n,new Cn(i),r)}),Yk(n,t)}}if(n.children.size>0){const e=Qt(t);return t=Rn(t),n.children.has(e)&&Yk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Qk(n,t,e){null!==n.value?e(t,n.value):function n8(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Qk(r,new Cn(t.toString()+"/"+i),e)})}class r8{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Kr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class a8{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new r8(t);const i=1e4+2e4*Math.random();n0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Kr(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),n0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(nl||(nl={})),nl))();function eO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class cx{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=nl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Cn(t));return new cx(_n(),e,this.revert)}}return(0,N.hu)(Qt(this.path)===t,"operationForChild called for unrelated child."),new cx(Rn(this.path),this.affectedTree,this.revert)}}class h0{constructor(t,e){this.source=t,this.path=e,this.type=nl.LISTEN_COMPLETE}operationForChild(t){return Jt(this.path)?new h0(this.source,_n()):new h0(this.source,Rn(this.path))}}class um{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=nl.OVERWRITE}operationForChild(t){return Jt(this.path)?new um(this.source,_n(),this.snap.getImmediateChild(t)):new um(this.source,Rn(this.path),this.snap)}}class gv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=nl.MERGE}operationForChild(t){if(Jt(this.path)){const e=this.children.subtree(new Cn(t));return e.isEmpty()?null:e.value?new um(this.source,_n(),e.value):new gv(this.source,_n(),e)}return(0,N.hu)(Qt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new gv(this.source,Rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Op{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Qt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class l8{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function p0(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,f)=>function d8(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new en(t.childName,t.snapshotNode),r=new en(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,f)),c.forEach(h=>{const f=function u8(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);r.forEach(y=>{y.respondsTo(h.type)&&t.push(y.createEvent(f,n.query_))})})}function ux(n,t){return{eventCache:n,serverCache:t}}function f0(n,t,e,i){return ux(new Op(t,e,i),n.serverCache)}function gV(n,t,e,i){return ux(n.eventCache,new Op(t,e,i))}function dx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tO;class jn{constructor(t,e=(()=>(tO||(tO=new Po(WK)),tO))()){this.value=t,this.children=e}static fromObject(t){let e=new jn(null);return Kr(t,(i,r)=>{e=e.set(new Cn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_n(),value:this.value};if(Jt(t))return null;{const i=Qt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Rn(t),e);return null!=o?{path:fi(new Cn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Jt(t))return this;{const e=Qt(t),i=this.children.get(e);return null!==i?i.subtree(Rn(t)):new jn(null)}}set(t,e){if(Jt(t))return new jn(e,this.children);{const i=Qt(t),o=(this.children.get(i)||new jn(null)).set(Rn(t),e),c=this.children.insert(i,o);return new jn(this.value,c)}}remove(t){if(Jt(t))return this.children.isEmpty()?new jn(null):new jn(null,this.children);{const e=Qt(t),i=this.children.get(e);if(i){const r=i.remove(Rn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new jn(null):new jn(this.value,o)}return this}}get(t){if(Jt(t))return this.value;{const e=Qt(t),i=this.children.get(e);return i?i.get(Rn(t)):null}}setTree(t,e){if(Jt(t))return e;{const i=Qt(t),o=(this.children.get(i)||new jn(null)).setTree(Rn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new jn(this.value,c)}}fold(t){return this.fold_(_n(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(fi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,_n(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Jt(t))return null;{const o=Qt(t),c=this.children.get(o);return c?c.findOnPath_(Rn(t),fi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_n(),e)}foreachOnPath_(t,e,i){if(Jt(t))return this;{this.value&&i(e,this.value);const r=Qt(t),o=this.children.get(r);return o?o.foreachOnPath_(Rn(t),fi(e,r),i):new jn(null)}}foreach(t){this.foreach_(_n(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(fi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Wl{constructor(t){this.writeTree_=t}static empty(){return new Wl(new jn(null))}}function g0(n,t,e){if(Jt(t))return new Wl(new jn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=ao(r,t);return o=o.updateChild(c,e),new Wl(n.writeTree_.set(r,o))}{const r=new jn(e),o=n.writeTree_.setTree(t,r);return new Wl(o)}}}function nO(n,t,e){let i=n;return Kr(e,(r,o)=>{i=g0(i,fi(t,r),o)}),i}function mV(n,t){if(Jt(t))return Wl.empty();{const e=n.writeTree_.setTree(t,new jn(null));return new Wl(e)}}function iO(n,t){return null!=hm(n,t)}function hm(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ao(e.path,t)):null}function _V(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Hn,(i,r)=>{t.push(new en(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new en(i,r.value))}),t}function Rp(n,t){if(Jt(t))return n;{const e=hm(n,t);return new Wl(null!=e?new jn(e):n.writeTree_.subtree(t))}}function rO(n){return n.writeTree_.isEmpty()}function mv(n,t){return yV(_n(),n.writeTree_,t)}function yV(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=yV(fi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(fi(n,".priority"),i)),e}}function hx(n,t){return TV(t,n)}function _8(n,t){if(n.snap)return tl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&tl(fi(n.path,e),t))return!0;return!1}function v8(n){return n.visible}function vV(n,t,e){let i=Wl.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)tl(e,c)?(h=ao(e,c),i=g0(i,h,o.snap)):tl(c,e)&&(h=ao(c,e),i=g0(i,_n(),o.snap.getChild(h)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(tl(e,c))h=ao(e,c),i=nO(i,h,o.children);else if(tl(c,e))if(h=ao(c,e),Jt(h))i=nO(i,_n(),o.children);else{const f=(0,N.DV)(o.children,Qt(h));if(f){const y=f.getChild(Rn(h));i=g0(i,_n(),y)}}}}}return i}function wV(n,t,e,i,r){if(i||r){const o=Rp(n.visibleWrites,t);return!r&&rO(o)?e:r||null!=e||iO(o,_n())?mv(vV(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(tl(y.path,t)||tl(t,y.path))},t),e||jt.EMPTY_NODE):null}{const o=hm(n.visibleWrites,t);if(null!=o)return o;{const c=Rp(n.visibleWrites,t);return rO(c)?e:null!=e||iO(c,_n())?mv(c,e||jt.EMPTY_NODE):null}}}function px(n,t,e,i){return wV(n.writeTree,n.treePath,t,e,i)}function sO(n,t){return function w8(n,t,e){let i=jt.EMPTY_NODE;const r=hm(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Hn,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=Rp(n.visibleWrites,t);return e.forEachChild(Hn,(c,h)=>{const f=mv(Rp(o,new Cn(c)),h);i=i.updateImmediateChild(c,f)}),_V(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return _V(Rp(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function bV(n,t,e,i){return function b8(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=fi(t,e);if(iO(n.visibleWrites,o))return null;{const c=Rp(n.visibleWrites,o);return rO(c)?r.getChild(e):mv(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function fx(n,t){return function T8(n,t){return hm(n.visibleWrites,t)}(n.writeTree,fi(n.treePath,t))}function oO(n,t,e){return function C8(n,t,e,i){const r=fi(t,e),o=hm(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?mv(Rp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function CV(n,t){return TV(fi(n.treePath,t),n.writeTree)}function TV(n,t){return{treePath:n,writeTree:t}}class x8{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,u0(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,c0(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,pv(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,u0(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const EV=new class D8{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class aO{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Op(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oO(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dm(this.viewCache_),o=function S8(n,t,e,i,r,o){return function E8(n,t,e,i,r,o,c){let h;const f=Rp(n.visibleWrites,t),y=hm(f,_n());if(null!=y)h=y;else{if(null==e)return[];h=mv(f,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const T=[],I=c.getCompare(),M=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let P=M.getNext();for(;P&&T.length<r;)0!==I(P,i)&&T.push(P),P=M.getNext();return T}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function IV(n,t,e,i,r,o){const c=t.eventCache;if(null!=fx(i,e))return t;{let h,f;if(Jt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=dm(t),I=sO(i,y instanceof jt?y:jt.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const y=px(i,dm(t));h=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=Qt(e);if(".priority"===y){(0,N.hu)(1===kp(e),"Can't have a priority with additional path components");const T=c.getNode();f=t.serverCache.getNode();const I=bV(i,e,T,f);h=null!=I?n.filter.updatePriority(T,I):c.getNode()}else{const T=Rn(e);let I;if(c.isCompleteForChild(y)){f=t.serverCache.getNode();const M=bV(i,e,c.getNode(),f);I=null!=M?c.getNode().getImmediateChild(y).updateChild(T,M):c.getNode().getImmediateChild(y)}else I=oO(i,y,t.serverCache);h=null!=I?n.filter.updateChild(c.getNode(),y,I,T,r,o):c.getNode()}}return f0(t,h,c.isFullyInitialized()||Jt(e),n.filter.filtersNodes())}}function gx(n,t,e,i,r,o,c,h){const f=t.serverCache;let y;const T=c?n.filter:n.filter.getIndexedFilter();if(Jt(e))y=T.updateFullNode(f.getNode(),i,null);else if(T.filtersNodes()&&!f.isFiltered()){const P=f.getNode().updateChild(e,i);y=T.updateFullNode(f.getNode(),P,null)}else{const P=Qt(e);if(!f.isCompleteForPath(e)&&kp(e)>1)return t;const V=Rn(e),ye=f.getNode().getImmediateChild(P).updateChild(V,i);y=".priority"===P?T.updatePriority(f.getNode(),ye):T.updateChild(f.getNode(),P,ye,V,EV,null)}const I=gV(t,y,f.isFullyInitialized()||Jt(e),T.filtersNodes());return IV(n,I,e,r,new aO(r,I,o),h)}function lO(n,t,e,i,r,o,c){const h=t.eventCache;let f,y;const T=new aO(r,t,o);if(Jt(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=f0(t,y,!0,n.filter.filtersNodes());else{const I=Qt(e);if(".priority"===I)y=n.filter.updatePriority(t.eventCache.getNode(),i),f=f0(t,y,h.isFullyInitialized(),h.isFiltered());else{const M=Rn(e),P=h.getNode().getImmediateChild(I);let V;if(Jt(M))V=i;else{const Q=T.getCompleteChild(I);V=null!=Q?".priority"===Vk(M)&&Q.getChild(Q2(M)).isEmpty()?Q:Q.updateChild(M,i):jt.EMPTY_NODE}f=P.equals(V)?t:f0(t,n.filter.updateChild(h.getNode(),I,V,M,T,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return f}function SV(n,t){return n.eventCache.isCompleteForChild(t)}function xV(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function cO(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,f=t;y=Jt(e)?i:new jn(null).setTree(e,i);const T=t.serverCache.getNode();return y.children.inorderTraversal((I,M)=>{if(T.hasChild(I)){const V=xV(0,t.serverCache.getNode().getImmediateChild(I),M);f=gx(n,f,new Cn(I),V,r,o,c,h)}}),y.children.inorderTraversal((I,M)=>{const P=!t.serverCache.isCompleteForChild(I)&&void 0===M.value;if(!T.hasChild(I)&&!P){const Q=xV(0,t.serverCache.getNode().getImmediateChild(I),M);f=gx(n,f,new Cn(I),Q,r,o,c,h)}}),f}class L8{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new $k(i.getIndex()),o=function YY(n){return n.loadsAllData()?new $k(n.getIndex()):n.hasLimit()?new KY(n):new d0(n)}(i);this.processor_=function A8(n){return{filter:n}}(o);const c=e.serverCache,h=e.eventCache,f=r.updateFullNode(jt.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode(jt.EMPTY_NODE,h.getNode(),null),T=new Op(f,c.isFullyInitialized(),r.filtersNodes()),I=new Op(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=ux(I,T),this.eventGenerator_=new l8(this.query_)}get query(){return this.query_}}function U8(n,t){const e=dm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Jt(t)&&!e.getImmediateChild(Qt(t)).isEmpty())?e.getChild(t):null}function DV(n){return 0===n.eventRegistrations_.length}function AV(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function MV(n,t,e,i){t.type===nl.MERGE&&null!==t.source.queryId&&((0,N.hu)(dm(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(dx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function k8(n,t,e,i,r){const o=new x8;let c,h;if(e.type===nl.OVERWRITE){const y=e;y.source.fromUser?c=lO(n,t,y.path,y.snap,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered()&&!Jt(y.path),c=gx(n,t,y.path,y.snap,i,r,h,o))}else if(e.type===nl.MERGE){const y=e;y.source.fromUser?c=function R8(n,t,e,i,r,o,c){let h=t;return i.foreach((f,y)=>{const T=fi(e,f);SV(t,Qt(T))&&(h=lO(n,h,T,y,r,o,c))}),i.foreach((f,y)=>{const T=fi(e,f);SV(t,Qt(T))||(h=lO(n,h,T,y,r,o,c))}),h}(n,t,y.path,y.children,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered(),c=cO(n,t,y.path,y.children,i,r,h,o))}else if(e.type===nl.ACK_USER_WRITE){const y=e;c=y.revert?function F8(n,t,e,i,r,o){let c;if(null!=fx(i,e))return t;{const h=new aO(i,t,r),f=t.eventCache.getNode();let y;if(Jt(e)||".priority"===Qt(e)){let T;if(t.serverCache.isFullyInitialized())T=px(i,dm(t));else{const I=t.serverCache.getNode();(0,N.hu)(I instanceof jt,"serverChildren would be complete if leaf node"),T=sO(i,I)}T=T,y=n.filter.updateFullNode(f,T,o)}else{const T=Qt(e);let I=oO(i,T,t.serverCache);null==I&&t.serverCache.isCompleteForChild(T)&&(I=f.getImmediateChild(T)),y=null!=I?n.filter.updateChild(f,T,I,Rn(e),h,o):t.eventCache.getNode().hasChild(T)?n.filter.updateChild(f,T,jt.EMPTY_NODE,Rn(e),h,o):f,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=px(i,dm(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=fx(i,_n()),f0(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function P8(n,t,e,i,r,o,c){if(null!=fx(r,e))return t;const h=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(Jt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return gx(n,t,e,f.getNode().getChild(e),r,o,h,c);if(Jt(e)){let y=new jn(null);return f.getNode().forEachChild(uu,(T,I)=>{y=y.set(new Cn(T),I)}),cO(n,t,e,y,r,o,h,c)}return t}{let y=new jn(null);return i.foreach((T,I)=>{const M=fi(e,T);f.isCompleteForPath(M)&&(y=y.set(T,f.getNode().getChild(M)))}),cO(n,t,e,y,r,o,h,c)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==nl.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function N8(n,t,e,i,r){const o=t.serverCache;return IV(n,gV(t,o.getNode(),o.isFullyInitialized()||Jt(e),o.isFiltered()),e,i,EV,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function O8(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=dx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(dV(dx(t)))}}(t,c,f),{viewCache:c,changes:f}}(n.processor_,r,t,e,i);return function M8(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,kV(n,o.changes,o.viewCache.eventCache.getNode(),null)}function kV(n,t,e,i){return function c8(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function WY(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),p0(n,r,"child_removed",t,i,e),p0(n,r,"child_added",t,i,e),p0(n,r,"child_moved",o,i,e),p0(n,r,"child_changed",t,i,e),p0(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let mx,yx;class OV{constructor(){this.views=new Map}}function uO(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),MV(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(MV(c,t,e,i));return o}}function RV(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let h=px(e,r?i:null),f=!1;h?f=!0:i instanceof jt?(h=sO(e,i),f=!1):(h=jt.EMPTY_NODE,f=!1);const y=ux(new Op(h,f,!1),new Op(i,r,!1));return new L8(t,y)}return c}function PV(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Pp(n,t){let e=null;for(const i of n.views.values())e=e||U8(i,t);return e}function NV(n,t){return t._queryParams.loadsAllData()?_x(n):n.views.get(t._queryIdentifier)}function FV(n,t){return null!=NV(n,t)}function Np(n){return null!=_x(n)}function _x(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Y8=1;class LV{constructor(t){this.listenProvider_=t,this.syncPointTree_=new jn(null),this.pendingWriteTree_=function I8(){return{visibleWrites:Wl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dO(n,t,e,i,r){return function p8(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=g0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?_v(n,new um({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Fp(n,t,e=!1){const i=function g8(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function m8(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&_8(h,i.path)?r=!1:tl(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function y8(n){n.visibleWrites=vV(n.allWrites,v8,_n()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=mV(n.visibleWrites,i.path):Kr(i.children,f=>{n.visibleWrites=mV(n.visibleWrites,fi(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new jn(null);return null!=i.snap?o=o.set(_n(),!0):Kr(i.children,c=>{o=o.set(new Cn(c),!0)}),_v(n,new cx(i.path,o,e))}return[]}function m0(n,t,e){return _v(n,new um({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function hO(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let c=[];if(o&&("default"===t._queryIdentifier||FV(o,t))){const h=function $8(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=Np(n);if("default"===r)for(const[f,y]of n.views.entries())c=c.concat(AV(y,e,i)),DV(y)&&(n.views.delete(f),y.query._queryParams.loadsAllData()||o.push(y.query));else{const f=n.views.get(r);f&&(c=c.concat(AV(f,e,i)),DV(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!Np(n)&&o.push(new(function G8(){return(0,N.hu)(mx,"Reference.ts has not been loaded"),mx}())(t._repo,t._path)),{removed:o,events:c}}(o,t,e,i);(function z8(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=h.removed;c=h.events;const y=-1!==f.findIndex(I=>I._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(r,(I,M)=>Np(M));if(y&&!T){const I=n.syncPointTree_.subtree(r);if(!I.isEmpty()){const M=function rQ(n){return n.fold((t,e,i)=>{if(e&&Np(e))return[_x(e)];{let r=[];return e&&(r=PV(e)),Kr(i,(o,c)=>{r=r.concat(c)}),r}})}(I);for(let P=0;P<M.length;++P){const V=M[P],Q=V.query,ye=HV(n,V);n.listenProvider_.startListening(_0(Q),wx(n,Q),ye.hashFn,ye.onComplete)}}}!T&&f.length>0&&!i&&(y?n.listenProvider_.stopListening(_0(t),null):f.forEach(I=>{const M=n.queryToTagMap.get(bx(I));n.listenProvider_.stopListening(_0(I),M)})),function sQ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=bx(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return c}function VV(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(I,M)=>{const P=ao(I,i);r=r||Pp(M,P),o=o||Np(M)});let h,c=n.syncPointTree_.get(i);c?(o=o||Np(c),r=r||Pp(c,_n())):(c=new OV,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=jt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((M,P)=>{const V=Pp(P,_n());V&&(r=r.updateImmediateChild(M,V))}));const f=FV(c,t);if(!f&&!t._queryParams.loadsAllData()){const I=bx(t);(0,N.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const M=function oQ(){return Y8++}();n.queryToTagMap.set(I,M),n.tagToQueryMap.set(M,I)}let T=function Z8(n,t,e,i,r,o){const c=RV(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function H8(n,t){n.eventRegistrations_.push(t)}(c,e),function j8(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Hn,(o,c)=>{i.push(pv(o,c))}),e.isFullyInitialized()&&i.push(dV(e.getNode())),kV(n,i,e.getNode(),t)}(c,e)}(c,t,e,hx(n.pendingWriteTree_,i),r,h);if(!f&&!o){const I=NV(c,t);T=T.concat(function aQ(n,t,e){const i=t._path,r=wx(n,t),o=HV(n,e),c=n.listenProvider_.startListening(_0(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Np(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((y,T,I)=>{if(!Jt(y)&&T&&Np(T))return[_x(T).query];{let M=[];return T&&(M=M.concat(PV(T).map(P=>P.query))),Kr(I,(P,V)=>{M=M.concat(V)}),M}});for(let y=0;y<f.length;++y){const T=f[y];n.listenProvider_.stopListening(_0(T),wx(n,T))}}return c}(n,t,I))}return T}function vx(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const y=Pp(h,ao(c,t));if(y)return y});return wV(r,t,o,e,!0)}function _v(n,t){return BV(t,n.syncPointTree_,null,hx(n.pendingWriteTree_,_n()))}function BV(n,t,e,i){if(Jt(n.path))return UV(n,t,e,i);{const r=t.get(_n());null==e&&null!=r&&(e=Pp(r,_n()));let o=[];const c=Qt(n.path),h=n.operationForChild(c),f=t.children.get(c);if(f&&h){const y=e?e.getImmediateChild(c):null,T=CV(i,c);o=o.concat(BV(h,f,y,T))}return r&&(o=o.concat(uO(r,n,i,e))),o}}function UV(n,t,e,i){const r=t.get(_n());null==e&&null!=r&&(e=Pp(r,_n()));let o=[];return t.children.inorderTraversal((c,h)=>{const f=e?e.getImmediateChild(c):null,y=CV(i,c),T=n.operationForChild(c);T&&(o=o.concat(UV(T,h,f,y)))}),r&&(o=o.concat(uO(r,n,i,e))),o}function HV(n,t){const e=t.query,i=wx(n,e);return{hashFn:()=>(function V8(n){return n.viewCache_.serverCache.getNode()}(t)||jt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function eQ(n,t,e){const i=pO(n,e);if(i){const r=fO(i),o=r.path,c=r.queryId,h=ao(o,t);return gO(n,o,new h0(eO(c),h))}return[]}(n,e._path,i):function X8(n,t){return _v(n,new h0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function QK(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return hO(n,e,null,o)}}}}function wx(n,t){const e=bx(t);return n.queryToTagMap.get(e)}function bx(n){return n._path.toString()+"$"+n._queryIdentifier}function pO(n,t){return n.tagToQueryMap.get(t)}function fO(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cn(n.substr(0,t))}}function gO(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),uO(i,e,hx(n.pendingWriteTree_,t),null)}function _0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function K8(){return(0,N.hu)(yx,"Reference.ts has not been loaded"),yx}())(n._repo,n._path):n}class mO{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new mO(e)}node(){return this.node_}}class _O{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=fi(this.path_,t);return new _O(this.syncTree_,e)}node(){return vx(this.syncTree_,this.path_)}}const jV=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?cQ(n[".sv"],t,e):"object"==typeof n[".sv"]?uQ(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},cQ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},uQ=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},qV=function(n,t,e,i){return vO(t,new _O(e,n),i)},yO=function(n,t,e){return vO(n,new mO(t),e)};function vO(n,t,e){const i=n.getPriority().val(),r=jV(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=jV(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new uv(h,wi(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new uv(r))),c.forEachChild(Hn,(h,f)=>{const y=vO(f,t.getImmediateChild(h),e);y!==f&&(o=o.updateImmediateChild(h,y))}),o}}class wO{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Cx(n,t){let e=t instanceof Cn?t:new Cn(t),i=n,r=Qt(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new wO(r,i,o),e=Rn(e),r=Qt(e)}return i}function pm(n){return n.node.value}function bO(n,t){n.node.value=t,CO(n)}function GV(n){return n.node.childCount>0}function Tx(n,t){Kr(n.node.children,(e,i)=>{t(new wO(e,n,i))})}function zV(n,t,e,i){e&&!i&&t(n),Tx(n,r=>{zV(r,t,!0,i)}),e&&i&&t(n)}function y0(n){return new Cn(null===n.parent?n.name:y0(n.parent)+"/"+n.name)}function CO(n){null!==n.parent&&function pQ(n,t,e){const i=function dQ(n){return void 0===pm(n)&&!GV(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,CO(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,CO(n))}(n.parent,n.name,n)}const fQ=/[\[\].#$\/\u0000-\u001F\u007F]/,gQ=/[\[\].#$\u0000-\u001F\u007F]/,TO=10485760,Ex=function(n){return"string"==typeof n&&0!==n.length&&!fQ.test(n)},ZV=function(n){return"string"==typeof n&&0!==n.length&&!gQ.test(n)},v0=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!YS(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},du=function(n,t,e,i){i&&void 0===t||w0((0,N.gK)(n,"value"),t,e)},w0=function(n,t,e){const i=e instanceof Cn?new DY(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+lm(i));if("function"==typeof t)throw new Error(n+"contains a function "+lm(i)+" with contents = "+t.toString());if(YS(t))throw new Error(n+"contains "+t.toString()+" "+lm(i));if("string"==typeof t&&t.length>TO/3&&(0,N.ug)(t)>TO)throw new Error(n+"contains a string greater than "+TO+" utf8 bytes "+lm(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Kr(t,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!Ex(c)))throw new Error(n+" contains an invalid key ("+c+") "+lm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function AY(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),J2(n)})(i,c),w0(n,h,i),function MY(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+lm(i)+" in addition to actual children.")}},$V=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Kr(t,(c,h)=>{const f=new Cn(c);if(w0(r,h,fi(e,f)),".priority"===Vk(f)&&!v0(h))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=s0(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!Ex(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(xY);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&tl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},EO=function(n,t,e){if(!e||void 0!==t){if(YS(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!v0(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},b0=function(n,t,e,i){if(!(i&&void 0===e||Ex(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},C0=function(n,t,e,i){if(!(i&&void 0===e||ZV(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},il=function(n,t){if(".info"===Qt(t))throw new Error(n+" failed = Can't modify data under /.info/")},WV=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ex(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ZV(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class vQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ix(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!Bk(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function IO(n,t,e){Ix(n,e),KV(n,i=>Bk(i,t))}function rl(n,t,e){Ix(n,e),KV(n,i=>tl(i,t)||tl(t,i))}function KV(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(wQ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function wQ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();om&&Wr("event: "+e.toString()),lv(i)}}}const YV="repo_interrupt";class CQ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lx(),this.transactionQueueTree_=new wO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QV(n){const e=n.infoData_.getNode(new Cn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function T0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:QV(n)})}function JV(n,t,e,i,r){n.dataUpdateCount++;const o=new Cn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const f=(0,N.UI)(e,y=>wi(y));c=function nQ(n,t,e,i){const r=pO(n,i);if(r){const o=fO(r),c=o.path,h=o.queryId,f=ao(c,t),y=jn.fromObject(e);return gO(n,c,new gv(eO(h),f,y))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=wi(e);c=function tQ(n,t,e,i){const r=pO(n,i);if(null!=r){const o=fO(r),c=o.path,h=o.queryId,f=ao(c,t);return gO(n,c,new um(eO(h),f,e))}return[]}(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,N.UI)(e,y=>wi(y));c=function J8(n,t,e){const i=jn.fromObject(e);return _v(n,new gv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=wi(e);c=m0(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=vv(n,o)),rl(n.eventQueue_,h,c)}function XV(n,t){SO(n,"connected",t),!1===t&&function xQ(n){yv(n,"onDisconnectEvents");const t=T0(n),e=lx();Qk(n.onDisconnect_,_n(),(r,o)=>{const c=qV(r,o,n.serverSyncTree_,t);fv(e,r,c)});let i=[];Qk(e,_n(),(r,o)=>{i=i.concat(m0(n.serverSyncTree_,r,o));const c=MO(n,r);vv(n,c)}),n.onDisconnect_=lx(),rl(n.eventQueue_,_n(),i)}(n)}function SO(n,t,e){const i=new Cn("/.info/"+t),r=wi(e);n.infoData_.updateSnapshot(i,r);const o=m0(n.infoSyncTree_,i,r);rl(n.eventQueue_,i,o)}function Sx(n){return n.nextWriteId_++}function xO(n,t,e,i,r){yv(n,"set",{path:t.toString(),value:e,priority:i});const o=T0(n),c=wi(e,i),h=vx(n.serverSyncTree_,t),f=yO(c,h,o),y=Sx(n),T=dO(n.serverSyncTree_,t,f,y,!0);Ix(n.eventQueue_,T),n.server_.put(t.toString(),c.val(!0),(M,P)=>{const V="ok"===M;V||Ns("set at "+t+" failed: "+M);const Q=Fp(n.serverSyncTree_,y,!V);rl(n.eventQueue_,t,Q),Lp(0,r,M,P)});const I=MO(n,t);vv(n,I),rl(n.eventQueue_,I,[])}function DQ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Yk(n.onDisconnect_,t),Lp(0,e,i,r)})}function eB(n,t,e,i){const r=wi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&fv(n.onDisconnect_,t,r),Lp(0,i,o,c)})}function DO(n,t,e){let i;i=".info"===Qt(t._path)?hO(n.infoSyncTree_,t,e):hO(n.serverSyncTree_,t,e),IO(n.eventQueue_,t._path,i)}function tB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(YV)}function yv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Wr(e,...t)}function Lp(n,t,e,i){t&&lv(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function AO(n,t,e){return vx(n.serverSyncTree_,t,e)||jt.EMPTY_NODE}function xx(n,t=n.transactionQueueTree_){if(t||Dx(n,t),pm(t)){const e=iB(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function PQ(n,t,e){const i=e.map(y=>y.currentWriteId),r=AO(n,t,i);let o=r;const c=r.hash();for(let y=0;y<e.length;y++){const T=e[y];(0,N.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const I=ao(t,T.path);o=o.updateChild(I,T.currentOutputSnapshotRaw)}const h=o.val(!0),f=t;n.server_.put(f.toString(),h,y=>{yv(n,"transaction put response",{path:f.toString(),status:y});let T=[];if("ok"===y){const I=[];for(let M=0;M<e.length;M++)e[M].status=2,T=T.concat(Fp(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&I.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();Dx(n,Cx(n.transactionQueueTree_,t)),xx(n,n.transactionQueueTree_),rl(n.eventQueue_,t,T);for(let M=0;M<I.length;M++)lv(I[M])}else{if("datastale"===y)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Ns("transaction at "+f.toString()+" failed: "+y);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=y}vv(n,t)}},c)}(n,y0(t),e)}else GV(t)&&Tx(t,e=>{xx(n,e)})}function vv(n,t){const e=nB(n,t),i=y0(e);return function NQ(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const f=t[h],y=ao(e,f.path);let I,T=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)T=!0,I=f.abortReason,r=r.concat(Fp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)T=!0,I="maxretry",r=r.concat(Fp(n.serverSyncTree_,f.currentWriteId,!0));else{const M=AO(n,f.path,c);f.currentInputSnapshot=M;const P=t[h].update(M.val());if(void 0!==P){w0("transaction failed: Data returned ",P,f.path);let V=wi(P);"object"==typeof P&&null!=P&&(0,N.r3)(P,".priority")||(V=V.updatePriority(M.getPriority()));const ye=f.currentWriteId,He=T0(n),Xe=yO(V,M,He);f.currentOutputSnapshotRaw=V,f.currentOutputSnapshotResolved=Xe,f.currentWriteId=Sx(n),c.splice(c.indexOf(ye),1),r=r.concat(dO(n.serverSyncTree_,f.path,Xe,f.currentWriteId,f.applyLocally)),r=r.concat(Fp(n.serverSyncTree_,ye,!0))}else T=!0,I="nodata",r=r.concat(Fp(n.serverSyncTree_,f.currentWriteId,!0))}rl(n.eventQueue_,e,r),r=[],T&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}Dx(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)lv(i[h]);xx(n,n.transactionQueueTree_)}(n,iB(n,e),i),i}function nB(n,t){let e,i=n.transactionQueueTree_;for(e=Qt(t);null!==e&&void 0===pm(i);)i=Cx(i,e),e=Qt(t=Rn(t));return i}function iB(n,t){const e=[];return rB(n,t,e),e.sort((i,r)=>i.order-r.order),e}function rB(n,t,e){const i=pm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Tx(t,r=>{rB(n,r,e)})}function Dx(n,t){const e=pm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,bO(t,e.length>0?e:void 0)}Tx(t,i=>{Dx(n,i)})}function MO(n,t){const e=y0(nB(n,t)),i=Cx(n.transactionQueueTree_,t);return function hQ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{kO(n,r)}),kO(n,i),zV(i,r=>{kO(n,r)}),e}function kO(n,t){const e=pm(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Fp(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?bO(t,void 0):e.length=o+1,rl(n.eventQueue_,y0(t),r);for(let c=0;c<i.length;c++)lv(i[c])}}const OO=function(n,t){const e=VQ(n),i=e.namespace;return"firebase.com"===e.domain&&lu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&lu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ns("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ok(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Cn(e.pathString)}},VQ=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",f=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let T=n.indexOf("/");-1===T&&(T=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(T,I)),T<I&&(r=function FQ(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(T,I)));const M=function LQ(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ns(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));y=t.indexOf(":"),y>=0?(c="https"===h||"wss"===h,f=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};class sB{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class oB{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class aB{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class lB{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return DQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){il("OnDisconnect.remove",this._path);const t=new N.BH;return eB(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){il("OnDisconnect.set",this._path),du("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return eB(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){il("OnDisconnect.setWithPriority",this._path),du("OnDisconnect.setWithPriority",t,this._path,!1),EO("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function AQ(n,t,e,i,r){const o=wi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&fv(n.onDisconnect_,t,o),Lp(0,r,c,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){il("OnDisconnect.update",this._path),$V("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function MQ(n,t,e,i){if((0,N.xb)(e))return Wr("onDisconnect().update() called with empty data.  Don't do anything."),void Lp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Kr(e,(c,h)=>{const f=wi(h);fv(n.onDisconnect_,fi(t,c),f)}),Lp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class No{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:Vk(this._path)}get ref(){return new sl(this._repo,this._path)}get _queryIdentifier(){const t=pV(this._queryParams),e=Ak(t);return"{}"===e?"default":e}get _queryObject(){return pV(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof No))return!1;const e=this._repo===t._repo,i=Bk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function SY(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Ax(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Vp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===uu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ed)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==cu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Hn){if(null!=t&&!v0(t)||null!=e&&!v0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof Gk||n.getIndex()===zk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Mx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class sl extends No{constructor(t,e){super(t,e,new sx,!1)}get parent(){const t=Q2(this._path);return null===t?null:new sl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class fm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Cn(t),i=gm(this.ref,t);return new fm(this._node.getChild(e),i,Hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new fm(r,gm(this.ref,i),Hn)))}hasChild(t){const e=new Cn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cB(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?gm(n._root,t):n._root}function uB(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=OO(t,n._repo.repoInfo_.nodeAdmin);WV("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&lu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),cB(n,e.path.toString())}function gm(n,t){return null===Qt((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),C0("child","path",e,!1)):C0("child","path",t,!1),new sl(n._repo,fi(n._path,t));var e}function RO(n,t){n=(0,N.m9)(n),il("set",n._path),du("set",t,n._path,!1);const e=new N.BH;return xO(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function qQ(n,t){$V("update",t,n._path,!1);const e=new N.BH;return function SQ(n,t,e,i){yv(n,"update",{path:t.toString(),value:e});let r=!0;const o=T0(n),c={};if(Kr(e,(h,f)=>{r=!1,c[h]=qV(fi(t,h),wi(f),n.serverSyncTree_,o)}),r)Wr("update() called with empty data.  Don't do anything."),Lp(0,i,"ok",void 0);else{const h=Sx(n),f=function Q8(n,t,e,i){!function f8(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=nO(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=jn.fromObject(e);return _v(n,new gv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,h);Ix(n.eventQueue_,f),n.server_.merge(t.toString(),e,(y,T)=>{const I="ok"===y;I||Ns("update at "+t+" failed: "+y);const M=Fp(n.serverSyncTree_,h,!I),P=M.length>0?vv(n,t):t;rl(n.eventQueue_,P,M),Lp(0,i,y,T)}),Kr(e,y=>{const T=MO(n,fi(t,y));vv(n,T)}),rl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function GQ(n){return function IQ(n,t){const e=function iQ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,T)=>{const I=ao(y,e);i=i||Pp(T,I)});let r=n.syncPointTree_.get(e);r?i=i||Pp(r,_n()):(r=new OV,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new Op(i,!0,!1):null;return function B8(n){return dx(n.viewCache_)}(RV(r,t,hx(n.pendingWriteTree_,t._path),o?c.getNode():jt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=wi(i).withIndex(t._queryParams.getIndex()),o=m0(n.serverSyncTree_,t._path,r);return IO(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(yv(n,"get for query "+(0,N.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,N.m9)(n))._repo,n).then(t=>new fm(t,new sl(n._repo,n._path),n._queryParams.getIndex()))}class kx{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new sB("value",this,new fm(t.snapshotNode,new sl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oB(this,t,e):null}matches(t){return t instanceof kx&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ox{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oB(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=gm(new sl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new sB(t.type,this,new fm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ox&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function E0(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,y=(T,I)=>{DO(n._repo,n,h),f(T,I)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new aB(e,o||void 0),h="value"===t?new kx(c):new Ox(t,c);return function kQ(n,t,e){let i;i=".info"===Qt(t._path)?VV(n.infoSyncTree_,t,e):VV(n.serverSyncTree_,t,e),IO(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>DO(n._repo,n,h)}function PO(n,t,e,i){return E0(n,"value",t,e,i)}function dB(n,t,e,i){return E0(n,"child_added",t,e,i)}function hB(n,t,e,i){return E0(n,"child_changed",t,e,i)}function pB(n,t,e,i){return E0(n,"child_moved",t,e,i)}function fB(n,t,e,i){return E0(n,"child_removed",t,e,i)}function gB(n,t,e){let i=null;const r=e?new aB(e):null;"value"===t?i=new kx(r):t&&(i=new Ox(t,r)),DO(n._repo,n,i)}class Kl{}class mB extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){du("endAt",this._value,t._path,!0);const e=Kk(t._queryParams,this._value,this._key);if(Mx(e),Vp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class ZQ extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){du("endBefore",this._value,t._path,!1);const e=function e8(n,t,e){let i,r;return n.index_===uu?("string"==typeof t&&(t=uV(t)),r=Kk(n,t,e)):(i=null==e?Ed:uV(e),r=Kk(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Mx(e),Vp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class _B extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){du("startAt",this._value,t._path,!0);const e=Wk(t._queryParams,this._value,this._key);if(Mx(e),Vp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class KQ extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){du("startAfter",this._value,t._path,!1);const e=function XY(n,t,e){let i;if(n.index_===uu)"string"==typeof t&&(t=cV(t)),i=Wk(n,t,e);else{let r;r=null==e?cu:cV(e),i=Wk(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Mx(e),Vp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new No(t._repo,t._path,e,t._orderByCalled)}}class QQ extends Kl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(t._repo,t._path,function QY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class XQ extends Kl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(t._repo,t._path,function JY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class tJ extends Kl{constructor(t){super(),this._path=t}_apply(t){Ax(t,"orderByChild");const e=new Cn(this._path);if(Jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Gk(e),r=ox(t._queryParams,i);return Vp(r),new No(t._repo,t._path,r,!0)}}class iJ extends Kl{_apply(t){Ax(t,"orderByKey");const e=ox(t._queryParams,uu);return Vp(e),new No(t._repo,t._path,e,!0)}}class sJ extends Kl{_apply(t){Ax(t,"orderByPriority");const e=ox(t._queryParams,Hn);return Vp(e),new No(t._repo,t._path,e,!0)}}class aJ extends Kl{_apply(t){Ax(t,"orderByValue");const e=ox(t._queryParams,zk);return Vp(e),new No(t._repo,t._path,e,!0)}}class cJ extends Kl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(du("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mB(this._value,this._key)._apply(new _B(this._value,this._key)._apply(t))}}function Yl(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function q8(n){(0,N.hu)(!mx,"__referenceConstructor has already been defined"),mx=n})(sl),function W8(n){(0,N.hu)(!yx,"__referenceConstructor has already been defined"),yx=n}(sl);const NO={};function vB(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||lu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,y,c=OO(o,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(f=!0,o=`http://${y}?ns=${h.namespace}`,c=OO(o,r),h=c.repoInfo):f=!c.repoInfo.secure;const T=r&&f?new r0(r0.OWNER):new tY(n.name,n.options,t);WV("Invalid Firebase Database URL",c),Jt(c.path)||lu("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function fJ(n,t,e,i){let r=NO[t.name];r||(r={},NO[t.name]=r);let o=r[n.toURLString()];return o&&lu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new CQ(n,false,e,i),r[n.toURLString()]=o,o}(h,n,T,new eY(n.name,e));return new mJ(I,n)}class mJ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function TQ(n,t,e){if(n.stats_=Nk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ax(n.repoInfo_,(i,r,o,c)=>{JV(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XV(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new cm(n.repoInfo_,t,(i,r,o,c)=>{JV(n,i,r,o,c)},i=>{XV(n,i)},i=>{!function EQ(n,t){Kr(t,(e,i)=>{SO(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function rY(n,t){const e=n.toString();return Pk[e]||(Pk[e]=t()),Pk[e]}(n.repoInfo_,()=>new a8(n.stats_,n.server_)),n.infoData_=new t8,n.infoSyncTree_=new LV({startListening:(i,r,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=m0(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),SO(n,"connected",!1),n.serverSyncTree_=new LV({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,f)=>{const y=c(h,f);rl(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sl(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function pJ(n,t){const e=NO[t];(!e||e[n.key]!==n)&&lu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),tB(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&lu("Cannot call "+t+" on a deleted database.")}}function wB(){B2.IS_TRANSPORT_INITIALIZED&&Ns("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _J(){wB(),Mp.forceDisallow()}function yJ(){wB(),cv.forceDisallow(),Mp.forceAllow()}function CJ(n,t){v2(n,t)}const EJ={".sv":"timestamp"};class xJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},cm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function TJ(n){f2(pa.SDK_VERSION),(0,pa._registerComponent)(new Mo.wA("database",(t,{instanceIdentifier:e})=>vB(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,pa.registerVersion)(h2,"0.13.0",n),(0,pa.registerVersion)(h2,"0.13.0","esm2017")}();const kJ=new Qs.Yd("@firebase/database-compat"),bB=function(n){kJ.warn("FIREBASE WARNING: "+n)};class PJ{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class NJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Bp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),C0("DataSnapshot.child","path",t,!1),new Bp(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),C0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Bp(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new wa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ls{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=ls.getCancelAndContextArgs_("Query.on",i,r),h=(y,T)=>{e.call(c.context,new Bp(this.database,y),T)};h.userCallback=e,h.context=c.context;const f=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return PO(this._delegate,h,f),e;case"child_added":return dB(this._delegate,h,f),e;case"child_removed":return fB(this._delegate,h,f),e;case"child_changed":return hB(this._delegate,h,f),e;case"child_moved":return pB(this._delegate,h,f),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,gB(this._delegate,t,r)}else gB(this._delegate,t)}get(){return GQ(this._delegate).then(t=>new Bp(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=ls.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,h=(y,T)=>{const I=new Bp(this.database,y);e&&e.call(o.context,I,T),c.resolve(I)};h.userCallback=e,h.context=o.context;const f=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(t){case"value":PO(this._delegate,h,f,{onlyOnce:!0});break;case"child_added":dB(this._delegate,h,f,{onlyOnce:!0});break;case"child_removed":fB(this._delegate,h,f,{onlyOnce:!0});break;case"child_changed":hB(this._delegate,h,f,{onlyOnce:!0});break;case"child_moved":pB(this._delegate,h,f,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new ls(this.database,Yl(this._delegate,function JQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new QQ(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new ls(this.database,Yl(this._delegate,function eJ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new XQ(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new ls(this.database,Yl(this._delegate,function nJ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return C0("orderByChild","path",n,!1),new tJ(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new ls(this.database,Yl(this._delegate,function rJ(){return new iJ}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new ls(this.database,Yl(this._delegate,function oJ(){return new sJ}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new ls(this.database,Yl(this._delegate,function lJ(){return new aJ}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new ls(this.database,Yl(this._delegate,function WQ(n=null,t){return b0("startAt","key",t,!0),new _B(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new ls(this.database,Yl(this._delegate,function YQ(n,t){return b0("startAfter","key",t,!0),new KQ(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new ls(this.database,Yl(this._delegate,function zQ(n,t){return b0("endAt","key",t,!0),new mB(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new ls(this.database,Yl(this._delegate,function $Q(n,t){return b0("endBefore","key",t,!0),new ZQ(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new ls(this.database,Yl(this._delegate,function uJ(n,t){return b0("equalTo","key",t,!0),new cJ(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ls))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new wa(this.database,new sl(this._delegate._repo,this._delegate._path))}}class wa extends ls{constructor(t,e){super(t,new No(e._repo,e._path,new sx,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new wa(this.database,gm(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new wa(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new wa(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=RO(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}il("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=qQ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function jQ(n,t,e){if(il("setWithPriority",n._path),du("setWithPriority",t,n._path,!1),EO("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return xO(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function UQ(n){return il("remove",n._path),RO(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function DJ(n,t,e){var i;if(n=(0,N.m9)(n),il("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new N.BH,h=PO(n,()=>{});return function RQ(n,t,e,i,r,o){yv(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:m2(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=AO(n,t,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{w0("transaction failed: Data returned ",f,c.path),c.status=0;const y=Cx(n.transactionQueueTree_,t),T=pm(y)||[];let I;T.push(c),bO(y,T),"object"==typeof f&&null!==f&&(0,N.r3)(f,".priority")?(I=(0,N.DV)(f,".priority"),(0,N.hu)(v0(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(vx(n.serverSyncTree_,t)||jt.EMPTY_NODE).getPriority().val();const M=T0(n),P=wi(f,I),V=yO(P,h,M);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=V,c.currentWriteId=Sx(n);const Q=dO(n.serverSyncTree_,t,V,c.currentWriteId,c.applyLocally);rl(n.eventQueue_,t,Q),xx(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,y,T)=>{let I=null;f?o.reject(f):(I=new fm(T,new sl(n._repo,n._path),Hn),o.resolve(new xJ(y,I)))},h,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new NJ(o.committed,new Bp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function HQ(n,t){n=(0,N.m9)(n),il("setPriority",n._path),EO("setPriority",t,!1);const e=new N.BH;return xO(n._repo,fi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function BQ(n,t){n=(0,N.m9)(n),il("push",n._path),du("push",t,n._path,!0);const e=QV(n._repo),i=$Y(e),r=gm(n,i),o=gm(n,i);let c;return c=null!=t?RO(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new wa(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new wa(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return il("Reference.onDisconnect",this._delegate._path),new PJ(new lB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class I0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:_J,forceLongPolling:yJ}}useEmulator(t,e,i={}){!function vJ(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&lu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&lu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new r0(r0.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new r0(c)}!function hJ(n,t,e,i){n.repoInfo_=new Ok(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof wa){const e=uB(this._delegate,t.toString());return new wa(this,e)}{const e=cB(this._delegate,t);return new wa(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=uB(this._delegate,t);return new wa(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function wJ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),tB(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function bJ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function OQ(n){n.persistentConnection_&&n.persistentConnection_.resume(YV)}(n._repo)}(this._delegate)}}I0.ServerValue={TIMESTAMP:function IJ(){return EJ}(),increment:n=>function SJ(n){return{".sv":{increment:n}}}(n)};var LJ=Object.freeze({__proto__:null,initStandalone:function FJ({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){f2(e);const c=new Mo.zt("auth-internal",new Mo.H0("database-standalone"));return c.setComponent(new Mo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new I0(vB(n,c,void 0,t,o),n),namespace:r}}});const VJ=I0.ServerValue;function CB(n){return null==n}function TB(n){return"function"==typeof n.set}function EB(n,t){return TB(t)?t:n.ref(t)}function IB(n,t){if(function UJ(n){return"string"==typeof n}(n))return t.stringCase();if(TB(n))return t.firebaseCase();if(function HJ(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function S0(n,t,e="on",i=tg.z){return new Zi.y(r=>{let o=null;return o=n[e](t,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,k.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:c,key:h}}),(0,zT.B)())}function SB(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function GJ(n,t){const{payload:e,prevKey:i,key:r}=t,o=SB(n,r),c=function qJ(n,t){if(CB(t))return 0;{const e=SB(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(f=>{const y={payload:f,type:"value",prevKey:h,key:f.key};return h=f.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function xB(n){return(CB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function DB(n,t,e){return function jJ(n,t,e){return S0(n,"value","once",e).pipe($i(i=>{const r=[bt(i)];return t.forEach(o=>r.push(S0(n,o,"on",e))),(0,O_.T)(...r).pipe(Sl(GJ,[]))}),sd())}(n,t=xB(t),e)}function AB(n,t,e){const i=(t=xB(t)).map(r=>S0(n,r,"on",e));return(0,O_.T)(...i)}function MB(n,t){return function(i,r){return IB(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function WJ(n){return function(e){return e?IB(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function kB(n,t){return function(){return S0(n,"value","on",t)}}!function BJ(n){n.INTERNAL.registerComponent(new Mo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new I0(r,i)},"PUBLIC").setServiceProps({Reference:wa,Query:ls,Database:I0,DataSnapshot:Bp,enableLogging:CJ,INTERNAL:LJ,ServerValue:VJ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(UE.Z);const QJ=new s.OlP("angularfire2.realtimeDatabaseURL"),JJ=new s.OlP("angularfire2.database.use-emulator");let XJ=(()=>{class n{constructor(e,i,r,o,c,h,f,y,T,I,M,P,V,Q,ye){this.schedulers=h;const He=f,Xe=(0,os.on)(e,c,i);y&&Ct(Xe,c,T,M,P,V,I,Q),this.database=(0,os.cc)(`${Xe.name}.database.${r}`,"AngularFireDatabase",Xe.name,()=>{const it=c.runOutsideAngular(()=>Xe.database(r||void 0));return He&&it.useEmulator(...He),it},[He])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>EB(this.database,e));let o=r;return i&&(o=i(r)),function KJ(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:MB(i,"update"),set:MB(i,"set"),push:r=>i.push(r),remove:WJ(i),snapshotChanges:r=>DB(n,r,e).pipe(Mn.iC),stateChanges:r=>AB(n,r,e).pipe(Mn.iC),auditTrail:r=>function zJ(n,t,e){return function $J(n,t,e){return function ZJ(n,t){return S0(n,"value","on",t).pipe((0,k.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function jK(...n){const t=(0,oa.jO)(n);return(0,m.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let f=0;f<r;f++)(0,El.Xf)(n[f]).subscribe((0,b.x)(i,y=>{o[f]=y,!h&&!c[f]&&(c[f]=!0,(h=c.every(vh.y))&&(c=null))},VL.Z));e.subscribe((0,b.x)(i,f=>{if(h){const y=[f,...o];i.next(t?t(...y):y)}}))})}(t),(0,k.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(f=>f.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function qK(n){return(0,m.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,b.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,k.U)(r=>r.actions))}(n,AB(n,t).pipe(Sl((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Mn.iC),valueChanges:(r,o)=>DB(n,r,e).pipe((0,k.U)(h=>h.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),Mn.iC)}}(o,this)}object(e){return function YJ(n,t){return{query:n,snapshotChanges:()=>kB(n,t.schedulers.outsideAngular)().pipe(Mn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>kB(n,t.schedulers.outsideAngular)().pipe(Mn.iC,(0,k.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>EB(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(os.Dh),s.LFG(os.xv,8),s.LFG(QJ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(JJ,8),s.LFG(W_,8),s.LFG(NE,8),s.LFG(Jf,8),s.LFG(FE,8),s.LFG(Z_,8),s.LFG($_,8),s.LFG(LE,8),s.LFG(z_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e7=(()=>{class n{constructor(){PE.Z.registerVersion("angularfire",Mn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XJ]}),n})();const OB_firebaseConfig={apiKey:"AIzaSyBubQfS5FkzpTBdeJF3WgQmCk3XRIX2muE",authDomain:"pranavam-759d0.firebaseapp.com",projectId:"pranavam-759d0",storageBucket:"pranavam-759d0.appspot.com",messagingSenderId:"1036267670449",appId:"1:1036267670449:web:78a97a16efd91192044b90"},t7=["container"],n7=["in"],r7=["multiIn"],s7=["multiContainer"],o7=["ddBtn"],a7=function(n,t){return{"p-autocomplete-dd-input":n,"p-disabled":t}};function l7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",8,9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",s.WLB(20,a7,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),s.uIk("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("autofocus",e.autofocus)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function c7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function u7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function d7(n,t){1&n&&s.GkF(0)}function h7(n,t){if(1&n&&(s.TgZ(0,"span",22),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function p7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",23),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(1);return s.oxw(2).removeItem(r)}),s.qZA()}}const Rx=function(n){return{$implicit:n}};function f7(n,t){if(1&n&&(s.TgZ(0,"li",17,18),s.YNc(2,d7,1,0,"ng-container",19),s.YNc(3,h7,2,1,"span",20),s.YNc(4,p7,1,0,"span",21),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(4,Rx,e)),s.xp6(1),s.Q6J("ngIf",!i.selectedItemTemplate),s.xp6(1),s.Q6J("ngIf",!i.disabled&&!i.readonly)}}const g7=function(n,t){return{"p-disabled":n,"p-focus":t}};function m7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ul",11,12),s.NdJ("click",function(){return s.CHM(e),s.MAs(5).focus()}),s.YNc(2,f7,5,6,"li",13),s.TgZ(3,"li",14)(4,"input",15,16),s.NdJ("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()()()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.WLB(20,g7,e.disabled,e.focus)),s.xp6(2),s.Q6J("ngForOf",e.value),s.xp6(2),s.Tol(e.inputStyleClass),s.Q6J("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),s.uIk("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("autofocus",e.autofocus)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function _7(n,t){1&n&&s._UZ(0,"i",24)}function y7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25,26),s.NdJ("click",function(r){return s.CHM(e),s.oxw().handleDropdownClick(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("icon",e.dropdownIcon)("disabled",e.disabled),s.uIk("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex)}}function v7(n,t){1&n&&s.GkF(0)}function w7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function b7(n,t){1&n&&s.GkF(0)}function C7(n,t){1&n&&s.GkF(0)}function T7(n,t){if(1&n&&(s.TgZ(0,"li",34),s.YNc(1,w7,2,1,"span",31),s.YNc(2,b7,1,0,"ng-container",19),s.qZA(),s.YNc(3,C7,1,0,"ng-container",19)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(7),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,Rx,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(7,Rx,r.getOptionGroupChildren(e)))}}function E7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,T7,4,9,"ng-template",33),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.suggestions)}}function I7(n,t){1&n&&s.GkF(0)}function S7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,I7,1,0,"ng-container",19),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.VKq(2,Rx,i.suggestions))}}function x7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function D7(n,t){1&n&&s.GkF(0)}const RB=function(n){return{"p-highlight":n}},PB=function(n,t){return{$implicit:n,index:t}};function A7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",39),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(4).selectItem(o)}),s.YNc(1,x7,2,1,"span",31),s.YNc(2,D7,1,0,"ng-container",19),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(5,RB,e===r.highlightOption))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(7,PB,e,i))}}function M7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,A7,3,10,"li",38),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function k7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(5);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function O7(n,t){1&n&&s.GkF(0)}const NB=function(n){return{height:n}};function R7(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"li",43),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(5).selectItem(o)}),s.YNc(2,k7,2,1,"span",31),s.YNc(3,O7,1,0,"ng-container",19),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(5);s.xp6(1),s.Q6J("ngClass",s.VKq(6,RB,e===r.highlightOption))("ngStyle",s.VKq(8,NB,r.itemSize+"px"))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(10,PB,e,i))}}function P7(n,t){if(1&n&&(s.TgZ(0,"cdk-virtual-scroll-viewport",41),s.YNc(1,R7,4,13,"ng-container",42),s.qZA()),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,NB,i.scrollHeight))("itemSize",i.itemSize),s.xp6(1),s.Q6J("cdkVirtualForOf",e)}}function N7(n,t){if(1&n&&s.YNc(0,P7,2,5,"cdk-virtual-scroll-viewport",40),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&!e.noResults)}}function F7(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function L7(n,t){1&n&&s.GkF(0,null,45)}function V7(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,F7,2,1,"ng-container",35),s.YNc(2,L7,2,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function B7(n,t){if(1&n&&(s.YNc(0,M7,2,1,"ng-container",35),s.YNc(1,N7,1,1,"ng-template",null,36,s.W1O),s.YNc(3,V7,3,3,"li",37)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.noResults&&i.showEmptyMessage)}}function U7(n,t){1&n&&s.GkF(0)}const H7=function(){return["p-autocomplete-panel p-component"]},j7=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},q7=function(n){return{value:"visible",params:n}},G7=function(n){return{"p-autocomplete-virtualscroll":n}};function z7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27,28),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(2,v7,1,0,"ng-container",29),s.TgZ(3,"ul",30),s.YNc(4,E7,2,1,"ng-container",31),s.YNc(5,S7,2,4,"ng-container",31),s.YNc(6,B7,4,3,"ng-template",null,32,s.W1O),s.qZA(),s.YNc(8,U7,1,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight),s.Q6J("ngClass",s.DdM(13,H7))("ngStyle",e.panelStyle)("@overlayAnimation",s.VKq(17,q7,s.WLB(14,j7,e.showTransitionOptions,e.hideTransitionOptions))),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngClass",s.VKq(19,G7,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Z7=function(n,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":n,"p-autocomplete-multiple":t}},$7={provide:ks,useExisting:(0,s.Gpc)(()=>W7),multi:!0};let W7=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.cd=r,this.differs=o,this.config=c,this.overlayService=h,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.completeMethod=new s.vpe,this.onSelect=new s.vpe,this.onUnselect=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onDropdownClick=new s.vpe,this.onClear=new s.vpe,this.onKeyUp=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=o.find([]).create(null),this.listId=Rl()+"_list"}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let e=re.findSingle(this.overlay,"li.p-highlight");if(e&&re.scrollInView(this.itemsWrapper,e),this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}updateVirtualScrollSelectedIndex(){this.highlightOption&&this.suggestions&&this.suggestions.length&&(this.virtualScrollSelectedIndex=this.findOptionIndex(this.highlightOption,this.suggestions))}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&re.isIE())return;this.timeout&&clearTimeout(this.timeout);let i=e.target.value;this.inputValue=i,!this.multiple&&!this.forceSelection&&this.onModelChange(i),0===i.length&&!this.multiple&&(this.hide(),this.onClear.emit(e),this.onModelChange(i)),i.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,i)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,i){null!=i&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i}))}selectItem(e,i=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(e)||!this.unique)&&(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(e),this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),i&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.itemsWrapper=this.virtualScroll?re.findSingle(this.overlay,".cdk-virtual-scroll-viewport"):this.overlay,this.appendOverlay(),this.autoZIndex&&or.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&or.clear(e.element)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){let i=this.field?ot.resolveFieldData(e,this.field):e;return void 0!==i?i:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?re.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):re.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let i=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,i),this.onDropdownClick.emit({originalEvent:e,query:i})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Lr.EMPTY_MESSAGE)}removeItem(e){let i=re.index(e),r=this.value[i];this.value=this.value.filter((o,c)=>c!=i),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}onKeydown(e){if(this.overlayVisible)switch(e.which){case 40:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.suggestions[r.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0):this.suggestions[r.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=r){var i=r+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}e.preventDefault();break;case 38:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0;else if(o<0){let c=this.suggestions[r.groupIndex-1];c&&(this.highlightOption=this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1],this.highlightOptionChanged=!0)}}}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);r>0&&(this.highlightOption=this.suggestions[r-1],this.highlightOptionChanged=!0)}e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===e.which&&this.suggestions?this.search(e,e.target.value):e.ctrlKey&&"z"===e.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):e.ctrlKey&&"z"===e.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===e.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const r=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let i=!1,r=e.target.value.trim();if(this.suggestions)for(let o of this.suggestions){let c=this.field?ot.resolveFieldData(o,this.field):o;if(c&&r===c.trim()){i=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(o,!1)},250);break}}i||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let i=!1;if(this.value&&this.value.length)for(let r=0;r<this.value.length;r++)if(ot.equals(this.value[r],e,this.dataKey)){i=!0;break}return i}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(ot.equals(e,i[o])){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.resolveFieldData(this.value);this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{3!==i.which&&(!this.inputClick&&!this.isDropdownClick(i)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let i=e.target;return i===this.dropdownButton.nativeElement||i.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xS(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&or.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.ZZ4),s.Y36(rd),s.Y36(K_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-autoComplete"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,_i,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(t7,5),s.Gf(n7,5),s.Gf(r7,5),s.Gf(s7,5),s.Gf(o7,5),s.Gf(rm,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerEL=r.first),s.iGM(r=s.CRH())&&(i.inputEL=r.first),s.iGM(r=s.CRH())&&(i.multiInputEL=r.first),s.iGM(r=s.CRH())&&(i.multiContainerEL=r.first),s.iGM(r=s.CRH())&&(i.dropdownButton=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus&&!i.disabled||i.overlayVisible)("p-autocomplete-clearable",i.showClear&&!i.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",virtualScroll:"virtualScroll",itemSize:"itemSize",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",scrollHeight:"scrollHeight",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[s._Bn([$7])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-autocomplete-empty-message",4,"ngIf"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","ngStyle","id","click"],[1,"p-autocomplete-empty-message"],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"span",0,1),s.YNc(2,l7,2,23,"input",2),s.YNc(3,c7,1,0,"i",3),s.YNc(4,u7,1,0,"i",3),s.YNc(5,m7,6,23,"ul",4),s.YNc(6,_7,1,0,"i",5),s.YNc(7,y7,2,4,"button",6),s.YNc(8,z7,9,21,"div",7),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(11,Z7,i.dropdown,i.multiple))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.multiple),s.xp6(1),s.Q6J("ngIf",!i.multiple&&i.inputValue&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.value&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.dropdown),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[rm,En,Bi,Ot,Ut,ms,ov,em,bk,Ck],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ar("overlayAnimation",[tn(":enter",[$n({opacity:0,transform:"scaleY(0.8)"}),Mr("{{showTransitionParams}}")]),tn(":leave",[Mr("{{hideTransitionParams}}",$n({opacity:0}))])])]},changeDetection:0}),n})(),K7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gn,BS,Dp,Oo,Ip,sv],Oo,sv]}),n})(),Y7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[HK]}),n.\u0275inj=s.cJS({providers:[sr,ui,kn],imports:[[ka,t_,Hx,UK,VS,os.hO.initializeApp(OB_firebaseConfig),kH,e7,Z$,Dp,qH,Oq,EG,zS,TG,BS,K7]]}),n})();(0,s.G48)(),cc().bootstrapModule(Y7).catch(n=>console.error(n))},5867:(et,we,F)=>{F.d(we,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.8.2","app")},127:(et,we,F)=>{F.d(we,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(et,we,F)=>{F.r(we);var s=F(5861),ee=F(3942),L=F(2090),de=F(9681),se=F(655),_e=F(1877),ue=F(4859);const Ne=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new _e.Yd("@firebase/auth");function Je(v,...g){Ze.logLevel<=_e.in.ERROR&&Ze.error(`Auth (${de.SDK_VERSION}): ${v}`,...g)}function Ae(v,...g){throw qe(v,...g)}function Te(v,...g){return qe(v,...g)}function Ie(v,g,m){const b=Object.assign(Object.assign({},Ue()),{[g]:m});return new L.LL("auth","Firebase",b).create(g,{appName:v.name})}function je(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ae(v,"argument-error"),Ie(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return ge.create(v,...g)}function G(v,g,...m){if(!v)throw qe(g,...m)}function Ce(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Je(g),new Error(g)}function Y(v,g){v||Ce(g)}const oe=new Map;function ne(v){Y(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(Y(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function Fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function gt(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class cn{constructor(g,m){this.shortDelay=g,this.longDelay=m,Y(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function qt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pn(v,g){Y(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class dn{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qi=new cn(3e4,6e4);function Xt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Gt(v,g,m,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(v,g,m,b,D={}){return Cr(v,D,(0,s.Z)(function*(){let k={},K={};b&&("GET"===g?K=b:k={body:JSON.stringify(b)});const fe=(0,L.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),dn.fetch()(uo(v,v.config.apiHost,m,fe),Object.assign({method:g,headers:Le,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Cr(v,g,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),g);try{const D=new ur(v),k=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw Qr(v,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const fe=k.ok?K.errorMessage:K.error.message,[Le,nt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Qr(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Le)throw Qr(v,"email-already-in-use",K);if("USER_DISABLED"===Le)throw Qr(v,"user-disabled",K);const _t=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Ie(v,_t,nt);Ae(v,_t)}}catch(D){if(D instanceof L.ZR)throw D;Ae(v,"network-request-failed")}})).apply(this,arguments)}function Ji(v,g,m,b){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(v,g,m,b,D={}){const k=yield Gt(v,g,m,b,D);return"mfaPendingCredential"in k&&Ae(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function uo(v,g,m,b){const D=`${g}${m}?${b}`;return v.config.emulator?Pn(v.config,D):`${v.config.apiScheme}://${D}`}class ur{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Te(this.auth,"network-request-failed")),Qi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qr(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Te(v,g,b);return D.customData._tokenResponse=m,D}function Tr(){return(Tr=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Dn(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ho(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function gi(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Fo(){return(Fo=(0,s.Z)(function*(v,g=!1){const m=(0,L.m9)(v),b=yield m.getIdToken(g),D=dt(b);G(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const k="object"==typeof D.firebase?D.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:D,token:b,authTime:gi(Kt(D.auth_time)),issuedAtTime:gi(Kt(D.iat)),expirationTime:gi(Kt(D.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(v){return 1e3*Number(v)}function dt(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(m);return D?JSON.parse(D):(Je("Failed to decode base64 JWT payload"),null)}catch(D){return Je("Caught error parsing JWT payload as JSON",D),null}}function Fi(v,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof L.ZR&&Zt(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Zt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Lo{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Li{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(v){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),D=yield Fi(v,ho(m,{idToken:b}));G(null==D?void 0:D.users.length,m,"internal-error");const k=D.users[0];v._notifyReloadListener(k);const K=(null===(g=k.providerUserInfo)||void 0===g?void 0:g.length)?Z(k.providerUserInfo):[],fe=xe(v.providerData,K),_t=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==fe?void 0:fe.length)),mt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:fe,metadata:new Li(k.createdAt,k.lastLoginAt),isAnonymous:_t};Object.assign(v,mt)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(v){const g=(0,L.m9)(v);yield Vi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function xe(v,g){return[...v.filter(b=>!g.some(D=>D.providerId===b.providerId)),...g]}function Z(v){return v.map(g=>{var{providerId:m}=g,b=(0,se._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Pe(){return(Pe=(0,s.Z)(function*(v,g){const m=yield Cr(v,{},(0,s.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:k}=v.config,K=uo(v,D,"/v1/token",`key=${k}`),fe=yield v._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(K,{method:"POST",headers:fe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){G(g.idToken,"internal-error"),G(void 0!==g.idToken,"internal-error"),G(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Tt(v){const g=dt(v);return G(g,"internal-error"),G(void 0!==g.exp,"internal-error"),G(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,s.Z)(function*(){return G(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:K}=yield function te(v,g){return Pe.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(D,k,Number(K))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:D,expirationTime:k}=m,K=new tt;return b&&(G("string"==typeof b,"internal-error",{appName:g}),K.refreshToken=b),D&&(G("string"==typeof D,"internal-error",{appName:g}),K.accessToken=D),k&&(G("number"==typeof k,"internal-error",{appName:g}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function yt(v,g){G("string"==typeof v||void 0===v,"internal-error",{appName:g})}class xt{constructor(g){var{uid:m,auth:b,stsTokenManager:D}=g,k=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Li(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const b=yield Fi(m,m.stsTokenManager.getToken(m.auth,g));return G(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function Er(v){return Fo.apply(this,arguments)}(this,g)}reload(){return function $(v){return W.apply(this,arguments)}(this)}_assign(g){this!==g&&(G(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,s.Z)(function*(){let D=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),D=!0),m&&(yield Vi(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield Fi(g,function vt(v,g){return Tr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,D,k,K,fe,Le,nt,_t;const mt=null!==(b=m.displayName)&&void 0!==b?b:void 0,ai=null!==(D=m.email)&&void 0!==D?D:void 0,Pr=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,Cl=null!==(K=m.photoURL)&&void 0!==K?K:void 0,xo=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,Bv=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,Tl=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,_h=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:zu,emailVerified:gf,isAnonymous:Zu,providerData:mf,stsTokenManager:jc}=m;G(zu&&jc,g,"internal-error");const li=tt.fromJSON(this.name,jc);G("string"==typeof zu,g,"internal-error"),yt(mt,g.name),yt(ai,g.name),G("boolean"==typeof gf,g,"internal-error"),G("boolean"==typeof Zu,g,"internal-error"),yt(Pr,g.name),yt(Cl,g.name),yt(xo,g.name),yt(Bv,g.name),yt(Tl,g.name),yt(_h,g.name);const $u=new xt({uid:zu,auth:g,email:ai,emailVerified:gf,displayName:mt,isAnonymous:Zu,photoURL:Cl,phoneNumber:Pr,tenantId:xo,stsTokenManager:li,createdAt:Tl,lastLoginAt:_h});return mf&&Array.isArray(mf)&&($u.providerData=mf.map(_f=>Object.assign({},_f))),Bv&&($u._redirectEventId=Bv),$u}static _fromIdTokenResponse(g,m,b=!1){return(0,s.Z)(function*(){const D=new tt;D.updateFromServerResponse(m);const k=new xt({uid:m.localId,auth:g,stsTokenManager:D,isAnonymous:b});return yield Vi(k),k})()}}const It=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,s.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function ti(v,g,m){return`firebase:${v}:${g}:${m}`}class Xi{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:D,name:k}=this.auth;this.fullUserKey=ti(this.userKey,D.apiKey,k),this.fullPersistenceKey=ti("persistence",D.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?xt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Xi(ne(It),g,b);const D=(yield Promise.all(m.map(function(){var nt=(0,s.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let k=D[0]||ne(It);const K=ti(b,g.config.apiKey,g.name);let fe=null;for(const nt of m)try{const _t=yield nt._get(K);if(_t){const mt=xt._fromJSON(g,_t);nt!==k&&(fe=mt),k=nt;break}}catch(_t){}const Le=D.filter(nt=>nt._shouldAllowMigration);return k._shouldAllowMigration&&Le.length?(k=Le[0],fe&&(yield k._set(K,fe.toJSON())),yield Promise.all(m.map(function(){var nt=(0,s.Z)(function*(_t){if(_t!==k)try{yield _t._remove(K)}catch(mt){}});return function(_t){return nt.apply(this,arguments)}}())),new Xi(k,g,b)):new Xi(k,g,b)})()}}function Ql(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ni(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ol(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Fs(g))return"Blackberry";if(ii(g))return"Webos";if(Jl(g))return"Safari";if((g.includes("chrome/")||al(g))&&!g.includes("edge/"))return"Chrome";if(er(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function ol(v=(0,L.z$)()){return/firefox\//i.test(v)}function Jl(v=(0,L.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function al(v=(0,L.z$)()){return/crios\//i.test(v)}function ni(v=(0,L.z$)()){return/iemobile/i.test(v)}function er(v=(0,L.z$)()){return/android/i.test(v)}function Fs(v=(0,L.z$)()){return/blackberry/i.test(v)}function ii(v=(0,L.z$)()){return/webos/i.test(v)}function hr(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function po(v=(0,L.z$)()){return hr(v)||er(v)||ii(v)||Fs(v)||/windows phone/i.test(v)||ni(v)}function Ca(v,g=[]){let m;switch(v){case"Browser":m=Ql((0,L.z$)());break;case"Worker":m=`${Ql((0,L.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${b}`}class pr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=k=>new Promise((K,fe)=>{try{K(g(k))}catch(Le){fe(Le)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const D of m.queue)yield D(g),D.onAbort&&b.push(D.onAbort)}catch(D){b.reverse();for(const k of b)try{k()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D.message})}})()}}class We{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hn(this),this.idTokenSubscription=new hn(this),this.beforeStateQueue=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,k;if(!b._deleted&&(b.persistenceManager=yield Xi.create(b,g),!b._deleted)){if(null===(D=b._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let k=D,K=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=null==k?void 0:k._redirectEventId,nt=yield m.tryRedirectSignIn(g);(!fe||fe===Le)&&(null==nt?void 0:nt.user)&&(k=nt.user,K=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(k)}catch(fe){k=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return G(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(D){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield Vi(g)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ke(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const b=g?(0,L.m9)(g):null;return b&&G(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return g&&G(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,s.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&ne(g)||m._popupRedirectResolver;G(b,m,"argument-error"),m.redirectPersistenceManager=yield Xi.create(m,[ne(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,D){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return G(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof m?g.addObserver(m,b,D):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(b["X-Firebase-Client"]=D),b})()}}function ft(v){return(0,L.m9)(v)}class hn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ds(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function hs(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Jr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,m){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function Ln(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:resetPassword",Xt(v,g))})).apply(this,arguments)}function Ta(v,g){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xl(v,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",Xt(v,g))})).apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithPassword",Xt(v,g))})).apply(this,arguments)}function go(v,g){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:sendOobCode",Xt(v,g))})).apply(this,arguments)}function gn(v,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(v,g){return go(v,g)})).apply(this,arguments)}function cl(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(v,g){return go(v,g)})).apply(this,arguments)}function ps(v,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(v,g){return go(v,g)})).apply(this,arguments)}function xd(v,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.Z)(function*(v,g){return go(v,g)})).apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}function Dd(){return(Dd=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}class Ui extends Jr{constructor(g,m,b,D=null){super("password",b),this._email=g,this._password=m,this._tenantId=D}static _fromEmailAndPassword(g,m){return new Ui(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new Ui(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function Ut(v,g){return Bo.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function gs(v,g){return Bi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ae(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return Ta(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ms(v,g){return Dd.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:Ae(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function mo(v,g){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithIdp",Xt(v,g))})).apply(this,arguments)}class Ls extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ls(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const K=new Ls(b,D);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(g){return mo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,mo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,mo(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,L.xO)(m)}return g}}function wm(v,g){return Md.apply(this,arguments)}function Md(){return(Md=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:sendVerificationCode",Xt(v,g))})).apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g))})).apply(this,arguments)}function kd(){return(kd=(0,s.Z)(function*(v,g){const m=yield Ji(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g));if(m.temporaryProof)throw Qr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Cm={USER_NOT_FOUND:"user-not-found"};function Od(){return(Od=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Cm)})).apply(this,arguments)}class Ea extends Jr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ea({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ea({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function pu(v,g){return _o.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function bm(v,g){return kd.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Tm(v,g){return Od.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}=g;return b||m||D||k?new Ea({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}):null}}class nc{constructor(g){var m,b,D,k,K,fe;const Le=(0,L.zd)((0,L.pd)(g)),nt=null!==(m=Le.apiKey)&&void 0!==m?m:null,_t=null!==(b=Le.oobCode)&&void 0!==b?b:null,mt=function jp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Le.mode)&&void 0!==D?D:null);G(nt&&_t&&mt,"argument-error"),this.apiKey=nt,this.operation=mt,this.code=_t,this.continueUrl=null!==(k=Le.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Le.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(fe=Le.tenantId)&&void 0!==fe?fe:null}static parseLink(g){const m=function ul(v){const g=(0,L.zd)((0,L.pd)(v)).link,m=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||g||v}(g);try{return new nc(m)}catch(b){return null}}}let Pd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Ui._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=nc.parseLink(b);return G(D,"argument-error"),Ui._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Hi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Uo extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class _s extends Uo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return G("providerId"in m&&"signInMethod"in m,"argument-error"),Ls._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return G(g.idToken||g.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return _s.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return _s.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:k,nonce:K,providerId:fe}=g;if(!b&&!D&&!m&&!k||!fe)return null;try{return new _s(fe)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:k})}catch(Le){return null}}}let Ia=(()=>{class v extends Uo{constructor(){super("facebook.com")}static credential(m){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Nd=(()=>{class v extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),qp=(()=>{class v extends Uo{constructor(){super("github.com")}static credential(m){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ho extends Jr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return mo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,mo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,mo(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D,pendingToken:k}=m;return b&&D&&k&&b===D?new Ho(b,k):null}static _create(g,m){return new Ho(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tr extends Hi{constructor(g){G(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return tr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return tr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Ho.fromJSON(g);return G(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return Ho._create(b,m)}catch(D){return null}}}let Fd=(()=>{class v extends Uo{constructor(){super("twitter.com")}static credential(m,b){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ji(v,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signUp",Xt(v,g))})).apply(this,arguments)}class Sr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,D=!1){return(0,s.Z)(function*(){const k=yield xt._fromIdTokenResponse(g,b,D),K=fu(b);return new Sr({user:k,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const D=fu(b);return new Sr({user:g,providerId:D,_tokenResponse:b,operationType:m})})()}}function fu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function gu(){return(gu=(0,s.Z)(function*(v){var g;const m=ft(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Sr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ji(m,{returnSecureToken:!0}),D=yield Sr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Da extends L.ZR{constructor(g,m,b,D){var k;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,Da.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,D){return new Da(g,m,b,D)}}function mu(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Da._fromErrorAndOperation(v,k,g,b):k})}function ys(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function pn(){return(pn=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);yield an(!0,m,g);const{providerUserInfo:b}=yield Dn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),D=ys(b||[]);return m.providerData=m.providerData.filter(k=>D.has(k.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function dl(v,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,s.Z)(function*(v,g,m=!1){const b=yield Fi(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Sr._forOperation(v,"link",b)})).apply(this,arguments)}function an(v,g,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,s.Z)(function*(v,g,m){yield Vi(g);const D=!1===v?"provider-already-linked":"no-such-provider";G(ys(g.providerData).has(m)===v,g.auth,D)})).apply(this,arguments)}function ic(v,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(v,g,m=!1){const{auth:b}=v,D="reauthenticate";try{const k=yield Fi(v,mu(b,D,g,v),m);G(k.idToken,b,"internal-error");const K=dt(k.idToken);G(K,b,"internal-error");const{sub:fe}=K;return G(v.uid===fe,b,"user-mismatch"),Sr._forOperation(v,D,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ae(b,"user-mismatch"),k}})).apply(this,arguments)}function Ti(v,g){return _u.apply(this,arguments)}function _u(){return(_u=(0,s.Z)(function*(v,g,m=!1){const b="signIn",D=yield mu(v,b,g),k=yield Sr._fromIdTokenResponse(v,b,D);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function In(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(v,g){return Ti(ft(v),g)})).apply(this,arguments)}function Ei(v,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);return yield an(!1,m,g.providerId),dl(m,g)})).apply(this,arguments)}function Vs(v,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,s.Z)(function*(v,g){return ic((0,L.m9)(v),g)})).apply(this,arguments)}function Xr(v,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(v,g){return Ji(v,"POST","/v1/accounts:signInWithCustomToken",Xt(v,g))})).apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(v,g){const m=ft(v),b=yield Xr(m,{token:g,returnSecureToken:!0}),D=yield Sr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class vo{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?yu._fromServerResponse(g,m):Ae(g,"internal-error")}}class yu extends vo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new yu(m)}}function fl(v,g,m){var b;G((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),G(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(G(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(G(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function rc(){return(rc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"PASSWORD_RESET",email:g};m&&fl(b,D,m),yield cl(b,D)})).apply(this,arguments)}function wu(){return(wu=(0,s.Z)(function*(v,g,m){yield Ln((0,L.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Me(){return(Me=(0,s.Z)(function*(v,g){yield Xl((0,L.m9)(v),{oobCode:g})})).apply(this,arguments)}function zt(v,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),b=yield Ln(m,{oobCode:g}),D=b.requestType;switch(G(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(b.mfaInfo,m,"internal-error");default:G(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=vo._fromServerResponse(ft(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:D}})).apply(this,arguments)}function oc(){return(oc=(0,s.Z)(function*(v,g){const{data:m}=yield zt((0,L.m9)(v),g);return m.email})).apply(this,arguments)}function xr(){return(xr=(0,s.Z)(function*(v,g,m){const b=ft(v),D=yield ji(b,{returnSecureToken:!0,email:g,password:m}),k=yield Sr._fromIdTokenResponse(b,"signIn",D);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function Tu(){return(Tu=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"EMAIL_SIGNIN",email:g};G(m.handleCodeInApp,b,"argument-error"),m&&fl(b,D,m),yield ps(b,D)})).apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=Pd.credentialWithLink(g,m||Fe());return G(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),In(b,D)})).apply(this,arguments)}function qi(v,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:createAuthUri",Xt(v,g))})).apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(v,g){const b={identifier:g,continueUri:gt()?Fe():"http://localhost"},{signinMethods:D}=yield qi((0,L.m9)(v),b);return D||[]})).apply(this,arguments)}function Eu(){return(Eu=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&fl(m.auth,D,g);const{email:k}=yield gn(m.auth,D);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function cc(){return(cc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&fl(b.auth,k,m);const{email:K}=yield xd(b.auth,k);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function Iu(v,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function dc(){return(dc=(0,s.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,L.m9)(v),k={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},K=yield Fi(b,Iu(b.auth,k));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const fe=b.providerData.find(({providerId:Le})=>"password"===Le);fe&&(fe.displayName=b.displayName,fe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function hc(v,g,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,s.Z)(function*(v,g,m){const{auth:b}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(k.email=g),m&&(k.password=m);const K=yield Fi(v,Ta(b,k));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Oa{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class jd extends Oa{constructor(g,m,b,D){super(g,m,b),this.username=D}}class pc extends Oa{constructor(g,m){super(g,"facebook.com",m)}}class gr extends jd{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class zp extends Oa{constructor(g,m){super(g,"google.com",m)}}class Su extends jd{constructor(g,m,b){super(g,"twitter.com",m,b)}}function mi(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Hd(v){var g,m;if(!v)return null;const{providerId:b}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const K=null===(m=null===(g=dt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Oa(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new pc(k,D);case"github.com":return new gr(k,D);case"google.com":return new zp(k,D);case"twitter.com":return new Su(k,D,v.screenName||null);case"custom":case"anonymous":return new Oa(k,null);default:return new Oa(k,b,D)}}(m)}class Us{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Us("enroll",g)}static _fromMfaPendingCredential(g){return new Us("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Us._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return Us._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Wo{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=ft(g),D=m.customData._serverResponse,k=(D.mfaInfo||[]).map(fe=>vo._fromServerResponse(b,fe));G(D.mfaPendingCredential,b,"internal-error");const K=Us._fromMfaPendingCredential(D.mfaPendingCredential);return new Wo(K,k,function(){var fe=(0,s.Z)(function*(Le){const nt=yield Le._process(b,K);delete D.mfaInfo,delete D.mfaPendingCredential;const _t=Object.assign(Object.assign({},D),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const mt=yield Sr._fromIdTokenResponse(b,m.operationType,_t);return yield b._updateCurrentUser(mt.user),mt;case"reauthenticate":return G(m.user,b,"internal-error"),Sr._forOperation(m.user,m.operationType,_t);default:Ae(b,"internal-error")}});return function(Le){return fe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function Gd(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:start",Xt(v,g))}class Ra{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>vo._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Ra(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Us._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var b=this;return(0,s.Z)(function*(){const D=g,k=yield b.getSession(),K=yield Fi(b.user,D._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const b="string"==typeof g?g:g.uid,D=yield m.user.getIdToken(),k=yield Fi(m.user,function Ko(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(v,g))}(m.user.auth,{idToken:D,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const fc=new WeakMap,Hs="__sak";class gc{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Hs,"1"),this.storage.removeItem(Hs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ar=(()=>{class v extends gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dm(){const v=(0,L.z$)();return Jl(v)||hr(v)}()&&function Ci(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=po(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),k=this.localCache[b];D!==k&&m(b,k,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((fe,Le,nt)=>{this.notifyListeners(fe,nt)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(D);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const k=()=>{const fe=this.storage.getItem(D);!b&&this.localCache[D]===fe||this.notifyListeners(D,fe)},K=this.storage.getItem(D);!function ll(){return(0,L.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,k=this;return(0,s.Z)(function*(){yield D().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,s.Z)(function*(){const k=yield b().call(D,m);return D.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,D=this;return(0,s.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),js=(()=>{class v extends gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let $n=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const D=m,{eventId:k,eventType:K,data:fe}=D.data,Le=b.handlersMap[K];if(!(null==Le?void 0:Le.size))return;D.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const nt=Array.from(Le).map(function(){var mt=(0,s.Z)(function*(ai){return ai(D.origin,fe)});return function(ai){return mt.apply(this,arguments)}}()),_t=yield function Pa(v){return Promise.all(v.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(nt);D.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:_t})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Yo(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class Qo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var D=this;return(0,s.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,fe;return new Promise((Le,nt)=>{const _t=Yo("",20);k.port1.start();const mt=setTimeout(()=>{nt(new Error("unsupported_event"))},b);fe={messageChannel:k,onMessage(ai){const Pr=ai;if(Pr.data.eventId===_t)switch(Pr.data.status){case"ack":clearTimeout(mt),K=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Le(Pr.data.response);break;default:clearTimeout(mt),clearTimeout(K),nt(new Error("invalid_response"))}}},D.handlers.add(fe),k.port1.addEventListener("message",fe.onMessage),D.target.postMessage({eventType:g,eventId:_t,data:m},[k.port2])}).finally(()=>{fe&&D.removeMessageHandler(fe)})})()}}function tn(){return window}function Na(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function Zd(){return(Zd=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Fa="firebaseLocalStorageDb",bs="firebaseLocalStorage",Nt="fbase_key";class Cs{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ii(v,g){return v.transaction([bs],g?"readwrite":"readonly").objectStore(bs)}function _c(){const v=indexedDB.open(Fa,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(bs,{keyPath:Nt})}catch(D){m(D)}}),v.addEventListener("success",(0,s.Z)(function*(){const b=v.result;b.objectStoreNames.contains(bs)?g(b):(b.close(),yield function ml(){const v=indexedDB.deleteDatabase(Fa);return new Cs(v).toPromise()}(),g(yield _c()))}))})}function La(v,g,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,s.Z)(function*(v,g,m){const b=Ii(v,!0).put({[Nt]:g,value:m});return new Cs(b).toPromise()})).apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(v,g){const m=Ii(v,!1).get(g),b=yield new Cs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function yc(v,g){const m=Ii(v,!0).delete(g);return new Cs(m).toPromise()}const yl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield _c()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(D++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Na()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=$n._getInstance(function xu(){return Na()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(D,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(D,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(D,k){return["keyChanged"]});return function(D,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function Jo(){return Zd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Qo(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(D=k[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function $p(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield _c();return yield La(m,Hs,"1"),yield yc(m,Hs),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(k=>La(k,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=yield b._withRetries(k=>function Du(v,g){return bo.apply(this,arguments)}(k,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(D=>yc(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(K=>{const fe=Ii(K,!1).getAll();return new Cs(fe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:K,value:fe}of b)k.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(fe)&&(m.notifyListeners(K,fe),D.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!k.has(K)&&(m.notifyListeners(K,null),D.push(K));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function bc(v,g){return Gt(v,"POST","/v2/accounts/mfaSignIn:start",Xt(v,g))}function Cc(){return(Cc=(0,s.Z)(function*(v){return(yield Gt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tc(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=D=>{const k=Te("internal-error");k.customData=D,m(k)},b.type="text/javascript",b.charset="UTF-8",function vl(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function Gs(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ec=1e12;class Au{constructor(g){this.auth=g,this.counter=Ec,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new Ba(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||Ec;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ec))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(g||Ec))||void 0===b||b.execute(),""})()}}class Ba{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;G(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wd(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kd=Gs("rcb"),An=new cn(3e4,6e4);class Cv{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(g,m=""){return G(function Om(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(tn().grecaptcha):new Promise((b,D)=>{const k=tn().setTimeout(()=>{D(Te(g,"network-request-failed"))},An.get());tn()[Kd]=()=>{tn().clearTimeout(k),delete tn()[Kd];const fe=tn().grecaptcha;if(!fe)return void D(Te(g,"internal-error"));const Le=fe.render;fe.render=(nt,_t)=>{const mt=Le(nt,_t);return this.counter++,mt},this.hostLanguage=m,b(fe)},Tc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Kd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),D(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!tn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wp{load(g){return(0,s.Z)(function*(){return new Au(g)})()}clearedOneInstance(){}}const Yd="recaptcha",Rm={theme:"light",type:"image"};class Pm{constructor(g,m=Object.assign({},Rm),b){this.parameters=m,this.type=Yd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(b),this.isInvisible="invisible"===this.parameters.size,G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;G(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wp:new Cv,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const K=fe=>{!fe||(g.tokenChangeListeners.delete(K),k(fe))};g.tokenChangeListeners.add(K),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=tn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){G(gt()&&!Na(),g.auth,"internal-error"),yield function Ic(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Co(v){return Cc.apply(this,arguments)}(g.auth);G(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qd{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ea._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Xo(){return(Xo=(0,s.Z)(function*(v,g,m){const b=ft(v),D=yield Gi(b,g,(0,L.m9)(m));return new Qd(D,k=>In(b,k))})).apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);yield an(!1,b,"phone");const D=yield Gi(b.auth,g,(0,L.m9)(m));return new Qd(D,k=>Ei(b,k))})).apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=yield Gi(b.auth,g,(0,L.m9)(m));return new Qd(D,k=>Vs(b,k))})).apply(this,arguments)}function Gi(v,g,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(v,g,m){var b;const D=yield m.verify();try{let k;if(G("string"==typeof D,v,"argument-error"),G(m.type===Yd,v,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const K=k.session;if("phoneNumber"in k)return G("enroll"===K.type,v,"internal-error"),(yield Gd(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{G("signin"===K.type,v,"internal-error");const fe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return G(fe,v,"missing-multi-factor-info"),(yield bc(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield wm(v,{phoneNumber:k.phoneNumber,recaptchaToken:D});return K}}finally{m._reset()}})).apply(this,arguments)}function ns(){return(ns=(0,s.Z)(function*(v,g){yield dl((0,L.m9)(v),g)})).apply(this,arguments)}let zs=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=ft(m)}verifyPhoneNumber(m,b){return Gi(this.auth,m,(0,L.m9)(b))}static credential(m,b){return Ea._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?Ea._fromTokenResponse(b,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ts(v,g){return g?ne(g):(G(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ta extends Jr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return mo(g,this._buildIdpRequest())}_linkToIdToken(g,m){return mo(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return mo(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Kp(v){return Ti(v.auth,new ta(v),v.bypassAuthState)}function Jd(v){const{auth:g,user:m}=v;return G(m,g,"internal-error"),ic(m,new ta(v),v.bypassAuthState)}function na(v){return zi.apply(this,arguments)}function zi(){return(zi=(0,s.Z)(function*(v){const{auth:g,user:m}=v;return G(m,g,"internal-error"),dl(m,new ta(v),v.bypassAuthState)})).apply(this,arguments)}class Sc{constructor(g,m,b,D,k=!1){this.auth=g,this.resolver=b,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(b,D){g.pendingPromise={resolve:b,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:k,tenantId:K,error:fe,type:Le}=g;if(fe)return void m.reject(fe);const nt={auth:m.auth,requestUri:b,sessionId:D,tenantId:K||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(nt))}catch(_t){m.reject(_t)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Kp;case"linkViaPopup":case"linkViaRedirect":return na;case"reauthViaPopup":case"reauthViaRedirect":return Jd;default:Ae(this.auth,"internal-error")}}resolve(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ua=new cn(2e3,1e4);function Es(){return(Es=(0,s.Z)(function*(v,g,m){const b=ft(v);je(v,g,Hi);const D=Ts(b,m);return new Dc(b,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,Hi);const D=Ts(b.auth,m);return new Dc(b.auth,"reauthViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,Hi);const D=Ts(b.auth,m);return new Dc(b.auth,"linkViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}let Dc=(()=>{class v extends Sc{constructor(m,b,D,k,K){super(m,b,k,K),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return G(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=Yo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=(null===(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ua.get())};m()}}return v.currentPopupAction=null,v})();const Io=new Map;class Ha extends Sc{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=Io.get(m.auth._key());if(!b){try{const k=(yield function Ac(v,g){return Is.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(k)}catch(D){b=()=>Promise.reject(D)}Io.set(m.auth._key(),b)}return m.bypassAuthState||Io.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const D=yield b.auth._redirectUserForId(g.eventId);if(D)return b.user=D,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Is(){return(Is=(0,s.Z)(function*(v,g){const m=U(g),b=R(v);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function ja(v,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(v,g){return R(v)._set(U(g),"true")})).apply(this,arguments)}function x(v,g){Io.set(v._key(),g)}function R(v){return ne(v._redirectPersistence)}function U(v){return ti("pendingRedirect",v.config.apiKey,v.name)}function Oe(){return(Oe=(0,s.Z)(function*(v,g,m){const b=ft(v);je(v,g,Hi);const D=Ts(b,m);return yield ja(D,b),D._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,Hi);const D=Ts(b.auth,m);yield ja(D,b.auth);const k=yield kr(b);return D._openRedirect(b.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,Hi);const D=Ts(b.auth,m);yield an(!1,b,g.providerId),yield ja(D,b.auth);const k=yield kr(b);return D._openRedirect(b.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(v,g){return yield ft(v)._initializationPromise,$s(v,g,!1)})).apply(this,arguments)}function $s(v,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(v,g,m=!1){const b=ft(v),D=Ts(b,g),K=yield new Ha(b,D,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,g)),K})).apply(this,arguments)}function kr(v){return is.apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(v){const g=Yo(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Nm{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ru(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nr(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!nr(g)){const D=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Te(this.auth,D))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jp(g))}saveEventToCache(g){this.cachedEventUids.add(Jp(g)),this.lastProcessedEventTime=Date.now()}}function Jp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function nr({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Mc(v){return kc.apply(this,arguments)}function kc(){return(kc=(0,s.Z)(function*(v,g={}){return Gt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Tv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oc=/^https?/;function Fm(){return(Fm=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Mc(v);for(const m of g)try{if(Px(m))return}catch(b){}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Px(v){const g=Fe(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!Oc.test(m))return!1;if(Tv.test(v))return b===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const Nu=new cn(3e4,6e4);function Lm(){const v=tn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Xd=null;function eh(v){return Xd=Xd||function A0(v){return new Promise((g,m)=>{var b,D,k;function K(){Lm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Lm(),m(Te(v,"network-request-failed"))},timeout:Nu.get()})}if(null===(D=null===(b=tn().gapi)||void 0===b?void 0:b.iframes)||void 0===D?void 0:D.Iframe)g(gapi.iframes.getContext());else{if(!(null===(k=tn().gapi)||void 0===k?void 0:k.load)){const fe=Gs("iframefcb");return tn()[fe]=()=>{gapi.load?K():m(Te(v,"network-request-failed"))},Tc(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Le=>m(Le))}K()}}).catch(g=>{throw Xd=null,g})}(v),Xd}const th=new cn(5e3,15e3),Rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vm(v){const g=v.config;G(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?Pn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:de.SDK_VERSION},D=Xp.get(v.config.apiHost);D&&(b.eid=D);const k=v._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}function Pc(){return Pc=(0,s.Z)(function*(v){const g=yield eh(v),m=tn().gapi;return G(m,v,"internal-error"),g.open({where:document.body,url:Vm(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rc,dontclear:!0},b=>new Promise(function(){var D=(0,s.Z)(function*(k,K){yield b.restyle({setHideOnLeave:!1});const fe=Te(v,"network-request-failed"),Le=tn().setTimeout(()=>{K(fe)},th.get());function nt(){tn().clearTimeout(Le),k(b)}b.ping(nt).then(nt,()=>{K(fe)})});return function(k,K){return D.apply(this,arguments)}}()))}),Pc.apply(this,arguments)}const ef={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function So(v,g,m,b,D,k){G(v.config.authDomain,v,"auth-domain-config-required"),G(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:de.SDK_VERSION,eventId:D};if(g instanceof Hi){g.setDefaultLanguage(v.languageCode),K.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Le,nt]of Object.entries(k||{}))K[Le]=nt}if(g instanceof Uo){const Le=g.getScopes().filter(nt=>""!==nt);Le.length>0&&(K.scopes=Le.join(","))}v.tenantId&&(K.tid=v.tenantId);const fe=K;for(const Le of Object.keys(fe))void 0===fe[Le]&&delete fe[Le];return`${function Vu({config:v}){return v.emulator?Pn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(fe).slice(1)}`}const rf="webStorageSupport";class Bu extends class O0{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Bu(g)}_finalizeEnroll(g,m,b){return function Sm(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function $d(v,g){return Gt(v,"POST","/v2/accounts/mfaSignIn:finalize",Xt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jm=(()=>{class v{constructor(){}static assertion(m){return Bu._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Nc="@firebase/auth";class Gm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{var D;g((null===(D=b)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fc(){return window}function Ss(){return(Ss=(0,s.Z)(function*(v,g,m){var b;const{BuildInfo:D}=Fc();Y(g.sessionId,"AuthEvent did not contain a session ID");const k=yield N0(g.sessionId),K={};return hr()?K.ibi=D.packageName:er()?K.apn=D.packageName:Ae(v,"operation-not-supported-in-this-environment"),D.displayName&&(K.appDisplayName=D.displayName),K.sessionId=k,So(v,m,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function Vc(){return(Vc=(0,s.Z)(function*(v){const{BuildInfo:g}=Fc(),m={};hr()?m.iosBundleId=g.packageName:er()?m.androidPackageName=g.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield Mc(v,m)})).apply(this,arguments)}function $m(){return($m=(0,s.Z)(function*(v,g,m){const{cordova:b}=Fc();let D=()=>{};try{yield new Promise((k,K)=>{let fe=null;function Le(){var mt;k();const ai=null===(mt=b.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof ai&&ai(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function nt(){fe||(fe=window.setTimeout(()=>{K(Te(v,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}g.addPassiveListener(Le),document.addEventListener("resume",nt,!1),er()&&document.addEventListener("visibilitychange",_t,!1),D=()=>{g.removePassiveListener(Le),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",_t,!1),fe&&window.clearTimeout(fe)}})}finally{D()}})).apply(this,arguments)}function N0(v){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,s.Z)(function*(v){const g=sh(v),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sh(v){if(Y(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),m=new Uint8Array(g);for(let b=0;b<v.length;b++)m[b]=v.charCodeAt(b);return m}!function R0(v){(0,de._registerComponent)(new ue.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),{apiKey:k,authDomain:K}=b.options;return((fe,Le)=>{G(k&&!k.includes(":"),"invalid-api-key",{appName:fe.name}),G(!(null==K?void 0:K.includes(":")),"argument-error",{appName:fe.name});const nt={apiKey:k,authDomain:K,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ca(v)},_t=new We(fe,Le,nt);return function ce(v,g){const m=(null==g?void 0:g.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ne);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(_t,m),_t})(b,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ue.wA("auth-internal",g=>{const m=ft(g.getProvider("auth").getImmediate());return new Gm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Nc,"0.20.2",function Iv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,de.registerVersion)(Nc,"0.20.2","esm2017")}("Browser");class F0 extends Nm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function oh(v){return lf.apply(this,arguments)}function lf(){return(lf=(0,s.Z)(function*(v){const g=yield ah()._get(wl(v));return g&&(yield ah()._remove(wl(v))),g})).apply(this,arguments)}function Av(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*g.length);v.push(g.charAt(b))}return v.join("")}function ah(){return ne(Ar)}function wl(v){return ti("authEvent",v.config.apiKey,v.name)}function Bc(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function ch(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function Hu(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Ym(v=(0,L.z$)()){return!("file:"!==Hu()&&"ionic:"!==Hu()&&"capacitor:"!==Hu()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function uf(){try{const v=self.localStorage,g=Yo();if(v)return v.setItem(g,"1"),v.removeItem(g),!function cf(v=(0,L.z$)()){return function ir(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function oi(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return ju()&&(0,L.hl)()}return!1}function ju(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Di(){return(function Km(){return"http:"===Hu()||"https:"===Hu()}()||(0,L.ru)()||Ym())&&!function Pv(){return(0,L.b$)()||(0,L.UG)()}()&&uf()&&!ju()}function bl(){return Ym()&&"undefined"!=typeof document}function df(){return(df=(0,s.Z)(function*(){return!!bl()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},qu=G,hh="persistence";function ph(v){return hf.apply(this,arguments)}function hf(){return(hf=(0,s.Z)(function*(v){yield v._initializationPromise;const g=Gu(),m=ti(hh,v.config.apiKey,v.name);g&&g.setItem(m,v._getPersistence())})).apply(this,arguments)}function Gu(){var v;try{return(null===(v=function Nv(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const fh=G;class sa{constructor(){this.browserResolver=ne(class k0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=js,this._completeRedirectFn=$s,this._overrideRedirectResult=x}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){var K;Y(null===(K=k.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const fe=So(g,m,b,Fe(),D);return function tf(v,g,m,b=500,D=600){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let fe="";const Le=Object.assign(Object.assign({},ef),{width:b.toString(),height:D.toString(),top:k,left:K}),nt=(0,L.z$)().toLowerCase();m&&(fe=al(nt)?"_blank":m),ol(nt)&&(g=g||"http://localhost",Le.scrollbars="yes");const _t=Object.entries(Le).reduce((ai,[Pr,Cl])=>`${ai}${Pr}=${Cl},`,"");if(function Vo(v=(0,L.z$)()){var g;return hr(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(nt)&&"_self"!==fe)return function nf(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",fe),new Ga(null);const mt=window.open(g||"",fe,_t);G(mt,v,"popup-blocked");try{mt.focus()}catch(ai){}return new Ga(mt)}(g,fe,Yo())})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k._originValidation(g),function qs(v){tn().location.href=v}(So(g,m,b,Fe(),D)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:D,promise:k}=this.eventManagers[m];return D?Promise.resolve(D):(Y(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const b=yield function M0(v){return Pc.apply(this,arguments)}(g),D=new Nm(g);return b.register("authEvent",k=>(G(null==k?void 0:k.authEvent,g,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:D},m.iframes[g._key()]=b,D})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(rf,{type:rf},D=>{var k;const K=null===(k=null==D?void 0:D[0])||void 0===k?void 0:k[rf];void 0!==K&&m(!!K),Ae(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Pu(v){return Fm.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return po()||Jl()||hr()}}),this.cordovaResolver=ne(class lh{constructor(){this._redirectPersistence=js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$s,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){const b=g._key();let D=m.eventManagers.get(b);return D||(D=new F0(g),m.eventManagers.set(b,D),m.attachCallbackListeners(g,D)),D})()}_openPopup(g){Ae(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){!function P0(v){var g,m,b,D,k,K,fe,Le,nt,_t;const mt=Fc();G("function"==typeof(null===(g=null==mt?void 0:mt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(void 0!==(null===(m=null==mt?void 0:mt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(k=null===(D=null===(b=null==mt?void 0:mt.cordova)||void 0===b?void 0:b.plugins)||void 0===D?void 0:D.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Le=null===(fe=null===(K=null==mt?void 0:mt.cordova)||void 0===K?void 0:K.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(_t=null===(nt=null==mt?void 0:mt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===_t?void 0:_t.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const K=yield k._initialize(g);yield K.initialized(),K.resetRedirect(),function S(){Io.clear()}(),yield k._originValidation(g);const fe=function xv(v,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Av(),postBody:null,tenantId:v.tenantId,error:Te(v,"no-auth-event")}}(g,b,D);yield function Wm(v,g){return ah()._set(wl(v),g)}(g,fe);const Le=yield function zm(v,g,m){return Ss.apply(this,arguments)}(g,fe,m),nt=yield function of(v){const{cordova:g}=Fc();return new Promise(m=>{g.plugins.browsertab.isAvailable(b=>{let D=null;b?g.plugins.browsertab.openUrl(v):D=g.InAppBrowser.open(v,function Sd(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(Le);return function Zm(v,g,m){return $m.apply(this,arguments)}(g,K,nt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lc(v){return Vc.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:b,handleOpenURL:D,BuildInfo:k}=Fc(),K=setTimeout((0,s.Z)(function*(){yield oh(g),m.onEvent(ch())}),500),fe=function(){var _t=(0,s.Z)(function*(mt){clearTimeout(K);const ai=yield oh(g);let Pr=null;ai&&(null==mt?void 0:mt.url)&&(Pr=function Dv(v,g){var m,b;const D=function Or(v){const g=Bc(v),m=g.link?decodeURIComponent(g.link):void 0,b=Bc(m).link,D=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Bc(D).link||D||b||m||v}(g);if(D.includes("/__/auth/callback")){const k=Bc(D),K=k.firebaseError?function Mv(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(k.firebaseError)):null,fe=null===(b=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Le=fe?Te(fe):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(ai,mt.url)),m.onEvent(Pr||ch())});return function(ai){return _t.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,fe);const Le=D,nt=`${k.packageName.toLowerCase()}://`;Fc().handleOpenURL=function(){var _t=(0,s.Z)(function*(mt){if(mt.toLowerCase().startsWith(nt)&&fe({url:mt}),"function"==typeof Le)try{Le(mt)}catch(ai){console.error(ai)}});return function(mt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=js,this._completeRedirectFn=$s,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(g,m,b,D)})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(g,m,b,D)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return bl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function Uc(){return df.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function gh(v){return v.unwrap()}function Vv(v){return Jm(v)}function Jm(v){const{_tokenResponse:g}=v instanceof L.ZR?v.customData:v;if(!g)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return zs.credentialFromResult(v);const m=g.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Nd;break;case"facebook.com":b=Ia;break;case"github.com":b=qp;break;case"twitter.com":b=Fd;break;default:const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:fe,nonce:Le}=g;return k||K||D||fe?fe?m.startsWith("saml.")?Ho._create(m,fe):Ls._fromParams({providerId:m,signInMethod:m,pendingToken:fe,idToken:D,accessToken:k}):new _s(m).credential({idToken:D,accessToken:k,rawNonce:Le}):null}return v instanceof L.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Rr(v,g){return g.catch(m=>{throw m instanceof L.ZR&&function mh(v,g){var m;const b=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Xm(v,function ri(v,g){var m;const b=(0,L.m9)(v),D=g;return G(g.customData.operationType,b,"argument-error"),G(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Wo._fromError(b,D)}(v,g));else if(b){const D=Jm(g),k=g;D&&(k.credential=D,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:Vv(m),additionalUserInfo:mi(m),user:Ws.getOrCreate(D)}})}function pf(v,g){return ff.apply(this,arguments)}function ff(){return(ff=(0,s.Z)(function*(v,g){const m=yield g;return{verificationId:m.verificationId,confirm:b=>Rr(v,m.confirm(b))}})).apply(this,arguments)}class Xm{constructor(g,m){this.resolver=m,this.auth=function Qm(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Rr(gh(this.auth),this.resolver.resolveSignIn(g))}}class Ws{constructor(g){this._delegate=g,this.multiFactor=function xm(v){const g=(0,L.m9)(v);return fc.has(g)||fc.set(g,Ra._fromUser(g)),fc.get(g)}(g)}static getOrCreate(g){return Ws.USER_MAP.has(g)||Ws.USER_MAP.set(g,new Ws(g)),Ws.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return Rr(m.auth,Ei(m._delegate,g))})()}linkWithPhoneNumber(g,m){var b=this;return(0,s.Z)(function*(){return pf(b.auth,function ts(v,g,m){return Mu.apply(this,arguments)}(b._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return Rr(m.auth,function Ou(v,g,m){return Zs.apply(this,arguments)}(m._delegate,g,sa))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield ph(ft(m.auth)),function Vt(v,g,m){return function Et(v,g,m){return si.apply(this,arguments)}(v,g,m)}(m._delegate,g,sa)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return Rr(m.auth,Vs(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return pf(this.auth,function ku(v,g,m){return Si.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Rr(this.auth,function Qp(v,g,m){return xc.apply(this,arguments)}(this._delegate,g,sa))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield ph(ft(m.auth)),function st(v,g,m){return function ct(v,g,m){return ht.apply(this,arguments)}(v,g,m)}(m._delegate,g,sa)})()}sendEmailVerification(g){return function es(v,g){return Eu.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function Gp(v,g){return pn.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function Bd(v,g){return hc((0,L.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function Ud(v,g){return hc((0,L.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function ea(v,g){return ns.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function uc(v,g){return dc.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function lc(v,g,m){return cc.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ws.USER_MAP=new WeakMap;const Hc=G;let e_=(()=>{class v{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Hc(D,"invalid-api-key",{appName:m.name}),Hc(D,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?sa:void 0;this._delegate=b.initialize({options:{persistence:L0(D,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function fr(v,g,m){const b=ft(v);G(b._canInitEmulator,b,"emulator-config-failed"),G(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const D=!!(null==m?void 0:m.disableWarnings),k=ds(g),{host:K,port:fe}=function qn(v){const g=ds(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const k=D[1];return{host:k,port:hs(b.substr(k.length+1))}}{const[k,K]=b.split(":");return{host:k,port:hs(K)}}}(g);b.config.emulator={url:`${k}//${K}${null===fe?"":`:${fe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:fe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function vn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,b)}applyActionCode(m){return function Ma(v,g){return Me.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return zt(this._delegate,m)}confirmPasswordReset(m,b){return function sc(v,g,m){return wu.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var D=this;return(0,s.Z)(function*(){return Rr(D._delegate,function zo(v,g,m){return xr.apply(this,arguments)}(D._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ac(v,g){return wo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Vd(v,g){const m=nc.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Hc(Di(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Kn(v,g){return ra.apply(this,arguments)}(m._delegate,sa);return b?Rr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function uh(v,g){ft(v)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,b,D){const{next:k,error:K,complete:fe}=t_(m,b,D);return this._delegate.onAuthStateChanged(k,K,fe)}onIdTokenChanged(m,b,D){const{next:k,error:K,complete:fe}=t_(m,b,D);return this._delegate.onIdTokenChanged(k,K,fe)}sendSignInLinkToEmail(m,b){return function Cu(v,g,m){return Tu.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function vu(v,g,m){return rc.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let D;switch(function Fv(v,g){qu(Object.values(rr).includes(g),v,"invalid-persistence-type"),(0,L.b$)()?qu(g!==rr.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?qu(g===rr.NONE,v,"unsupported-persistence-type"):ju()?qu(g===rr.NONE||g===rr.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):qu(g===rr.NONE||uf(),v,"unsupported-persistence-type")}(b._delegate,m),m){case rr.SESSION:D=js;break;case rr.LOCAL:D=(yield ne(yl)._isAvailable())?yl:Ar;break;case rr.NONE:D=It;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Rr(this._delegate,function Ld(v){return gu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Rr(this._delegate,In(this._delegate,m))}signInWithCustomToken(m){return Rr(this._delegate,function Aa(v,g){return wt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Rr(this._delegate,function bu(v,g,m){return In((0,L.m9)(v),Pd.credential(g,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Rr(this._delegate,function Em(v,g,m){return Bs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return pf(this._delegate,function Wn(v,g,m){return Xo.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return Hc(Di(),b._delegate,"operation-not-supported-in-this-environment"),Rr(b._delegate,function Yp(v,g,m){return Es.apply(this,arguments)}(b._delegate,m,sa))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return Hc(Di(),b._delegate,"operation-not-supported-in-this-environment"),yield ph(b._delegate),function J(v,g,m){return function ae(v,g,m){return Oe.apply(this,arguments)}(v,g,m)}(b._delegate,m,sa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Tn(v,g){return oc.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=rr,v})();function t_(v,g,m){let b=v;"function"!=typeof v&&({next:b,error:g,complete:m}=v);const D=b;return{next:K=>D(K&&Ws.getOrCreate(K)),error:g,complete:m}}function L0(v,g){const m=function Lv(v,g){const m=Gu();if(!m)return[];const b=ti(hh,v,g);switch(m.getItem(b)){case rr.NONE:return[It];case rr.LOCAL:return[yl,js];case rr.SESSION:return[js];default:return[]}}(v,g);if("undefined"!=typeof self&&!m.includes(yl)&&m.push(yl),"undefined"!=typeof window)for(const b of[Ar,js])m.includes(b)||m.push(b);return m.includes(It)||m.push(It),m}class oa{constructor(){this.providerId="phone",this._delegate=new zs(gh(ee.Z.auth()))}static credential(g,m){return zs.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}oa.PHONE_SIGN_IN_METHOD=zs.PHONE_SIGN_IN_METHOD,oa.PROVIDER_ID=zs.PROVIDER_ID;const Vn=G;class bt{constructor(g,m,b=ee.Z.app()){var D;Vn(null===(D=b.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Pm(g,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bn(v){v.INTERNAL.registerComponent(new ue.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new e_(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pd,FacebookAuthProvider:Ia,GithubAuthProvider:qp,GoogleAuthProvider:Nd,OAuthProvider:_s,SAMLAuthProvider:tr,PhoneAuthProvider:oa,PhoneMultiFactorGenerator:jm,RecaptchaVerifier:bt,TwitterAuthProvider:Fd,Auth:e_,AuthCredential:Jr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:(et,we,F)=>{F.d(we,{y:()=>z});var s=F(930),ee=F(727),L=F(8822),de=F(4671);var ue=F(2416),le=F(576),pe=F(2806);let z=(()=>{class ke{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ge=new ke;return ge.source=this,ge.operator=Ue,ge}subscribe(Ue,ge,Se){const Ze=function ze(ke){return ke&&ke instanceof s.Lv||function ie(ke){return ke&&(0,le.m)(ke.next)&&(0,le.m)(ke.error)&&(0,le.m)(ke.complete)}(ke)&&(0,ee.Nn)(ke)}(Ue)?Ue:new s.Hp(Ue,ge,Se);return(0,pe.x)(()=>{const{operator:Je,source:Ae}=this;Ze.add(Je?Je.call(Ze,Ae):Ae?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ge){Ue.error(ge)}}forEach(Ue,ge){return new(ge=q(ge))((Se,Ze)=>{const Je=new s.Hp({next:Ae=>{try{Ue(Ae)}catch(Te){Ze(Te),Je.unsubscribe()}},error:Ze,complete:Se});this.subscribe(Je)})}_subscribe(Ue){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Ue)}[L.L](){return this}pipe(...Ue){return function _e(ke){return 0===ke.length?de.y:1===ke.length?ke[0]:function(Ue){return ke.reduce((ge,Se)=>Se(ge),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=q(Ue))((ge,Se)=>{let Ze;this.subscribe(Je=>Ze=Je,Je=>Se(Je),()=>ge(Ze))})}}return ke.create=Ne=>new ke(Ne),ke})();function q(ke){var Ne;return null!==(Ne=null!=ke?ke:ue.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(et,we,F)=>{F.d(we,{x:()=>ue});var s=F(8306),ee=F(727);const de=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),_e=F(2806);let ue=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ie=new le(this,this);return ie.operator=q,ie}_throwIfClosed(){if(this.closed)throw new de}next(q){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(q)}})}error(q){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ie}=this;for(;ie.length;)ie.shift().error(q)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ie,isStopped:ze,observers:ke}=this;return ie||ze?ee.Lc:(this.currentObservers=null,ke.push(q),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(ke,q)}))}_checkFinalizedStatuses(q){const{hasError:ie,thrownError:ze,isStopped:ke}=this;ie?q.error(ze):ke&&q.complete()}asObservable(){const q=new s.y;return q.source=this,q}}return pe.create=(z,q)=>new le(z,q),pe})();class le extends ue{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,ie;null===(ie=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ie||ie.call(q,z)}error(z){var q,ie;null===(ie=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ie||ie.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,ie;return null!==(ie=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==ie?ie:ee.Lc}}},930:(et,we,F)=>{F.d(we,{Hp:()=>Ue,Lv:()=>ie});var s=F(576),ee=F(727),L=F(2416),de=F(7849),se=F(5032);const _e=pe("C",void 0,void 0);function pe(Ae,Te,Ie){return{kind:Ae,value:Te,error:Ie}}var z=F(3410),q=F(2806);class ie extends ee.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,ee.Nn)(Te)&&Te.add(this)):this.destination=Je}static create(Te,Ie,je){return new Ue(Te,Ie,je)}next(Te){this.isStopped?Ze(function le(Ae){return pe("N",Ae,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ze(function ue(Ae){return pe("E",void 0,Ae)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ze(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function ke(Ae,Te){return ze.call(Ae,Te)}class Ne{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Te)}catch(je){ge(je)}}error(Te){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Te)}catch(je){ge(je)}else ge(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ie){ge(Ie)}}}class Ue extends ie{constructor(Te,Ie,je){let qe;if(super(),(0,s.m)(Te)||!Te)qe={next:null!=Te?Te:void 0,error:null!=Ie?Ie:void 0,complete:null!=je?je:void 0};else{let G;this&&L.v.useDeprecatedNextContext?(G=Object.create(Te),G.unsubscribe=()=>this.unsubscribe(),qe={next:Te.next&&ke(Te.next,G),error:Te.error&&ke(Te.error,G),complete:Te.complete&&ke(Te.complete,G)}):qe=Te}this.destination=new Ne(qe)}}function ge(Ae){L.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ae):(0,de.h)(Ae)}function Ze(Ae,Te){const{onStoppedNotification:Ie}=L.v;Ie&&z.z.setTimeout(()=>Ie(Ae,Te))}const Je={closed:!0,next:se.Z,error:function Se(Ae){throw Ae},complete:se.Z}},727:(et,we,F)=>{F.d(we,{Lc:()=>_e,w0:()=>se,Nn:()=>ue});var s=F(576);const L=(0,F(3888).d)(pe=>function(q){pe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ie,ze)=>`${ze+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var de=F(8737);class se{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const ke of q)ke.remove(this);else q.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(ke){z=ke instanceof L?ke.errors:[ke]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const ke of ze)try{le(ke)}catch(Ne){z=null!=z?z:[],Ne instanceof L?z=[...z,...Ne.errors]:z.push(Ne)}}if(z)throw new L(z)}}add(z){var q;if(z&&z!==this)if(this.closed)le(z);else{if(z instanceof se){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,de.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,de.P)(q,z),z instanceof se&&z._removeParent(this)}}se.EMPTY=(()=>{const pe=new se;return pe.closed=!0,pe})();const _e=se.EMPTY;function ue(pe){return pe instanceof se||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function le(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(et,we,F)=>{F.d(we,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,we,F)=>{F.d(we,{E:()=>ee});const ee=new(F(8306).y)(se=>se.complete())},8996:(et,we,F)=>{F.d(we,{D:()=>Te});var s=F(8421),ee=F(5363),L=F(9468),_e=F(8306),le=F(2202),pe=F(576),z=F(9672);function ie(Ie,je){if(!Ie)throw new Error("Iterable cannot be null");return new _e.y(qe=>{(0,z.f)(qe,je,()=>{const G=Ie[Symbol.asyncIterator]();(0,z.f)(qe,je,()=>{G.next().then(Ce=>{Ce.done?qe.complete():qe.next(Ce.value)})},0,!0)})})}var ze=F(3670),ke=F(8239),Ne=F(1144),Ue=F(6495),ge=F(2206),Se=F(4532),Ze=F(3260);function Te(Ie,je){return je?function Ae(Ie,je){if(null!=Ie){if((0,ze.c)(Ie))return function de(Ie,je){return(0,s.Xf)(Ie).pipe((0,L.R)(je),(0,ee.Q)(je))}(Ie,je);if((0,Ne.z)(Ie))return function ue(Ie,je){return new _e.y(qe=>{let G=0;return je.schedule(function(){G===Ie.length?qe.complete():(qe.next(Ie[G++]),qe.closed||this.schedule())})})}(Ie,je);if((0,ke.t)(Ie))return function se(Ie,je){return(0,s.Xf)(Ie).pipe((0,L.R)(je),(0,ee.Q)(je))}(Ie,je);if((0,ge.D)(Ie))return ie(Ie,je);if((0,Ue.T)(Ie))return function q(Ie,je){return new _e.y(qe=>{let G;return(0,z.f)(qe,je,()=>{G=Ie[le.h](),(0,z.f)(qe,je,()=>{let Ce,Y;try{({value:Ce,done:Y}=G.next())}catch(oe){return void qe.error(oe)}Y?qe.complete():qe.next(Ce)},0,!0)}),()=>(0,pe.m)(null==G?void 0:G.return)&&G.return()})}(Ie,je);if((0,Ze.L)(Ie))return function Je(Ie,je){return ie((0,Ze.Q)(Ie),je)}(Ie,je)}throw(0,Se.z)(Ie)}(Ie,je):(0,s.Xf)(Ie)}},8421:(et,we,F)=>{F.d(we,{Xf:()=>ze});var s=F(655),ee=F(1144),L=F(8239),de=F(8306),se=F(3670),_e=F(2206),ue=F(4532),le=F(6495),pe=F(3260),z=F(576),q=F(7849),ie=F(8822);function ze(Ae){if(Ae instanceof de.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function ke(Ae){return new de.y(Te=>{const Ie=Ae[ie.L]();if((0,z.m)(Ie.subscribe))return Ie.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function Ne(Ae){return new de.y(Te=>{for(let Ie=0;Ie<Ae.length&&!Te.closed;Ie++)Te.next(Ae[Ie]);Te.complete()})}(Ae);if((0,L.t)(Ae))return function Ue(Ae){return new de.y(Te=>{Ae.then(Ie=>{Te.closed||(Te.next(Ie),Te.complete())},Ie=>Te.error(Ie)).then(null,q.h)})}(Ae);if((0,_e.D)(Ae))return Se(Ae);if((0,le.T)(Ae))return function ge(Ae){return new de.y(Te=>{for(const Ie of Ae)if(Te.next(Ie),Te.closed)return;Te.complete()})}(Ae);if((0,pe.L)(Ae))return function Ze(Ae){return Se((0,pe.Q)(Ae))}(Ae)}throw(0,ue.z)(Ae)}function Se(Ae){return new de.y(Te=>{(function Je(Ae,Te){var Ie,je,qe,G;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,s.KL)(Ae);!(je=yield Ie.next()).done;)if(Te.next(je.value),Te.closed)return}catch(Ce){qe={error:Ce}}finally{try{je&&!je.done&&(G=Ie.return)&&(yield G.call(Ie))}finally{if(qe)throw qe.error}}Te.complete()})})(Ae,Te).catch(Ie=>Te.error(Ie))})}},6451:(et,we,F)=>{F.d(we,{T:()=>_e});var s=F(8189),ee=F(8421),L=F(515),de=F(3269),se=F(8996);function _e(...ue){const le=(0,de.yG)(ue),pe=(0,de._6)(ue,1/0),z=ue;return z.length?1===z.length?(0,ee.Xf)(z[0]):(0,s.J)(pe)((0,se.D)(z,le)):L.E}},5403:(et,we,F)=>{F.d(we,{x:()=>ee});var s=F(930);function ee(de,se,_e,ue,le){return new L(de,se,_e,ue,le)}class L extends s.Lv{constructor(se,_e,ue,le,pe,z){super(se),this.onFinalize=pe,this.shouldUnsubscribe=z,this._next=_e?function(q){try{_e(q)}catch(ie){se.error(ie)}}:super._next,this._error=le?function(q){try{le(q)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(et,we,F)=>{F.d(we,{U:()=>L});var s=F(4482),ee=F(5403);function L(de,se){return(0,s.e)((_e,ue)=>{let le=0;_e.subscribe((0,ee.x)(ue,pe=>{ue.next(de.call(se,pe,le++))}))})}},8189:(et,we,F)=>{F.d(we,{J:()=>L});var s=F(5577),ee=F(4671);function L(de=1/0){return(0,s.z)(ee.y,de)}},5577:(et,we,F)=>{F.d(we,{z:()=>le});var s=F(4004),ee=F(8421),L=F(4482),de=F(9672),se=F(5403),ue=F(576);function le(pe,z,q=1/0){return(0,ue.m)(z)?le((ie,ze)=>(0,s.U)((ke,Ne)=>z(ie,ke,ze,Ne))((0,ee.Xf)(pe(ie,ze))),q):("number"==typeof z&&(q=z),(0,L.e)((ie,ze)=>function _e(pe,z,q,ie,ze,ke,Ne,Ue){const ge=[];let Se=0,Ze=0,Je=!1;const Ae=()=>{Je&&!ge.length&&!Se&&z.complete()},Te=je=>Se<ie?Ie(je):ge.push(je),Ie=je=>{ke&&z.next(je),Se++;let qe=!1;(0,ee.Xf)(q(je,Ze++)).subscribe((0,se.x)(z,G=>{null==ze||ze(G),ke?Te(G):z.next(G)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Se--;ge.length&&Se<ie;){const G=ge.shift();Ne?(0,de.f)(z,Ne,()=>Ie(G)):Ie(G)}Ae()}catch(G){z.error(G)}}))};return pe.subscribe((0,se.x)(z,Te,()=>{Je=!0,Ae()})),()=>{null==Ue||Ue()}}(ie,ze,pe,q)))}},5363:(et,we,F)=>{F.d(we,{Q:()=>de});var s=F(9672),ee=F(4482),L=F(5403);function de(se,_e=0){return(0,ee.e)((ue,le)=>{ue.subscribe((0,L.x)(le,pe=>(0,s.f)(le,se,()=>le.next(pe),_e),()=>(0,s.f)(le,se,()=>le.complete(),_e),pe=>(0,s.f)(le,se,()=>le.error(pe),_e)))})}},3099:(et,we,F)=>{F.d(we,{B:()=>_e});var s=F(8996),ee=F(5698),L=F(7579),de=F(930),se=F(4482);function _e(le={}){const{connector:pe=(()=>new L.x),resetOnError:z=!0,resetOnComplete:q=!0,resetOnRefCountZero:ie=!0}=le;return ze=>{let ke=null,Ne=null,Ue=null,ge=0,Se=!1,Ze=!1;const Je=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Ae=()=>{Je(),ke=Ue=null,Se=Ze=!1},Te=()=>{const Ie=ke;Ae(),null==Ie||Ie.unsubscribe()};return(0,se.e)((Ie,je)=>{ge++,!Ze&&!Se&&Je();const qe=Ue=null!=Ue?Ue:pe();je.add(()=>{ge--,0===ge&&!Ze&&!Se&&(Ne=ue(Te,ie))}),qe.subscribe(je),ke||(ke=new de.Hp({next:G=>qe.next(G),error:G=>{Ze=!0,Je(),Ne=ue(Ae,z,G),qe.error(G)},complete:()=>{Se=!0,Je(),Ne=ue(Ae,q),qe.complete()}}),(0,s.D)(Ie).subscribe(ke))})(ze)}}function ue(le,pe,...z){return!0===pe?(le(),null):!1===pe?null:pe(...z).pipe((0,ee.q)(1)).subscribe(()=>le())}},9468:(et,we,F)=>{F.d(we,{R:()=>ee});var s=F(4482);function ee(L,de=0){return(0,s.e)((se,_e)=>{_e.add(L.schedule(()=>se.subscribe(_e),de))})}},5698:(et,we,F)=>{F.d(we,{q:()=>de});var s=F(515),ee=F(4482),L=F(5403);function de(se){return se<=0?()=>s.E:(0,ee.e)((_e,ue)=>{let le=0;_e.subscribe((0,L.x)(ue,pe=>{++le<=se&&(ue.next(pe),se<=le&&ue.complete())}))})}},8505:(et,we,F)=>{F.d(we,{b:()=>se});var s=F(576),ee=F(4482),L=F(5403),de=F(4671);function se(_e,ue,le){const pe=(0,s.m)(_e)||ue||le?{next:_e,error:ue,complete:le}:_e;return pe?(0,ee.e)((z,q)=>{var ie;null===(ie=pe.subscribe)||void 0===ie||ie.call(pe);let ze=!0;z.subscribe((0,L.x)(q,ke=>{var Ne;null===(Ne=pe.next)||void 0===Ne||Ne.call(pe,ke),q.next(ke)},()=>{var ke;ze=!1,null===(ke=pe.complete)||void 0===ke||ke.call(pe),q.complete()},ke=>{var Ne;ze=!1,null===(Ne=pe.error)||void 0===Ne||Ne.call(pe,ke),q.error(ke)},()=>{var ke,Ne;ze&&(null===(ke=pe.unsubscribe)||void 0===ke||ke.call(pe)),null===(Ne=pe.finalize)||void 0===Ne||Ne.call(pe)}))}):de.y}},4408:(et,we,F)=>{F.d(we,{o:()=>se});var s=F(727);class ee extends s.w0{constructor(ue,le){super()}schedule(ue,le=0){return this}}const L={setInterval(_e,ue,...le){const{delegate:pe}=L;return(null==pe?void 0:pe.setInterval)?pe.setInterval(_e,ue,...le):setInterval(_e,ue,...le)},clearInterval(_e){const{delegate:ue}=L;return((null==ue?void 0:ue.clearInterval)||clearInterval)(_e)},delegate:void 0};var de=F(8737);class se extends ee{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le,this.pending=!1}schedule(ue,le=0){if(this.closed)return this;this.state=ue;const pe=this.id,z=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(z,pe,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(z,this.id,le),this}requestAsyncId(ue,le,pe=0){return L.setInterval(ue.flush.bind(ue,this),pe)}recycleAsyncId(ue,le,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return le;L.clearInterval(le)}execute(ue,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ue,le);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,le){let z,pe=!1;try{this.work(ue)}catch(q){pe=!0,z=q||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ue,scheduler:le}=this,{actions:pe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(pe,this),null!=ue&&(this.id=this.recycleAsyncId(le,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,we,F)=>{F.d(we,{v:()=>L});var s=F(6063);class ee{constructor(se,_e=ee.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,ue){return new this.schedulerActionCtor(this,se).schedule(ue,_e)}}ee.now=s.l.now;class L extends ee{constructor(se,_e=ee.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let ue;this._active=!0;do{if(ue=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,ue){for(;se=_e.shift();)se.unsubscribe();throw ue}}}},4986:(et,we,F)=>{F.d(we,{P:()=>de,z:()=>L});var s=F(4408);const L=new(F(7565).v)(s.o),de=L},6063:(et,we,F)=>{F.d(we,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(et,we,F)=>{F.d(we,{z:()=>s});const s={setTimeout(ee,L,...de){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,L,...de):setTimeout(ee,L,...de)},clearTimeout(ee){const{delegate:L}=s;return((null==L?void 0:L.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(et,we,F)=>{F.d(we,{h:()=>ee});const ee=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,we,F)=>{F.d(we,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,we,F)=>{F.d(we,{_6:()=>_e,jO:()=>de,yG:()=>se});var s=F(576),ee=F(3532);function L(ue){return ue[ue.length-1]}function de(ue){return(0,s.m)(L(ue))?ue.pop():void 0}function se(ue){return(0,ee.K)(L(ue))?ue.pop():void 0}function _e(ue,le){return"number"==typeof L(ue)?ue.pop():le}},8737:(et,we,F)=>{function s(ee,L){if(ee){const de=ee.indexOf(L);0<=de&&ee.splice(de,1)}}F.d(we,{P:()=>s})},3888:(et,we,F)=>{function s(ee){const de=ee(se=>{Error.call(se),se.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}F.d(we,{d:()=>s})},2806:(et,we,F)=>{F.d(we,{O:()=>de,x:()=>L});var s=F(2416);let ee=null;function L(se){if(s.v.useDeprecatedSynchronousErrorHandling){const _e=!ee;if(_e&&(ee={errorThrown:!1,error:null}),se(),_e){const{errorThrown:ue,error:le}=ee;if(ee=null,ue)throw le}}else se()}function de(se){s.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(et,we,F)=>{function s(ee,L,de,se=0,_e=!1){const ue=L.schedule(function(){de(),_e?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ue),!_e)return ue}F.d(we,{f:()=>s})},4671:(et,we,F)=>{function s(ee){return ee}F.d(we,{y:()=>s})},1144:(et,we,F)=>{F.d(we,{z:()=>s});const s=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(et,we,F)=>{F.d(we,{D:()=>ee});var s=F(576);function ee(L){return Symbol.asyncIterator&&(0,s.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(et,we,F)=>{function s(ee){return"function"==typeof ee}F.d(we,{m:()=>s})},3670:(et,we,F)=>{F.d(we,{c:()=>L});var s=F(8822),ee=F(576);function L(de){return(0,ee.m)(de[s.L])}},6495:(et,we,F)=>{F.d(we,{T:()=>L});var s=F(2202),ee=F(576);function L(de){return(0,ee.m)(null==de?void 0:de[s.h])}},8239:(et,we,F)=>{F.d(we,{t:()=>ee});var s=F(576);function ee(L){return(0,s.m)(null==L?void 0:L.then)}},3260:(et,we,F)=>{F.d(we,{L:()=>de,Q:()=>L});var s=F(655),ee=F(576);function L(se){return(0,s.FC)(this,arguments,function*(){const ue=se.getReader();try{for(;;){const{value:le,done:pe}=yield(0,s.qq)(ue.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(le)}}finally{ue.releaseLock()}})}function de(se){return(0,ee.m)(null==se?void 0:se.getReader)}},3532:(et,we,F)=>{F.d(we,{K:()=>ee});var s=F(576);function ee(L){return L&&(0,s.m)(L.schedule)}},4482:(et,we,F)=>{F.d(we,{A:()=>ee,e:()=>L});var s=F(576);function ee(de){return(0,s.m)(null==de?void 0:de.lift)}function L(de){return se=>{if(ee(se))return se.lift(function(_e){try{return de(_e,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,we,F)=>{function s(){}F.d(we,{Z:()=>s})},7849:(et,we,F)=>{F.d(we,{h:()=>L});var s=F(2416),ee=F(3410);function L(de){ee.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw de;se(de)})}},4532:(et,we,F)=>{function s(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(we,{z:()=>s})},655:(et,we,F)=>{function de(Y,oe){var ne={};for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&oe.indexOf(ve)<0&&(ne[ve]=Y[ve]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ve=Object.getOwnPropertySymbols(Y);ce<ve.length;ce++)oe.indexOf(ve[ce])<0&&Object.prototype.propertyIsEnumerable.call(Y,ve[ce])&&(ne[ve[ce]]=Y[ve[ce]])}return ne}function le(Y,oe,ne,ve){return new(ne||(ne=Promise))(function(Fe,gt){function Wt(cn){try{Ke(ve.next(cn))}catch(Pn){gt(Pn)}}function qt(cn){try{Ke(ve.throw(cn))}catch(Pn){gt(Pn)}}function Ke(cn){cn.done?Fe(cn.value):function ce(Fe){return Fe instanceof ne?Fe:new ne(function(gt){gt(Fe)})}(cn.value).then(Wt,qt)}Ke((ve=ve.apply(Y,oe||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function Se(Y,oe,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ve=ne.apply(Y,oe||[]),Fe=[];return ce={},gt("next"),gt("throw"),gt("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function gt(dn){ve[dn]&&(ce[dn]=function(rn){return new Promise(function(Qi,Xt){Fe.push([dn,rn,Qi,Xt])>1||Wt(dn,rn)})})}function Wt(dn,rn){try{!function qt(dn){dn.value instanceof ge?Promise.resolve(dn.value.v).then(Ke,cn):Pn(Fe[0][2],dn)}(ve[dn](rn))}catch(Qi){Pn(Fe[0][3],Qi)}}function Ke(dn){Wt("next",dn)}function cn(dn){Wt("throw",dn)}function Pn(dn,rn){dn(rn),Fe.shift(),Fe.length&&Wt(Fe[0][0],Fe[0][1])}}function Je(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function ie(Y){var oe="function"==typeof Symbol&&Symbol.iterator,ne=oe&&Y[oe],ve=0;if(ne)return ne.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ve>=Y.length&&(Y=void 0),{value:Y&&Y[ve++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ne={},ve("next"),ve("throw"),ve("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ve(Fe){ne[Fe]=Y[Fe]&&function(gt){return new Promise(function(Wt,qt){!function ce(Fe,gt,Wt,qt){Promise.resolve(qt).then(function(Ke){Fe({value:Ke,done:Wt})},gt)}(Wt,qt,(gt=Y[Fe](gt)).done,gt.value)})}}}F.d(we,{FC:()=>Se,KL:()=>Je,_T:()=>de,mG:()=>le,qq:()=>ge})},5e3:(et,we,F)=>{F.d(we,{$8M:()=>Tc,$Z:()=>OD,AFp:()=>tC,AaK:()=>le,Akn:()=>Xs,AsE:()=>Vh,BQk:()=>N,CHM:()=>Go,CRH:()=>Gb,CZH:()=>as,CqO:()=>Wi,DdM:()=>Rb,EJc:()=>R1,EpF:()=>Vw,F$t:()=>nE,F4k:()=>XT,FYo:()=>oI,FiY:()=>kr,G48:()=>uC,Gf:()=>Vl,GfV:()=>ly,GkF:()=>Qs,Gpc:()=>q,HTZ:()=>dy,Hh0:()=>Fb,Hsn:()=>iE,JOm:()=>k,LFG:()=>ct,LSH:()=>ch,Lbi:()=>rC,MAs:()=>BT,NdJ:()=>Js,OlP:()=>An,Oqu:()=>eb,PXZ:()=>lp,Q6J:()=>YT,QGY:()=>Bw,Qsj:()=>a1,R0b:()=>Qe,RDi:()=>mu,Rgc:()=>ld,SBq:()=>yi,Sil:()=>sC,Suo:()=>qb,TTD:()=>_s,TgZ:()=>Fw,Tol:()=>Kw,Udp:()=>U_,VKq:()=>Ur,VLi:()=>B1,W1O:()=>EI,WLB:()=>Pb,X6Q:()=>md,XFs:()=>vt,Xpm:()=>yt,Y36:()=>F_,YKP:()=>dI,YNc:()=>LT,Yjl:()=>al,Yz7:()=>rn,ZZ4:()=>to,_Bn:()=>iI,_UZ:()=>JT,_Vd:()=>Gh,_c5:()=>Q1,_uU:()=>wE,aQg:()=>pp,c2e:()=>LI,cJS:()=>Xt,cg1:()=>Jf,dDg:()=>VI,deG:()=>km,dqk:()=>Zt,eFA:()=>di,ekj:()=>Ww,f3M:()=>Vt,g9A:()=>NI,h0i:()=>Fl,hGG:()=>$I,hij:()=>q_,iGM:()=>np,ifc:()=>Kt,ip1:()=>Tg,kEZ:()=>Kh,kL8:()=>Z_,l5B:()=>hg,lG2:()=>Jl,n5z:()=>Cc,oAB:()=>Xi,oJD:()=>lh,oxw:()=>jw,q4F:()=>cy,qLn:()=>mh,qOj:()=>Iw,qZA:()=>Lw,qbA:()=>Nb,rFY:()=>Yh,s9C:()=>qw,sBO:()=>Ul,sIi:()=>Dh,s_b:()=>Wa,soG:()=>ap,tBr:()=>mr,tb:()=>FI,tp0:()=>qa,uIk:()=>Hf,vHH:()=>Ne,vpe:()=>eo,wAp:()=>Ct,xp6:()=>c_,ynx:()=>Mo,z2F:()=>Jc,zSh:()=>vw,zs3:()=>za});var s=F(7579),ee=F(727),L=F(8306),de=F(6451),se=F(3099);function _e(a){for(let l in a)if(a[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function ue(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function le(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(le).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const z=_e({__forward_ref__:_e});function q(a){return a.__forward_ref__=q,a.toString=function(){return le(this())},a}function ie(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(z)&&a.__forward_ref__===q}class Ne extends Error{constructor(l,u){super(function Ue(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ge(a){return"string"==typeof a?a:null==a?"":String(a)}function Se(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ge(a)}function Te(a,l){const u=l?` in ${l}`:"";throw new Ne(-201,`No provider for ${Se(a)} found${u}`)}function qt(a,l){null==a&&function Ke(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function rn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Xt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Gt(a){return cs(a,us)||cs(a,ur)}function cs(a,l){return a.hasOwnProperty(l)?a[l]:null}function Ji(a){return a&&(a.hasOwnProperty(uo)||a.hasOwnProperty(Qr))?a[uo]:null}const us=_e({\u0275prov:_e}),uo=_e({\u0275inj:_e}),ur=_e({ngInjectableDef:_e}),Qr=_e({ngInjectorDef:_e});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Tr;function Nn(a){const l=Tr;return Tr=a,l}function ho(a,l,u){const d=Gt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&vt.Optional?null:void 0!==l?l:void Te(le(a),"Injector")}function gi(a){return{toString:a}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),Kt=(()=>{return(a=Kt||(Kt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Kt;var a})();const dt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Fi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=dt||"undefined"!=typeof global&&global||Tt||Fi,Vi={},H=[],$=_e({\u0275cmp:_e}),W=_e({\u0275dir:_e}),xe=_e({\u0275pipe:_e}),Z=_e({\u0275mod:_e}),te=_e({\u0275fac:_e}),Pe=_e({__NG_ELEMENT_ID__:_e});let tt=0;function yt(a){return gi(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||H,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Kt.Emulated,id:"c",styles:a.styles||H,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,_=a.features,w=a.pipes;return d.id+=tt++,d.inputs=ol(a.inputs,u),d.outputs=ol(a.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(yn):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(It):null,d})}function yn(a){return ni(a)||function er(a){return a[W]||null}(a)}function It(a){return function Fs(a){return a[xe]||null}(a)}const ti={};function Xi(a){return gi(()=>{const l={type:a.type,bootstrap:a.bootstrap||H,declarations:a.declarations||H,imports:a.imports||H,exports:a.exports||H,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ti[a.id]=a.type),l})}function ol(a,l){if(null==a)return Vi;const u={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=d,l&&(l[p]=_)}return u}const Jl=yt;function al(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ni(a){return a[$]||null}function ii(a,l){const u=a[Z]||null;if(!u&&!0===l)throw new Error(`Type ${le(a)} does not have '\u0275mod' property.`);return u}function wn(a){return Array.isArray(a)&&"object"==typeof a[1]}function ps(a){return Array.isArray(a)&&!0===a[1]}function tc(a){return 0!=(8&a.flags)}function xd(a){return 2==(2&a.flags)}function fs(a){return 1==(1&a.flags)}function gs(a){return null!==a.template}function Bi(a){return 0!=(512&a[2])}function Hi(a,l){return a.hasOwnProperty(te)?a[te]:null}class Uo{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function _s(){return Ia}function Ia(a){return a.type.prototype.ngOnChanges&&(a.setInput=qp),Nd}function Nd(){const a=Ho(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Vi)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function qp(a,l,u,d){const p=Ho(a)||function Sa(a,l){return a[Gn]=l}(a,{previous:Vi,current:null}),_=p.current||(p.current={}),w=p.previous,C=this.declaredInputs[u],E=w[C];_[C]=new Uo(E&&E.currentValue,l,w===Vi),a[d]=l}_s.ngInherit=!0;const Gn="__ngSimpleChanges__";function Ho(a){return a[Gn]||null}let Da;function mu(a){Da=a}function ys(){return void 0!==Da?Da:"undefined"!=typeof document?document:void 0}function pn(a){return!!a.listen}const dl={createRenderer:(a,l)=>ys()};function an(a){for(;Array.isArray(a);)a=a[0];return a}function yo(a,l){return an(l[a])}function Ti(a,l){return an(l[a.index])}function In(a,l){return a.data[l]}function Ei(a,l){const u=l[a];return wn(u)?u:u[0]}function qo(a){return 4==(4&a[2])}function Vs(a){return 128==(128&a[2])}function Xr(a,l){return null==l?null:a[l]}function ws(a){a[18]=0}function Aa(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const wt={lFrame:Oa(null),bindingsEnabled:!0};function sc(){return wt.bindingsEnabled}function Me(){return wt.lFrame.lView}function zt(){return wt.lFrame.tView}function Go(a){return wt.lFrame.contextLView=a,a[8]}function Tn(){let a=oc();for(;null!==a&&64===a.type;)a=a.parent;return a}function oc(){return wt.lFrame.currentTNode}function xr(a,l){const u=wt.lFrame;u.currentTNode=a,u.isParent=l}function bu(){return wt.lFrame.isParent}function Cu(){wt.lFrame.isParent=!1}function qi(){const a=wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function wo(){return wt.lFrame.bindingIndex++}function es(a){const l=wt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function cc(a,l){const u=wt.lFrame;u.bindingIndex=u.bindingRootIndex=a,ka(l)}function ka(a){wt.lFrame.currentDirectiveIndex=a}function dc(){return wt.lFrame.currentQueryIndex}function Bd(a){wt.lFrame.currentQueryIndex=a}function Ud(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function hc(a,l,u){if(u&vt.SkipSelf){let p=l,_=a;for(;!(p=p.parent,null!==p||u&vt.Host||(p=Ud(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;l=p,a=_}const d=wt.lFrame=Hd();return d.currentTNode=l,d.lView=a,!0}function Zo(a){const l=Hd(),u=a[1];wt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Hd(){const a=wt.lFrame,l=null===a?null:a.child;return null===l?Oa(a):l}function Oa(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function jd(){const a=wt.lFrame;return wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const pc=jd;function gr(){const a=jd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function mi(){return wt.lFrame.selectedIndex}function $o(a){wt.lFrame.selectedIndex=a}function zn(){const a=wt.lFrame;return In(a.tView,a.selectedIndex)}function gl(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:O}=_;w&&(a.contentHooks||(a.contentHooks=[])).push(-u,w),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-u,E),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function Us(a,l,u){Gd(a,l,3,u)}function Wo(a,l,u,d){(3&a[2])===u&&Gd(a,l,u,d)}function ri(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Gd(a,l,u,d){const _=null!=d?d:-1,w=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<w;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<_||-1==_)&&(Sm(a,u,l,E),a[18]=(4294901760&a[18])+E+2),E++}function Sm(a,l,u,d){const p=u[d]<0,_=u[d+1],C=a[p?-u[d]:u[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(C)}finally{}}}else try{_.call(C)}finally{}}class Ra{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Ar(a,l,u){const d=pn(a);let p=0;for(;p<u.length;){const _=u[p];if("number"==typeof _){if(0!==_)break;p++;const w=u[p++],C=u[p++],E=u[p++];d?a.setAttribute(l,C,E,w):l.setAttributeNS(w,C,E)}else{const w=_,C=u[++p];js(w)?d&&a.setProperty(l,w,C):d?a.setAttribute(l,w,C):l.setAttribute(w,C),p++}}return p}function Mr(a){return 3===a||4===a||6===a}function js(a){return 64===a.charCodeAt(0)}function Pa(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?u=p:0===u||$n(a,u,p,null,-1===u||2===u?l[++d]:null)}}return a}function $n(a,l,u,d,p){let _=0,w=a.length;if(-1===l)w=-1;else for(;_<a.length;){const C=a[_++];if("number"==typeof C){if(C===l){w=-1;break}if(C>l){w=_-1;break}}}for(;_<a.length;){const C=a[_];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==p&&(a[_+1]=p));if(d===a[_+1])return void(a[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(a.splice(w,0,l),_=w+1),a.splice(_++,0,u),null!==d&&a.splice(_++,0,d),null!==p&&a.splice(_++,0,p)}function Yo(a){return-1!==a}function Qo(a){return 32767&a}function qs(a,l){let u=function tn(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let Na=!0;function Jo(a){const l=Na;return Na=a,l}let Fa=0;function bs(a,l){const u=Cs(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Nt(d.data,a),Nt(l,null),Nt(d.blueprint,null));const p=Ii(a,l),_=a.injectorIndex;if(Yo(p)){const w=Qo(p),C=qs(p,l),E=C[1].data;for(let A=0;A<8;A++)l[_+A]=C[w+A]|E[w+A]}return l[_+8]=p,_}function Nt(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Cs(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ii(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,p=l;for(;null!==p;){const _=p[1],w=_.type;if(d=2===w?_.declTNode:1===w?p[6]:null,null===d)return-1;if(u++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ml(a,l,u){!function mc(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Pe)&&(d=u[Pe]),null==d&&(d=u[Pe]=Fa++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function La(a,l,u){if(u&vt.Optional)return a;Te(l,"NodeInjector")}function _l(a,l,u,d){if(u&vt.Optional&&void 0===d&&(d=null),0==(u&(vt.Self|vt.Host))){const p=a[9],_=Nn(void 0);try{return p?p.get(l,d,u&vt.Optional):ho(l,d,u&vt.Optional)}finally{Nn(_)}}return La(d,l,u)}function Du(a,l,u,d=vt.Default,p){if(null!==a){const _=function yl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Pe)?a[Pe]:void 0;return"number"==typeof l?l>=0?255&l:yc:l}(u);if("function"==typeof _){if(!hc(l,a,d))return d&vt.Host?La(p,u,d):_l(l,u,d,p);try{const w=_(d);if(null!=w||d&vt.Optional)return w;Te(u)}finally{pc()}}else if("number"==typeof _){let w=null,C=Cs(a,l),E=-1,A=d&vt.Host?l[16][6]:null;for((-1===C||d&vt.SkipSelf)&&(E=-1===C?Ii(a,l):l[C+8],-1!==E&&$d(d,!1)?(w=l[1],C=Qo(E),l=qs(E,l)):C=-1);-1!==C;){const O=l[1];if(bc(_,C,O.data)){const B=Mm(C,l,u,w,d,A);if(B!==bo)return B}E=l[C+8],-1!==E&&$d(d,l[1].data[C+8]===A)&&bc(_,C,l)?(w=O,C=Qo(E),l=qs(E,l)):C=-1}}}return _l(l,u,d,p)}const bo={};function yc(){return new Co(Tn(),Me())}function Mm(a,l,u,d,p,_){const w=l[1],C=w.data[a+8],O=vc(C,w,u,null==d?xd(C)&&Na:d!=w&&0!=(3&C.type),p&vt.Host&&_===C);return null!==O?wc(l,w,O,C):bo}function vc(a,l,u,d,p){const _=a.providerIndexes,w=l.data,C=1048575&_,E=a.directiveStart,O=_>>20,j=p?C+O:a.directiveEnd;for(let X=d?C:C+O;X<j;X++){const be=w[X];if(X<E&&u===be||X>=E&&be.type===u)return X}if(p){const X=w[E];if(X&&gs(X)&&X.type===u)return E}return null}function wc(a,l,u,d){let p=a[u];const _=l.data;if(function fc(a){return a instanceof Ra}(p)){const w=p;w.resolving&&function Ze(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${a}${u}`)}(Se(_[u]));const C=Jo(w.canSeeViewProviders);w.resolving=!0;const E=w.injectImpl?Nn(w.injectImpl):null;hc(a,d,vt.Default);try{p=a[u]=w.factory(void 0,_,a,d),l.firstCreatePass&&u>=d.directiveStart&&function bv(a,l,u){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=l.type.prototype;if(d){const w=Ia(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,w)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==E&&Nn(E),Jo(C),w.resolving=!1,pc()}}return p}function bc(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function $d(a,l){return!(a&vt.Self||a&vt.Host&&l)}class Co{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Du(this._tNode,this._lView,l,d,u)}}function Cc(a){return gi(()=>{const l=a.prototype.constructor,u=l[te]||vl(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const _=p[te]||vl(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function vl(a){return ze(a)?()=>{const l=vl(ie(a));return l&&l()}:Hi(a)}function Tc(a){return function _c(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let p=0;for(;p<d;){const _=u[p];if(Mr(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof u[p];)p++;else{if(_===l)return u[p+1];p+=2}}}return null}(Tn(),a)}const Va="__parameters__";function Ba(a,l,u){return gi(()=>{const d=function Au(a){return function(...u){if(a){const d=a(...u);for(const p in d)this[p]=d[p]}}}(l);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return C.annotation=w,C;function C(E,A,O){const B=E.hasOwnProperty(Va)?E[Va]:Object.defineProperty(E,Va,{value:[]})[Va];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(w),E}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class An{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const km=new An("AnalyzeForEntryComponents");function Si(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),Si(d,l)):l!==a&&l.push(d)}return l}function Gi(a,l){a.forEach(u=>Array.isArray(u)?Gi(u,l):l(u))}function xi(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function ea(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ns(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function zi(a,l,u){let d=Ua(a,l);return d>=0?a[1|d]=u:(d=~d,function ta(a,l,u,d){let p=a.length;if(p==l)a.push(u,d);else if(1===p)a.push(d,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function Sc(a,l){const u=Ua(a,l);if(u>=0)return a[1|u]}function Ua(a,l){return function Es(a,l,u){let d=0,p=a.length>>u;for(;p!==d;){const _=d+(p-d>>1),w=a[_<<u];if(l===w)return _<<u;w>l?p=_:d=_+1}return~(p<<u)}(a,l,1)}const Is={},ja="__NG_DI_FLAG__",ia="ngTempTokenPath",x=/\n/gm,U="__source",J=_e({provide:String,useValue:_e});let ae;function Oe(a){const l=ae;return ae=a,l}function st(a,l=vt.Default){if(void 0===ae)throw new Ne(203,"");return null===ae?ho(a,void 0,l):ae.get(a,l&vt.Optional?null:void 0,l)}function ct(a,l=vt.Default){return(function Dn(){return Tr}()||st)(ie(a),l)}const Vt=ct;function Et(a){const l=[];for(let u=0;u<a.length;u++){const d=ie(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let p,_=vt.Default;for(let w=0;w<d.length;w++){const C=d[w],E=Kn(C);"number"==typeof E?-1===E?p=C.token:_|=E:p=C}l.push(ct(p,_))}else l.push(ct(d))}return l}function si(a,l){return a[ja]=l,a.prototype[ja]=l,a}function Kn(a){return a[ja]}const mr=si(Ba("Inject",a=>({token:a})),-1),kr=si(Ba("Optional"),8),qa=si(Ba("SkipSelf"),4);let Fu,Pc;function Rc(a){var l;return(null===(l=function nh(){if(void 0===Fu&&(Fu=null,Zt.trustedTypes))try{Fu=Zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Fu}())||void 0===l?void 0:l.createHTML(a))||a}function Bm(a){var l;return(null===(l=function ef(){if(void 0===Pc&&(Pc=null,Zt.trustedTypes))try{Pc=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Pc}())||void 0===l?void 0:l.createHTML(a))||a}class Hm{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function So(a){return a instanceof Hm?a.changingThisBreaksApplicationSecurity:a}function Vu(a,l){const u=function rf(a){return a instanceof Hm&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}class qm{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Rc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Gm{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Rc(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Rc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const w=u.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const R0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rh(a){return(a=String(a)).match(R0)||a.match(Fc)?a:"unsafe:"+a}function Ss(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Lc(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const Vc=Ss("area,br,col,hr,img,wbr"),of=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zm=Ss("rp,rt"),Uu=Lc(Vc,Lc(of,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lc(Zm,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lc(Zm,of)),sh=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),af=Ss("srcset"),Wm=Lc(sh,af,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oh=Ss("script,style,template");class lf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Uu.hasOwnProperty(u))return this.sanitizedSomething=!0,!oh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),w=_.name,C=w.toLowerCase();if(!Wm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=_.value;sh[C]&&(E=rh(E)),af[C]&&(a=E,E=(a=String(a)).split(",").map(l=>rh(l.trim())).join(", ")),this.buf.push(" ",w,'="',ah(E),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Uu.hasOwnProperty(u)&&!Vc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(ah(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Dv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Av=/([^\#-~ |!])/g;function ah(a){return a.replace(/&/g,"&amp;").replace(Dv,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Av,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wl;function Or(a){return"content"in a&&function Bc(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function lh(a){const l=ir();return l?Bm(l.sanitize(Sn.HTML,a)||""):Vu(a,"HTML")?Bm(So(a)):function Mv(a,l){let u=null;try{wl=wl||function Nc(a){const l=new Gm(a);return function Iv(){try{return!!(new window.DOMParser).parseFromString(Rc(""),"text/html")}catch(a){return!1}}()?new qm(l):l}(a);let d=l?String(l):"";u=wl.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=u.innerHTML,u=wl.getInertBodyElement(d)}while(d!==_);return Rc((new lf).sanitizeChildren(Or(u)||u))}finally{if(u){const d=Or(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(ys(),ge(a))}function ch(a){const l=ir();return l?l.sanitize(Sn.URL,a)||"":Vu(a,"URL")?So(a):rh(ge(a))}function ir(){const a=Me();return a&&a[12]}const ju="__ngContext__";function Di(a,l){a[ju]=l}function Uc(a){const l=function bl(a){return a[ju]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function gh(a){return a.ngOriginalError}function Vv(a,...l){a.error(...l)}class mh{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function Qm(a){return a&&a.ngErrorLogger||Vv}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&gh(l);for(;u&&gh(u);)u=gh(u);return u||null}}const oa=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function v(a){return a instanceof Function?a():a}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function fe(a,l){return undefined(a,l)}function _t(a){const l=a[3];return ps(l)?l[3]:l}function Pr(a){return xo(a[13])}function Cl(a){return xo(a[4])}function xo(a){for(;null!==a&&!ps(a);)a=a[4];return a}function Tl(a,l,u,d,p){if(null!=d){let _,w=!1;ps(d)?_=d:wn(d)&&(w=!0,d=d[0]);const C=an(d);0===a&&null!==u?null==p?Vx(l,u,C):yh(l,u,C,p||null,!0):1===a&&null!==u?yh(l,u,C,p||null,!0):2===a?function Ux(a,l,u){const d=jv(a,l);d&&function LO(a,l,u,d){pn(a)?a.removeChild(l,u,d):l.removeChild(u)}(a,d,l,u)}(l,C,w):3===a&&l.destroyNode(C),null!=_&&function BO(a,l,u,d,p){const _=u[7];_!==an(u)&&Tl(l,a,d,_,p);for(let C=10;C<u.length;C++){const E=u[C];bf(E[1],E,a,l,d,_)}}(l,a,_,u,p)}}function Zu(a,l,u){if(pn(a))return a.createElement(l,u);{const d=null!==u?function gu(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function Uv(a,l){const u=a[9],d=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,Aa(p,-1)),u.splice(d,1)}function yf(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const p=d[17];null!==p&&p!==a&&Uv(p,d),l>0&&(a[u-1][4]=d[4]);const _=ea(a,10+l);!function mf(a,l){bf(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const w=_[19];null!==w&&w.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Hv(a,l){if(!(256&l[2])){const u=l[11];pn(u)&&u.destroyNode&&bf(a,l,u,3,null,null),function $u(a){let l=a[13];if(!l)return i_(a[1],a);for(;l;){let u=null;if(wn(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)wn(l)&&i_(l[1],l),l=l[3];null===l&&(l=a),wn(l)&&i_(l[1],l),u=l&&l[4]}l=u}}(l)}}function i_(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function Nx(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const p=l[u[d]];if(!(p instanceof Ra)){const _=u[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const C=p[_[w]],E=_[w+1];try{E.call(C)}finally{}}else try{_.call(p)}finally{}}}}(a,l),function V0(a,l){const u=a.cleanup,d=l[7];let p=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const w=u[_+1],C="function"==typeof w?w(l):an(l[w]),E=d[p=u[_+2]],A=u[_+3];"boolean"==typeof A?C.removeEventListener(u[_],E,A):A>=0?d[p=A]():d[p=-A].unsubscribe(),_+=2}else{const w=d[p=u[_+1]];u[_].call(w)}if(null!==d){for(let _=p+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&pn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&ps(l[3])){u!==l[3]&&Uv(u,l);const d=l[19];null!==d&&d.detachView(a)}}}function Fx(a,l,u){return function Lx(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===Kt.None||p===Kt.Emulated)return null}return Ti(d,u)}(a,l.parent,u)}function yh(a,l,u,d,p){pn(a)?a.insertBefore(l,u,d,p):l.insertBefore(u,d,p)}function Vx(a,l,u){pn(a)?a.appendChild(l,u):l.appendChild(u)}function Bx(a,l,u,d,p){null!==d?yh(a,l,u,d,p):Vx(a,l,u)}function jv(a,l){return pn(a)?a.parentNode(l):l.parentNode}function B0(a,l,u){return qv(a,l,u)}let qv=function U0(a,l,u){return 40&a.type?Ti(a,u):null};function wf(a,l,u,d){const p=Fx(a,d,l),_=l[11],C=B0(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(u))for(let E=0;E<u.length;E++)Bx(_,p,u[E],C,!1);else Bx(_,p,u,C,!1)}function s_(a,l){if(null!==l){const u=l.type;if(3&u)return Ti(l,a);if(4&u)return Gv(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return s_(a,d);{const p=a[l.index];return ps(p)?Gv(-1,p):an(p)}}if(32&u)return fe(l,a)()||an(a[l.index]);{const d=o_(a,l);return null!==d?Array.isArray(d)?d[0]:s_(_t(a[16]),d):s_(a,l.next)}}return null}function o_(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Gv(a,l){const u=10+a+1;if(u<l.length){const d=l[u],p=d[1].firstChild;if(null!==p)return s_(d,p)}return l[7]}function H0(a,l,u,d,p,_,w){for(;null!=u;){const C=d[u.index],E=u.type;if(w&&0===l&&(C&&Di(an(C),d),u.flags|=4),64!=(64&u.flags))if(8&E)H0(a,l,u.child,d,p,_,!1),Tl(l,a,p,C,_);else if(32&E){const A=fe(u,d);let O;for(;O=A();)Tl(l,a,p,O,_);Tl(l,a,p,C,_)}else 16&E?jx(a,l,d,u,p,_):Tl(l,a,p,C,_);u=w?u.projectionNext:u.next}}function bf(a,l,u,d,p,_){H0(u,d,a.firstChild,l,p,_,!1)}function jx(a,l,u,d,p,_){const w=u[16],E=w[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)Tl(l,a,p,E[A],_);else H0(a,l,E,w[3],p,_,!0)}function Ks(a,l,u){pn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function zv(a,l,u){pn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function j0(a,l,u){let d=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const _=l.length;if(p+_===d||a.charCodeAt(p+_)<=32)return p}u=p+1}}const q0="ng-template";function G0(a,l,u){let d=0;for(;d<a.length;){let p=a[d++];if(u&&"class"===p){if(p=a[d],-1!==j0(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function z0(a){return 4===a.type&&a.value!==q0}function vh(a,l,u){return l===(4!==a.type||u?a.value:q0)}function qx(a,l,u){let d=4;const p=a.attrs||[],_=function zx(a){for(let l=0;l<a.length;l++)if(Mr(a[l]))return l;return a.length}(p);let w=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!w)if(4&d){if(d=2|1&d,""!==E&&!vh(a,E,u)||""===E&&1===l.length){if(aa(d))return!1;w=!0}}else{const A=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!G0(a.attrs,A,u)){if(aa(d))return!1;w=!0}continue}const B=Zv(8&d?"class":E,p,z0(a),u);if(-1===B){if(aa(d))return!1;w=!0;continue}if(""!==A){let j;j=B>_?"":p[B+1].toLowerCase();const X=8&d?j:null;if(X&&-1!==j0(X,A,0)||2&d&&A!==j){if(aa(d))return!1;w=!0}}}}else{if(!w&&!aa(d)&&!aa(E))return!1;if(w&&aa(E))continue;w=!1,d=E|1&d}}return aa(d)||w}function aa(a){return 0==(1&a)}function Zv(a,l,u,d){if(null===l)return-1;let p=0;if(d||!u){let _=!1;for(;p<l.length;){const w=l[p];if(w===a)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function Zx(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function $v(a,l,u=!1){for(let d=0;d<l.length;d++)if(qx(a,l[d],u))return!0;return!1}function Z0(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function Cf(a,l){return a?":not("+l.trim()+")":l}function $x(a){let l=a[0],u=1,d=2,p="",_=!1;for(;u<a.length;){let w=a[u];if("string"==typeof w)if(2&d){const C=a[++u];p+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!aa(w)&&(l+=Cf(_,p),p=""),d=w,_=_||!aa(d);u++}return""!==p&&(l+=Cf(_,p)),l}const Lt={};function c_(a){El(zt(),Me(),mi()+a,!1)}function El(a,l,u,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Us(l,_,u)}else{const _=a.preOrderHooks;null!==_&&Wo(l,_,0,u)}$o(u)}function Il(a,l){return a<<17|l<<2}function xs(a){return a>>17&32767}function $i(a){return 2|a}function la(a){return(131068&a)>>2}function qc(a,l){return-131069&a|l<<2}function Sl(a){return 1|a}function tw(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d],_=u[d+1];if(-1!==_){const w=a.data[_];Bd(p),w.contentQueries(2,l[_],_)}}}function Sf(a,l,u,d,p,_,w,C,E,A){const O=l.blueprint.slice();return O[0]=p,O[2]=140|d,ws(O),O[3]=O[15]=a,O[8]=u,O[10]=w||a&&a[10],O[11]=C||a&&a[11],O[12]=E||a&&a[12]||null,O[9]=A||a&&a[9]||null,O[6]=_,O[16]=2==l.type?a[16]:O,O}function Ku(a,l,u,d,p){let _=a.data[l];if(null===_)_=function g_(a,l,u,d,p){const _=oc(),w=bu(),E=a.data[l]=function rw(a,l,u,d,p,_){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,u,l,d,p);return null===a.firstChild&&(a.firstChild=E),null!==_&&(w?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}(a,l,u,d,p),function Eu(){return wt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=d,_.attrs=p;const w=function zo(){const a=wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return xr(_,!0),_}function Al(a,l,u,d){if(0===u)return-1;const p=l.length;for(let _=0;_<u;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function da(a,l,u){Zo(l);try{const d=a.viewQuery;null!==d&&C_(1,d,u);const p=a.template;null!==p&&nT(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&tw(a,l),a.staticViewQueries&&C_(2,a.viewQuery,u);const _=a.components;null!==_&&function tT(a,l){for(let u=0;u<l.length;u++)w_(a,l[u])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,gr()}}function Ht(a,l,u,d){const p=l[2];if(256!=(256&p)){Zo(l);try{ws(l),function ac(a){return wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&nT(a,l,u,2,d);const w=3==(3&p);if(w){const A=a.preOrderCheckHooks;null!==A&&Us(l,A,null)}else{const A=a.preOrderHooks;null!==A&&Wo(l,A,0,null),ri(l,0)}if(function aD(a){for(let l=Pr(a);null!==l;l=Cl(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const p=u[d],_=p[3];0==(1024&p[2])&&Aa(_,1),p[2]|=1024}}}(l),function kf(a){for(let l=Pr(a);null!==l;l=Cl(l))for(let u=10;u<l.length;u++){const d=l[u],p=d[1];Vs(d)&&Ht(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&tw(a,l),w){const A=a.contentCheckHooks;null!==A&&Us(l,A)}else{const A=a.contentHooks;null!==A&&Wo(l,A,1),ri(l,1)}!function eT(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)$o(~p);else{const _=p,w=u[++d],C=u[++d];cc(w,_),C(2,l[_])}}}finally{$o(-1)}}(a,l);const C=a.components;null!==C&&function tD(a,l){for(let u=0;u<l.length;u++)lD(a,l[u])}(l,C);const E=a.viewQuery;if(null!==E&&C_(2,E,d),w){const A=a.viewCheckHooks;null!==A&&Us(l,A)}else{const A=a.viewHooks;null!==A&&Wo(l,A,2),ri(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,Aa(l[3],-1))}finally{gr()}}}function xf(a,l,u,d){const p=l[10],w=qo(l);try{!w&&p.begin&&p.begin(),w&&da(a,l,d),Ht(a,l,u,d)}finally{!w&&p.end&&p.end()}}function nT(a,l,u,d,p){const _=mi(),w=2&d;try{$o(-1),w&&l.length>20&&El(a,l,20,!1),u(d,p)}finally{$o(_)}}function zc(a,l,u){if(tc(l)){const p=l.directiveEnd;for(let _=l.directiveStart;_<p;_++){const w=a.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}}function nw(a,l,u){!sc()||(function cw(a,l,u,d){const p=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||bs(u,l),Di(d,l);const w=u.initialInputs;for(let C=p;C<_;C++){const E=a.data[C],A=gs(E);A&&v_(l,u,E);const O=wc(l,a,C,u);Di(O,l),null!==w&&cT(0,C-p,O,E,0,w),A&&(Ei(u.index,l)[8]=O)}}(a,l,u,Ti(u,l)),128==(128&u.flags)&&function Ml(a,l,u){const d=u.directiveStart,p=u.directiveEnd,w=u.index,C=function Iu(){return wt.lFrame.currentDirectiveIndex}();try{$o(w);for(let E=d;E<p;E++){const A=a.data[E],O=l[E];ka(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Yu(A,O)}}finally{$o(-1),ka(C)}}(a,l,u))}function m_(a,l,u=Ti){const d=l.localNames;if(null!==d){let p=l.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],C=-1===w?u(l,a):a[w];a[p++]=C}}}function iw(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=__(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function __(a,l,u,d,p,_,w,C,E,A){const O=20+d,B=O+p,j=function y_(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:Lt);return u}(O,B),X="function"==typeof A?A():A;return j[1]={type:a,blueprint:j,template:u,queries:null,viewQuery:C,declTNode:l,data:j.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function iT(a,l,u,d){const p=T_(l);null===u?p.push(d):(p.push(u),a.firstCreatePass&&fT(a).push(d,p.length-1))}function Af(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,p):u[d]=[l,p]}return u}function Ys(a,l,u,d,p,_,w,C){const E=Ti(l,u);let O,A=l.inputs;!C&&null!=A&&(O=A[d])?(gT(a,u,O,d,p),xd(l)&&function iD(a,l){const u=Ei(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function sT(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=w?w(p,l.value||"",d):p,pn(_)?_.setProperty(E,d,p):js(d)||(E.setProperty?E.setProperty(d,p):E[d]=p))}function ow(a,l,u,d){let p=!1;if(sc()){const _=function aT(a,l,u){const d=a.directiveRegistry;let p=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];$v(u,w.selectors,!1)&&(p||(p=[]),ml(bs(u,l),a,w.type),gs(w)?(uw(a,u),p.unshift(w)):p.push(w))}return p}(a,l,u),w=null===d?null:{"":-1};if(null!==_){p=!0,dw(u,a.data.length,_.length);for(let O=0;O<_.length;O++){const B=_[O];B.providersResolver&&B.providersResolver(B)}let C=!1,E=!1,A=Al(a,l,_.length,null);for(let O=0;O<_.length;O++){const B=_[O];u.mergedAttrs=Pa(u.mergedAttrs,B.hostAttrs),lT(a,u,l,A,B),bh(A,B,w),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const j=B.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!E&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),E=!0),A++}!function rT(a,l){const d=l.directiveEnd,p=a.data,_=l.attrs,w=[];let C=null,E=null;for(let A=l.directiveStart;A<d;A++){const O=p[A],B=O.inputs,j=null===_||z0(l)?null:hw(B,_);w.push(j),C=Af(B,A,C),E=Af(O.outputs,A,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=C,l.outputs=E}(a,u)}w&&function oD(a,l,u){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const _=u[l[p+1]];if(null==_)throw new Ne(-301,!1);d.push(l[p],_)}}}(u,d,w)}return u.mergedAttrs=Pa(u.mergedAttrs,u.attrs),p}function aw(a,l,u,d,p,_){const w=_.hostBindings;if(w){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function lw(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=E&&C.push(E),C.push(d,p,w)}}function Yu(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function uw(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function bh(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;gs(l)&&(u[""]=a)}}function dw(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function lT(a,l,u,d,p){a.data[d]=p;const _=p.factory||(p.factory=Hi(p.type)),w=new Ra(_,gs(p),null);a.blueprint[d]=w,u[d]=w,aw(a,l,0,d,Al(a,u,p.hostVars,Lt),p)}function v_(a,l,u){const d=Ti(l,a),p=iw(u),_=a[10],w=Ch(a,Sf(a,p,null,u.onPush?64:16,d,l,_,_.createRenderer(d,u),null,null));a[l.index]=w}function ha(a,l,u,d,p,_){const w=Ti(a,l);!function Mf(a,l,u,d,p,_,w){if(null==_)pn(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const C=null==w?ge(_):w(_,d||"",p);pn(a)?a.setAttribute(l,p,C,u):u?l.setAttributeNS(u,p,C):l.setAttribute(p,C)}}(l[11],w,_,a.value,u,d,p)}function cT(a,l,u,d,p,_){const w=_[l];if(null!==w){const C=d.setInput;for(let E=0;E<w.length;){const A=w[E++],O=w[E++],B=w[E++];null!==C?d.setInput(u,B,A,O):u[O]=B}}}function hw(a,l){let u=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[d+1])),d+=2}else d+=2;else d+=4}return u}function dT(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function lD(a,l){const u=Ei(l,a);if(Vs(u)){const d=u[1];80&u[2]?Ht(d,u,d.template,u[8]):u[5]>0&&pw(u)}}function pw(a){for(let d=Pr(a);null!==d;d=Cl(d))for(let p=10;p<d.length;p++){const _=d[p];if(1024&_[2]){const w=_[1];Ht(w,_,w.template,_[8])}else _[5]>0&&pw(_)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const p=Ei(u[d],a);Vs(p)&&p[5]>0&&pw(p)}}function w_(a,l){const u=Ei(l,a),d=u[1];(function Of(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),da(d,u,u[8])}function Ch(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function b_(a){for(;a;){a[2]|=64;const l=_t(a);if(Bi(a)&&!l)return a;a=l}return null}function pT(a){!function fw(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],d=Uc(u),p=d[1];xf(p,d,p.template,u)}}(a[8])}function C_(a,l,u){Bd(0),l(a,u)}const cD=(()=>Promise.resolve(null))();function T_(a){return a[7]||(a[7]=[])}function fT(a){return a.cleanup||(a.cleanup=[])}function _w(a,l){const u=a[9],d=u?u.get(mh,null):null;d&&d.handleError(l)}function gT(a,l,u,d,p){for(let _=0;_<u.length;){const w=u[_++],C=u[_++],E=l[w],A=a.data[w];null!==A.setInput?A.setInput(E,p,d,C):E[C]=p}}function kl(a,l,u){const d=yo(l,a);!function zu(a,l,u){pn(a)?a.setValue(l,u):l.textContent=u}(a[11],d,u)}function E_(a,l,u){let d=u?a.styles:null,p=u?a.classes:null,_=0;if(null!==l)for(let w=0;w<l.length;w++){const C=l[w];"number"==typeof C?_=C:1==_?p=pe(p,C):2==_&&(d=pe(d,C+": "+l[++w]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=p:a.classesWithoutHost=p}const Ol=new An("INJECTOR",-1);class mT{get(l,u=Is){if(u===Is){const d=new Error(`NullInjectorError: No provider for ${le(l)}!`);throw d.name="NullInjectorError",d}return u}}const vw=new An("Set Injector scope."),Pf={},uD={};let Qu;function Th(){return void 0===Qu&&(Qu=new mT),Qu}function _T(a,l=null,u=null,d){const p=Eh(a,l,u,d);return p._resolveInjectorDefTypes(),p}function Eh(a,l=null,u=null,d){return new I_(a,u,l||Th(),d)}class I_{constructor(l,u,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];u&&Gi(u,C=>this.processProvider(C,l,u)),Gi([l],C=>this.processInjectorType(C,[],_)),this.records.set(Ol,Ih(void 0,this));const w=this.records.get(vw);this.scope=null!=w?w.value:null,this.source=p||("object"==typeof l?null:le(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Is,d=vt.Default){this.assertNotDestroyed();const p=Oe(this),_=Nn(void 0);try{if(!(d&vt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function hD(a){return"function"==typeof a||"object"==typeof a&&a instanceof An}(l)&&Gt(l);C=E&&this.injectableDefInScope(E)?Ih(ww(l),Pf):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&vt.Self?Th():this.parent).get(l,u=d&vt.Optional&&u===Is?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[ia]=w[ia]||[]).unshift(le(l)),p)throw w;return function ra(a,l,u,d){const p=a[ia];throw l[U]&&p.unshift(l[U]),a.message=function $s(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=le(l);if(Array.isArray(l))p=l.map(le).join(" -> ");else if("object"==typeof l){let _=[];for(let w in l)if(l.hasOwnProperty(w)){let C=l[w];_.push(w+":"+("string"==typeof C?JSON.stringify(C):le(C)))}p=`{${_.join(", ")}}`}return`${u}${d?"("+d+")":""}[${p}]: ${a.replace(x,"\n  ")}`}("\n"+a.message,p,u,d),a.ngTokenPath=p,a[ia]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{Nn(_),Oe(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,p)=>l.push(le(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(l,u,d){if(!(l=ie(l)))return!1;let p=Ji(l);const _=null==p&&l.ngModule||void 0,w=void 0===_?l:_,C=-1!==d.indexOf(w);if(void 0!==_&&(p=Ji(_)),null==p)return!1;if(null!=p.imports&&!C){let O;d.push(w);try{Gi(p.imports,B=>{this.processInjectorType(B,u,d)&&(void 0===O&&(O=[]),O.push(B))})}finally{}if(void 0!==O)for(let B=0;B<O.length;B++){const{ngModule:j,providers:X}=O[B];Gi(X,be=>this.processProvider(be,j,X||H))}}this.injectorDefTypes.add(w);const E=Hi(w)||(()=>new w);this.records.set(w,Ih(E,Pf));const A=p.providers;if(null!=A&&!C){const O=l;Gi(A,B=>this.processProvider(B,O,A))}return void 0!==_&&void 0!==l.providers}processProvider(l,u,d){let p=Ju(l=ie(l))?l:ie(l&&l.provide);const _=function vT(a,l,u){return S_(a)?Ih(void 0,a.useValue):Ih(wT(a),Pf)}(l);if(Ju(l)||!0!==l.multi)this.records.get(p);else{let w=this.records.get(p);w||(w=Ih(void 0,Pf,!0),w.factory=()=>Et(w.multi),this.records.set(p,w)),p=l,w.multi.push(l)}this.records.set(p,_)}hydrate(l,u){return u.value===Pf&&(u.value=uD,u.value=u.factory()),"object"==typeof u.value&&u.value&&function dD(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ie(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function ww(a){const l=Gt(a),u=null!==l?l.factory:Hi(a);if(null!==u)return u;if(a instanceof An)throw new Ne(204,!1);if(a instanceof Function)return function yT(a){const l=a.length;if(l>0)throw ns(l,"?"),new Ne(204,!1);const u=function Cr(a){const l=a&&(a[us]||a[ur]);if(l){const u=function Ni(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ne(204,!1)}function wT(a,l,u){let d;if(Ju(a)){const p=ie(a);return Hi(p)||ww(p)}if(S_(a))d=()=>ie(a.useValue);else if(function bT(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Et(a.deps||[]));else if(function Do(a){return!(!a||!a.useExisting)}(a))d=()=>ct(ie(a.useExisting));else{const p=ie(a&&(a.useClass||a.provide));if(!function D_(a){return!!a.deps}(a))return Hi(p)||ww(p);d=()=>new p(...Et(a.deps))}return d}function Ih(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function S_(a){return null!==a&&"object"==typeof a&&J in a}function Ju(a){return"function"==typeof a}let za=(()=>{class a{static create(u,d){var p;if(Array.isArray(u))return _T({name:""},d,u,"");{const _=null!==(p=u.name)&&void 0!==p?p:"";return _T({name:_},u.parent,u.providers,_)}}}return a.THROW_IF_NOT_FOUND=Is,a.NULL=new mT,a.\u0275prov=rn({token:a,providedIn:"any",factory:()=>ct(Ol)}),a.__NG_ELEMENT_ID__=-1,a})();function _D(a,l){gl(Uc(a)[1],Tn())}function Iw(a){let l=function AT(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let p;if(gs(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ne(903,"");p=l.\u0275dir}if(p){if(u){d.push(p);const w=a;w.inputs=Sw(a.inputs),w.declaredInputs=Sw(a.declaredInputs),w.outputs=Sw(a.outputs);const C=p.hostBindings;C&&wD(a,C);const E=p.viewQuery,A=p.contentQueries;if(E&&vD(a,E),A&&MT(a,A),ue(a.inputs,p.inputs),ue(a.declaredInputs,p.declaredInputs),ue(a.outputs,p.outputs),gs(p)&&p.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const C=_[w];C&&C.ngInherit&&C(a),C===Iw&&(u=!1)}}l=Object.getPrototypeOf(l)}!function yD(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=Pa(p.hostAttrs,u=Pa(u,p.hostAttrs))}}(d)}function Sw(a){return a===Vi?{}:a===H?[]:a}function vD(a,l){const u=a.viewQuery;a.viewQuery=u?(d,p)=>{l(d,p),u(d,p)}:l}function MT(a,l){const u=a.contentQueries;a.contentQueries=u?(d,p,_)=>{l(d,p,_),u(d,p,_)}:l}function wD(a,l){const u=a.hostBindings;a.hostBindings=u?(d,p)=>{l(d,p),u(d,p)}:l}let A_=null;function Xu(){if(!A_){const a=Zt.Symbol;if(a&&a.iterator)A_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(A_=d)}}}return A_}function Dh(a){return!!M_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Xu()in a)}function M_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Za(a,l,u){return a[l]=u}function Bf(a,l){return a[l]}function Nr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function ed(a,l,u,d){const p=Nr(a,l,u);return Nr(a,l+1,d)||p}function Uf(a,l,u,d,p){const _=ed(a,l,u,d);return Nr(a,l+2,p)||_}function Ao(a,l,u,d,p,_){const w=ed(a,l,u,d);return ed(a,l+2,p,_)||w}function Hf(a,l,u,d){const p=Me();return Nr(p,wo(),l)&&(zt(),ha(zn(),p,a,l,u,d)),Hf}function Mh(a,l,u,d){return Nr(a,wo(),u)?l+ge(u)+d:Lt}function kh(a,l,u,d,p,_){const C=ed(a,function Dr(){return wt.lFrame.bindingIndex}(),u,p);return es(2),C?l+ge(u)+d+ge(p)+_:Lt}function LT(a,l,u,d,p,_,w,C){const E=Me(),A=zt(),O=a+20,B=A.firstCreatePass?function FT(a,l,u,d,p,_,w,C,E){const A=l.consts,O=Ku(l,a,4,w||null,Xr(A,C));ow(l,u,O,Xr(A,E)),gl(l,O);const B=O.tViews=__(2,O,d,p,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,O),B.queries=l.queries.embeddedTView(O)),O}(O,A,E,l,u,d,p,_,w):A.data[O];xr(B,!1);const j=E[11].createComment("");wf(A,E,j,B),Di(j,E),Ch(E,E[O]=dT(j,E,j,B)),fs(B)&&nw(A,E,B),null!=w&&m_(E,B,C)}function BT(a){return function vs(a,l){return a[l]}(function Vd(){return wt.lFrame.contextLView}(),20+a)}function F_(a,l=vt.Default){const u=Me();return null===u?ct(a,l):Du(Tn(),u,ie(a),l)}function OD(){throw new Error("invalid")}function YT(a,l,u){const d=Me();return Nr(d,wo(),l)&&Ys(zt(),zn(),d,a,l,d[11],u,!1),YT}function QT(a,l,u,d,p){const w=p?"class":"style";gT(a,u,l.inputs[w],w,d)}function Fw(a,l,u,d){const p=Me(),_=zt(),w=20+a,C=p[11],E=p[w]=Zu(C,l,function Im(){return wt.lFrame.currentNamespace}()),A=_.firstCreatePass?function fR(a,l,u,d,p,_,w){const C=l.consts,A=Ku(l,a,2,p,Xr(C,_));return ow(l,u,A,Xr(C,w)),null!==A.attrs&&E_(A,A.attrs,!1),null!==A.mergedAttrs&&E_(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(w,_,p,0,l,u,d):_.data[w];xr(A,!0);const O=A.mergedAttrs;null!==O&&Ar(C,E,O);const B=A.classes;null!==B&&zv(C,E,B);const j=A.styles;return null!==j&&Ks(C,E,j),64!=(64&A.flags)&&wf(_,p,E,A),0===function fl(){return wt.lFrame.elementDepthCount}()&&Di(E,p),function vu(){wt.lFrame.elementDepthCount++}(),fs(A)&&(nw(_,p,A),zc(_,A,p)),null!==d&&m_(p,A),Fw}function Lw(){let a=Tn();bu()?Cu():(a=a.parent,xr(a,!1));const l=a;!function rc(){wt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(gl(u,a),tc(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Dm(a){return 0!=(16&a.flags)}(l)&&QT(u,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function zd(a){return 0!=(32&a.flags)}(l)&&QT(u,l,Me(),l.stylesWithoutHost,!1),Lw}function JT(a,l,u,d){return Fw(a,l,u,d),Lw(),JT}function Mo(a,l,u){const d=Me(),p=zt(),_=a+20,w=p.firstCreatePass?function pa(a,l,u,d,p){const _=l.consts,w=Xr(_,d),C=Ku(l,a,8,"ng-container",w);return null!==w&&E_(C,w,!0),ow(l,u,C,Xr(_,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(_,p,d,l,u):p.data[_];xr(w,!0);const C=d[_]=d[11].createComment("");return wf(p,d,C,w),Di(C,d),fs(w)&&(nw(p,d,w),zc(p,w,d)),null!=u&&m_(d,w),Mo}function N(){let a=Tn();const l=zt();return bu()?Cu():(a=a.parent,xr(a,!1)),l.firstCreatePass&&(gl(l,a),tc(a)&&l.queries.elementEnd(a)),N}function Qs(a,l,u){return Mo(a,l,u),N(),Qs}function Vw(){return Me()}function Bw(a){return!!a&&"function"==typeof a.then}function XT(a){return!!a&&"function"==typeof a.subscribe}const Wi=XT;function Js(a,l,u,d){const p=Me(),_=zt(),w=Tn();return function eE(a,l,u,d,p,_,w,C){const E=fs(d),O=a.firstCreatePass&&fT(a),B=l[8],j=T_(l);let X=!0;if(3&d.type||C){const Ge=Ti(d,l),at=C?C(Ge):Ge,De=j.length,ut=C?$t=>C(an($t[d.index])):d.index;if(pn(u)){let $t=null;if(!C&&E&&($t=function Uw(a,l,u,d){const p=a.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===u&&p[_+1]===d){const C=l[7],E=p[_+2];return C.length>E?C[E]:null}"string"==typeof w&&(_+=2)}return null}(a,l,p,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=_,$t.__ngLastListenerFn__=_,X=!1;else{_=Hw(d,l,B,_,!1);const on=u.listen(at,p,_);j.push(_,on),O&&O.push(p,ut,De,De+1)}}else _=Hw(d,l,B,_,!0),at.addEventListener(p,_,w),j.push(_),O&&O.push(p,ut,De,w)}else _=Hw(d,l,B,_,!1);const be=d.outputs;let Ve;if(X&&null!==be&&(Ve=be[p])){const Ge=Ve.length;if(Ge)for(let at=0;at<Ge;at+=2){const As=l[Ve[at]][Ve[at+1]].subscribe(_),jl=j.length;j.push(_,As),O&&O.push(p,d.index,jl,-(jl+1))}}}(_,p,p[11],w,a,l,!!u,d),Js}function tE(a,l,u,d){try{return!1!==u(d)}catch(p){return _w(a,p),!1}}function Hw(a,l,u,d,p){return function _(w){if(w===Function)return d;const C=2&a.flags?Ei(a.index,l):l;0==(32&l[2])&&b_(C);let E=tE(l,0,d,w),A=_.__ngNextListenerFn__;for(;A;)E=tE(l,0,A,w)&&E,A=A.__ngNextListenerFn__;return p&&!1===E&&(w.preventDefault(),w.returnValue=!1),E}}function jw(a=1){return function zp(a){return(wt.lFrame.contextLView=function Su(a,l){for(;a>0;)l=l[15],a--;return l}(a,wt.lFrame.contextLView))[8]}(a)}function RD(a,l){let u=null;const d=function Gx(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const _=l[p];if("*"!==_){if(null===d?$v(a,_,!0):Z0(d,_))return p}else u=p}return u}function nE(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=ns(a?a.length:1,null),p=d.slice();let _=l.child;for(;null!==_;){const w=a?RD(_,a):0;null!==w&&(p[w]?p[w].projectionNext=_:d[w]=_,p[w]=_),_=_.next}}}function iE(a,l=0,u){const d=Me(),p=zt(),_=Ku(p,20+a,16,null,u||null);null===_.projection&&(_.projection=l),Cu(),64!=(64&_.flags)&&function Hx(a,l,u){jx(l[11],0,l,u,Fx(a,u,l),B0(u.parent||l[6],u,l))}(p,d,_)}function qw(a,l,u){return _r(a,"",l,"",u),qw}function _r(a,l,u,d,p){const _=Me(),w=Mh(_,l,u,d);return w!==Lt&&Ys(zt(),zn(),_,a,w,_[11],p,!1),_r}function oE(a,l,u,d,p){const _=a[u+1],w=null===l;let C=d?xs(_):la(_),E=!1;for(;0!==C&&(!1===E||w);){const O=a[C+1];Wf(a[C],l)&&(E=!0,a[C+1]=d?Sl(O):$i(O)),C=d?xs(O):la(O)}E&&(a[u+1]=d?$i(_):Sl(_))}function Wf(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ua(a,l)>=0}const Ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kf(a){return a.substring(Ai.key,Ai.keyEnd)}function aE(a){return a.substring(Ai.value,Ai.valueEnd)}function lE(a,l){const u=Ai.textEnd;return u===l?-1:(l=Ai.keyEnd=function uE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Ai.key=l,u),Wc(a,l,u))}function cE(a,l){const u=Ai.textEnd;let d=Ai.key=Wc(a,l,u);return u===d?-1:(d=Ai.keyEnd=function Zw(a,l,u){let d;for(;l<u&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,u),d=$w(a,d,u),d=Ai.value=Wc(a,d,u),d=Ai.valueEnd=function Yf(a,l,u){let d=-1,p=-1,_=-1,w=l,C=w;for(;w<u;){const E=a.charCodeAt(w++);if(59===E)return C;34===E||39===E?C=w=dE(a,E,w,u):l===w-4&&85===_&&82===p&&76===d&&40===E?C=w=dE(a,41,w,u):E>32&&(C=w),_=p,p=d,d=-33&E}return C}(a,d,u),$w(a,d,u))}function zw(a){Ai.key=0,Ai.keyEnd=0,Ai.value=0,Ai.valueEnd=0,Ai.textEnd=a.length}function Wc(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function $w(a,l,u,d){return(l=Wc(a,l,u))<u&&l++,l}function dE(a,l,u,d){let p=-1,_=u;for(;_<d;){const w=a.charCodeAt(_++);if(w==l&&92!==p)return _;p=92==w&&92===p?0:w}throw new Error}function U_(a,l,u){return fa(a,l,u,!1),U_}function Ww(a,l){return fa(a,l,null,!0),Ww}function Xs(a){ga(mE,pE,a,!1)}function pE(a,l){for(let u=function LD(a){return zw(a),cE(a,Wc(a,0,Ai.textEnd))}(l);u>=0;u=cE(l,u))mE(a,Kf(l),aE(l))}function Kw(a){ga(zi,ko,a,!0)}function ko(a,l){for(let u=function FD(a){return zw(a),lE(a,Wc(a,0,Ai.textEnd))}(l);u>=0;u=lE(l,u))zi(a,Kf(l),!0)}function fa(a,l,u,d){const p=Me(),_=zt(),w=es(2);_.firstUpdatePass&&Qf(_,a,w,d),l!==Lt&&Nr(p,w,l)&&_E(_,_.data[mi()],p,p[11],a,p[w+1]=function BD(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=le(So(a)))),a}(l,u),d,w)}function ga(a,l,u,d){const p=zt(),_=es(2);p.firstUpdatePass&&Qf(p,null,_,d);const w=Me();if(u!==Lt&&Nr(w,_,u)){const C=p.data[mi()];if(vE(C,d)&&!fE(p,_)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(u=pe(E,u||"")),QT(p,C,w,u,d)}else!function VD(a,l,u,d,p,_,w,C){p===Lt&&(p=H);let E=0,A=0,O=0<p.length?p[0]:null,B=0<_.length?_[0]:null;for(;null!==O||null!==B;){const j=E<p.length?p[E+1]:void 0,X=A<_.length?_[A+1]:void 0;let Ve,be=null;O===B?(E+=2,A+=2,j!==X&&(be=B,Ve=X)):null===B||null!==O&&O<B?(E+=2,be=O):(A+=2,be=B,Ve=X),null!==be&&_E(a,l,u,d,be,Ve,w,C),O=E<p.length?p[E]:null,B=A<_.length?_[A]:null}}(p,C,w,w[11],w[_+1],w[_+1]=function H_(a,l,u){if(null==u||""===u)return H;const d=[],p=So(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)a(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&a(d,_,p[_]);else"string"==typeof p&&l(d,p);return d}(a,l,u),d,_)}}function fE(a,l){return l>=a.expandoStartIndex}function Qf(a,l,u,d){const p=a.data;if(null===p[u+1]){const _=p[mi()],w=fE(a,u);vE(_,d)&&null===l&&!w&&(l=!1),l=function Yw(a,l,u,d){const p=function uc(a){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(u=Lh(u=Xw(null,a,l,u,d),l.attrs,d),_=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==p)if(u=Xw(p,a,l,u,d),null===_){let E=function Qw(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==la(d))return a[xs(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=Xw(null,a,l,E[1],d),E=Lh(E,l.attrs,d),function Jw(a,l,u,d){a[xs(u?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else _=function gE(a,l,u){let d;const p=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<p;_++)d=Lh(d,a[_].hostAttrs,u);return Lh(d,l.attrs,u)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),u}(p,_,l,d),function PD(a,l,u,d,p,_){let w=_?l.classBindings:l.styleBindings,C=xs(w),E=la(w);a[d]=u;let O,A=!1;if(Array.isArray(u)){const B=u;O=B[1],(null===O||Ua(B,O)>0)&&(A=!0)}else O=u;if(p)if(0!==E){const j=xs(a[C+1]);a[d+1]=Il(j,C),0!==j&&(a[j+1]=qc(a[j+1],d)),a[C+1]=function Wx(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Il(C,0),0!==C&&(a[C+1]=qc(a[C+1],d)),C=d;else a[d+1]=Il(E,0),0===C?C=d:a[E+1]=qc(a[E+1],d),E=d;A&&(a[d+1]=$i(a[d+1])),oE(a,O,d,!0),oE(a,O,d,!1),function ND(a,l,u,d,p){const _=p?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Ua(_,l)>=0&&(u[d+1]=Sl(u[d+1]))}(l,O,a,d,_),w=Il(C,E),_?l.classBindings=w:l.styleBindings=w}(p,_,l,u,w,d)}}function Xw(a,l,u,d,p){let _=null;const w=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<w&&(_=l[C],d=Lh(d,_.hostAttrs,p),_!==a);)C++;return null!==a&&(u.directiveStylingLast=C),d}function Lh(a,l,u){const d=u?1:2;let p=-1;if(null!==l)for(let _=0;_<l.length;_++){const w=l[_];"number"==typeof w?p=w:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),zi(a,w,!!u||l[++_]))}return void 0===a?null:a}function mE(a,l,u){zi(a,l,So(u))}function _E(a,l,u,d,p,_,w,C){if(!(3&l.type))return;const E=a.data,A=E[C+1];j_(function $0(a){return 1==(1&a)}(A)?yE(E,l,u,p,la(A),w):void 0)||(j_(_)||function Kv(a){return 2==(2&a)}(A)&&(_=yE(E,null,u,p,C,w)),function mn(a,l,u,d,p){const _=pn(a);if(l)p?_?a.addClass(u,d):u.classList.add(d):_?a.removeClass(u,d):u.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:k.DashCase;if(null==p)_?a.removeStyle(u,d,w):u.style.removeProperty(d);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),w|=k.Important),_?a.setStyle(u,d,p,w):u.style.setProperty(d,p,C?"important":"")}}}(d,w,yo(mi(),u),p,_))}function yE(a,l,u,d,p,_){const w=null===l;let C;for(;p>0;){const E=a[p],A=Array.isArray(E),O=A?E[1]:E,B=null===O;let j=u[p+1];j===Lt&&(j=B?H:void 0);let X=B?Sc(j,d):O===d?j:void 0;if(A&&!j_(X)&&(X=Sc(E,d)),j_(X)&&(C=X,w))return C;const be=a[p+1];p=w?xs(be):la(be)}if(null!==l){let E=_?l.residualClasses:l.residualStyles;null!=E&&(C=Sc(E,d))}return C}function j_(a){return void 0!==a}function vE(a,l){return 0!=(a.flags&(l?16:32))}function wE(a,l=""){const u=Me(),d=zt(),p=a+20,_=d.firstCreatePass?Ku(d,p,1,l,null):d.data[p],w=u[p]=function _h(a,l){return pn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);wf(d,u,w,_),xr(_,!1)}function eb(a){return q_("",a,""),eb}function q_(a,l,u){const d=Me(),p=Mh(d,a,l,u);return p!==Lt&&kl(d,mi(),p),q_}function Vh(a,l,u,d,p){const _=Me(),w=kh(_,a,l,u,d,p);return w!==Lt&&kl(_,mi(),w),Vh}const Bh=void 0;var PE=["en",[["a","p"],["AM","PM"],Bh],[["AM","PM"],Bh,Bh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bh,"{1} 'at' {0}",Bh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bR(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Uh={};function Jf(a){const l=function W_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=$_(l);if(u)return u;const d=l.split("-")[0];if(u=$_(d),u)return u;if("en"===d)return PE;throw new Error(`Missing locale data for the locale "${a}".`)}function Z_(a){return Jf(a)[Ct.PluralCase]}function $_(a){return a in Uh||(Uh[a]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[a]),Uh[a]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const sr="en-US";let VE=sr;function jh(a,l,u,d,p){if(a=ie(a),Array.isArray(a))for(let _=0;_<a.length;_++)jh(a[_],l,u,d,p);else{const _=zt(),w=Me();let C=Ju(a)?a:ie(a.provide),E=wT(a);const A=Tn(),O=1048575&A.providerIndexes,B=A.directiveStart,j=A.providerIndexes>>20;if(Ju(a)||!a.multi){const X=new Ra(E,p,F_),be=lg(C,l,p?O:O+j,B);-1===be?(ml(bs(A,w),_,C),qh(_,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(X),w.push(X)):(u[be]=X,w[be]=X)}else{const X=lg(C,l,O+j,B),be=lg(C,l,O,O+j),Ve=X>=0&&u[X],Ge=be>=0&&u[be];if(p&&!Ge||!p&&!Ve){ml(bs(A,w),_,C);const at=function nI(a,l,u,d,p){const _=new Ra(a,u,F_);return _.multi=[],_.index=l,_.componentProviders=0,sy(_,p,d&&!u),_}(p?bb:wb,u.length,p,d,E);!p&&Ge&&(u[be].providerFactory=at),qh(_,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(at),w.push(at)}else qh(_,a,X>-1?X:be,sy(u[p?be:X],E,!p&&d));!p&&d&&Ge&&u[be].componentProviders++}}}function qh(a,l,u,d){const p=Ju(l),_=function x_(a){return!!a.useClass}(l);if(p||_){const E=(_?ie(l.useClass):l).prototype.ngOnDestroy;if(E){const A=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const O=A.indexOf(u);-1===O?A.push(u,[d,E]):A[O+1].push(d,E)}else A.push(u,E)}}}function sy(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function lg(a,l,u,d){for(let p=u;p<d;p++)if(l[p]===a)return p;return-1}function wb(a,l,u,d){return oy(this.multi,[])}function bb(a,l,u,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=wc(u,u[1],this.providerFactory.index,d);_=C.slice(0,w),oy(p,_);for(let E=w;E<C.length;E++)_.push(C[E])}else _=[],oy(p,_);return _}function oy(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function iI(a,l=[]){return u=>{u.providersResolver=(d,p)=>function o1(a,l,u){const d=zt();if(d.firstCreatePass){const p=gs(a);jh(u,d.data,d.blueprint,p,!0),jh(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class Cb{}class Ib{resolveComponentFactory(l){throw function Tb(a){const l=Error(`No component factory found for ${le(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Gh=(()=>{class a{}return a.NULL=new Ib,a})();function Sb(){return Yn(Tn(),Me())}function Yn(a,l){return new yi(Ti(a,l))}let yi=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Sb,a})();function ay(a){return a instanceof yi?a.nativeElement:a}class oI{}let a1=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function l1(){const a=Me(),u=Ei(Tn().index,a);return function aI(a){return a[11]}(wn(u)?u:a)}(),a})(),c1=(()=>{class a{}return a.\u0275prov=rn({token:a,providedIn:"root",factory:()=>null}),a})();class ly{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const cy=new ly("13.3.10"),xb={};function zh(a,l,u,d,p=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&d.push(an(_)),ps(_))for(let C=10;C<_.length;C++){const E=_[C],A=E[1].firstChild;null!==A&&zh(E[1],E,A,d)}const w=u.type;if(8&w)zh(a,l,u.child,d);else if(32&w){const C=fe(u,l);let E;for(;E=C();)d.push(E)}else if(16&w){const C=o_(l,u);if(Array.isArray(C))d.push(...C);else{const E=_t(l[16]);zh(E[1],E,C,d,!0)}}u=p?u.projectionNext:u.next}return d}class Zh{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return zh(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ps(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(yf(l,d),ea(u,d))}this._attachedToViewContainer=!1}Hv(this._lView[1],this._lView)}onDestroy(l){iT(this._lView[1],this._lView,null,l)}markForCheck(){b_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Rf(a,l,u){const d=l[10];d.begin&&d.begin();try{Ht(a,l,a.template,u)}catch(p){throw _w(l,p),p}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function li(a,l){bf(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=l}}class u1 extends Zh{constructor(l){super(l),this._view=l}detectChanges(){pT(this._view)}checkNoChanges(){}get context(){return null}}class cg extends Gh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ni(l);return new Ab(u,this.ngModule)}}function uy(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class Ab extends Cb{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function a_(a){return a.map($x).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return uy(this.componentDef.inputs)}get outputs(){return uy(this.componentDef.outputs)}create(l,u,d,p){const _=(p=p||this.ngModule)?function lI(a,l){return{get:(u,d,p)=>{const _=a.get(u,xb,p);return _!==xb||d===xb?_:l.get(u,d,p)}}}(l,p.injector):l,w=_.get(oI,dl),C=_.get(c1,null),E=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=d?function Df(a,l,u){if(pn(a))return a.selectRootElement(l,u===Kt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):Zu(w.createRenderer(null,this.componentDef),A,function Db(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(A)),B=this.componentDef.onPush?576:528,j=function DT(a,l){return{components:[],scheduler:a||oa,clean:cD,playerHandler:l||null,flags:0}}(),X=__(0,null,null,1,0,null,null,null,null,null),be=Sf(null,X,j,B,null,null,w,E,C,_);let Ve,Ge;Zo(be);try{const at=function xh(a,l,u,d,p,_){const w=u[1];u[20]=a;const E=Ku(w,20,2,"#host",null),A=E.mergedAttrs=l.hostAttrs;null!==A&&(E_(E,A,!0),null!==a&&(Ar(p,a,A),null!==E.classes&&zv(p,a,E.classes),null!==E.styles&&Ks(p,a,E.styles)));const O=d.createRenderer(a,l),B=Sf(u,iw(l),null,l.onPush?64:16,u[20],E,d,O,_||null,null);return w.firstCreatePass&&(ml(bs(E,u),w,l.type),uw(w,E),dw(E,u.length,1)),Ch(u,B),u[20]=B}(O,this.componentDef,be,w,E);if(O)if(d)Ar(E,O,["ng-version",cy.full]);else{const{attrs:De,classes:ut}=function l_(a){const l=[],u=[];let d=1,p=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===p?""!==_&&l.push(_,a[++d]):8===p&&u.push(_);else{if(!aa(p))break;p=_}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);De&&Ar(E,O,De),ut&&ut.length>0&&zv(E,O,ut.join(" "))}if(Ge=In(X,20),void 0!==u){const De=Ge.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const $t=u[ut];De.push(null!=$t?Array.from($t):null)}}Ve=function xT(a,l,u,d,p){const _=u[1],w=function sD(a,l,u){const d=Tn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),lT(a,d,l,Al(a,l,1,null),u));const p=wc(l,a,d.directiveStart,d);Di(p,l);const _=Ti(d,l);return _&&Di(_,l),p}(_,u,l);if(d.components.push(w),a[8]=w,p&&p.forEach(E=>E(w,l)),l.contentQueries){const E=Tn();l.contentQueries(1,w,E.directiveStart)}const C=Tn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||($o(C.index),aw(u[1],C,0,C.directiveStart,C.directiveEnd,l),Yu(l,w)),w}(at,this.componentDef,be,j,[_D]),da(X,be,null)}finally{gr()}return new cI(this.componentType,Ve,Yn(Ge,be),be,Ge)}}class cI extends class rI{}{constructor(l,u,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new u1(p),this.componentType=l}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Fl{}class dI{}const $h=new Map;class Ob extends Fl{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cg(this);const d=ii(l);this._bootstrapComponents=v(d.bootstrap),this._r3Injector=Eh(l,u,[{provide:Fl,useValue:this},{provide:Gh,useValue:this.componentFactoryResolver}],le(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=za.THROW_IF_NOT_FOUND,d=vt.Default){return l===za||l===Fl||l===Ol?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class od extends dI{constructor(l){super(),this.moduleType=l,null!==ii(l)&&function h1(a){const l=new Set;!function u(d){const p=ii(d,!0),_=p.id;null!==_&&(function hI(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${le(l)} vs ${le(l.name)}`)}(_,$h.get(_),d),$h.set(_,d));const w=v(p.imports);for(const C of w)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new Ob(this.moduleType,l)}}function Rb(a,l,u){const d=qi()+a,p=Me();return p[d]===Lt?Za(p,d,u?l.call(u):l()):Bf(p,d)}function Ur(a,l,u,d){return function hy(a,l,u,d,p,_){const w=l+u;return Nr(a,w,p)?Za(a,w+1,_?d.call(_,p):d(p)):ad(a,w+1)}(Me(),qi(),a,l,u,d)}function Pb(a,l,u,d,p){return function py(a,l,u,d,p,_,w){const C=l+u;return ed(a,C,p,_)?Za(a,C+2,w?d.call(w,p,_):d(p,_)):ad(a,C+2)}(Me(),qi(),a,l,u,d,p)}function Kh(a,l,u,d,p,_){return function pg(a,l,u,d,p,_,w,C){const E=l+u;return Uf(a,E,p,_,w)?Za(a,E+3,C?d.call(C,p,_,w):d(p,_,w)):ad(a,E+3)}(Me(),qi(),a,l,u,d,p,_)}function hg(a,l,u,d,p,_,w){return function Qh(a,l,u,d,p,_,w,C,E){const A=l+u;return Ao(a,A,p,_,w,C)?Za(a,A+4,E?d.call(E,p,_,w,C):d(p,_,w,C)):ad(a,A+4)}(Me(),qi(),a,l,u,d,p,_,w)}function Nb(a,l,u,d,p,_,w,C){const E=qi()+a,A=Me(),O=Ao(A,E,u,d,p,_);return Nr(A,E+4,w)||O?Za(A,E+5,C?l.call(C,u,d,p,_,w):l(u,d,p,_,w)):Bf(A,E+5)}function dy(a,l,u,d,p,_,w,C,E){const A=qi()+a,O=Me(),B=Ao(O,A,u,d,p,_);return ed(O,A+4,w,C)||B?Za(O,A+6,E?l.call(E,u,d,p,_,w,C):l(u,d,p,_,w,C)):Bf(O,A+6)}function Fb(a,l,u,d,p,_,w,C,E,A){const O=qi()+a,B=Me();let j=Ao(B,O,u,d,p,_);return Uf(B,O+4,w,C,E)||j?Za(B,O+7,A?l.call(A,u,d,p,_,w,C,E):l(u,d,p,_,w,C,E)):Bf(B,O+7)}function Yh(a,l,u,d){return function Lb(a,l,u,d,p,_){let w=l+u,C=!1;for(let E=0;E<p.length;E++)Nr(a,w++,p[E])&&(C=!0);return C?Za(a,w,d.apply(_,p)):ad(a,w)}(Me(),qi(),a,l,u,d)}function ad(a,l){const u=a[l];return u===Lt?void 0:u}function gy(a){return l=>{setTimeout(a,void 0,l)}}const eo=class gg extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var p,_,w;let C=l,E=u||(()=>null),A=d;if(l&&"object"==typeof l){const B=l;C=null===(p=B.next)||void 0===p?void 0:p.bind(B),E=null===(_=B.error)||void 0===_?void 0:_.bind(B),A=null===(w=B.complete)||void 0===w?void 0:w.bind(B)}this.__isAsync&&(E=gy(E),C&&(C=gy(C)),A&&(A=gy(A)));const O=super.subscribe({next:C,error:E,complete:A});return l instanceof ee.w0&&l.add(O),O}};function mg(){return this._results[Xu()]()}class Ll{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Xu(),d=Ll.prototype;d[u]||(d[u]=mg)}get changes(){return this._changes||(this._changes=new eo)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const p=Si(l);(this._changesDetected=!function ku(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],_=l[d];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(d._results,p,u))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ld=(()=>{class a{}return a.__NG_ELEMENT_ID__=Jh,a})();const f1=ld,Ub=class extends f1{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=Sf(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(u)),da(u,d,l),new Zh(d)}};function Jh(){return Xh(Tn(),Me())}function Xh(a,l){return 4&a.type?new Ub(l,a,Yn(a,l)):null}let Wa=(()=>{class a{}return a.__NG_ELEMENT_ID__=_I,a})();function _I(){return _g(Tn(),Me())}const g1=Wa,Kc=class extends g1{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Yn(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ii(this._hostTNode,this._hostLView);if(Yo(l)){const u=qs(l,this._hostLView),d=Qo(l);return new Co(u[1].data[d+8],u)}return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Ka(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const p=l.createEmbeddedView(u||{});return this.insert(p,d),p}createComponent(l,u,d,p,_){const w=l&&!function ts(a){return"function"==typeof a}(l);let C;if(w)C=u;else{const B=u||{};C=B.index,d=B.injector,p=B.projectableNodes,_=B.ngModuleRef}const E=w?l:new Ab(ni(l)),A=d||this.parentInjector;if(!_&&null==E.ngModule){const j=(w?A:this.parentInjector).get(Fl,null);j&&(_=j)}const O=E.create(A,p,void 0,_);return this.insert(O.hostView,C),O}insert(l,u){const d=l._lView,p=d[1];if(function pl(a){return ps(a[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const B=d[3],j=new Kc(B,B[6],B[3]);j.detach(j.indexOf(l))}}const _=this._adjustIndex(u),w=this._lContainer;!function _f(a,l,u,d){const p=10+d,_=u.length;d>0&&(u[p-1][4]=l),d<_-10?(l[4]=u[p],xi(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const w=l[17];null!==w&&u!==w&&function n_(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(w,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(p,d,w,_);const C=Gv(_,w),E=d[11],A=jv(E,w[7]);return null!==A&&function jc(a,l,u,d,p,_){d[0]=p,d[6]=l,bf(a,d,u,1,p,_)}(p,w[6],E,d,A,C),l.attachToViewContainerRef(),xi(ep(w),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Ka(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=yf(this._lContainer,u);d&&(ea(ep(this._lContainer),u),Hv(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=yf(this._lContainer,u);return d&&null!=ea(ep(this._lContainer),u)?new Zh(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function Ka(a){return a[8]}function ep(a){return a[8]||(a[8]=[])}function _g(a,l){let u;const d=l[a.index];if(ps(d))u=d;else{let p;if(8&a.type)p=an(d);else{const _=l[11];p=_.createComment("");const w=Ti(a,l);yh(_,jv(_,w),p,function VO(a,l){return pn(a)?a.nextSibling(l):l.nextSibling}(_,w),!1)}l[a.index]=u=dT(d,l,p,a),Ch(l,u)}return new Kc(u,a,l)}class tp{constructor(l){this.queryList=l,this.matches=null}clone(){return new tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let _=0;_<d;_++){const w=u.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new Hb(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==zb(l,u).matches&&this.queries[u].setDirty()}}class vI{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class cd{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const p=null!==u?u.length:0,_=this.getByIndex(d).embeddedTView(l,p);_&&(_.indexInDeclarationView=d,null!==u?u.push(_):u=[_])}return null!==u?new cd(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ud{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new ud(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(l,u,m1(u,_)),this.matchTNodeWithReadOption(l,u,vc(u,l,_,!1,!1))}else d===ld?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,vc(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===yi||p===Wa||p===ld&&4&u.type)this.addMatch(u.index,-2);else{const _=vc(u,l,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function m1(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function _1(a,l,u,d){return-1===u?function wI(a,l){return 11&a.type?Yn(a,l):4&a.type?Xh(a,l):null}(l,a):-2===u?function y1(a,l,u){return u===yi?Yn(l,a):u===ld?Xh(l,a):u===Wa?_g(l,a):void 0}(a,l,d):wc(a,a[1],u,l)}function bI(a,l,u,d){const p=l[19].queries[d];if(null===p.matches){const _=a.data,w=u.matches,C=[];for(let E=0;E<w.length;E+=2){const A=w[E];C.push(A<0?null:_1(l,_[A],w[E+1],u.metadata.read))}p.matches=C}return p.matches}function jb(a,l,u,d){const p=a.queries.getByIndex(u),_=p.matches;if(null!==_){const w=bI(a,l,p,u);for(let C=0;C<_.length;C+=2){const E=_[C];if(E>0)d.push(w[C/2]);else{const A=_[C+1],O=l[-E];for(let B=10;B<O.length;B++){const j=O[B];j[17]===j[3]&&jb(j[1],j,A,d)}if(null!==O[9]){const B=O[9];for(let j=0;j<B.length;j++){const X=B[j];jb(X[1],X,A,d)}}}}}return d}function np(a){const l=Me(),u=zt(),d=dc();Bd(d+1);const p=zb(u,d);if(a.dirty&&qo(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const _=p.crossesNgTemplate?jb(u,l,d,[]):bI(u,l,p,d);a.reset(_,ay),a.notifyOnChanges()}return!0}return!1}function Vl(a,l,u){const d=zt();d.firstCreatePass&&(TI(d,new vI(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),dd(d,Me(),l)}function qb(a,l,u,d){const p=zt();if(p.firstCreatePass){const _=Tn();TI(p,new vI(l,u,d),_.index),function v1(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}dd(p,Me(),u)}function Gb(){return function CI(a,l){return a[19].queries[l].queryList}(Me(),dc())}function dd(a,l,u){const d=new Ll(4==(4&u));iT(a,l,d,d.destroy),null===l[19]&&(l[19]=new Hb),l[19].queries.push(new tp(d))}function TI(a,l,u){null===a.queries&&(a.queries=new cd),a.queries.track(new ud(l,u))}function zb(a,l){return a.queries.getByIndex(l)}function EI(a,l){return Xh(a,l)}function Cg(...a){}const Tg=new An("Application Initializer");let as=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Cg,this.reject=Cg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Bw(_))u.push(_);else if(Wi(_)){const w=new Promise((C,E)=>{_.subscribe({complete:C,error:E})});u.push(w)}}Promise.all(u).then(()=>{d()}).catch(p=>{this.reject(p)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(ct(Tg,8))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const tC=new An("AppId",{providedIn:"root",factory:function nC(){return`${iC()}${iC()}${iC()}`}});function iC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NI=new An("Platform Initializer"),rC=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FI=new An("appBootstrapListener");let LI=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const ap=new An("LocaleId",{providedIn:"root",factory:()=>Vt(ap,vt.Optional|vt.SkipSelf)||function O1(){return"undefined"!=typeof $localize&&$localize.locale||sr}()}),R1=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Qc{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let sC=(()=>{class a{compileModuleSync(u){return new od(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),_=v(ii(u).declarations).reduce((w,C)=>{const E=ni(C);return E&&w.push(new Ab(E)),w},[]);return new Qc(d,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Oi=(()=>Promise.resolve(0))();function fd(a){"undefined"==typeof Zone?Oi.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Qe{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&u,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function oC(){let a=Zt.requestAnimationFrame,l=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function he(a){const l=()=>{!function Ye(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Re(a),a.isCheckStableRunning=!0,aC(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Re(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,p,_,w,C)=>{try{return Ki(a),u.invokeTask(p,_,w,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),lC(a)}},onInvoke:(u,d,p,_,w,C,E)=>{try{return Ki(a),u.invoke(p,_,w,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),lC(a)}},onHasTask:(u,d,p,_)=>{u.hasTask(p,_),d===p&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Re(a),aC(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,d,p,_)=>(u.handleError(p,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,l,Mt,Cg,Cg);try{return _.runTask(w,u,d)}finally{_.cancelTask(w)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const Mt={};function aC(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Re(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ki(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function lC(a){a._nesting--,aC(a)}class F1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,p){return l.apply(u,d)}}let VI=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qe.assertNotInAngularZone(),fd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fd(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(ct(Qe))},a.\u0275prov=rn({token:a,factory:a.\u0275fac}),a})(),L1=(()=>{class a{constructor(){this._applications=new Map,Sy.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Sy.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class V1{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function B1(a){Sy=a}let Sy=new V1,gd=null;const U1=new An("AllowMultipleToken"),Ds=new An("PlatformOnDestroy");class lp{constructor(l,u){this.name=l,this.token=u}}function di(a,l,u=[]){const d=`Platform: ${l}`,p=new An(d);return(_=[])=>{let w=xy();if(!w||w.injector.get(U1,!1)){const C=[...u,..._,{provide:p,useValue:!0}];a?a(C):function BI(a){if(gd&&!gd.get(U1,!1))throw new Ne(400,"");gd=a;const l=a.get(up),u=a.get(NI,null);u&&u.forEach(d=>d())}(function UI(a=[],l){return za.create({name:l,providers:[{provide:vw,useValue:"platform"},{provide:Ds,useValue:()=>gd=null},...a]})}(C,d))}return function Dt(a){const l=xy();if(!l)throw new Ne(401,"");return l}()}}function xy(){var a;return null!==(a=null==gd?void 0:gd.get(up))&&void 0!==a?a:null}let up=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const C=function sn(a,l){let u;return u="noop"===a?new F1:("zone.js"===a?void 0:a)||new Qe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Qe,useValue:C}];return C.run(()=>{const A=za.create({providers:E,parent:this.injector,name:u.moduleType.name}),O=u.create(A),B=O.injector.get(mh,null);if(!B)throw new Ne(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:X=>{B.handleError(X)}});O.onDestroy(()=>{cC(this._modules,O),j.unsubscribe()})}),function q1(a,l,u){try{const d=u();return Bw(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(B,C,()=>{const j=O.injector.get(as);return j.runInitializers(),j.donePromise.then(()=>(function yr(a){qt(a,"Expected localeId to be defined"),"string"==typeof a&&(VE=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(ap,sr)||sr),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,d=[]){const p=Ri({},d);return function H1(a,l,u){const d=new od(u);return Promise.resolve(d)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const d=u.injector.get(Jc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ne(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Ds,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(ct(za))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Ri(a,l){return Array.isArray(l)?l.reduce(Ri,a):Object.assign(Object.assign({},a),l)}let Jc=(()=>{class a{constructor(u,d,p,_){this._zone=u,this._injector=d,this._exceptionHandler=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new L.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),fd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,de.T)(w,C.pipe((0,se.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Ne(405,"");let p;p=u instanceof Cb?u:this._injector.get(Gh).resolveComponentFactory(u),this.componentTypes.push(p.componentType);const _=function Bt(a){return a.isBoundToModule}(p)?void 0:this._injector.get(Fl),C=p.create(za.NULL,[],d||p.selector,_),E=C.location.nativeElement,A=C.injector.get(VI,null),O=A&&C.injector.get(L1);return A&&O&&O.registerApplication(E,A),C.onDestroy(()=>{this.detachView(C.hostView),cC(this.components,C),O&&O.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;cC(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(FI,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(ct(Qe),ct(za),ct(mh),ct(as))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function cC(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Bl=!0,Jn=!1;function md(){return Jn=!0,Bl}function uC(){if(Jn)throw new Error("Cannot enable prod mode after platform setup.");Bl=!1}let Ul=(()=>{class a{}return a.__NG_ELEMENT_ID__=Sg,a})();function Sg(a){return function xg(a,l,u){if(xd(a)&&!u){const d=Ei(a.index,l);return new Zh(d,d)}return 47&a.type?new Zh(l[16],l):null}(Tn(),Me(),16==(16&a))}class hC{constructor(){}supports(l){return Dh(l)}create(l){return new GI(l)}}const qr=(a,l)=>l;class GI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||qr}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,p=0,_=null;for(;u||d;){const w=!d||u&&u.currentIndex<iu(d,p,_)?u:d,C=iu(w,p,_),E=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{_||(_=[]);const A=C-p,O=E-p;if(A!=O){for(let j=0;j<A;j++){const X=j<_.length?_[j]:_[j]=0,be=X+j;O<=be&&be<A&&(_[j]=X+1)}_[w.previousIndex]=O-A}}C!==E&&l(w,C,E)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Dh(l))throw new Ne(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,_,w,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)_=l[C],w=this._trackByFn(C,_),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,_,w,C)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,w,C),d=!0),u=u._next}else p=0,function OT(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Xu()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,C=>{w=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,C,w,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,w,p),d=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,p){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,p)):l=this._addAfter(new On(u,d),_,p),l}_verifyReinsertion(l,u,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,_=l._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new ky),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ky),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class On{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class My{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ky{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new My,this.map.set(u,d)),d.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iu(a,l,u){const d=a.previousIndex;if(null===d)return d;let p=0;return u&&d<u.length&&(p=u[d]),d+l+p}class Ag{constructor(){}supports(l){return l instanceof Map||M_(l)}create(){return new Mg}}class Mg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||M_(l)))throw new Ne(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,d);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new zI(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class zI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZI(){return new to([new hC])}let to=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||ZI()),deps:[[a,new qa,new kr]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(null!=d)return d;throw new Ne(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:ZI}),a})();function hi(){return new pp([new Ag])}let pp=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||hi()),deps:[[a,new qa,new kr]]}}find(u){const d=this.factories.find(_=>_.supports(u));if(d)return d;throw new Ne(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:hi}),a})();const Q1=di(null,"core",[]);let $I=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(ct(Jc))},a.\u0275mod=Xi({type:a}),a.\u0275inj=Xt({}),a})()},3942:(et,we,F)=>{F.d(we,{Z:()=>Ne});var s=F(2090),ee=F(4859),L=F(9681),de=F(1877);class se{constructor(ge,Se){this._delegate=ge,this.firebase=Se,(0,L._addComponent)(ge,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ge,Se=L._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(ge);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ze=Je.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Se})}_removeServiceInstance(ge,Se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Se)}_addComponent(ge){(0,L._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,L._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function pe(){const Ue=function le(Ue){const ge={},Se={__esModule:!0,initializeApp:function Ae(qe,G={}){const Ce=L.initializeApp(qe,G);if((0,s.r3)(ge,Ce.name))return ge[Ce.name];const Y=new Ue(Ce,Se);return ge[Ce.name]=Y,Y},app:Je,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ie(qe){const G=qe.name,Ce=G.replace("-compat","");if(L._registerComponent(qe)&&"PUBLIC"===qe.type){const Y=(oe=Je())=>{if("function"!=typeof oe[Ce])throw ue.create("invalid-app-argument",{appName:G});return oe[Ce]()};void 0!==qe.serviceProps&&(0,s.ZB)(Y,qe.serviceProps),Se[Ce]=Y,Ue.prototype[Ce]=function(...oe){return this._getService.bind(this,G).apply(this,qe.multipleInstances?oe:[])}}return"PUBLIC"===qe.type?Se[Ce]:null},removeApp:function Ze(qe){delete ge[qe]},useAsService:function je(qe,G){return"serverAuth"===G?null:G},modularAPIs:L}};function Je(qe){if(!(0,s.r3)(ge,qe=qe||L._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:qe});return ge[qe]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Te(){return Object.keys(ge).map(qe=>ge[qe])}}),Je.App=Ue,Se}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(Se){(0,s.ZB)(Ue,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ue}(),q=new de.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=z;!function ke(Ue){(0,L.registerVersion)("@firebase/app-compat","0.1.26",Ue)}()},9681:(et,we,F)=>{F.r(we),F.d(we,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>us,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>rn,_apps:()=>cn,_clearComponents:()=>cs,_components:()=>Pn,_getProvider:()=>Xt,_registerComponent:()=>Qi,_removeServiceInstance:()=>Gt,deleteApp:()=>vt,getApp:()=>ur,getApps:()=>Qr,initializeApp:()=>uo,onLog:()=>Nn,registerVersion:()=>Dn,setLogLevel:()=>ho});var s=F(5861),ee=F(4859),L=F(1877),de=F(2090),se=F(8766);class _e{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function ue(Z){const te=Z.getComponent();return"VERSION"===(null==te?void 0:te.type)}(Pe)){const tt=Pe.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Pe=>Pe).join(" ")}}const le="@firebase/app",z=new L.Yd("@firebase/app"),qt="[DEFAULT]",Ke={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,Pn=new Map;function dn(Z,te){try{Z.container.addComponent(te)}catch(Pe){z.debug(`Component ${te.name} failed to register with FirebaseApp ${Z.name}`,Pe)}}function rn(Z,te){Z.container.addOrOverwriteComponent(te)}function Qi(Z){const te=Z.name;if(Pn.has(te))return z.debug(`There were multiple attempts to register component ${te}.`),!1;Pn.set(te,Z);for(const Pe of cn.values())dn(Pe,Z);return!0}function Xt(Z,te){const Pe=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),Z.container.getProvider(te)}function Gt(Z,te,Pe=qt){Xt(Z,te).clearInstance(Pe)}function cs(){Pn.clear()}const Ni=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ji{constructor(te,Pe,tt){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const us="9.8.2";function uo(Z,te={}){"object"!=typeof te&&(te={name:te});const Pe=Object.assign({name:qt,automaticDataCollectionEnabled:!1},te),tt=Pe.name;if("string"!=typeof tt||!tt)throw Ni.create("bad-app-name",{appName:String(tt)});const yt=cn.get(tt);if(yt){if((0,de.vZ)(Z,yt.options)&&(0,de.vZ)(Pe,yt.config))return yt;throw Ni.create("duplicate-app",{appName:tt})}const xt=new ee.H0(tt);for(const It of Pn.values())xt.addComponent(It);const yn=new Ji(Z,Pe,xt);return cn.set(tt,yn),yn}function ur(Z=qt){const te=cn.get(Z);if(!te)throw Ni.create("no-app",{appName:Z});return te}function Qr(){return Array.from(cn.values())}function vt(Z){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(Z){const te=Z.name;cn.has(te)&&(cn.delete(te),yield Promise.all(Z.container.getProviders().map(Pe=>Pe.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function Dn(Z,te,Pe){var tt;let yt=null!==(tt=Ke[Z])&&void 0!==tt?tt:Z;Pe&&(yt+=`-${Pe}`);const xt=yt.match(/\s|\//),yn=te.match(/\s|\//);if(xt||yn){const It=[`Unable to register library "${yt}" with version "${te}":`];return xt&&It.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),xt&&yn&&It.push("and"),yn&&It.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void z.warn(It.join(" "))}Qi(new ee.wA(`${yt}-version`,()=>({library:yt,version:te}),"VERSION"))}function Nn(Z,te){if(null!==Z&&"function"!=typeof Z)throw Ni.create("invalid-log-argument");(0,L.Am)(Z,te)}function ho(Z){(0,L.Ub)(Z)}const Fn="firebase-heartbeat-store";let Er=null;function Fo(){return Er||(Er=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(Z,te)=>{0===te&&Z.createObjectStore(Fn)}}).catch(Z=>{throw Ni.create("storage-open",{originalErrorMessage:Z.message})})),Er}function dt(){return(dt=(0,s.Z)(function*(Z){try{return(yield Fo()).transaction(Fn).objectStore(Fn).get(Ir(Z))}catch(te){throw Ni.create("storage-get",{originalErrorMessage:te.message})}})).apply(this,arguments)}function Tt(Z,te){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(Z,te){try{const tt=(yield Fo()).transaction(Fn,"readwrite");return yield tt.objectStore(Fn).put(te,Ir(Z)),tt.done}catch(Pe){throw Ni.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function Ir(Z){return`${Z.name}!${Z.options.appId}`}class Li{constructor(te){this.container=te,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new $(Pe),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var te=this;return(0,s.Z)(function*(){const tt=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=Vi();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==yt&&!te._heartbeatsCache.heartbeats.some(xt=>xt.date===yt))return te._heartbeatsCache.heartbeats.push({date:yt,agent:tt}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(xt=>{const yn=new Date(xt.date).valueOf();return Date.now()-yn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,s.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Pe=Vi(),{heartbeatsToSend:tt,unsentEntries:yt}=function H(Z,te=1024){const Pe=[];let tt=Z.slice();for(const yt of Z){const xt=Pe.find(yn=>yn.agent===yt.agent);if(xt){if(xt.dates.push(yt.date),W(Pe)>te){xt.dates.pop();break}}else if(Pe.push({agent:yt.agent,dates:[yt.date]}),W(Pe)>te){Pe.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:tt}}(te._heartbeatsCache.heartbeats),xt=(0,de.L)(JSON.stringify({version:2,heartbeats:tt}));return te._heartbeatsCache.lastSentHeartbeatDate=Pe,yt.length>0?(te._heartbeatsCache.heartbeats=yt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),xt})()}}function Vi(){return(new Date).toISOString().substring(0,10)}class ${constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,s.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Kt(Z){return dt.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Pe=this;return(0,s.Z)(function*(){var tt;if(yield Pe._canUseIndexedDBPromise){const xt=yield Pe.read();return Tt(Pe.app,{lastSentHeartbeatDate:null!==(tt=te.lastSentHeartbeatDate)&&void 0!==tt?tt:xt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Pe=this;return(0,s.Z)(function*(){var tt;if(yield Pe._canUseIndexedDBPromise){const xt=yield Pe.read();return Tt(Pe.app,{lastSentHeartbeatDate:null!==(tt=te.lastSentHeartbeatDate)&&void 0!==tt?tt:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...te.heartbeats]})}})()}}function W(Z){return(0,de.L)(JSON.stringify({version:2,heartbeats:Z})).length}!function xe(Z){Qi(new ee.wA("platform-logger",te=>new _e(te),"PRIVATE")),Qi(new ee.wA("heartbeat",te=>new Li(te),"PRIVATE")),Dn(le,"0.7.25",Z),Dn(le,"0.7.25","esm2017"),Dn("fire-js","")}("")},4859:(et,we,F)=>{F.d(we,{H0:()=>le,wA:()=>L,zt:()=>se});var s=F(5861),ee=F(2090);class L{constructor(z,q,ie){this.name=z,this.instanceFactory=q,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const de="[DEFAULT]";class se{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const ie=new ee.BH;if(this.instancesDeferred.set(q,ie),this.isInitialized(q)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:q});ze&&ie.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const ie=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),ze=null!==(q=null==z?void 0:z.optional)&&void 0!==q&&q;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(ze)return null;throw ke}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ue(pe){return"EAGER"===pe.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:de})}catch(q){}for(const[q,ie]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(q);try{const ke=this.getOrInitializeService({instanceIdentifier:ze});ie.resolve(ke)}catch(ke){}}}}clearInstance(z=de){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,s.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...q.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=de){return this.instances.has(z)}getOptions(z=de){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,ie=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ie,options:q});for(const[ke,Ne]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&Ne.resolve(ze);return ze}onInit(z,q){var ie;const ze=this.normalizeInstanceIdentifier(q),ke=null!==(ie=this.onInitCallbacks.get(ze))&&void 0!==ie?ie:new Set;ke.add(z),this.onInitCallbacks.set(ze,ke);const Ne=this.instances.get(ze);return Ne&&z(Ne,ze),()=>{ke.delete(z)}}invokeOnInitCallbacks(z,q){const ie=this.onInitCallbacks.get(q);if(ie)for(const ze of ie)try{ze(z,q)}catch(ke){}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let ie=this.instances.get(z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=z,pe===de?void 0:pe),options:q}),this.instances.set(z,ie),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(ie,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ie)}catch(ze){}var pe;return ie||null}normalizeInstanceIdentifier(z=de){return this.component?this.component.multipleInstances?z:de:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new se(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(et,we,F)=>{F.d(we,{Am:()=>pe,Ub:()=>le,Yd:()=>ue,in:()=>ee});const s=[];var ee=(()=>{return(z=ee||(ee={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",ee;var z})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},de=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},_e=(z,q,...ie)=>{if(q<z.logLevel)return;const ze=(new Date).toISOString(),ke=se[q];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[ke](`[${ze}]  ${z.name}:`,...ie)};class ue{constructor(q){this.name=q,this._logLevel=de,this._logHandler=_e,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in ee))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?L[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...q),this._logHandler(this,ee.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...q),this._logHandler(this,ee.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...q),this._logHandler(this,ee.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...q),this._logHandler(this,ee.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...q),this._logHandler(this,ee.ERROR,...q)}}function le(z){s.forEach(q=>{q.setLogLevel(z)})}function pe(z,q){for(const ie of s){let ze=null;q&&q.level&&(ze=L[q.level]),ie.userLogHandler=null===z?null:(ke,Ne,...Ue)=>{const ge=Ue.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Ze){return null}}).filter(Se=>Se).join(" ");Ne>=(null!=ze?ze:ke.logLevel)&&z({level:ee[Ne].toLowerCase(),message:ge,args:Ue,type:ke.name})}}}},8766:(et,we,F)=>{F.d(we,{Lj:()=>Ae,X3:()=>Je});var s=F(5861);let L,de;const ue=new WeakMap,le=new WeakMap,pe=new WeakMap,z=new WeakMap,q=new WeakMap;let ke={get(G,Ce,Y){if(G instanceof IDBTransaction){if("done"===Ce)return le.get(G);if("objectStoreNames"===Ce)return G.objectStoreNames||pe.get(G);if("store"===Ce)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Se(G[Ce])},set:(G,Ce,Y)=>(G[Ce]=Y,!0),has:(G,Ce)=>G instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in G};function ge(G){return"function"==typeof G?function Ue(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ce){return G.apply(Ze(this),Ce),Se(ue.get(this))}:function(...Ce){return Se(G.apply(Ze(this),Ce))}:function(Ce,...Y){const oe=G.call(Ze(this),Ce,...Y);return pe.set(oe,Ce.sort?Ce.sort():[Ce]),Se(oe)}}(G):(G instanceof IDBTransaction&&function ze(G){if(le.has(G))return;const Ce=new Promise((Y,oe)=>{const ne=()=>{G.removeEventListener("complete",ve),G.removeEventListener("error",ce),G.removeEventListener("abort",ce)},ve=()=>{Y(),ne()},ce=()=>{oe(G.error||new DOMException("AbortError","AbortError")),ne()};G.addEventListener("complete",ve),G.addEventListener("error",ce),G.addEventListener("abort",ce)});le.set(G,Ce)}(G),((G,Ce)=>Ce.some(Y=>G instanceof Y))(G,function se(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,ke):G)}function Se(G){if(G instanceof IDBRequest)return function ie(G){const Ce=new Promise((Y,oe)=>{const ne=()=>{G.removeEventListener("success",ve),G.removeEventListener("error",ce)},ve=()=>{Y(Se(G.result)),ne()},ce=()=>{oe(G.error),ne()};G.addEventListener("success",ve),G.addEventListener("error",ce)});return Ce.then(Y=>{Y instanceof IDBCursor&&ue.set(Y,G)}).catch(()=>{}),q.set(Ce,G),Ce}(G);if(z.has(G))return z.get(G);const Ce=ge(G);return Ce!==G&&(z.set(G,Ce),q.set(Ce,G)),Ce}const Ze=G=>q.get(G);function Je(G,Ce,{blocked:Y,upgrade:oe,blocking:ne,terminated:ve}={}){const ce=indexedDB.open(G,Ce),Fe=Se(ce);return oe&&ce.addEventListener("upgradeneeded",gt=>{oe(Se(ce.result),gt.oldVersion,gt.newVersion,Se(ce.transaction))}),Y&&ce.addEventListener("blocked",()=>Y()),Fe.then(gt=>{ve&&gt.addEventListener("close",()=>ve()),ne&&gt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Fe}function Ae(G,{blocked:Ce}={}){const Y=indexedDB.deleteDatabase(G);return Ce&&Y.addEventListener("blocked",()=>Ce()),Se(Y).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],je=new Map;function qe(G,Ce){if(!(G instanceof IDBDatabase)||Ce in G||"string"!=typeof Ce)return;if(je.get(Ce))return je.get(Ce);const Y=Ce.replace(/FromIndex$/,""),oe=Ce!==Y,ne=Ie.includes(Y);if(!(Y in(oe?IDBIndex:IDBObjectStore).prototype)||!ne&&!Te.includes(Y))return;const ve=function(){var ce=(0,s.Z)(function*(Fe,...gt){const Wt=this.transaction(Fe,ne?"readwrite":"readonly");let qt=Wt.store;return oe&&(qt=qt.index(gt.shift())),(yield Promise.all([qt[Y](...gt),ne&&Wt.done]))[0]});return function(gt){return ce.apply(this,arguments)}}();return je.set(Ce,ve),ve}!function Ne(G){ke=G(ke)}(G=>qB(jB({},G),{get:(Ce,Y,oe)=>qe(Ce,Y)||G.get(Ce,Y,oe),has:(Ce,Y)=>!!qe(Ce,Y)||G.has(Ce,Y)}))},5861:(et,we,F)=>{function s(L,de,se,_e,ue,le,pe){try{var z=L[le](pe),q=z.value}catch(ie){return void se(ie)}z.done?de(q):Promise.resolve(q).then(_e,ue)}function ee(L){return function(){var de=this,se=arguments;return new Promise(function(_e,ue){var le=L.apply(de,se);function pe(q){s(le,_e,ue,pe,z,"next",q)}function z(q){s(le,_e,ue,pe,z,"throw",q)}pe(void 0)})}}F.d(we,{Z:()=>ee})}},et=>{et(et.s=8776)}]);
"use strict";var v9=Object.defineProperty,w9=Object.defineProperties,b9=Object.getOwnPropertyDescriptors,IU=Object.getOwnPropertySymbols,C9=Object.prototype.hasOwnProperty,E9=Object.prototype.propertyIsEnumerable,SU=(et,we,F)=>we in et?v9(et,we,{enumerable:!0,configurable:!0,writable:!0,value:F}):et[we]=F,xU=(et,we)=>{for(var F in we||(we={}))C9.call(we,F)&&SU(et,F,we[F]);if(IU)for(var F of IU(we))E9.call(we,F)&&SU(et,F,we[F]);return et},DU=(et,we)=>w9(et,b9(we));(self.webpackChunkpranavam=self.webpackChunkpranavam||[]).push([[179],{2011:(et,we,F)=>{F.d(we,{Dh:()=>le,GT:()=>_e,cc:()=>ke,hO:()=>$e,on:()=>G,pX:()=>se,xv:()=>he});var s=F(5e3),ee=F(127),L=F(5813);et=F.hmd(et);const de=["ngOnDestroy"],se=(Se,Ze,Qe,De={})=>new Proxy(Se,{get:(Ee,Ie)=>Qe.runOutsideAngular(()=>{var je;if(Se[Ie])return(null===(je=null==De?void 0:De.spy)||void 0===je?void 0:je.get)&&De.spy.get(Ie,Se[Ie]),Se[Ie];if(de.indexOf(Ie)>-1)return()=>{};const ze=Ze.toPromise().then(q=>{const Ce=q&&q[Ie];return"function"==typeof Ce?Ce.bind(q):Ce&&Ce.then?Ce.then(Y=>Qe.run(()=>Y)):Qe.run(()=>Ce)});return new Proxy(()=>{},{get:(q,Ce)=>ze[Ce],apply:(q,Ce,Y)=>ze.then(oe=>{var ne;const ve=oe&&oe(...Y);return(null===(ne=null==De?void 0:De.spy)||void 0===ne?void 0:ne.apply)&&De.spy.apply(Ie,Y,ve),ve})})})}),_e=(Se,Ze)=>{Ze.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(De=>{Object.defineProperty(Se.prototype,De,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,De))})})};class ue{constructor(Ze){return Ze}}const le=new s.OlP("angularfire2.app.options"),he=new s.OlP("angularfire2.app.name");function G(Se,Ze,Qe){const Ee="object"==typeof Qe&&Qe||{};Ee.name=Ee.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const je=ee.Z.apps.filter(ze=>ze&&ze.name===Ee.name)[0]||Ze.runOutsideAngular(()=>ee.Z.initializeApp(Se,Ee));try{JSON.stringify(Se)!==JSON.stringify(je.options)&&z("error",`${je.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new ue(je)}const z=(Se,...Ze)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)},ie={provide:ue,useFactory:G,deps:[le,s.R0b,[new s.FiY,he]]};let $e=(()=>{class Se{constructor(Qe){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",s.q4F.full,Qe.toString())}static initializeApp(Qe,De){return{ngModule:Se,providers:[{provide:le,useValue:Qe},{provide:he,useValue:De}]}}}return Se.\u0275fac=function(Qe){return new(Qe||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[ie]}),Se})();function ke(Se,Ze,Qe,De,Ee){const[,Ie,je]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Se)||[];if(Ie)return function Fe(Se,Ze){try{return Se.toString()===Ze.toString()}catch(Qe){return Se===Ze}}(Ee,je)||(ge("error",`${Ze} was already initialized on the ${Qe} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ee,was:je})),Ie;{const ze=De();return globalThis.\u0275AngularfireInstanceCache.push([Se,ze,Ee]),ze}}const Ue=!!et.hot,ge=(Se,...Ze)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,we,F)=>{F.d(we,{q4:()=>bi,iC:()=>yc,HU:()=>wu,vb:()=>Tp,JM:()=>Na});var s=F(5e3),ee=F(5867),L=F(5861),de=F(9681),se=F(2090),_e=F(4859),ue=F(1877),le=F(8766);const he="@firebase/installations",G="0.5.9",ie=`w:${G}`,$e="FIS_v2",Ze=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function De({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ee(S){return{token:S.token,requestStatus:2,expiresIn:oe(S.expiresIn),creationTime:Date.now()}}function Ie(S,x){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(S,x){const U=(yield x.json()).error;return Ze.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ze({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function q(S,{refreshToken:x}){const R=ze(S);return R.append("Authorization",function ne(S){return`${$e} ${S}`}(x)),R}function Ce(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function oe(S){return Number(S.replace("s","000"))}function ve(S,x){return ce.apply(this,arguments)}function ce(){return(ce=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:R}){const U=De(S),J=ze(S),ae=x.getImmediate({optional:!0});if(ae){const dt=yield ae.getHeartbeatsHeader();dt&&J.append("x-firebase-client",dt)}const st={method:"POST",headers:J,body:JSON.stringify({fid:R,authVersion:$e,appId:S.appId,sdkVersion:ie})},at=yield Ce(()=>fetch(U,st));if(at.ok){const dt=yield at.json();return{fid:dt.fid||R,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Ee(dt.authToken)}}throw yield Ie("Create Installation",at)})).apply(this,arguments)}function Le(S){return new Promise(x=>{setTimeout(x,S)})}const Wt=/^[cdef][\w-]{21}$/;function Ye(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function an(S){return function ft(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Wt.test(R)?R:""}catch(S){return""}}function kn(S){return`${S.appName}!${S.appId}`}const un=new Map;function rn(S,x){const R=kn(S);jt(R,x),function ls(S,x){const R=function Si(){return!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=S=>{jt(S.data.key,S.data.fid)}),_r}();R&&R.postMessage({key:S,fid:x}),function qi(){0===un.size&&_r&&(_r.close(),_r=null)}()}(R,x)}function jt(S,x){const R=un.get(S);if(R)for(const U of R)U(x)}let _r=null;const sr="firebase-installations-store";let qr=null;function vt(){return qr||(qr=(0,le.X3)("firebase-installations-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(sr)}})),qr}function yr(S,x){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,L.Z)(function*(S,x){const R=kn(S),J=(yield vt()).transaction(sr,"readwrite"),ae=J.objectStore(sr),Oe=yield ae.get(R);return yield ae.put(x,R),yield J.done,(!Oe||Oe.fid!==x.fid)&&rn(S,x.fid),x})).apply(this,arguments)}function On(S){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(S){const x=kn(S),U=(yield vt()).transaction(sr,"readwrite");yield U.objectStore(sr).delete(x),yield U.done})).apply(this,arguments)}function or(S,x){return di.apply(this,arguments)}function di(){return(di=(0,L.Z)(function*(S,x){const R=kn(S),J=(yield vt()).transaction(sr,"readwrite"),ae=J.objectStore(sr),Oe=yield ae.get(R),st=x(Oe);return void 0===st?yield ae.delete(R):yield ae.put(st,R),yield J.done,st&&(!Oe||Oe.fid!==st.fid)&&rn(S,st.fid),st})).apply(this,arguments)}function Rn(S){return vr.apply(this,arguments)}function vr(){return(vr=(0,L.Z)(function*(S){let x;const R=yield or(S.appConfig,U=>{const J=Mo(U),ae=Kt(S,J);return x=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield x}:{installationEntry:R,registrationPromise:x}})).apply(this,arguments)}function Mo(S){return ko(S||{fid:Ye(),registrationStatus:0})}function Kt(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ze.create("app-offline"))};const R={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},U=function ct(S,x){return Et.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:U}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:xi(S)}:{installationEntry:x}}function Et(){return(Et=(0,L.Z)(function*(S,x){try{const R=yield ve(S,x);return yr(S.appConfig,R)}catch(R){throw Qe(R)&&409===R.customData.serverCode?yield On(S.appConfig):yield yr(S.appConfig,{fid:x.fid,registrationStatus:0}),R}})).apply(this,arguments)}function xi(S){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(S){let x=yield Gt(S.appConfig);for(;1===x.registrationStatus;)yield Le(100),x=yield Gt(S.appConfig);if(0===x.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Rn(S);return U||R}return x})).apply(this,arguments)}function Gt(S){return or(S,x=>{if(!x)throw Ze.create("installation-not-found");return ko(x)})}function ko(S){return function Di(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Ai(S,x){return H.apply(this,arguments)}function H(){return(H=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:x},R){const U=Z(S,R),J=q(S,R),ae=x.getImmediate({optional:!0});if(ae){const dt=yield ae.getHeartbeatsHeader();dt&&J.append("x-firebase-client",dt)}const st={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ie,appId:S.appId}})},at=yield Ce(()=>fetch(U,st));if(at.ok)return Ee(yield at.json());throw yield Ie("Generate Auth Token",at)})).apply(this,arguments)}function Z(S,{fid:x}){return`${De(S)}/${x}/authTokens:generate`}function W(S){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(S,x=!1){let R;const U=yield or(S.appConfig,ae=>{if(!xt(ae))throw Ze.create("not-registered");const Oe=ae.authToken;if(!x&&yn(Oe))return ae;if(1===Oe.requestStatus)return R=$(S,x),ae;{if(!navigator.onLine)throw Ze.create("app-offline");const st=Jn(ae);return R=tt(S,st),st}});return R?yield R:U.authToken})).apply(this,arguments)}function $(S,x){return te.apply(this,arguments)}function te(){return(te=(0,L.Z)(function*(S,x){let R=yield Re(S.appConfig);for(;1===R.authToken.requestStatus;)yield Le(100),R=yield Re(S.appConfig);const U=R.authToken;return 0===U.requestStatus?W(S,x):U})).apply(this,arguments)}function Re(S){return or(S,x=>{if(!xt(x))throw Ze.create("not-registered");return function Gi(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function tt(S,x){return _t.apply(this,arguments)}function _t(){return(_t=(0,L.Z)(function*(S,x){try{const R=yield Ai(S,x),U=Object.assign(Object.assign({},x),{authToken:R});return yield yr(S.appConfig,U),R}catch(R){if(!Qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield yr(S.appConfig,U)}else yield On(S.appConfig);throw R}})).apply(this,arguments)}function xt(S){return void 0!==S&&2===S.registrationStatus}function yn(S){return 2===S.requestStatus&&!function It(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+36e5}(S)}function Jn(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}function Ja(){return(Ja=(0,L.Z)(function*(S){const x=S,{installationEntry:R,registrationPromise:U}=yield Rn(x);return U?U.catch(console.error):W(x).catch(console.error),R.fid})).apply(this,arguments)}function Xa(){return(Xa=(0,L.Z)(function*(S,x=!1){const R=S;return yield Xn(R),(yield W(R,x)).token})).apply(this,arguments)}function Xn(S){return $i.apply(this,arguments)}function $i(){return($i=(0,L.Z)(function*(S){const{registrationPromise:x}=yield Rn(S);x&&(yield x)})).apply(this,arguments)}function _a(S){return Ze.create("missing-app-config-values",{valueName:S})}const lr="installations",pt=S=>{const x=S.getProvider("app").getImmediate(),R=function mi(S){if(!S||!S.options)throw _a("App Configuration");if(!S.name)throw _a("App Name");const x=["projectId","apiKey","appId"];for(const R of x)if(!S.options[R])throw _a(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},dn=S=>{const x=S.getProvider("app").getImmediate(),R=(0,de._getProvider)(x,lr).getImmediate();return{getId:()=>function Ul(S){return Ja.apply(this,arguments)}(R),getToken:J=>function Hl(S){return Xa.apply(this,arguments)}(R,J)}};(function cr(){(0,de._registerComponent)(new _e.wA(lr,pt,"PUBLIC")),(0,de._registerComponent)(new _e.wA("installations-internal",dn,"PRIVATE"))})(),(0,de.registerVersion)(he,G),(0,de.registerVersion)(he,G,"esm2017");const us="@firebase/remote-config",Pn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gs{constructor(x,R,U,J){this.client=x,this.storage=R,this.storageCache=U,this.logger=J}isCachedDataFresh(x,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,J=U<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${J}.`),J}fetch(x){var R=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(J&&R.isCachedDataFresh(x.cacheMaxAgeMillis,U))return J;x.eTag=J&&J.eTag;const ae=yield R.client.fetch(x),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Oe),ae})()}}function dd(S=navigator){return S.languages&&S.languages[0]||S.language}class Mi{constructor(x,R,U,J,ae,Oe){this.firebaseInstallations=x,this.sdkVersion=R,this.namespace=U,this.projectId=J,this.apiKey=ae,this.appId=Oe}fetch(x){var R=this;return(0,L.Z)(function*(){const[U,J]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},at={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:R.appId,language_code:dd()},dt={method:"POST",headers:st,body:JSON.stringify(at)},Vt=fetch(Oe,dt),Tt=new Promise((Sr,Yr)=>{x.signal.addEventListener(()=>{const Va=new Error("The operation was aborted.");Va.name="AbortError",Yr(Va)})});let ni;try{yield Promise.race([Vt,Tt]),ni=yield Vt}catch(Sr){let Yr="fetch-client-network";throw"AbortError"===Sr.name&&(Yr="fetch-timeout"),Pn.create(Yr,{originalErrorMessage:Sr.message})}let Zn=ni.status;const Jo=ni.headers.get("ETag")||void 0;let qs,dr;if(200===ni.status){let Sr;try{Sr=yield ni.json()}catch(Yr){throw Pn.create("fetch-client-parse",{originalErrorMessage:Yr.message})}qs=Sr.entries,dr=Sr.state}if("INSTANCE_STATE_UNSPECIFIED"===dr?Zn=500:"NO_CHANGE"===dr?Zn=304:("NO_TEMPLATE"===dr||"EMPTY_CONFIG"===dr)&&(qs={}),304!==Zn&&200!==Zn)throw Pn.create("fetch-status",{httpStatus:Zn});return{status:Zn,eTag:Jo,config:qs}})()}}class Lg{constructor(x,R){this.client=x,this.storage=R}fetch(x){var R=this;return(0,L.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(x,U)})()}attemptFetch(x,{throttleEndTimeMillis:R,backoffCount:U}){var J=this;return(0,L.Z)(function*(){yield function uo(S,x){return new Promise((R,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(R,J);S.addEventListener(()=>{clearTimeout(ae),U(Pn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,R);try{const ae=yield J.client.fetch(x);return yield J.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function hd(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ae))throw ae;const Oe={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Oe),J.attemptFetch(x,Oe)}})()}}class pd{constructor(x,R,U,J,ae){this.app=x,this._client=R,this._storageCache=U,this._storage=J,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tu(S,x){const R=S.target.error||void 0;return Pn.create(x,{originalErrorMessage:R&&R.message})}const ho="app_namespace_store";class Hg{constructor(x,R,U,J=function Ug(){return new Promise((S,x)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{x(tu(U,"storage-open"))},R.onsuccess=U=>{S(U.target.result)},R.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(ho,{keyPath:"compositeKey"})}}catch(R){x(Pn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=x,this.appName=R,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([ho],"readonly").objectStore(ho),at=R.createCompositeKey(x);try{const dt=st.get(at);dt.onerror=Vt=>{ae(tu(Vt,"storage-get"))},dt.onsuccess=Vt=>{const Tt=Vt.target.result;J(Tt?Tt.value:void 0)}}catch(dt){ae(Pn.create("storage-get",{originalErrorMessage:dt&&dt.message}))}})})()}set(x,R){var U=this;return(0,L.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ae,Oe)=>{const at=J.transaction([ho],"readwrite").objectStore(ho),dt=U.createCompositeKey(x);try{const Vt=at.put({compositeKey:dt,value:R});Vt.onerror=Tt=>{Oe(tu(Tt,"storage-set"))},Vt.onsuccess=()=>{ae()}}catch(Vt){Oe(Pn.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(x){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((J,ae)=>{const st=U.transaction([ho],"readwrite").objectStore(ho),at=R.createCompositeKey(x);try{const dt=st.delete(at);dt.onerror=Vt=>{ae(tu(Vt,"storage-delete"))},dt.onsuccess=()=>{J()}}catch(dt){ae(Pn.create("storage-delete",{originalErrorMessage:dt&&dt.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class gd{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,L.Z)(function*(){const R=x.storage.getLastFetchStatus(),U=x.storage.getLastSuccessfulFetchTimestampMillis(),J=x.storage.getActiveConfig(),ae=yield R;ae&&(x.lastFetchStatus=ae);const Oe=yield U;Oe&&(x.lastSuccessfulFetchTimestampMillis=Oe);const st=yield J;st&&(x.activeConfig=st)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Gl(){return md.apply(this,arguments)}function md(){return(md=(0,L.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}!function va(){(0,de._registerComponent)(new _e.wA("remote-config",function S(x,{instanceIdentifier:R}){const U=x.getProvider("app").getImmediate(),J=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,se.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Oe,appId:st}=U.options;if(!ae)throw Pn.create("registration-project-id");if(!Oe)throw Pn.create("registration-api-key");if(!st)throw Pn.create("registration-app-id");const at=new Hg(st,U.name,R=R||"firebase"),dt=new gd(at),Vt=new ue.Yd(us);Vt.logLevel=ue.in.ERROR;const Tt=new Mi(J,de.SDK_VERSION,R,ae,Oe,st),ni=new Lg(Tt,at),Zn=new gs(ni,at,dt,Vt),Jo=new pd(U,Zn,dt,at,Vt);return function gn(S){const x=(0,se.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Jo),Jo},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(us,"0.3.8"),(0,de.registerVersion)(us,"0.3.8","esm2017")}();const _d="/firebase-messaging-sw.js",ki="/firebase-cloud-messaging-push-scope",Po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wa="google.c.a.c_id",yd="google.c.a.c_l",_p="google.c.a.ts",jn="google.c.a.e";var ba=(()=>{return(S=ba||(ba={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ba;var S})();function Wi(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vd(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),J=new Uint8Array(U.length);for(let ae=0;ae<U.length;++ae)J[ae]=U.charCodeAt(ae);return J}const Oi="fcm_token_details_db",br="fcm_token_object_Store";function nu(S){return wd.apply(this,arguments)}function wd(){return wd=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Oi))return null;let x=null;return(yield(0,le.X3)(Oi,5,{upgrade:(U=(0,L.Z)(function*(J,ae,Oe,st){var at;if(ae<2||!J.objectStoreNames.contains(br))return;const dt=st.objectStore(br),Vt=yield dt.index("fcmSenderId").get(S);if(yield dt.clear(),Vt)if(2===ae){const Tt=Vt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;x={token:Tt.fcmToken,createTime:null!==(at=Tt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:Wi(Tt.vapidKey)}}}else if(3===ae){const Tt=Vt;x={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Wi(Tt.auth),p256dh:Wi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Wi(Tt.vapidKey)}}}else if(4===ae){const Tt=Vt;x={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Wi(Tt.auth),p256dh:Wi(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Wi(Tt.vapidKey)}}}}),function(ae,Oe,st,at){return U.apply(this,arguments)})})).close(),yield(0,le.Lj)(Oi),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),iu(x)?x:null;var U}),wd.apply(this,arguments)}function iu(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const _s="firebase-messaging-store";let yp=null;function hn(){return yp||(yp=(0,le.X3)("firebase-messaging-database",1,{upgrade:(S,x)=>{0===x&&S.createObjectStore(_s)}})),yp}function il(S){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,L.Z)(function*(S){const x=_i(S),U=yield(yield hn()).transaction(_s).objectStore(_s).get(x);if(U)return U;{const J=yield nu(S.appConfig.senderId);if(J)return yield sn(S,J),J}})).apply(this,arguments)}function sn(S,x){return rl.apply(this,arguments)}function rl(){return(rl=(0,L.Z)(function*(S,x){const R=_i(S),J=(yield hn()).transaction(_s,"readwrite");return yield J.objectStore(_s).put(x,R),yield J.done,x})).apply(this,arguments)}function $l(S){return po.apply(this,arguments)}function po(){return(po=(0,L.Z)(function*(S){const x=_i(S),U=(yield hn()).transaction(_s,"readwrite");yield U.objectStore(_s).delete(x),yield U.done})).apply(this,arguments)}function _i({appConfig:S}){return S.appId}const Tn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ys(S,x){return yi.apply(this,arguments)}function yi(){return(yi=(0,L.Z)(function*(S,x){const R=yield Ta(S),U=fo(x),J={method:"POST",headers:R,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(vs(S.appConfig),J)).json()}catch(Oe){throw Tn.create("token-subscribe-failed",{errorInfo:Oe})}if(ae.error)throw Tn.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw Tn.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function Lo(S,x){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,L.Z)(function*(S,x){const R=yield Ta(S),U=fo(x.subscriptionOptions),J={method:"PATCH",headers:R,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(`${vs(S.appConfig)}/${x.token}`,J)).json()}catch(Oe){throw Tn.create("token-update-failed",{errorInfo:Oe})}if(ae.error)throw Tn.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw Tn.create("token-update-no-token");return ae.token})).apply(this,arguments)}function sl(S,x){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(S,x){const U={method:"DELETE",headers:yield Ta(S)};try{const ae=yield(yield fetch(`${vs(S.appConfig)}/${x}`,U)).json();if(ae.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(J){throw Tn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function vs({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Ta(S){return wt.apply(this,arguments)}function wt(){return(wt=(0,L.Z)(function*({appConfig:S,installations:x}){const R=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function fo({p256dh:S,auth:x,endpoint:R,vapidKey:U}){const J={web:{endpoint:R,auth:x,p256dh:S}};return U!==Po&&(J.web.applicationPubKey=U),J}const ou=6048e5;function ol(S){return au.apply(this,arguments)}function au(){return(au=(0,L.Z)(function*(S){const x=yield Vo(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:Wi(x.getKey("auth")),p256dh:Wi(x.getKey("p256dh"))},U=yield il(S.firebaseDependencies);if(U){if(Kl(U.subscriptionOptions,R))return Date.now()>=U.createTime+ou?lu(S,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield sl(S.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Me(S.firebaseDependencies,R)}return Me(S.firebaseDependencies,R)})).apply(this,arguments)}function Zl(S){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,L.Z)(function*(S){const x=yield il(S.firebaseDependencies);x&&(yield sl(S.firebaseDependencies,x.token),yield $l(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function lu(S,x){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,L.Z)(function*(S,x){try{const R=yield Lo(S.firebaseDependencies,x),U=Object.assign(Object.assign({},x),{token:R,createTime:Date.now()});return yield sn(S.firebaseDependencies,U),R}catch(R){throw yield Zl(S),R}})).apply(this,arguments)}function Me(S,x){return zt.apply(this,arguments)}function zt(){return(zt=(0,L.Z)(function*(S,x){const U={token:yield ys(S,x),createTime:Date.now(),subscriptionOptions:x};return yield sn(S,U),U.token})).apply(this,arguments)}function Vo(S,x){return En.apply(this,arguments)}function En(){return(En=(0,L.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vd(x)})})).apply(this,arguments)}function Kl(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}function Bo(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Cr(S,x){if(!x.notification)return;S.notification={};const R=x.notification.title;R&&(S.notification.title=R);const U=x.notification.body;U&&(S.notification.body=U);const J=x.notification.image;J&&(S.notification.image=J)}(x,S),function cu(S,x){!x.data||(S.data=x.data)}(x,S),function uu(S,x){if(!x.fcmOptions)return;S.fcmOptions={};const R=x.fcmOptions.link;R&&(S.fcmOptions.link=R);const U=x.fcmOptions.analytics_label;U&&(S.fcmOptions.analyticsLabel=U)}(x,S),x}function du(S){return"object"==typeof S&&!!S&&wa in S}function bd(S,x){const R=[];for(let U=0;U<S.length;U++)R.push(S.charAt(U)),U<x.length&&R.push(x.charAt(U));return R.join("")}function Fs(S){return Tn.create("missing-app-config-values",{valueName:S})}bd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ri{constructor(x,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function jg(S){if(!S||!S.options)throw Fs("App Configuration Object");if(!S.name)throw Fs("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const U of x)if(!R[U])throw Fs(U);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:J,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Er(S){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,L.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(_d,{scope:ki}),S.swRegistration.update().catch(()=>{})}catch(x){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function go(S,x){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,L.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield Er(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function hu(S,x){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,L.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=Po)})).apply(this,arguments)}function pu(){return(pu=(0,L.Z)(function*(S,x){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield hu(S,null==x?void 0:x.vapidKey),yield go(S,null==x?void 0:x.serviceWorkerRegistration),ol(S)})).apply(this,arguments)}function Sa(S,x,R){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,L.Z)(function*(S,x,R){const U=ec(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[wa],message_name:R[yd],message_time:R[_p],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ec(S){switch(S){case ba.NOTIFICATION_CLICKED:return"notification_open";case ba.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ed(){return(Ed=(0,L.Z)(function*(S,x){const R=x.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===ba.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Bo(R)):S.onMessageHandler.next(Bo(R)));const U=R.data;du(U)&&"1"===U[jn]&&(yield Sa(S,R.messageType,U))})).apply(this,arguments)}const tc="@firebase/messaging",Td=S=>{const x=new Ri(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Cd(S,x){return Ed.apply(this,arguments)}(x,R)),x},xa=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:U=>function Jl(S,x){return pu.apply(this,arguments)}(x,U)}};function nc(){return ur.apply(this,arguments)}function ur(){return(ur=(0,L.Z)(function*(){try{yield(0,se.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Id(){(0,de._registerComponent)(new _e.wA("messaging",Td,"PUBLIC")),(0,de._registerComponent)(new _e.wA("messaging-internal",xa,"PRIVATE")),(0,de.registerVersion)(tc,"0.9.13"),(0,de.registerVersion)(tc,"0.9.13","esm2017")}();const Sd="analytics",zg="firebase_id",Ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",ti=new ue.Yd("@firebase/analytics");function xd(S){return Promise.all(S.map(x=>x.catch(R=>R)))}function qg(S,x){const R=document.createElement("script");R.src=`${jo}?l=${S}&id=${x}`,R.async=!0,document.head.appendChild(R)}function Da(S,x,R,U,J,ae){return ic.apply(this,arguments)}function ic(){return(ic=(0,L.Z)(function*(S,x,R,U,J,ae){const Oe=U[J];try{if(Oe)yield x[Oe];else{const at=(yield xd(R)).find(dt=>dt.measurementId===J);at&&(yield x[at.appId])}}catch(st){ti.error(st)}S("config",J,ae)})).apply(this,arguments)}function Gg(S,x,R,U,J){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,L.Z)(function*(S,x,R,U,J){try{let ae=[];if(J&&J.send_to){let Oe=J.send_to;Array.isArray(Oe)||(Oe=[Oe]);const st=yield xd(R);for(const at of Oe){const dt=st.find(Tt=>Tt.measurementId===at),Vt=dt&&x[dt.appId];if(!Vt){ae=[];break}ae.push(Vt)}}0===ae.length&&(ae=Object.values(x)),yield Promise.all(ae),S("event",U,J||{})}catch(ae){ti.error(ae)}})).apply(this,arguments)}function Dd(){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(jo))return x;return null}const qn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Aa=new class Bs{constructor(x={},R=1e3){this.throttleMetadata=x,this.intervalMillis=R}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,R){this.throttleMetadata[x]=R}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Gn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function qo(S){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(S){var x;const{appId:R,apiKey:U}=S,J={method:"GET",headers:Gn(U)},ae=Ls.replace("{app-id}",R),Oe=yield fetch(ae,J);if(200!==Oe.status&&304!==Oe.status){let st="";try{const at=yield Oe.json();(null===(x=at.error)||void 0===x?void 0:x.message)&&(st=at.error.message)}catch(at){}throw qn.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:st})}return Oe.json()})).apply(this,arguments)}function tn(S){return Us.apply(this,arguments)}function Us(){return(Us=(0,L.Z)(function*(S,x=Aa,R){const{appId:U,apiKey:J,measurementId:ae}=S.options;if(!U)throw qn.create("no-app-id");if(!J){if(ae)return{measurementId:ae,appId:U};throw qn.create("no-api-key")}const Oe=x.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new gu;return setTimeout((0,L.Z)(function*(){st.abort()}),void 0!==R?R:6e4),Ma({appId:U,apiKey:J,measurementId:ae},Oe,st,x)})).apply(this,arguments)}function Ma(S,x,R){return $o.apply(this,arguments)}function $o(){return($o=(0,L.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:R},U,J=Aa){const{appId:ae,measurementId:Oe}=S;try{yield Ad(U,x)}catch(st){if(Oe)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Oe};throw st}try{const st=yield qo(S);return J.deleteThrottleMetadata(ae),st}catch(st){if(!bp(st)){if(J.deleteThrottleMetadata(ae),Oe)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ae,measurementId:Oe};throw st}const at=503===Number(st.customData.httpStatus)?(0,se.$s)(R,J.intervalMillis,30):(0,se.$s)(R,J.intervalMillis),dt={throttleEndTimeMillis:Date.now()+at,backoffCount:R+1};return J.setThrottleMetadata(ae,dt),ti.debug(`Calling attemptFetch again in ${at} millis`),Ma(S,dt,U,J)}})).apply(this,arguments)}function Ad(S,x){return new Promise((R,U)=>{const J=Math.max(x-Date.now(),0),ae=setTimeout(R,J);S.addEventListener(()=>{clearTimeout(ae),U(qn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function bp(S){if(!(S instanceof se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}class gu{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function ka(){return sc.apply(this,arguments)}function sc(){return(sc=(0,L.Z)(function*(){if(!(0,se.hl)())return ti.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return ti.warn(qn.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function Rt(){return(Rt=(0,L.Z)(function*(S,x,R,U,J,ae,Oe){var st;const at=tn(S);at.then(Zn=>{R[Zn.measurementId]=Zn.appId,S.options.measurementId&&Zn.measurementId!==S.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>ti.error(Zn)),x.push(at);const dt=ka().then(Zn=>{if(Zn)return U.getId()}),[Vt,Tt]=yield Promise.all([at,dt]);Dd()||qg(ae,Vt.measurementId),J("js",new Date);const ni=null!==(st=null==Oe?void 0:Oe.config)&&void 0!==st?st:{};return ni.origin="firebase",ni.update=!0,null!=Tt&&(ni[zg]=Tt),J("config",Vt.measurementId,ni),Vt.measurementId})).apply(this,arguments)}class bs{constructor(x){this.app=x}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},ll=[];const oc={};let mu,mo,Oa="dataLayer",ac=!1;function cc(S,x,R){!function lc(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((U,J)=>`(${J+1}) ${U}`).join(" "),R=qn.create("invalid-analytics-context",{errorInfo:x});ti.warn(R.message)}}();const U=S.options.appId;if(!U)throw qn.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw qn.create("no-api-key");ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[U])throw qn.create("already-exists",{id:U});if(!ac){!function zo(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(Oa);const{wrappedGtag:ae,gtagCore:Oe}=function $g(S,x,R,U,J){let ae=function(...Oe){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ae=window[J]),window[J]=function rc(S,x,R,U){function ae(){return(ae=(0,L.Z)(function*(Oe,st,at){try{"event"===Oe?yield Gg(S,x,R,st,at):"config"===Oe?yield Da(S,x,R,U,st,at):S("set",st)}catch(dt){ti.error(dt)}})).apply(this,arguments)}return function J(Oe,st,at){return ae.apply(this,arguments)}}(ae,S,x,R),{gtagCore:ae,wrappedGtag:window[J]}}(vi,ll,oc,Oa,"gtag");mo=ae,mu=Oe,ac=!0}return vi[U]=function ws(S,x,R,U,J,ae,Oe){return Rt.apply(this,arguments)}(S,ll,oc,x,mu,Oa,R),new bs(S)}function uc(){return(uc=(0,L.Z)(function*(S,x,R,U,J){if(J&&J.global)S("event",R,U);else{const ae=yield x;S("event",R,Object.assign(Object.assign({},U),{send_to:ae}))}})).apply(this,arguments)}function Pa(){return kd.apply(this,arguments)}function kd(){return(kd=(0,L.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}const Cp="@firebase/analytics";!function Qg(){(0,de._registerComponent)(new _e.wA(Sd,(x,{options:R})=>cc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new _e.wA("analytics-internal",function S(x){try{const R=x.getProvider(Sd).getImmediate();return{logEvent:(U,J,ae)=>function Yg(S,x,R,U){S=(0,se.m9)(S),function ul(S,x,R,U,J){return uc.apply(this,arguments)}(mo,vi[S.app.options.appId],x,R,U).catch(J=>ti.error(J))}(R,U,J,ae)}}catch(R){throw qn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Cp,"0.7.9"),(0,de.registerVersion)(Cp,"0.7.9","esm2017")}();var Jg=F(4408),Pd=F(7565);const Zo=new class $n extends Pd.v{}(class fc extends Jg.o{constructor(x,R){super(x,R),this.scheduler=x,this.work=R}schedule(x,R=0){return R>0?super.schedule(x,R):(this.delay=R,this.state=x,this.scheduler.flush(this),this)}execute(x,R){return R>0||this.closed?super.execute(x,R):this._execute(x,R)}requestAsyncId(x,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(x,R,U):x.flush(this)}});var yu=F(4986),vu=F(8505),wi=F(9468),Pi=F(5363);const bi=new s.GfV("7.3.0"),Wo="__angularfire_symbol__analyticsIsSupportedValue",Kr="__angularfire_symbol__analyticsIsSupported",js="__angularfire_symbol__remoteConfigIsSupportedValue",Cs="__angularfire_symbol__remoteConfigIsSupported",Ko="__angularfire_symbol__messagingIsSupportedValue",Ep="__angularfire_symbol__messagingIsSupported";function Na(S,x,R){if(x){if(1===x.length)return x[0];const ae=x.filter(Oe=>Oe.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[Kr]||(globalThis[Kr]=Pa().then(S=>globalThis[Wo]=S).catch(()=>globalThis[Wo]=!1)),globalThis[Ep]||(globalThis[Ep]=nc().then(S=>globalThis[Ko]=S).catch(()=>globalThis[Ko]=!1)),globalThis[Cs]||(globalThis[Cs]=Gl().then(S=>globalThis[js]=S).catch(()=>globalThis[js]=!1));const Tp=(S,x)=>{const R=x?[x]:(0,ee.C6)(),U=[];return R.forEach(J=>{J.container.getProvider(S).instances.forEach(Oe=>{U.includes(Oe)||U.push(Oe)})}),U};function Es(){}class Ip{constructor(x,R=Zo){this.zone=x,this.delegate=R}now(){return this.delegate.now()}schedule(x,R,U){const J=this.zone;return this.delegate.schedule(function(Oe){J.runGuarded(()=>{x.apply(this,[Oe])})},R,U)}}class mc{constructor(x){this.zone=x,this.task=null}call(x,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),R.pipe((0,vu.b)({next:U,complete:U,error:U})).subscribe(x).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wu=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ip(Zone.current)),this.insideAngular=R.run(()=>new Ip(Zone.current,yu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function zs(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function yc(S){return zs(),function Ts(S){return function(R){return(R=R.lift(new mc(S.ngZone))).pipe((0,wi.R)(S.outsideAngular),(0,Pi.Q)(S.insideAngular))}}(zs())(S)}},2090:(et,we,F)=>{F.d(we,{$s:()=>Gt,BH:()=>$e,DV:()=>Xt,Dv:()=>oo,G6:()=>ze,GJ:()=>rn,L:()=>le,LL:()=>ce,Mn:()=>Ie,Pz:()=>Ht,Sg:()=>ke,UG:()=>ge,UI:()=>ls,US:()=>_e,Wj:()=>Rn,Yr:()=>je,ZB:()=>z,ZR:()=>ve,b$:()=>Qe,cI:()=>Wt,d:()=>De,dS:()=>Mo,eu:()=>Ce,g5:()=>L,gK:()=>or,gQ:()=>sr,h$:()=>ue,hl:()=>q,hu:()=>ee,jU:()=>Se,lb:()=>vr,m9:()=>Ai,ne:()=>qr,p$:()=>G,pd:()=>so,r3:()=>zi,ru:()=>Ze,tV:()=>he,uI:()=>Ue,ug:()=>Kt,vZ:()=>_r,w1:()=>Ee,w9:()=>un,xO:()=>qi,xb:()=>jt,z$:()=>Fe,zI:()=>Y,zd:()=>cs});const ee=function(H,Z){if(!H)throw L(Z)},L=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},de=function(H){const Z=[];let W=0;for(let xe=0;xe<H.length;xe++){let $=H.charCodeAt(xe);$<128?Z[W++]=$:$<2048?(Z[W++]=$>>6|192,Z[W++]=63&$|128):55296==(64512&$)&&xe+1<H.length&&56320==(64512&H.charCodeAt(xe+1))?($=65536+((1023&$)<<10)+(1023&H.charCodeAt(++xe)),Z[W++]=$>>18|240,Z[W++]=$>>12&63|128,Z[W++]=$>>6&63|128,Z[W++]=63&$|128):(Z[W++]=$>>12|224,Z[W++]=$>>6&63|128,Z[W++]=63&$|128)}return Z},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,Z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let $=0;$<H.length;$+=3){const te=H[$],Re=$+1<H.length,tt=Re?H[$+1]:0,_t=$+2<H.length,xt=_t?H[$+2]:0;let Jn=(15&tt)<<2|xt>>6,Gi=63&xt;_t||(Gi=64,Re||(Jn=64)),xe.push(W[te>>2],W[(3&te)<<4|tt>>4],W[Jn],W[Gi])}return xe.join("")},encodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(H):this.encodeByteArray(de(H),Z)},decodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(H):function(H){const Z=[];let W=0,xe=0;for(;W<H.length;){const $=H[W++];if($<128)Z[xe++]=String.fromCharCode($);else if($>191&&$<224){const te=H[W++];Z[xe++]=String.fromCharCode((31&$)<<6|63&te)}else if($>239&&$<365){const _t=((7&$)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;Z[xe++]=String.fromCharCode(55296+(_t>>10)),Z[xe++]=String.fromCharCode(56320+(1023&_t))}else{const te=H[W++],Re=H[W++];Z[xe++]=String.fromCharCode((15&$)<<12|(63&te)<<6|63&Re)}}return Z.join("")}(this.decodeStringToByteArray(H,Z))},decodeStringToByteArray(H,Z){this.init_();const W=Z?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let $=0;$<H.length;){const te=W[H.charAt($++)],tt=$<H.length?W[H.charAt($)]:0;++$;const xt=$<H.length?W[H.charAt($)]:64;++$;const It=$<H.length?W[H.charAt($)]:64;if(++$,null==te||null==tt||null==xt||null==It)throw Error();xe.push(te<<2|tt>>4),64!==xt&&(xe.push(tt<<4&240|xt>>2),64!==It&&xe.push(xt<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ue=function(H){const Z=de(H);return _e.encodeByteArray(Z,!0)},le=function(H){return ue(H).replace(/\./g,"")},he=function(H){try{return _e.decodeString(H,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function G(H){return z(void 0,H)}function z(H,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return Z}for(const W in Z)!Z.hasOwnProperty(W)||!ie(W)||(H[W]=z(H[W],Z[W]));return H}function ie(H){return"__proto__"!==H}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,W)=>{this.resolve=Z,this.reject=W})}wrapCallback(Z){return(W,xe)=>{W?this.reject(W):this.resolve(xe),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(W):Z(W,xe))}}}function ke(H,Z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=Z||"demo-project",$=H.iat||0,te=H.sub||H.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:$,exp:$+3600,auth_time:$,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},H);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Re)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ze(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Fe().indexOf("Electron/")>=0}function Ee(){const H=Fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ie(){return Fe().indexOf("MSAppHost/")>=0}function je(){return!1}function ze(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function Ce(){return new Promise((H,Z)=>{try{let W=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(xe);$.onsuccess=()=>{$.result.close(),W||self.indexedDB.deleteDatabase(xe),H(!0)},$.onupgradeneeded=()=>{W=!1},$.onerror=()=>{var te;Z((null===(te=$.error)||void 0===te?void 0:te.message)||"")}}catch(W){Z(W)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(Z,W,xe){super(W),this.code=Z,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(Z,W,xe){this.service=Z,this.serviceName=W,this.errors=xe}create(Z,...W){const xe=W[0]||{},$=`${this.service}/${Z}`,te=this.errors[Z],Re=te?function Le(H,Z){return H.replace(ft,(W,xe)=>{const $=Z[xe];return null!=$?String($):`<${xe}?>`})}(te,xe):"Error";return new ve($,`${this.serviceName}: ${Re} (${$}).`,xe)}}const ft=/\{\$([^}]+)}/g;function Wt(H){return JSON.parse(H)}function Ht(H){return JSON.stringify(H)}const Ye=function(H){let Z={},W={},xe={},$="";try{const te=H.split(".");Z=Wt(he(te[0])||""),W=Wt(he(te[1])||""),$=te[2],xe=W.d||{},delete W.d}catch(te){}return{header:Z,claims:W,data:xe,signature:$}},un=function(H){const W=Ye(H).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},rn=function(H){const Z=Ye(H).claims;return"object"==typeof Z&&!0===Z.admin};function zi(H,Z){return Object.prototype.hasOwnProperty.call(H,Z)}function Xt(H,Z){if(Object.prototype.hasOwnProperty.call(H,Z))return H[Z]}function jt(H){for(const Z in H)if(Object.prototype.hasOwnProperty.call(H,Z))return!1;return!0}function ls(H,Z,W){const xe={};for(const $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(xe[$]=Z.call(W,H[$],$,H));return xe}function _r(H,Z){if(H===Z)return!0;const W=Object.keys(H),xe=Object.keys(Z);for(const $ of W){if(!xe.includes($))return!1;const te=H[$],Re=Z[$];if(Si(te)&&Si(Re)){if(!_r(te,Re))return!1}else if(te!==Re)return!1}for(const $ of xe)if(!W.includes($))return!1;return!0}function Si(H){return null!==H&&"object"==typeof H}function qi(H){const Z=[];for(const[W,xe]of Object.entries(H))Array.isArray(xe)?xe.forEach($=>{Z.push(encodeURIComponent(W)+"="+encodeURIComponent($))}):Z.push(encodeURIComponent(W)+"="+encodeURIComponent(xe));return Z.length?"&"+Z.join("&"):""}function cs(H){const Z={};return H.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[$,te]=xe.split("=");Z[decodeURIComponent($)]=decodeURIComponent(te)}}),Z}function so(H){const Z=H.indexOf("?");if(!Z)return"";const W=H.indexOf("#",Z);return H.substring(Z,W>0?W:void 0)}class sr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,W){W||(W=0);const xe=this.W_;if("string"==typeof Z)for(let It=0;It<16;It++)xe[It]=Z.charCodeAt(W)<<24|Z.charCodeAt(W+1)<<16|Z.charCodeAt(W+2)<<8|Z.charCodeAt(W+3),W+=4;else for(let It=0;It<16;It++)xe[It]=Z[W]<<24|Z[W+1]<<16|Z[W+2]<<8|Z[W+3],W+=4;for(let It=16;It<80;It++){const Jn=xe[It-3]^xe[It-8]^xe[It-14]^xe[It-16];xe[It]=4294967295&(Jn<<1|Jn>>>31)}let xt,yn,$=this.chain_[0],te=this.chain_[1],Re=this.chain_[2],tt=this.chain_[3],_t=this.chain_[4];for(let It=0;It<80;It++){It<40?It<20?(xt=tt^te&(Re^tt),yn=1518500249):(xt=te^Re^tt,yn=1859775393):It<60?(xt=te&Re|tt&(te|Re),yn=2400959708):(xt=te^Re^tt,yn=3395469782);const Jn=($<<5|$>>>27)+xt+_t+yn+xe[It]&4294967295;_t=tt,tt=Re,Re=4294967295&(te<<30|te>>>2),te=$,$=Jn}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+Re&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(Z,W){if(null==Z)return;void 0===W&&(W=Z.length);const xe=W-this.blockSize;let $=0;const te=this.buf_;let Re=this.inbuf_;for(;$<W;){if(0===Re)for(;$<=xe;)this.compress_(Z,$),$+=this.blockSize;if("string"==typeof Z){for(;$<W;)if(te[Re]=Z.charCodeAt($),++Re,++$,Re===this.blockSize){this.compress_(te),Re=0;break}}else for(;$<W;)if(te[Re]=Z[$],++Re,++$,Re===this.blockSize){this.compress_(te),Re=0;break}}this.inbuf_=Re,this.total_+=W}digest(){const Z=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&W,W/=256;this.compress_(this.buf_);let xe=0;for(let $=0;$<5;$++)for(let te=24;te>=0;te-=8)Z[xe]=this.chain_[$]>>te&255,++xe;return Z}}function qr(H,Z){const W=new vt(H,Z);return W.subscribe.bind(W)}class vt{constructor(Z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{Z(this)}).catch(xe=>{this.error(xe)})}next(Z){this.forEachObserver(W=>{W.next(Z)})}error(Z){this.forEachObserver(W=>{W.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,W,xe){let $;if(void 0===Z&&void 0===W&&void 0===xe)throw new Error("Missing Observer.");$=function Sn(H,Z){if("object"!=typeof H||null===H)return!1;for(const W of Z)if(W in H&&"function"==typeof H[W])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:W,complete:xe},void 0===$.next&&($.next=On),void 0===$.error&&($.error=On),void 0===$.complete&&($.complete=On);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Re){}}),this.observers.push($),te}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,Z)}sendOne(Z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{W(this.observers[Z])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}const oo=function(H,Z,W,xe){let $;if(xe<Z?$="at least "+Z:xe>W&&($=0===W?"none":"no more than "+W),$)throw new Error(H+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+$+".")};function or(H,Z){return`${H} failed: ${Z} argument `}function Rn(H,Z,W,xe){if((!xe||W)&&"function"!=typeof W)throw new Error(or(H,Z)+"must be a valid function.")}function vr(H,Z,W,xe){if((!xe||W)&&("object"!=typeof W||null===W))throw new Error(or(H,Z)+"must be a valid context object.")}const Mo=function(H){const Z=[];let W=0;for(let xe=0;xe<H.length;xe++){let $=H.charCodeAt(xe);if($>=55296&&$<=56319){const te=$-55296;xe++,ee(xe<H.length,"Surrogate pair missing trail surrogate."),$=65536+(te<<10)+(H.charCodeAt(xe)-56320)}$<128?Z[W++]=$:$<2048?(Z[W++]=$>>6|192,Z[W++]=63&$|128):$<65536?(Z[W++]=$>>12|224,Z[W++]=$>>6&63|128,Z[W++]=63&$|128):(Z[W++]=$>>18|240,Z[W++]=$>>12&63|128,Z[W++]=$>>6&63|128,Z[W++]=63&$|128)}return Z},Kt=function(H){let Z=0;for(let W=0;W<H.length;W++){const xe=H.charCodeAt(W);xe<128?Z++:xe<2048?Z+=2:xe>=55296&&xe<=56319?(Z+=4,W++):Z+=3}return Z};function Gt(H,Z=1e3,W=2){const xe=Z*Math.pow(W,H),$=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+$)}function Ai(H){return H&&H._delegate?H._delegate:H}},9495:(et,we,F)=>{var s=F(5e3);let ee=null;function L(){return ee}const ue=new s.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return(0,s.LFG)(z)}()},providedIn:"platform"}),n})();const G=new s.OlP("Location Initialized");let z=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function $e(){return new z((0,s.LFG)(ue))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Fe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(n){const t=(0,s.LFG)(ue).location;return new Qe((0,s.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ze=new s.OlP("appBaseHref");let Qe=(()=>{class n extends ge{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+Ue(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+Ue(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(Ze,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends ge{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+Ue(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+Ue(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(Ze,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Fe(ze(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ue(i))}normalize(e){return n.stripTrailingSlash(function je(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=ke,n.stripTrailingSlash=Fe,n.\u0275fac=function(e){return new(e||n)(s.LFG(ge),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ie(){return new Ee((0,s.LFG)(ge),(0,s.LFG)(le))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function ya(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let xn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),Ro(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ro(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ro(n,t){n.context.$implicit=t.item}let Lt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function zl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let wn=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Zi=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),gs=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})(),jn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const No="browser";function Ca(n){return"server"===n}let iu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ea((0,s.LFG)(ue),window)}),n})();class Ea{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function _s(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ru(this.window.history)||ru(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ru(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hn{}class Fo extends class il extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new Fo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function rl(){return sn=sn||document.querySelector("base"),sn?sn.getAttribute("href"):null}();return null==e?null:function po(n){$l=$l||document.createElement("a"),$l.setAttribute("href",n);const t=$l.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ya(document.cookie,t)}}let $l,sn=null;const _i=new s.OlP("TRANSITION_ID"),Tn=[{provide:s.ip1,useFactory:function su(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[_i,ue,s.zs3],multi:!0}];class ys{static init(){(0,s.VLi)(new ys)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(f){c=c||f,o--,0==o&&i(c)};r.forEach(function(f){f.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let yi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Lo=new s.OlP("EventManagerPlugins");let Ns=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class sl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let $r=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n extends $r{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ta),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ta))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ta(n){L().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fo=/%COMP%/g;function Ia(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ia(n,r,e):(r=r.replace(fo,n),e.push(r))}return e}function Me(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Vo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new En(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Cr(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new cu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ia(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ns),s.LFG(vs),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class En{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wt[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Me(i)):this.eventManager.addEventListener(t,e,Me(i))}}class Cr extends En{constructor(t,e,i,r){super(t),this.component=i;const o=Ia(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Wl(n){return"_ngcontent-%COMP%".replace(fo,n)}(r+"-"+i.id),this.hostAttr=function lu(n){return"_nghost-%COMP%".replace(fo,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class cu extends En{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ia(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let uu=(()=>{class n extends sl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const du=["alt","control","meta","shift"],jg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Er=(()=>{class n extends sl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(du.forEach(f=>{const y=i.indexOf(f);y>-1&&(i.splice(y,1),c+=f+".")}),c+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(e){let i="",r=function Yl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Fs.hasOwnProperty(t)&&(t=Fs[t]))}return jg[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),du.forEach(o=>{o!=r&&Ri[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Jl=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:No},{provide:s.g9A,useValue:function go(){Fo.makeCurrent(),ys.init()},multi:!0},{provide:ue,useFactory:function hu(){return(0,s.RDi)(document),document},deps:[]}]),pu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Zr(){return new s.qLn},deps:[]},{provide:Lo,useClass:uu,multi:!0,deps:[ue,s.R0b,s.Lbi]},{provide:Lo,useClass:Er,multi:!0,deps:[ue]},{provide:Vo,useClass:Vo,deps:[Ns,vs,s.AFp]},{provide:s.FYo,useExisting:Vo},{provide:$r,useExisting:vs},{provide:vs,useClass:vs,deps:[ue]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Ns,useClass:Ns,deps:[Lo,s.R0b]},{provide:hn,useClass:yi,deps:[]}];let Sa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:_i,useExisting:s.AFp},Tn]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:pu,imports:[jn,s.hGG]}),n})();"undefined"!=typeof window&&window;class Dd{}const qn="*";function Tr(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ir(n,t=null){return{type:4,styles:t,timings:n}}function Aa(n,t=null){return{type:2,steps:n,options:t}}function Gn(n){return{type:6,styles:n,offset:null}}function qo(n,t,e){return{type:0,name:n,styles:t,options:e}}function tn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Us(n,t=null){return{type:8,animation:n,options:t}}function Ma(n=null){return{type:9,options:n}}function $o(n,t=null){return{type:10,animation:n,options:t}}function Ad(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function gu(n){Promise.resolve(null).then(n)}class ka{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?gu(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Rt=!1;function vi(n){return new s.vHH(3e3,Rt)}function $n(){return"undefined"!=typeof window&&void 0!==window.document}function Zo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wr(n){switch(n.length){case 0:return new ka;case 1:return n[0];default:return new sc(n)}}function yu(n,t,e,i,r={},o={}){const c=[],h=[];let f=-1,y=null;if(i.forEach(E=>{const I=E.offset,M=I==f,P=M&&y||{};Object.keys(E).forEach(V=>{let Q=V,ye=E[V];if("offset"!==V)switch(Q=t.normalizePropertyName(Q,c),ye){case"!":ye=r[V];break;case qn:ye=o[V];break;default:ye=t.normalizeStyleValue(V,Q,ye,c)}P[Q]=ye}),M||h.push(P),y=P,f=I}),c.length)throw function kd(n){return new s.vHH(3502,Rt)}();return h}function vu(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&wi(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wi(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wi(e,"destroy",n)))}}function wi(n,t,e){const i=e.totalTime,o=Pi(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function Pi(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function bi(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Wo(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Kr=(n,t)=>!1,js=(n,t,e)=>[],Cs=null;function Ko(n){const t=n.parentNode||n.host;return t===Cs?null:t}(Zo()||"undefined"!=typeof Element)&&($n()?(Cs=(()=>document.documentElement)(),Kr=(n,t)=>{for(;t;){if(t===n)return!0;t=Ko(t)}return!1}):Kr=(n,t)=>n.contains(t),js=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Yo=null,Ni=!1;function gc(n){Yo||(Yo=function Na(){return"undefined"!=typeof document?document.body:null}()||{},Ni=!!Yo.style&&"WebkitAppearance"in Yo.style);let t=!0;return Yo.style&&!function Nd(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Yo.style,!t&&Ni&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yo.style)),t}const Tp=Kr,Es=js;let mc=(()=>{class n{validateStyleProperty(e){return gc(e)}matchesElement(e,i){return!1}containsElement(e,i){return Tp(e,i)}getParentElement(e){return Ko(e)}query(e,i,r){return Es(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,h=[],f){return new ka(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),wu=(()=>{class n{}return n.NOOP=new mc,n})();const wo="ng-enter",Fa="ng-leave",yc="ng-trigger",Ts=".ng-trigger",La="ng-animating",Qo=".ng-animating";function S(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:x(parseFloat(t[1]),t[2])}function x(n,t){return"s"===t?1e3*n:n}function R(n,t,e){return n.hasOwnProperty("duration")?n:function U(n,t,e){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(vi()),{duration:0,delay:0,easing:""};r=x(parseFloat(h[1]),h[2]);const f=h[3];null!=f&&(o=x(parseFloat(f),h[4]));const y=h[5];y&&(c=y)}else r=n;if(!e){let h=!1,f=t.length;r<0&&(t.push(function ll(){return new s.vHH(3100,Rt)}()),h=!0),o<0&&(t.push(function oc(){return new s.vHH(3101,Rt)}()),h=!0),h&&t.splice(f,0,vi())}return{duration:r,delay:o,easing:c}}(n,t,e)}function J(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Oe(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else J(n,e);return e}function st(n,t,e){return e?t+":"+e+";":""}function at(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=st(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=st(0,Va(e),n.style[e]));n.setAttribute("style",t)}function dt(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Yr(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Zo()&&at(n))}function Vt(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Yr(e);n.style[i]=""}),Zo()&&at(n))}function Tt(n){return Array.isArray(n)?1==n.length?n[0]:Aa(n):n}const Zn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jo(n){let t=[];if("string"==typeof n){let e;for(;e=Zn.exec(n);)t.push(e[1]);Zn.lastIndex=0}return t}function qs(n,t,e){const i=n.toString(),r=i.replace(Zn,(o,c)=>{let h=t[c];return t.hasOwnProperty(c)||(e.push(function cl(n){return new s.vHH(3003,Rt)}()),h=""),h.toString()});return r==i?n:r}function dr(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Sr=/-+([a-z0-9])/g;function Yr(n){return n.replace(Sr,(...t)=>t[1].toUpperCase())}function Va(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ki(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function mu(n){return new s.vHH(3004,Rt)}()}}function bu(n,t){return window.getComputedStyle(n)[t]}function tm(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function g0(n,t,e){if(":"==n[0]){const f=function Fd(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function yo(n){return new s.vHH(3016,Rt)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Ra(n){return new s.vHH(3015,Rt)}()),t;const r=i[1],o=i[2],c=i[3];t.push(Tu(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(Tu(c,r))}(i,e,t)):e.push(n),e}const Ld=new Set(["true","1"]),Vd=new Set(["false","0"]);function Tu(n,t){const e=Ld.has(n)||Vd.has(n),i=Ld.has(t)||Vd.has(t);return(r,o)=>{let c="*"==n||n==r,h="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?Ld.has(n):Vd.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?Ld.has(t):Vd.has(t)),c&&h}}const Cc=new RegExp("s*:selfs*,?","g");function xp(n,t,e,i){return new m0(n).build(t,e,i)}class m0{constructor(t){this._driver=t}build(t,e,i){const r=new im(e);this._resetContextStyleTimingState(r);const o=Ki(this,Tt(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function ac(){return new s.vHH(3006,Rt)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const f=h,y=f.name;y.toString().split(/\s*,\s*/).forEach(E=>{f.name=E,o.push(this.visitState(f,e))}),f.name=y}else if(1==h.type){const f=this.visitTransition(h,e);i+=f.queryCount,r+=f.depCount,c.push(f)}else e.errors.push(function Wg(){return new s.vHH(3007,Rt)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{if(Iu(h)){const f=h;Object.keys(f).forEach(y=>{Jo(f[y]).forEach(E=>{c.hasOwnProperty(E)||o.add(E)})})}}),o.size&&(dr(o.values()),e.errors.push(function lc(n,t){return new s.vHH(3008,Rt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ki(this,Tt(t.animation),e);return{type:1,matchers:tm(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ba(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ki(this,i,e)),options:Ba(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const h=Ki(this,c,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Ba(t.options)}}visitAnimate(t,e){const i=function sm(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ap(R(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ap(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=R(e,t);return Ap(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Gn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,h=!1;if(!c){h=!0;const y={};i.easing&&(y.easing=i.easing),c=Gn(y)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,e);f.isEmptyStep=h,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==qn?i.push(c):e.errors.push(function cc(n){return new s.vHH(3002,Rt)}()):i.push(c)}):i.push(t.styles);let r=!1,o=null;return i.forEach(c=>{if(Iu(c)){const h=c,f=h.easing;if(f&&(o=f,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void e.unsupportedCSSPropertiesFound.add(h);const f=e.collectedStyles[e.currentQuerySelector],y=f[h];let E=!0;y&&(o!=r&&o>=y.startTime&&r<=y.endTime&&(e.errors.push(function uc(n,t,e,i,r){return new s.vHH(3010,Rt)}()),E=!1),o=y.startTime),E&&(f[h]={startTime:o,endTime:r}),e.options&&function ni(n,t,e){const i=t.params||{},r=Jo(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Oa(n){return new s.vHH(3001,Rt)}())})}(c[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Md(){return new s.vHH(3011,Rt)}()),i;let o=0;const c=[];let h=!1,f=!1,y=0;const E=t.steps.map(He=>{const Xe=this._makeStyleAst(He,e);let it=null!=Xe.offset?Xe.offset:function rm(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Iu(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Iu(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Xe.styles),rt=0;return null!=it&&(o++,rt=Xe.offset=it),f=f||rt<0||rt>1,h=h||rt<y,y=rt,c.push(rt),Xe});f&&e.errors.push(function _o(){return new s.vHH(3012,Rt)}()),h&&e.errors.push(function dc(){return new s.vHH(3200,Rt)}());const I=t.steps.length;let M=0;o>0&&o<I?e.errors.push(function dl(){return new s.vHH(3202,Rt)}()):0==o&&(M=1/(I-1));const P=I-1,V=e.currentTime,Q=e.currentAnimateTimings,ye=Q.duration;return E.forEach((He,Xe)=>{const it=M>0?Xe==P?1:M*Xe:c[Xe],rt=it*ye;e.currentTime=V+Q.delay+rt,Q.duration=rt,this._validateStyleAst(He,e),He.offset=it,i.styles.push(He)}),i}visitReference(t,e){return{type:8,animation:Ki(this,Tt(t.animation),e),options:Ba(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ba(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ba(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function Ec(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Cc,"")),n=n.replace(/@\*/g,Ts).replace(/@\w+/g,e=>Ts+"-"+e.substr(1)).replace(/:animating/g,Qo),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,bi(e.collectedStyles,e.currentQuerySelector,{});const h=Ki(this,Tt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:Ba(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function hc(){return new s.vHH(3013,Rt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:R(t.timings,e.errors,!0);return{type:12,animation:Ki(this,Tt(t.animation),e),timings:i,options:null}}}class im{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Iu(n){return!Array.isArray(n)&&"object"==typeof n}function Ba(n){return n?(n=J(n)).params&&(n.params=function Dp(n){return n?J(n):null}(n.params)):n={},n}function Ap(n,t,e){return{duration:n,delay:t,easing:e}}function Mp(n,t,e,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class Ud{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Su=new RegExp(":enter","g"),_0=new RegExp(":leave","g");function Op(n,t,e,i,r,o={},c={},h,f,y=[]){return(new y0).buildKeyframes(n,t,e,i,r,o,c,h,f,y)}class y0{buildKeyframes(t,e,i,r,o,c,h,f,y,E=[]){y=y||new Ud;const I=new om(t,e,y,r,o,E,[]);I.options=f,I.currentTimeline.setStyles([c],null,I.errors,f),Ki(this,i,I);const M=I.timelines.filter(P=>P.containsAnimation());if(Object.keys(h).length){let P;for(let V=M.length-1;V>=0;V--){const Q=M[V];if(Q.element===e){P=Q;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,I.errors,f)}return M.length?M.map(P=>P.buildKeyframes()):[Mp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?S(i.duration):null,h=null!=i.delay?S(i.delay):null;return 0!==c&&t.forEach(f=>{const y=e.appendInstructionToTimeline(f,c,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ki(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xu);const c=S(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ki(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?S(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Ki(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return R(e.params?qs(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(f=>{h.forwardTime((f.offset||0)*o),h.setStyles(f.styles,f.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?S(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xu);let c=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let f=null;h.forEach((y,E)=>{e.currentQueryIndex=E;const I=e.createSubContext(t.options,y);o&&I.delayNextStep(o),y===e.element&&(f=I.currentTimeline),Ki(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),h=c*(e.currentQueryTotal-1);let f=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=h-f;break;case"full":f=i.currentStaggerTime}const E=e.currentTimeline;f&&E.delayNextStep(f);const I=E.currentTime;Ki(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const xu={};class om{constructor(t,e,i,r,o,c,h,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Tc(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=S(i.duration)),null!=i.delay&&(r.delay=S(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=qs(o[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new om(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=xu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new am(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(Su,"."+this._enterClassName)).replace(_0,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&c.push(function Hs(n){return new s.vHH(3014,Rt)}()),h}}class Tc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Tc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||qn,this._currentKeyframe[e]=qn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},c=function Zy(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=qn})):Oe(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const f=qs(c[h],o,i);this._pendingStyles[h]=f,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:qn),this._updateStyle(h,f)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,f)=>{const y=Oe(h,!0);Object.keys(y).forEach(E=>{const I=y[E];"!"==I?t.add(E):I==qn&&e.add(E)}),i||(y.offset=f/this.duration),r.push(y)});const o=t.size?dr(t.values()):[],c=e.size?dr(e.values()):[];if(i){const h=r[0],f=J(h);h.offset=0,f.offset=1,r=[h,f]}return Mp(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class am extends Tc{constructor(t,e,i,r,o,c,h=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,h=e/c,f=Oe(t[0],!1);f.offset=0,o.push(f);const y=Oe(t[0],!1);y.offset=lm(h),o.push(y);const E=t.length-1;for(let I=1;I<=E;I++){let M=Oe(t[I],!1);M.offset=lm((e+M.offset*i)/c),o.push(M)}i=c,e=0,r="",t=o}return Mp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function lm(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Wy{}class Hd extends Wy{normalizePropertyName(t,e){return Yr(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(cm[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function mo(n,t){return new s.vHH(3005,Rt)}())}return c+o}}const cm=(()=>function Is(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Sc(n,t,e,i,r,o,c,h,f,y,E,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:f,preStyleProps:y,postStyleProps:E,totalTime:I,errors:M}}const xc={};class Rp{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function um(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):c}build(t,e,i,r,o,c,h,f,y,E){const I=[],M=this.ast.options&&this.ast.options.params||xc,V=this.buildStyles(i,h&&h.params||xc,I),Q=f&&f.params||xc,ye=this.buildStyles(r,Q,I),He=new Set,Xe=new Map,it=new Map,rt="void"===r,At={params:Object.assign(Object.assign({},M),Q)},kt=E?[]:Op(t,e,this.ast.animation,o,c,V,ye,At,y,I);let nn=0;if(kt.forEach(ji=>{nn=Math.max(ji.duration+ji.delay,nn)}),I.length)return Sc(e,this._triggerName,i,r,rt,V,ye,[],[],Xe,it,nn,I);kt.forEach(ji=>{const io=ji.element,bU=bi(Xe,io,{});ji.preStyleProps.forEach(Pg=>bU[Pg]=!0);const p0=bi(it,io,{});ji.postStyleProps.forEach(Pg=>p0[Pg]=!0),io!==e&&He.add(io)});const Qn=dr(He.values());return Sc(e,this._triggerName,i,r,rt,V,ye,kt,Qn,Xe,it,nn)}}class dm{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=J(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!=c&&(r[o]=c)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const c=o;Object.keys(c).forEach(h=>{let f=c[h];f.length>1&&(f=qs(f,r,e));const y=this.normalizer.normalizePropertyName(h,e);f=this.normalizer.normalizeStyleValue(h,y,f,e),i[y]=f})}}),i}}class b0{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new dm(r.style,r.options&&r.options.params||{},i)}),jd(this.states,"true","1"),jd(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Rp(t,r,this.states))}),this.fallbackTransition=function Du(n,t,e){return new Rp(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function jd(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Pp=new Ud;class C0{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=xp(this._driver,e,i,[]);if(i.length)throw function Od(n){return new s.vHH(3503,Rt)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=yu(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let c;const h=new Map;if(o?(c=Op(this._driver,e,o,wo,Fa,{},{},i,Pp,r),c.forEach(E=>{const I=bi(h,E.element,{});E.postStyleProps.forEach(M=>I[M]=null)})):(r.push(function Dn(){return new s.vHH(3300,Rt)}()),c=[]),r.length)throw function Kg(n){return new s.vHH(3504,Rt)}();h.forEach((E,I)=>{Object.keys(E).forEach(M=>{E[M]=this._driver.computeStyle(I,M,qn)})});const y=Wr(c.map(E=>{const I=h.get(E.element);return this._buildPlayer(E,{},I)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function qy(n){return new s.vHH(3301,Rt)}();return e}listen(t,e,i,r){const o=Pi(e,"","","");return vu(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Ky="ng-animate-queued",zd="ng-animate-disabled",qd=[],hl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xr="__ng_removed";class Dc{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function tv(n){return null!=n?n:null}(i?t.value:t),i){const o=J(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const In="void",Gd=new Dc(In);class Xy{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Yg(n,t){return new s.vHH(3302,Rt)}();if(null==i||0==i.length)throw function Cp(n){return new s.vHH(3303,Rt)}();if(!function Au(n){return"start"==n||"done"==n}(i))throw function Rd(n,t){return new s.vHH(3400,Rt)}();const o=bi(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const h=bi(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Yi(t,yc),Yi(t,yc+"-"+e),h[e]=Gd),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(c);f>=0&&o.splice(f,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Qg(n){return new s.vHH(3401,Rt)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new Zd(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Yi(t,yc),Yi(t,yc+"-"+e),this._engine.statesByElement.set(t,h={}));let f=h[e];const y=new Dc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),h[e]=y,f||(f=Gd),y.value!==In&&f.value===y.value){if(!function Ci(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,y.params)){const Q=[],ye=o.matchStyles(f.value,f.params,Q),He=o.matchStyles(y.value,y.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Vt(t,ye),dt(t,He)})}return}const M=bi(this._engine.playersByElement,t,[]);M.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let P=o.matchTransition(f.value,y.value,t,y.params),V=!1;if(!P){if(!r)return;P=o.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:f,toState:y,player:c,isFallbackTransition:V}),V||(Yi(t,Ky),c.onStart(()=>{ii(t,Ky)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const ye=this._engine.playersByElement.get(t);if(ye){let He=ye.indexOf(c);He>=0&&ye.splice(He,1)}}),this.players.push(c),M.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ts,!0);i.forEach(r=>{if(r[xr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const h=[];if(Object.keys(o).forEach(f=>{if(c.set(f,o[f].value),this._triggers[f]){const y=this.trigger(t,f,In,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Wr(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const f=this._triggers[c].fallbackTransition,y=i[c]||Gd,E=new Dc(In),I=new Zd(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:f,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[xr];(!o||o===hl)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Yi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const f=Pi(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,vu(i.player,h.phase,f,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class $d{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Xy(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const f=r.get(h);if(f){const y=i.indexOf(f);i.splice(y+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const c=i[r[o]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(Wd(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Wd(e))return;const o=e[xr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yi(t,zd)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ii(t,zd))}removeNode(t,e,i,r){if(Wd(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[xr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Wd(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ts,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qo,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wr(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[xr];if(i&&i.setForRemoval){if(t[xr]=hl,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(zd))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Yi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Wr(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Jg(n){return new s.vHH(3402,Rt)}()}_flushAnimations(t,e){const i=new Ud,r=[],o=new Map,c=[],h=new Map,f=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(ht=>{E.add(ht);const St=this.driver.query(ht,".ng-animate-queued",!0);for(let Ot=0;Ot<St.length;Ot++)E.add(St[Ot])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=nv(M,this.collectedEnterElements),V=new Map;let Q=0;P.forEach((ht,St)=>{const Ot=wo+Q++;V.set(St,Ot),ht.forEach(fn=>Yi(fn,Ot))});const ye=[],He=new Set,Xe=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const St=this.collectedLeaveElements[ht],Ot=St[xr];Ot&&Ot.setForRemoval&&(ye.push(St),He.add(St),Ot.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(fn=>He.add(fn)):Xe.add(St))}const it=new Map,rt=nv(M,Array.from(He));rt.forEach((ht,St)=>{const Ot=Fa+Q++;it.set(St,Ot),ht.forEach(fn=>Yi(fn,Ot))}),t.push(()=>{P.forEach((ht,St)=>{const Ot=V.get(St);ht.forEach(fn=>ii(fn,Ot))}),rt.forEach((ht,St)=>{const Ot=it.get(St);ht.forEach(fn=>ii(fn,Ot))}),ye.forEach(ht=>{this.processLeaveNode(ht)})});const At=[],kt=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(e).forEach(Ot=>{const fn=Ot.player,zr=Ot.element;if(At.push(fn),this.collectedEnterElements.length){const ro=zr[xr];if(ro&&ro.setForMove){if(ro.previousTriggersValues&&ro.previousTriggersValues.has(Ot.triggerName)){const Ng=ro.previousTriggersValues.get(Ot.triggerName),gp=this.statesByElement.get(Ot.element);gp&&gp[Ot.triggerName]&&(gp[Ot.triggerName].value=Ng)}return void fn.destroy()}}const eu=!I||!this.driver.containsElement(I,zr),ma=it.get(zr),fp=V.get(zr),gi=this._buildInstruction(Ot,i,fp,ma,eu);if(gi.errors&&gi.errors.length)return void kt.push(gi);if(eu)return fn.onStart(()=>Vt(zr,gi.fromStyles)),fn.onDestroy(()=>dt(zr,gi.toStyles)),void r.push(fn);if(Ot.isFallbackTransition)return fn.onStart(()=>Vt(zr,gi.fromStyles)),fn.onDestroy(()=>dt(zr,gi.toStyles)),void r.push(fn);const TU=[];gi.timelines.forEach(ro=>{ro.stretchStartingKeyframe=!0,this.disabledNodes.has(ro.element)||TU.push(ro)}),gi.timelines=TU,i.append(zr,gi.timelines),c.push({instruction:gi,player:fn,element:zr}),gi.queriedElements.forEach(ro=>bi(h,ro,[]).push(fn)),gi.preStyleProps.forEach((ro,Ng)=>{const gp=Object.keys(ro);if(gp.length){let Fg=f.get(Ng);Fg||f.set(Ng,Fg=new Set),gp.forEach(GR=>Fg.add(GR))}}),gi.postStyleProps.forEach((ro,Ng)=>{const gp=Object.keys(ro);let Fg=y.get(Ng);Fg||y.set(Ng,Fg=new Set),gp.forEach(GR=>Fg.add(GR))})});if(kt.length){const ht=[];kt.forEach(St=>{ht.push(function Pd(n,t){return new s.vHH(3505,Rt)}())}),At.forEach(St=>St.destroy()),this.reportError(ht)}const nn=new Map,Qn=new Map;c.forEach(ht=>{const St=ht.element;i.has(St)&&(Qn.set(St,St),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,nn))}),r.forEach(ht=>{const St=ht.element;this._getPreviousPlayers(St,!1,ht.namespaceId,ht.triggerName,null).forEach(fn=>{bi(nn,St,[]).push(fn),fn.destroy()})});const ji=ye.filter(ht=>pl(ht,f,y)),io=new Map;fm(io,this.driver,Xe,y,qn).forEach(ht=>{pl(ht,f,y)&&ji.push(ht)});const p0=new Map;P.forEach((ht,St)=>{fm(p0,this.driver,new Set(ht),f,"!")}),ji.forEach(ht=>{const St=io.get(ht),Ot=p0.get(ht);io.set(ht,Object.assign(Object.assign({},St),Ot))});const Pg=[],CU=[],EU={};c.forEach(ht=>{const{element:St,player:Ot,instruction:fn}=ht;if(i.has(St)){if(E.has(St))return Ot.onDestroy(()=>dt(St,fn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(fn.totalTime),void r.push(Ot);let zr=EU;if(Qn.size>1){let ma=St;const fp=[];for(;ma=ma.parentNode;){const gi=Qn.get(ma);if(gi){zr=gi;break}fp.push(ma)}fp.forEach(gi=>Qn.set(gi,zr))}const eu=this._buildAnimation(Ot.namespaceId,fn,nn,o,p0,io);if(Ot.setRealPlayer(eu),zr===EU)Pg.push(Ot);else{const ma=this.playersByElement.get(zr);ma&&ma.length&&(Ot.parentPlayer=Wr(ma)),r.push(Ot)}}else Vt(St,fn.fromStyles),Ot.onDestroy(()=>dt(St,fn.toStyles)),CU.push(Ot),E.has(St)&&r.push(Ot)}),CU.forEach(ht=>{const St=o.get(ht.element);if(St&&St.length){const Ot=Wr(St);ht.setRealPlayer(Ot)}}),r.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<ye.length;ht++){const St=ye[ht],Ot=St[xr];if(ii(St,Fa),Ot&&Ot.hasAnimation)continue;let fn=[];if(h.size){let eu=h.get(St);eu&&eu.length&&fn.push(...eu);let ma=this.driver.query(St,Qo,!0);for(let fp=0;fp<ma.length;fp++){let gi=h.get(ma[fp]);gi&&gi.length&&fn.push(...gi)}}const zr=fn.filter(eu=>!eu.destroyed);zr.length?Fp(this,St,zr):this.processLeaveNode(St)}return ye.length=0,Pg.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const St=this.players.indexOf(ht);this.players.splice(St,1)}),ht.play()}),Pg}elementContainsData(t,e){let i=!1;const r=e[xr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const f=!o||o==In;h.forEach(y=>{y.queued||!f&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const y=f.element,E=y!==o,I=bi(i,y,[]);this._getPreviousPlayers(y,E,c,h,e.toState).forEach(P=>{const V=P.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),P.destroy(),I.push(P)})}Vt(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const h=e.triggerName,f=e.element,y=[],E=new Set,I=new Set,M=e.timelines.map(V=>{const Q=V.element;E.add(Q);const ye=Q[xr];if(ye&&ye.removedBeforeQueried)return new ka(V.duration,V.delay);const He=Q!==f,Xe=function Lp(n){const t=[];return Mu(n,t),t}((i.get(Q)||qd).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===Q),it=o.get(Q),rt=c.get(Q),At=yu(0,this._normalizer,0,V.keyframes,it,rt),kt=this._buildPlayer(V,At,Xe);if(V.subTimeline&&r&&I.add(Q),He){const nn=new Zd(t,h,Q);nn.setRealPlayer(kt),y.push(nn)}return kt});y.forEach(V=>{bi(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function ev(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),E.forEach(V=>Yi(V,La));const P=Wr(M);return P.onDestroy(()=>{E.forEach(V=>ii(V,La)),dt(f,e.toStyles)}),I.forEach(V=>{bi(r,V,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ka(t.duration,t.delay)}}class Zd{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ka,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>vu(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Wd(n){return n&&1===n.nodeType}function pm(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function fm(n,t,e,i,r){const o=[];e.forEach(f=>o.push(pm(f)));const c=[];i.forEach((f,y)=>{const E={};f.forEach(I=>{const M=E[I]=t.computeStyle(y,I,r);(!M||0==M.length)&&(y[xr]=Jy,c.push(y))}),n.set(y,E)});let h=0;return e.forEach(f=>pm(f,o[h++])),c}function nv(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(h){if(!h)return 1;let f=o.get(h);if(f)return f;const y=h.parentNode;return f=e.has(y)?y:r.has(y)?1:c(y),o.set(h,f),f}return t.forEach(h=>{const f=c(h);1!==f&&e.get(f).push(h)}),e}function Yi(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ii(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Fp(n,t,e){Wr(e).onDone(()=>n.processLeaveNode(t))}function Mu(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof sc?Mu(i.players,t):t.push(i)}}function pl(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Ac{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new $d(t,e,i),this._timelineEngine=new C0(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let h=this._triggerCache[c];if(!h){const f=[],E=xp(this._driver,o,f,[]);if(f.length)throw function Pa(n,t){return new s.vHH(3404,Rt)}();h=function w0(n,t,e){return new b0(n,t,e)}(r,E,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=Wo(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,h]=Wo(i);return this._timelineEngine.listen(c,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let iv=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vt(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Qi(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];ku(r)&&(t=t||{},t[r]=n[r])}return t}function ku(n){return"display"===n||"position"===n}class Kd{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:bu(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rv{validateStyleProperty(t){return gc(t)}matchesElement(t,e){return!1}containsElement(t,e){return Tp(t,e)}getParentElement(t){return Ko(t)}query(t,e,i){return Es(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const y={},E=c.filter(M=>M instanceof Kd);(function Xg(n,t){return 0===n||0===t})(i,r)&&E.forEach(M=>{let P=M.currentSnapshot;Object.keys(P).forEach(V=>y[V]=P[V])}),e=function Sp(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],c=[];if(i.forEach(h=>{o.hasOwnProperty(h)||c.push(h),o[h]=e[h]}),c.length)for(var r=1;r<t.length;r++){let h=t[r];c.forEach(function(f){h[f]=bu(n,f)})}}return t}(t,e=e.map(M=>Oe(M,!1)),y);const I=function Vp(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Qi(t[0]),t.length>1&&(i=Qi(t[t.length-1]))):t&&(e=Qi(t)),e||i?new iv(n,e,i):null}(t,e);return new Kd(t,e,f,I)}}let Yd=(()=>{class n extends Dd{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Aa(e):e;return Ou(this._renderer,null,i,"register",[r]),new Bp(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Bp extends class Zg{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new sv(this._id,t,e||{},this._renderer)}}class sv{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ou(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ou(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Xo="@.disabled";let Jd=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=null==c?void 0:c.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(o);return E||(E=new gm("",o,this.engine),this._rendererCache.set(o,E)),E}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const f=E=>{Array.isArray(E)?E.forEach(f):this.engine.registerTrigger(c,h,e,E.name,E)};return i.data.animation.forEach(f),new ov(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Ac),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class gm{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Xo?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ov extends gm{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Xo?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Xd(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),c="";return"@"!=o.charAt(0)&&([o,c]=function mm(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let Dr=(()=>{class n extends Ac{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(wu),s.LFG(Wy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _m=new s.OlP("AnimationModuleType"),Gs=[{provide:Dd,useClass:Yd},{provide:Wy,useFactory:function Up(){return new Hd}},{provide:Ac,useClass:Dr},{provide:s.FYo,useFactory:function Hp(n,t,e){return new Jd(n,t,e)},deps:[Vo,Ac,s.R0b]}],Mc=[{provide:wu,useFactory:()=>new rv},{provide:_m,useValue:"BrowserAnimations"},...Gs],ym=[{provide:wu,useClass:mc},{provide:_m,useValue:"NoopAnimations"},...Gs];let vm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ym:Mc}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Mc,imports:[Sa]}),n})();var ea=F(3269),Nn=F(8996);function bt(...n){const t=(0,ea.yG)(n);return(0,Nn.D)(n,t)}var Fi=F(8306),Fn=F(5577),v=F(576);function g(n,t){return(0,v.m)(t)?(0,Fn.z)(n,t,1):(0,Fn.z)(n,1)}var m=F(4482),b=F(5403);function D(n,t){return(0,m.e)((e,i)=>{let r=0;e.subscribe((0,b.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var k=F(4004);class K{}class pe{}class Ve{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ve;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ve?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nt{encodeKey(t){return Ar(t)}encodeValue(t){return Ar(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gt=/%(\d[a-f0-9])/gi,ri={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ar(n){return encodeURIComponent(n).replace(gt,(t,e)=>{var i;return null!==(i=ri[e])&&void 0!==i?i:t})}function fl(n){return`${n}`}class Co{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mt(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(c)||[];f.push(h),e.set(c,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Co({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(fl(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(fl(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gl{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ru(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function jp(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Pu(n){return"undefined"!=typeof FormData&&n instanceof FormData}class kc{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function eh(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ve),this.context||(this.context=new gl),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new Co,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ru(this.body)||jp(this.body)||Pu(this.body)||function zp(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Co?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pu(this.body)?null:jp(this.body)?this.body.type||null:Ru(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Co?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,E=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((M,P)=>M.set(P,t.setHeaders[P]),y)),t.setParams&&(E=Object.keys(t.setParams).reduce((M,P)=>M.set(P,t.setParams[P]),E)),new kc(i,r,c,{params:E,headers:y,context:I,reportProgress:f,responseType:o,withCredentials:h})}}var si=(()=>((si=si||{})[si.Sent=0]="Sent",si[si.UploadProgress=1]="UploadProgress",si[si.ResponseHeader=2]="ResponseHeader",si[si.DownloadProgress=3]="DownloadProgress",si[si.Response=4]="Response",si[si.User=5]="User",si))();class Nu{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ve,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qp extends Nu{constructor(t={}){super(t),this.type=si.ResponseHeader}clone(t={}){return new qp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wm extends Nu{constructor(t={}){super(t),this.type=si.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lv extends Nu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Gp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let cv=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof kc)o=e;else{let f,y;f=r.headers instanceof Ve?r.headers:new Ve(r.headers),r.params&&(y=r.params instanceof Co?r.params:new Co({fromObject:r.params})),o=new kc(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=bt(o).pipe(g(f=>this.handler.handle(f)));if(e instanceof kc||"events"===r.observe)return c;const h=c.pipe(D(f=>f instanceof wm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,k.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return h.pipe((0,k.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return h.pipe((0,k.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return h.pipe((0,k.U)(f=>f.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Co).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Gp(r,i))}post(e,i,r={}){return this.request("POST",e,Gp(r,i))}put(e,i,r={}){return this.request("PUT",e,Gp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class bm{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const T0=new s.OlP("HTTP_INTERCEPTORS");let Wx=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const I0=/^\)\]\}',?\n/;let dv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Fi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,V)=>r.setRequestHeader(P,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const P=r.statusText||"OK",V=new Ve(r.getAllResponseHeaders()),Q=function S0(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new qp({headers:V,status:r.status,statusText:P,url:Q}),c},f=()=>{let{headers:P,status:V,statusText:Q,url:ye}=h(),He=null;204!==V&&(He=void 0===r.response?r.responseText:r.response),0===V&&(V=He?200:0);let Xe=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof He){const it=He;He=He.replace(I0,"");try{He=""!==He?JSON.parse(He):null}catch(rt){He=it,Xe&&(Xe=!1,He={error:rt,text:He})}}Xe?(i.next(new wm({body:He,headers:P,status:V,statusText:Q,url:ye||void 0})),i.complete()):i.error(new lv({error:He,headers:P,status:V,statusText:Q,url:ye||void 0}))},y=P=>{const{url:V}=h(),Q=new lv({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(Q)};let E=!1;const I=P=>{E||(i.next(h()),E=!0);let V={type:si.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},M=P=>{let V={type:si.UploadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),i.next(V)};return r.addEventListener("load",f),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:si.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",f),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const $p=new s.OlP("XSRF_COOKIE_NAME"),Cm=new s.OlP("XSRF_HEADER_NAME");class Zp{}let Em=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ya(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(s.Lbi),s.LFG($p))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Tm=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zp),s.LFG(Cm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),hv=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(T0,[]);this.chain=i.reduceRight((r,o)=>new bm(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pe),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Wp=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Tm,useClass:Wx}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:$p,useValue:e.cookieName}:[],e.headerName?{provide:Cm,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tm,{provide:T0,useExisting:Tm,multi:!0},{provide:Zp,useClass:Em},{provide:$p,useValue:"XSRF-TOKEN"},{provide:Cm,useValue:"X-XSRF-TOKEN"}]}),n})(),e1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cv,{provide:K,useClass:hv},dv,{provide:pe,useExisting:dv}],imports:[[Wp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var mn=F(7579);class $s extends mn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:pv}=Array,{getPrototypeOf:D0,prototype:KR,keys:A0}=Object;function M0(n){if(1===n.length){const t=n[0];if(pv(t))return{args:t,keys:null};if(function k0(n){return n&&"object"==typeof n&&D0(n)===KR}(t)){const e=A0(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var nh=F(4671);const{isArray:n1}=Array;function fv(n){return(0,k.U)(t=>function ta(n,t){return n1(t)?n(...t):n(t)}(n,t))}function gv(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var r1=F(9672);function O0(n,t,e){n?(0,r1.f)(e,n,t):t()}function Kp(n,t){const e=(0,v.m)(n)?n:()=>n,i=r=>r.error(e());return new Fi.y(t?r=>t.schedule(i,0,r):i)}const Im=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Sm=F(8189);function xm(...n){return function Nt(){return(0,Sm.J)(1)}()((0,Nn.D)(n,(0,ea.yG)(n)))}var ml=F(8421);function mv(n){return new Fi.y(t=>{(0,ml.Xf)(n()).subscribe(t)})}var _l=F(515),Ss=F(727);function _v(){return(0,m.e)((n,t)=>{let e=null;n._refCount++;const i=(0,b.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class l1 extends Fi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,m.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ss.w0;const e=this.getSubject();t.add(this.source.subscribe((0,b.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ss.w0.EMPTY)}return t}refCount(){return _v()(this)}}function Li(n,t){return(0,m.e)((e,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();e.subscribe((0,b.x)(i,f=>{null==r||r.unsubscribe();let y=0;const E=o++;(0,ml.Xf)(n(f,E)).subscribe(r=(0,b.x)(i,I=>i.next(t?t(f,I,E,y++):I),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var na=F(5698);function Oc(...n){const t=(0,ea.yG)(n);return(0,m.e)((e,i)=>{(t?xm(n,e,t):xm(n,e)).subscribe(i)})}function R0(n,t,e,i,r){return(o,c)=>{let h=e,f=t,y=0;o.subscribe((0,b.x)(c,E=>{const I=y++;f=h?n(f,E,I):(h=!0,E),i&&c.next(f)},r&&(()=>{h&&c.next(f),c.complete()})))}}function yl(n,t){return(0,m.e)(R0(n,t,arguments.length>=2,!0))}function Fu(n){return(0,m.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,b.x)(e,void 0,void 0,c=>{o=(0,ml.Xf)(n(c,Fu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Dm(n){return n<=0?()=>_l.E:(0,m.e)((t,e)=>{let i=[];t.subscribe((0,b.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function c1(n=Am){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Am(){return new Im}function Yp(n){return(0,m.e)((t,e)=>{let i=!1;t.subscribe((0,b.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):nh.y,(0,na.q)(1),e?Yp(t):c1(()=>new Im))}var Qr=F(8505);class wl{constructor(t,e){this.id=t,this.url=e}}class vv extends wl{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qp extends wl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class P0 extends wl{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N0 extends wl{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QR extends wl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u1 extends wl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JR extends wl{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class F0 extends wl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L0 extends wl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mm{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XR{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eP{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tP{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nP{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yt="primary";class iP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jp(n){return new iP(n)}const h1="ngNavigationCancelingError";function B0(n){const t=Error("NavigationCancelingError: "+n);return t[h1]=!0,t}function wv(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ia(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!km(n[r],t[r]))return!1;return!0}function km(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function bv(n){return Array.prototype.concat.apply([],n)}function Om(n){return n.length>0?n[n.length-1]:null}function Ln(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ra(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Nn.D)(Promise.resolve(n)):bt(n)}const Cv={exact:function H0(n,t,e){if(!Pc(n.segments,t.segments)||!bl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!H0(n.children[i],t.children[i],e))return!1;return!0},subset:Lu},U0={exact:function g1(n,t){return ia(n,t)},subset:function Xp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>km(n[e],t[e]))},ignored:()=>!0};function Ev(n,t,e){return Cv[e.paths](n.root,t.root,e.matrixParams)&&U0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Lu(n,t,e){return Rm(n,t,t.segments,e)}function Rm(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Pc(r,e)||t.hasChildren()||!bl(r,e,i))}if(n.segments.length===e.length){if(!Pc(n.segments,e)||!bl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Lu(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Pc(n.segments,r)&&bl(n.segments,r,i)&&n.children[Yt])&&Rm(n.children[Yt],t,o,i)}}function bl(n,t,e){return t.every((i,r)=>U0[e](n[r].parameters,i.parameters))}class sa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jp(this.queryParams)),this._queryParamMap}toString(){return Nm.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ln(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}}class ef{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jp(this.parameters)),this._parameterMap}toString(){return G0(this)}}function Pc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Pm{}class Iv{parse(t){const e=new Dv(t);return new sa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ih(t.root,!0)}`,i=function _1(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${tf(e)}=${tf(r)}`).join("&"):`${tf(e)}=${tf(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function z0(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Nm=new Iv;function Fm(n){return n.segments.map(t=>G0(t)).join("/")}function ih(n,t){if(!n.hasChildren())return Fm(n);if(t){const e=n.children[Yt]?ih(n.children[Yt],!1):"",i=[];return Ln(n.children,(r,o)=>{o!==Yt&&i.push(`${o}:${ih(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Tv(n,t){let e=[];return Ln(n.children,(i,r)=>{r===Yt&&(e=e.concat(t(i,r)))}),Ln(n.children,(i,r)=>{r!==Yt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Yt?[ih(n.children[Yt],!1)]:[`${r}:${ih(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${Fm(n)}/${e[0]}`:`${Fm(n)}/(${e.join("//")})`}}function m1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tf(n){return m1(n).replace(/%3B/gi,";")}function Sv(n){return m1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nf(n){return decodeURIComponent(n)}function q0(n){return nf(n.replace(/\+/g,"%20"))}function G0(n){return`${Sv(n.path)}${function Zs(n){return Object.keys(n).map(t=>`;${Sv(t)}=${Sv(n[t])}`).join("")}(n.parameters)}`}const y1=/^[^\/()?;=#]+/;function xv(n){const t=n.match(y1);return t?t[0]:""}const sP=/^[^=?&#]+/,oP=/^[^&#]+/;class Dv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Yt]=new Bt(t,e)),i}parseSegment(){const t=xv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ef(nf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xv(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=xv(this.remaining);r&&(i=r,this.capture(i))}t[nf(e)]=nf(i)}parseQueryParam(t){const e=function $0(n){const t=n.match(sP);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function v1(n){const t=n.match(oP);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=q0(e),o=q0(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xv(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Yt);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Yt]:new Bt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Av{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Mv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return kv(t,this._root).map(e=>e.value)}}function Mv(n,t){if(n===t.value)return t;for(const e of t.children){const i=Mv(n,e);if(i)return i}return null}function kv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=kv(n,e);if(i.length)return i.unshift(t),i}return[]}class Cl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Vu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Z0 extends Av{constructor(t,e){super(t),this.snapshot=e,rf(this,t)}toString(){return this.snapshot.toString()}}function Ov(n,t){const e=function w1(n,t){const c=new Lm([],{},{},"",{},Yt,t,null,n.root,-1,{});return new oa("",new Cl(c,[]))}(n,t),i=new $s([new ef("",{})]),r=new $s({}),o=new $s({}),c=new $s({}),h=new $s(""),f=new rh(i,r,c,h,o,Yt,t,e.root);return f.snapshot=e.root,new Z0(new Cl(f,[]),e)}class rh{constructor(t,e,i,r,o,c,h,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,k.U)(t=>Jp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,k.U)(t=>Jp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rv(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function W0(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Lm{constructor(t,e,i,r,o,c,h,f,y,E,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oa extends Av{constructor(t,e){super(e),this.url=t,rf(this,e)}toString(){return K0(this._root)}}function rf(n,t){t.value._routerState=n,t.children.forEach(e=>rf(n,e))}function K0(n){const t=n.children.length>0?` { ${n.children.map(K0).join(", ")} } `:"";return`${n.value}${t}`}function Pv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ia(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ia(t.params,e.params)||n.params.next(e.params),function p1(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ia(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ia(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Y0(n,t){const e=ia(n.params,t.params)&&function j0(n,t){return Pc(n,t)&&n.every((e,i)=>ia(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Y0(n.parent,t.parent))}function sf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function b1(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sf(n,i,r);return sf(n,i)})}(n,t,e);return new Cl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>sf(n,h)),c}}const i=function C1(n){return new rh(new $s(n.url),new $s(n.params),new $s(n.queryParams),new $s(n.fragment),new $s(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>sf(n,o));return new Cl(i,r)}}function Vm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function of(n){return"object"==typeof n&&null!=n&&n.outlets}function sh(n,t,e,i,r){let o={};if(i&&Ln(i,(h,f)=>{o[f]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===t)return new sa(e,o,r);const c=Bm(n,t,e);return new sa(c,o,r)}function Bm(n,t,e){const i={};return Ln(n.children,(r,o)=>{i[o]=r===t?e:Bm(r,t,e)}),new Bt(n.segments,i)}class J0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Vm(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(of);if(r&&r!==Om(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class af{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Um(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Lv(n,t,e);const i=function E1(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],h=e[i];if(of(h))break;const f=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!Bv(f,y,c))return o;i+=2}else{if(!Bv(f,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Bt(n.segments.slice(0,i.pathIndex),{});return o.children[Yt]=new Bt(n.segments.slice(i.pathIndex),n.children),Lv(o,0,r)}return i.match&&0===r.length?new Bt(n.segments,{}):i.match&&!n.hasChildren()?Hm(n,t,e):i.match?Lv(n,0,r):Hm(n,t,e)}function Lv(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const i=function lP(n){return of(n[0])?n[0].outlets:{[Yt]:n}}(e),r={};return Ln(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Um(n.children[c],t,o))}),Ln(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Bt(n.segments,r)}}function Hm(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(of(o)){const f=eE(o.outlets);return new Bt(i,f)}if(0===r&&Vm(e[0])){i.push(new ef(n.segments[t].path,Vv(e[0]))),r++;continue}const c=of(o)?o.outlets[Yt]:`${o}`,h=r<e.length-1?e[r+1]:null;c&&h&&Vm(h)?(i.push(new ef(c,Vv(h))),r+=2):(i.push(new ef(c,{})),r++)}return new Bt(i,{})}function eE(n){const t={};return Ln(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Hm(new Bt([],{}),0,e))}),t}function Vv(n){const t={};return Ln(n,(e,i)=>t[i]=`${e}`),t}function Bv(n,t,e){return n==e.path&&ia(t,e.parameters)}class El{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Pv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Vu(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Ln(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Vu(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Vu(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Vu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new nP(o.value.snapshot))}),t.children.length&&this.forwardEvent(new eP(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Pv(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Pv(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=function jm(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=f,c.outlet&&c.outlet.activateWith(r,f),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Uv{constructor(t,e){this.routes=t,this.module=e}}function Nc(n){return"function"==typeof n}function Tl(n){return n instanceof sa}const Bu=Symbol("INITIAL_VALUE");function oh(){return Li(n=>function s1(...n){const t=(0,ea.yG)(n),e=(0,ea.jO)(n),{args:i,keys:r}=M0(n);if(0===i.length)return(0,Nn.D)([],t);const o=new Fi.y(function o1(n,t,e=nh.y){return i=>{O0(t,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let f=0;f<r;f++)O0(t,()=>{const y=(0,Nn.D)(n[f],t);let E=!1;y.subscribe((0,b.x)(i,I=>{o[f]=I,E||(E=!0,h--),h||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>gv(r,c):nh.y));return e?o.pipe(fv(e)):o}(n.map(t=>t.pipe((0,na.q)(1),Oc(Bu)))).pipe(yl((t,e)=>{let i=!1;return e.reduce((r,o,c)=>r!==Bu?r:(o===Bu&&(i=!0),i||!1!==o&&c!==e.length-1&&!Tl(o)?r:o),t)},Bu),D(t=>t!==Bu),(0,k.U)(t=>Tl(t)?t:!0===t),(0,na.q)(1)))}class iE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ah,this.attachRef=null}}class ah{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new iE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let zm=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||Yt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,f=new jv(e,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ah),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class jv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===rh?this.route:t===ah?this.childContexts:this.parent.get(t,e)}}let rE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[zm],encapsulation:2}),n})();function sE(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];oE(i,lh(t,i))}}function oE(n,t){n.children&&sE(n.children,t)}function lh(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function qm(n){const t=n.children&&n.children.map(qm),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Yt&&(e.component=rE),e}function Eo(n){return n.outlet||Yt}function aE(n,t){const e=n.filter(i=>Eo(i)===t);return e.push(...n.filter(i=>Eo(i)!==t)),e}const Uu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gm(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Uu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||wv)(e,n,t);if(!o)return Object.assign({},Uu);const c={};Ln(o.posParams,(f,y)=>{c[y]=f.path});const h=o.consumed.length>0?Object.assign(Object.assign({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function $m(n,t,e,i,r="corrected"){if(e.length>0&&function Ua(n,t,e){return e.some(i=>cf(n,t,i)&&Eo(i)!==Yt)}(n,e,i)){const c=new Bt(t,function S1(n,t,e,i){const r={};r[Yt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Eo(o)!==Yt){const c=new Bt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Eo(o)]=c}return r}(n,t,i,new Bt(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function zv(n,t,e){return e.some(i=>cf(n,t,i))}(n,e,i)){const c=new Bt(n.segments,function I1(n,t,e,i,r,o){const c={};for(const h of i)if(cf(n,e,h)&&!r[Eo(h)]){const f=new Bt([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[Eo(h)]=f}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new Bt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function cf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function qv(n,t,e,i){return!!(Eo(n)===i||i!==Yt&&cf(t,e,n))&&("**"===n.path||Gm(t,n,e).matched)}function Gv(n,t,e){return 0===t.length&&!n.children[e]}class uf{constructor(t){this.segmentGroup=t||null}}class lE{constructor(t){this.urlTree=t}}function df(n){return Kp(new uf(n))}function cE(n){return Kp(new lE(n))}class dE{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=$m(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Yt).pipe((0,k.U)(o=>this.createUrlTree($v(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fu(o=>{if(o instanceof lE)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof uf?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Yt).pipe((0,k.U)(r=>this.createUrlTree($v(r),t.queryParams,t.fragment))).pipe(Fu(r=>{throw r instanceof uf?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Bt([],{[Yt]:t}):t;return new sa(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,k.U)(o=>new Bt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Nn.D)(r).pipe(g(o=>{const c=i.children[o],h=aE(e,o);return this.expandSegmentGroup(t,h,c,o).pipe((0,k.U)(f=>({segment:f,outlet:o})))}),yl((o,c)=>(o[c.outlet]=c.segment,o),{}),function yv(n,t){const e=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):nh.y,Dm(1),e?Yp(t):c1(()=>new Im))}())}expandSegment(t,e,i,r,o,c){return(0,Nn.D)(i).pipe(g(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,c).pipe(Fu(y=>{if(y instanceof uf)return bt(null);throw y}))),vl(h=>!!h),Fu((h,f)=>{if(h instanceof Im||"EmptyError"===h.name)return Gv(e,r,o)?bt(new Bt([],{})):df(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,c,h){return qv(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):df(e):df(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?cE(o):this.lineralizeSegments(i,o).pipe((0,Fn.z)(c=>{const h=new Bt(c,{});return this.expandSegment(t,h,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:h,consumedSegments:f,remainingSegments:y,positionalParamSegments:E}=Gm(e,r,o);if(!h)return df(e);const I=this.applyRedirectCommands(f,r.redirectTo,E);return r.redirectTo.startsWith("/")?cE(I):this.lineralizeSegments(r,I).pipe((0,Fn.z)(M=>this.expandSegment(t,e,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?bt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,k.U)(I=>(i._loadedConfig=I,new Bt(r,{})))):bt(new Bt(r,{}));const{matched:c,consumedSegments:h,remainingSegments:f}=Gm(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,Fn.z)(E=>{const I=E.module,M=E.routes,{segmentGroup:P,slicedSegments:V}=$m(e,h,f,M),Q=new Bt(P.segments,P.children);if(0===V.length&&Q.hasChildren())return this.expandChildren(I,M,Q).pipe((0,k.U)(it=>new Bt(h,it)));if(0===M.length&&0===V.length)return bt(new Bt(h,{}));const ye=Eo(i)===o;return this.expandSegment(I,Q,M,V,ye?Yt:o,!0).pipe((0,k.U)(Xe=>new Bt(h.concat(Xe.segments),Xe.children)))})):df(e)}getChildConfig(t,e,i){return e.children?bt(new Uv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?bt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Fn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,k.U)(o=>(e._loadedConfig=o,o))):function uE(n){return Kp(B0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):bt(new Uv([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?bt(r.map(c=>{const h=t.get(c);let f;if(function nE(n){return n&&Nc(n.canLoad)}(h))f=h.canLoad(e,i);else{if(!Nc(h))throw new Error("Invalid CanLoad guard");f=h(e,i)}return ra(f)})).pipe(oh(),(0,Qr.b)(c=>{if(!Tl(c))return;const h=B0(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,k.U)(c=>!0===c)):bt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[Yt])return Kp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Yt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new sa(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ln(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Ln(e.children,(h,f)=>{c[f]=this.createSegmentGroup(t,h,i,r)}),new Bt(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function $v(n){const t={};for(const i of Object.keys(n.children)){const o=$v(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function D1(n){if(1===n.numberOfChildren&&n.children[Yt]){const t=n.children[Yt];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}class A1{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ch{constructor(t,e){this.component=t,this.route=e}}function M1(n,t,e){const i=n._root;return Jr(i,t?t._root:null,e,[i.value])}function hf(n,t,e){const i=function hP(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Jr(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vu(t);return n.children.forEach(c=>{(function pP(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function fP(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Pc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Pc(n.url,t.url)||!ia(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y0(n,t)||!ia(n.queryParams,t.queryParams);default:return!Y0(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new A1(i)):(o.data=c.data,o._resolvedData=c._resolvedData),Jr(n,t,o.component?h?h.children:null:e,i,r),f&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new ch(h.outlet.component,c))}else c&&uh(t,h,r),r.canActivateChecks.push(new A1(i)),Jr(n,null,o.component?h?h.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Ln(o,(c,h)=>uh(c,e.getContext(h),r)),r}function uh(n,t,e){const i=Vu(n),r=n.value;Ln(i,(o,c)=>{uh(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new ch(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class R1{}function mE(n){return new Fi.y(t=>t.error(n))}class N1{constructor(t,e,i,r,o,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c}recognize(){const t=$m(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Yt);if(null===e)return null;const i=new Lm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cl(i,e),o=new oa(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=Rv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const c=e.children[o],h=aE(t,o),f=this.processSegmentGroup(h,c,o);if(null===f)return null;i.push(...f)}const r=Hu(i);return function F1(n){n.sort((t,e)=>t.value.outlet===Yt?-1:e.value.outlet===Yt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const c=this.processSegmentAgainstRoute(o,e,i,r);if(null!==c)return c}return Gv(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!qv(t,e,i,r))return null;let o,c=[],h=[];if("**"===t.path){const P=i.length>0?Om(i).parameters:{};o=new Lm(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yE(t),Eo(t),t.component,t,dh(e),_E(e)+i.length,Wm(t))}else{const P=Gm(e,t,i);if(!P.matched)return null;c=P.consumedSegments,h=P.remainingSegments,o=new Lm(c,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yE(t),Eo(t),t.component,t,dh(e),_E(e)+c.length,Wm(t))}const f=function L1(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:y,slicedSegments:E}=$m(e,c,h,f.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===E.length&&y.hasChildren()){const P=this.processChildren(f,y);return null===P?null:[new Cl(o,P)]}if(0===f.length&&0===E.length)return[new Cl(o,[])];const I=Eo(t)===r,M=this.processSegment(f,y,E,I?Yt:r);return null===M?null:[new Cl(o,M)]}}function Zm(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Hu(n){const t=[],e=new Set;for(const i of n){if(!Zm(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Hu(i.children);t.push(new Cl(i.value,r))}return t.filter(i=>!e.has(i))}function dh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function _E(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function yE(n){return n.data||{}}function Wm(n){return n.resolve||{}}function ff(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gf(n){return Li(t=>{const e=n(t);return e?(0,Nn.D)(e).pipe((0,k.U)(()=>t)):bt(t)})}class fh extends class ph{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Fc=new s.OlP("ROUTES");class zu{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,k.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=o.create(t);return new Uv(bv(c.injector.get(Fc,void 0,s.XFs.Self|s.XFs.Optional)).map(qm),c)}),Fu(o=>{throw e._loader$=void 0,o}));return e._loader$=new l1(r,()=>new mn.x).pipe(_v()),e._loader$}loadModuleFactory(t){return ra(t()).pipe((0,Fn.z)(e=>e instanceof s.YKP?bt(e):(0,Nn.D)(this.compiler.compileModuleAsync(e))))}}class mh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _h(n){throw n}function yh(n,t,e){return t.parse("/")}function Kv(n,t){return bt(null)}const vE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kr=(()=>{class n{constructor(e,i,r,o,c,h,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mn.x,this.errorHandler=_h,this.malformedUriErrorHandler=yh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kv,afterPreactivation:Kv},this.urlHandlingStrategy=new mh,this.routeReuseStrategy=new fh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const I=c.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function f1(){return new sa(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zu(c,h,M=>this.triggerEvent(new V0(M)),M=>this.triggerEvent(new Mm(M))),this.routerState=Ov(this.currentUrlTree,this.rootComponentType),this.transitions=new $s({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(D(r=>0!==r.id),(0,k.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Li(r=>{let o=!1,c=!1;return bt(r).pipe((0,Qr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Li(h=>{const f=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Yv(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe(Li(I=>{const M=this.transitions.getValue();return i.next(new vv(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?_l.E:Promise.resolve(I)}),function dP(n,t,e,i){return Li(r=>function uP(n,t,e,i,r){return new dE(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,k.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qr.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function Ha(n,t,e,i,r){return(0,Fn.z)(o=>function P1(n,t,e,i,r="emptyOnly",o="legacy"){try{const c=new N1(n,t,e,i,r,o).recognize();return null===c?mE(new R1):bt(c)}catch(c){return mE(c)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,k.U)(c=>Object.assign(Object.assign({},o),{targetSnapshot:c}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qr.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(P,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new QR(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:P,source:V,restoredState:Q,extras:ye}=h,He=new vv(M,this.serializeUrl(P),V,Q);i.next(He);const Xe=Ov(P,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},h),{targetSnapshot:Xe,urlAfterRedirects:P,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),_l.E}),gf(h=>{const{targetSnapshot:f,id:y,extractedUrl:E,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:P}}=h;return this.hooks.beforePreactivation(f,{navigationId:y,appliedUrlTree:E,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!P})}),(0,Qr.b)(h=>{const f=new u1(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(f)}),(0,k.U)(h=>Object.assign(Object.assign({},h),{guards:M1(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function pE(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?bt(Object.assign(Object.assign({},e),{guardsResult:!0})):function fE(n,t,e,i){return(0,Nn.D)(n).pipe((0,Fn.z)(r=>function Wv(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?bt(o.map(h=>{const f=hf(h,t,r);let y;if(function T1(n){return n&&Nc(n.canDeactivate)}(f))y=ra(f.canDeactivate(n,t,e,i));else{if(!Nc(f))throw new Error("Invalid CanDeactivate guard");y=ra(f(n,t,e,i))}return y.pipe(vl())})).pipe(oh()):bt(!0)}(r.component,r.route,e,t,i)),vl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Fn.z)(h=>h&&function cP(n){return"boolean"==typeof n}(h)?function k1(n,t,e,i){return(0,Nn.D)(t).pipe(g(r=>xm(function gE(n,t){return null!==n&&t&&t(new XR(n)),bt(!0)}(r.route.parent,i),function gP(n,t){return null!==n&&t&&t(new tP(n)),bt(!0)}(r.route,i),function O1(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function hE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>mv(()=>bt(c.guards.map(f=>{const y=hf(f,c.node,e);let E;if(function lf(n){return n&&Nc(n.canActivateChild)}(y))E=ra(y.canActivateChild(i,n));else{if(!Nc(y))throw new Error("Invalid CanActivateChild guard");E=ra(y(i,n))}return E.pipe(vl())})).pipe(oh())));return bt(o).pipe(oh())}(n,r.path,e),function Zv(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(o=>mv(()=>{const c=hf(o,t,e);let h;if(function Hv(n){return n&&Nc(n.canActivate)}(c))h=ra(c.canActivate(t,n));else{if(!Nc(c))throw new Error("Invalid CanActivate guard");h=ra(c(t,n))}return h.pipe(vl())}));return bt(r).pipe(oh())}(n,r.route,e))),vl(r=>!0!==r,!0))}(i,o,n,t):bt(h)),(0,k.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Qr.b)(h=>{if(Tl(h.guardsResult)){const y=B0(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const f=new JR(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(f)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),gf(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,Qr.b)(f=>{const y=new F0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),Li(f=>{let y=!1;return bt(f).pipe(function pf(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return bt(e);let o=0;return(0,Nn.D)(r).pipe(g(c=>function Mr(n,t,e,i){return function ju(n,t,e,i){const r=ff(n);if(0===r.length)return bt({});const o={};return(0,Nn.D)(r).pipe((0,Fn.z)(c=>function To(n,t,e,i){const r=hf(n,t,i);return ra(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,Qr.b)(h=>{o[c]=h}))),Dm(1),(0,Fn.z)(()=>ff(o).length===r.length?bt(o):_l.E))}(n._resolve,n,t,i).pipe((0,k.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),Rv(n,e).resolve),null)))}(c.route,i,n,t)),(0,Qr.b)(()=>o++),Dm(1),(0,Fn.z)(c=>o===r.length?bt(e):_l.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qr.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,Qr.b)(f=>{const y=new L0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}))}),gf(h=>{const{targetSnapshot:f,id:y,extractedUrl:E,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:P}}=h;return this.hooks.afterPreactivation(f,{navigationId:y,appliedUrlTree:E,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!P})}),(0,k.U)(h=>{const f=function Q0(n,t,e){const i=sf(n,t._root,e?e._root:void 0);return new Z0(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:f})}),(0,Qr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,k.U)(i=>(new El(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Qr.b)({next(){o=!0},complete(){o=!0}}),function YR(n){return(0,m.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var h;o||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Fu(h=>{if(c=!0,function Rc(n){return n&&n[h1]}(h)){const f=Tl(h.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const y=new P0(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),f?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yv(r.source)};this.scheduleNavigation(E,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new N0(r.id,this.serializeUrl(r.extractedUrl),h);i.next(f);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return _l.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const f=Object.assign({},c);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){sE(e),this.config=e.map(qm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:f}=i,y=r||this.routerState.root,E=f?this.currentUrlTree.fragment:c;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),function Nv(n,t,e,i,r){if(0===e.length)return sh(t.root,t.root,t.root,i,r);const o=function Fv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new J0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Ln(o.outlets,(f,y)=>{h[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,f)=>{0==f&&"."===h||(0==f&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new J0(e,t,i)}(e);if(o.toRoot())return sh(t.root,t.root,new Bt([],{}),i,r);const c=function X0(n,t,e){if(n.isAbsolute)return new af(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new af(o,o===t.root,0)}const i=Vm(n.commands[0])?0:1;return function aP(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new af(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=c.processChildren?Lv(c.segmentGroup,c.index,o.commands):Um(c.segmentGroup,c.index,o.commands);return sh(t.root,c.segmentGroup,h,i,r)}(y,this.currentUrlTree,e,I,null!=E?E:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Tl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function bE(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},vE):!1===i?Object.assign({},wE):i,Tl(e))return Ev(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Ev(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Qp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){var h,f;if(this.disposed)return Promise.resolve(!1);let y,E,I;c?(y=c.resolve,E=c.reject,I=c.promise):I=new Promise((V,Q)=>{y=V,E=Q});const M=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):P=0,this.setTransition({id:M,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:y,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new P0(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Yv(n){return"imperative"!==n}let Km=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new mn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:qu(this.skipLocationChange),replaceUrl:qu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kr),s.Y36(rh),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),mf=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new mn.x,this.subscription=e.events.subscribe(o=>{o instanceof Qp&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){if(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:qu(this.skipLocationChange),replaceUrl:qu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kr),s.Y36(rh),s.Y36(ge))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function qu(n){return""===n||!!n}let CE=(()=>{class n{constructor(e,i,r,o,c,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof Qp&&this.update()})}ngAfterContentInit(){bt(this.links.changes,this.linksWithHrefs.changes,bt(null)).pipe((0,Sm.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Nn.D)(i).pipe((0,Sm.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function EE(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Km,8),s.Y36(mf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Km,5),s.Suo(r,mf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class TE{}class Qv{preload(t,e){return bt(null)}}let SE=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new zu(r,i,f=>e.triggerEvent(new V0(f)),f=>e.triggerEvent(new Mm(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(D(e=>e instanceof Qp),g(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const c=o._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Nn.D)(r).pipe((0,Sm.J)(),(0,k.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?bt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Fn.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(TE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Jv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Qp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof d1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new d1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Gu=new s.OlP("ROUTER_CONFIGURATION"),Xv=new s.OlP("ROUTER_FORROOT_GUARD"),B1=[Ee,{provide:Pm,useClass:Iv},{provide:kr,useFactory:function _P(n,t,e,i,r,o,c={},h,f){const y=new kr(null,n,t,e,i,r,bv(o));return h&&(y.urlHandlingStrategy=h),f&&(y.routeReuseStrategy=f),function yP(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(E=>{var I,M;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(M=console.groupEnd)||void 0===M||M.call(console)}),y},deps:[Pm,ah,Ee,s.zs3,s.Sil,Fc,Gu,[class gh{},new s.FiY],[class hh{},new s.FiY]]},ah,{provide:rh,useFactory:function vP(n){return n.routerState.root},deps:[kr]},SE,Qv,class IE{preload(t,e){return e().pipe(Fu(()=>bt(null)))}},{provide:Gu,useValue:{enableTracing:!1}}];function U1(){return new s.PXZ("Router",kr)}let H1=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[B1,xE(e),{provide:Xv,useFactory:tw,deps:[[kr,new s.FiY,new s.tp0]]},{provide:Gu,useValue:i||{}},{provide:ge,useFactory:ew,deps:[le,[new s.tBr(Ze),new s.FiY],Gu]},{provide:Jv,useFactory:j1,deps:[kr,iu,Gu]},{provide:TE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Qv},{provide:s.PXZ,multi:!0,useFactory:U1},[nw,{provide:s.ip1,multi:!0,useFactory:DE,deps:[nw]},{provide:AE,useFactory:wP,deps:[nw]},{provide:s.tb,multi:!0,useExisting:AE}]]}}static forChild(e){return{ngModule:n,providers:[xE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xv,8),s.LFG(kr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function j1(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Jv(n,t,e)}function ew(n,t,e={}){return e.useHash?new De(n,t):new Qe(n,t)}function tw(n){return"guarded"}function xE(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Fc,multi:!0,useValue:n}]}let nw=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mn.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(kr),c=this.injector.get(Gu);return"disabled"===c.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Gu),r=this.injector.get(SE),o=this.injector.get(Jv),c=this.injector.get(kr),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),o.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function DE(n){return n.appInitializer.bind(n)}function wP(n){return n.bootstrapListener.bind(n)}const AE=new s.OlP("Router Initializer");var Ym=F(6451),Qm=F(5363),ME=F(6063);class Jm extends mn.x{constructor(t=1/0,e=1/0,i=ME.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let h=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)h=f;h&&i.splice(0,h+1)}}}var kE=F(3099);function Xm(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,kE.B)({connector:()=>new Jm(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function OE(n,t){return(0,v.m)(t)?Li(()=>n,t):Li(()=>n)}var iw=F(9468),An=F(5813),Xr=F(2011);F(5867);var Te=F(5861),aa=F(9681),Io=F(4859),N=F(2090),Ws=F(1877);const ow=new Map,aw={activated:!1,tokenObservers:[]},BE={initialized:!1,enabled:!1};function Vi(n){return ow.get(n)||aw}function Ks(n,t){ow.set(n,t)}function vf(){return BE}class jE{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function zE(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const hr=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dw(n){if(!Vi(n).activated)throw hr.create("use-before-activation",{appName:n.name})}function n_(n,t){return i_.apply(this,arguments)}function i_(){return(i_=(0,Te.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,h;try{c=yield fetch(n,o)}catch(I){throw hr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==c.status)throw hr.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(I){throw hr.create("fetch-parse-error",{originalErrorMessage:I.message})}const f=h.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(f[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}})).apply(this,arguments)}function W1(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Cf="firebase-app-check-store";let Ef=null;function WE(){return Ef||(Ef=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(hr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Cf,{keyPath:"compositeKey"})}}catch(e){t(hr.create("storage-open",{originalErrorMessage:e.message}))}}),Ef)}function Lc(){return(Lc=(0,Te.Z)(function*(n,t){const i=(yield WE()).transaction(Cf,"readwrite"),o=i.objectStore(Cf).put({compositeKey:n,value:t});return new Promise((c,h)=>{o.onsuccess=f=>{c()},i.onerror=f=>{var y;h(hr.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Tf=new Ws.Yd("@firebase/app-check");function r_(n,t){return(0,N.hl)()?function KE(n,t){return function hw(n,t){return Lc.apply(this,arguments)}(function fw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Tf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function eT(){return vf().enabled}function mw(){return So.apply(this,arguments)}function So(){return(So=(0,Te.Z)(function*(){const n=vf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ca={error:"UNKNOWN_ERROR"};function tT(n){return N.US.encodeString(JSON.stringify(n),!1)}function If(n){return _w.apply(this,arguments)}function _w(){return(_w=(0,Te.Z)(function*(n,t=!1){const e=n.app;dw(e);const i=Vi(e);let o,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&s_(f)&&(r=f)}if(!t&&r&&s_(r))return{token:r.token};let h,c=!1;if(eT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=n_(W1(e,yield mw()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const f=yield i.exchangeTokenPromise;return yield r_(e,f),Ks(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Tf.warn(f.message):Tf.error(f),o=f}return r?(h={token:r.token},Ks(e,Object.assign(Object.assign({},i),{token:r})),yield r_(e,r)):h=iT(o),c&&wh(e,h),h})).apply(this,arguments)}function vw(n,t){const e=Vi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ks(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function nT(n){const{app:t}=n,e=Vi(t);let i=e.tokenRefresher;i||(i=function ww(n){const{app:t}=n;return new jE((0,Te.Z)(function*(){let i;if(i=Vi(t).token?yield If(n,!0):yield If(n),i.error)throw i.error}),()=>!0,()=>{const e=Vi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ks(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function wh(n,t){const e=Vi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function s_(n){return n.expireTimeMillis-Date.now()>0}function iT(n){return{token:tT(ca),error:n}}class J1{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Vi(this.app);for(const e of t)vw(this.app,e.next);return Promise.resolve()}}const gT="app-check-internal";!function nD(){(0,aa._registerComponent)(new Io.wA("app-check",n=>function rT(n,t){return new J1(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(gT).initialize()})),(0,aa._registerComponent)(new Io.wA(gT,n=>function sT(n){return{getToken:t=>If(n,t),addTokenListener:t=>function yw(n,t,e,i){const{app:r}=n,o=Vi(r),c={next:e,error:i,type:t};if(Ks(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&s_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),nT(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>nT(n))}(n,"INTERNAL",t),removeTokenListener:t=>vw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,aa.registerVersion)("@firebase/app-check","0.5.8")}();class c_{constructor(){return(0,An.vb)("app-check")}}"undefined"!=typeof window&&window;var bT=F(127);const CT=new s.OlP("angularfire2.auth.use-emulator"),Sf=new s.OlP("angularfire2.auth.settings"),ET=new s.OlP("angularfire2.auth.tenant-id"),u_=new s.OlP("angularfire2.auth.langugage-code"),d_=new s.OlP("angularfire2.auth.use-device-language"),TT=new s.OlP("angularfire.auth.persistence"),Ct=(n,t,e,i,r,o,c,h)=>(0,Xr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),c)for(const[y,E]of Object.entries(c))f.settings[y]=E;return h&&f.setPersistence(h),f},[e,i,r,o,c,h]);let h_=(()=>{class n{constructor(e,i,r,o,c,h,f,y,E,I,M,P){const V=new mn.x,Q=bt(void 0).pipe((0,Qm.Q)(c.outsideAngular),Li(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8775)))),(0,k.U)(()=>(0,Xr.on)(e,o,i)),(0,k.U)(ye=>Ct(ye,o,h,y,E,I,f,M)),Xm({bufferSize:1,refCount:!1}));if(Ca(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Q.pipe(vl()).subscribe();const He=Q.pipe(Li(rt=>rt.getRedirectResult().then(At=>At,()=>null)),An.iC,Xm({bufferSize:1,refCount:!1})),Xe=Q.pipe(Li(rt=>new Fi.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onAuthStateChanged(kt=>At.next(kt),kt=>At.error(kt),()=>At.complete()))})))),it=Q.pipe(Li(rt=>new Fi.y(At=>({unsubscribe:o.runOutsideAngular(()=>rt.onIdTokenChanged(kt=>At.next(kt),kt=>At.error(kt),()=>At.complete()))}))));this.authState=He.pipe(OE(Xe),(0,iw.R)(c.outsideAngular),(0,Qm.Q)(c.insideAngular)),this.user=He.pipe(OE(it),(0,iw.R)(c.outsideAngular),(0,Qm.Q)(c.insideAngular)),this.idToken=this.user.pipe(Li(rt=>rt?(0,Nn.D)(rt.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(Li(rt=>rt?(0,Nn.D)(rt.getIdTokenResult()):bt(null))),this.credential=(0,Ym.T)(He,V,this.authState.pipe(D(rt=>!rt))).pipe((0,k.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,iw.R)(c.outsideAngular),(0,Qm.Q)(c.insideAngular))}return(0,Xr.pX)(this,Q,o,{spy:{apply:(ye,He,Xe)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&Xe.then(it=>V.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xr.Dh),s.LFG(Xr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(An.HU),s.LFG(CT,8),s.LFG(Sf,8),s.LFG(ET,8),s.LFG(u_,8),s.LFG(d_,8),s.LFG(TT,8),s.LFG(c_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xf=(()=>{class n{constructor(e,i){this.angularFireAuth=e,this._router=i,this.isAuth=!1,this.isAuthContent=new $s(this.isAuth),this.isAuthExpose=this.isAuthContent.asObservable(),this.angularFireAuth.authState.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthContent.next(!0),this._router.navigate(["pranavam/basic"])):(localStorage.removeItem("user"),this.isAuthContent.next(!1))})}isAuthenticated(){return null!=JSON.parse(localStorage.getItem("user"))}signIn(e,i){this.angularFireAuth.signInWithEmailAndPassword(e,i).then(r=>{}).catch(r=>{console.log("Something is wrong:",r.message)})}SignOut(){this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this._router.navigate(["login"])})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(h_),s.LFG(kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ji=(()=>{class n{constructor(e,i){this._authService=e,this._router=i}canActivate(e,i){return!!this._authService.isAuthenticated()||(this._router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xf),s.LFG(kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dw=[{kalapurusaorder:1,house:"Aries",class:"aries_inner",indextoaries:1},{kalapurusaorder:2,house:"Tarus",class:"tarus_inner",indextoaries:12},{kalapurusaorder:3,house:"Gemini",class:"gemini_inner",indextoaries:11},{kalapurusaorder:4,house:"Cancer",class:"cancer_inner",indextoaries:10},{kalapurusaorder:5,house:"Leo",class:"leo_inner",indextoaries:9},{kalapurusaorder:6,house:"Virgo",class:"virgo_inner",indextoaries:8},{kalapurusaorder:7,house:"Libra",class:"libra_inner",indextoaries:7},{kalapurusaorder:8,house:"Scorpion",class:"scorpion_inner",indextoaries:6},{kalapurusaorder:9,house:"Sagittarius",class:"sagittarius_inner",indextoaries:5},{kalapurusaorder:10,house:"Capricon",class:"capricon_inner",indextoaries:4},{kalapurusaorder:11,house:"Aquarius",class:"aquarius_inner",indextoaries:3},{kalapurusaorder:12,house:"Pisces",class:"pisces_inner",indextoaries:2}],p_=[{name:"\u0bae\u0bc1\u0ba4\u0bb2\u0bbe\u0bb5\u0ba4\u0bc1",value:1},{name:"\u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bbe\u0bb5\u0ba4\u0bc1",value:2},{name:"\u0bae\u0bc2\u0ba9\u0bcd\u0bb1\u0bbe\u0bb5\u0ba4\u0bc1",value:3},{name:"\u0ba8\u0bbe\u0ba9\u0bcd\u0b95\u0bbe\u0bb5\u0ba4\u0bc1",value:4},{name:"\u0b90\u0ba8\u0bcd\u0ba4\u0bbe\u0bb5\u0ba4\u0bc1",value:5},{name:"\u0b86\u0bb1\u0bbe\u0bb5\u0ba4\u0bc1",value:6},{name:"\u0b8f\u0bb4\u0bbe\u0bb5\u0ba4\u0bc1",value:7},{name:"\u0b8e\u0b9f\u0bcd\u0b9f\u0bbe\u0bb5\u0ba4\u0bc1",value:8},{name:"\u0b92\u0ba9\u0bcd\u0baa\u0ba4\u0bbe\u0bb5\u0ba4\u0bc1",value:9},{name:"\u0baa\u0ba4\u0bcd\u0ba4\u0bbe\u0bb5\u0ba4\u0bc1",value:10},{name:"\u0baa\u0ba4\u0bbf\u0ba9\u0bca\u0ba9\u0bcd\u0bb1\u0bbe\u0bb5\u0ba4\u0bc1",value:11},{name:"\u0baa\u0ba9\u0bcd\u0ba9\u0bbf\u0bb0\u0ba3\u0bcd\u0b9f\u0bbe\u0bb5\u0ba4\u0bc1",value:12}];let es=(()=>{class n{constructor(e){this.http=e,this.starTypeData="./assets/csv/starTypeData.csv",this.signTypeData="./assets/csv/signTypeData.csv",this.houseTypeData="./assets/csv/houseTypeData.csv",this.planetTypeData="./assets/csv/planetTypeData.csv"}getStarTypeInfo(){return this.http.get(this.starTypeData,{responseType:"text"})}getSignTypeInfo(){return this.http.get(this.signTypeData,{responseType:"text"})}getHouseTypeInfo(){return this.http.get(this.houseTypeData,{responseType:"text"})}getPlanetTypeInfo(){return this.http.get(this.planetTypeData,{responseType:"text"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Vc=(()=>{class n extends uD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Or=new s.OlP("NgValueAccessor"),IT={provide:Or,useExisting:(0,s.Gpc)(()=>Rr),multi:!0},xT=new s.OlP("CompositionEventMode");let Rr=(()=>{class n extends uD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ST(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(xT,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([IT]),s.qOj]}),n})();const Ti=new s.OlP("NgValidators"),Uc=new s.OlP("NgAsyncValidators");function kT(n){return null!=n}function Rw(n){const t=(0,s.QGY)(n)?(0,Nn.D)(n):n;return(0,s.CqO)(t),t}function Pw(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Nw(n,t){return t.map(e=>e(n))}function Fw(n){return n.map(t=>function pD(n){return!n.validate}(t)?t:e=>t.validate(e))}function Lw(n){return null!=n?function OT(n){if(!n)return null;const t=n.filter(kT);return 0==t.length?null:function(e){return Pw(Nw(e,t))}}(Fw(n)):null}function RT(n){return null!=n?function fD(n){if(!n)return null;const t=n.filter(kT);return 0==t.length?null:function(e){return function oi(...n){const t=(0,ea.jO)(n),{args:e,keys:i}=M0(n),r=new Fi.y(o=>{const{length:c}=e;if(!c)return void o.complete();const h=new Array(c);let f=c,y=c;for(let E=0;E<c;E++){let I=!1;(0,ml.Xf)(e[E]).subscribe((0,b.x)(o,M=>{I||(I=!0,y--),h[E]=M},()=>f--,void 0,()=>{(!f||!I)&&(y||o.next(i?gv(i,h):h),o.complete())}))}});return t?r.pipe(fv(t)):r}(Nw(e,t).map(Rw)).pipe((0,k.U)(Pw))}}(Fw(n)):null}function gD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Sh(n){return n?Array.isArray(n)?n:[n]:[]}function g_(n,t){return Array.isArray(n)?n.includes(t):n===t}function PT(n,t){const e=Sh(t);return Sh(n).forEach(r=>{g_(e,r)||e.push(r)}),e}function Bw(n,t){return Sh(t).filter(e=>!g_(n,e))}class xh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Lw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Il extends xh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ts extends xh{get formDirective(){return null}get path(){return null}}class NT{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Pr=(()=>{class n extends NT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Il,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),FT=(()=>{class n extends NT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ts,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function Af(n,t){jw(n,t),t.valueAccessor.writeValue(n.value),function ID(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BT(n,t)})}(n,t),function xD(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function SD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function TD(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function __(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function jw(n,t){const e=function mD(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(gD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Vw(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(gD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();__(t._rawValidators,r),__(t._rawAsyncValidators,r)}function BT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function w_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Of="VALID",Ah="INVALID",Mh="PENDING",kh="DISABLED";function b_(n){return(E_(n)?n.validators:n)||null}function jT(n){return Array.isArray(n)?Lw(n):n||null}function C_(n,t){return(E_(t)?t.asyncValidators:n)||null}function kD(n){return Array.isArray(n)?RT(n):n||null}function E_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Zw=n=>n instanceof Ww;function Rh(n){return(n=>n instanceof qT)(n)?n.value:n.getRawValue()}function zT(n,t){const e=Zw(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function OD(n,t){Zw(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class T_{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=jT(this._rawValidators),this._composedAsyncValidatorFn=kD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Of}get invalid(){return this.status===Ah}get pending(){return this.status==Mh}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=jT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=kD(t)}addValidators(t){this.setValidators(PT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Bw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Bw(t,this._rawAsyncValidators))}hasValidator(t){return g_(this._rawValidators,t)}hasAsyncValidator(t){return g_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Mh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Of,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Of||this.status===Mh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Of}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Mh,this._hasOwnPendingAsyncValidator=!0;const e=Rw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function MD(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Zw(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof RD)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?Ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mh)?Mh:this._anyControlsHaveStatus(Ah)?Ah:Of}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){E_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qT extends T_{constructor(t=null,e,i){super(b_(e),C_(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),E_(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){w_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){w_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ww extends T_{constructor(t,e,i){super(b_(e),C_(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){OD(this,t),Object.keys(t).forEach(i=>{zT(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Rh(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class RD extends T_{constructor(t,e,i){super(b_(e),C_(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){OD(this,t),t.forEach((i,r)=>{zT(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Rh(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const PD={provide:ts,useExisting:(0,s.Gpc)(()=>Pf)},Ph=(()=>Promise.resolve(null))();let Pf=(()=>{class n extends ts{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new Ww({},Lw(e),RT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ph.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Af(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ph.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ph.then(()=>{const i=this._findContainer(e.path),r=new Ww({});(function zw(n,t){jw(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ph.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ph.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function v_(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ti,10),s.Y36(Uc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([PD]),s.qOj]}),n})();const FD={provide:Il,useExisting:(0,s.Gpc)(()=>Xi)},x_=(()=>Promise.resolve(null))();let Xi=(()=>{class n extends Il{constructor(e,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new qT,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function kf(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Rr?e=o:function AD(n){return Object.getPrototypeOf(n.constructor)===Vc}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Gw(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Af(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){x_.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;x_.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function Dh(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ts,9),s.Y36(Ti,10),s.Y36(Uc,10),s.Y36(Or,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([FD]),s.qOj,s.TTD]}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),KD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[$u]]}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[KD]}),n})(),xs=(()=>{class n{constructor(e,i,r,o){this.el=e,this.ngModel=i,this.control=r,this.cd=o,this.onResize=new s.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Xi,8),s.Y36(Il,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)})("focus",function(o){return i.onFocus(o)})("blur",function(o){return i.onBlur(o)}),2&e&&s.ekj("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})();function R_(n,t=0){return function XD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}var pI=F(1144);const fI=["addListener","removeListener"],nA=["addEventListener","removeEventListener"],gI=["on","off"];function Vf(n,t,e,i){if((0,v.m)(e)&&(i=e,e=void 0),i)return Vf(n,t,e).pipe(fv(i));const[r,o]=function ns(n){return(0,v.m)(n.addEventListener)&&(0,v.m)(n.removeEventListener)}(n)?nA.map(c=>h=>n[c](t,h,e)):function _I(n){return(0,v.m)(n.addListener)&&(0,v.m)(n.removeListener)}(n)?fI.map(mI(n,t)):function yI(n){return(0,v.m)(n.on)&&(0,v.m)(n.off)}(n)?gI.map(mI(n,t)):[];if(!r&&(0,pI.z)(n))return(0,Fn.z)(c=>Vf(c,t,e))((0,ml.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Fi.y(c=>{const h=(...f)=>c.next(1<f.length?f:f[0]);return r(h),()=>o(h)})}function mI(n,t){return e=>i=>n[e](t,i)}var Ku=F(4408);const Bf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Bf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ss.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Bf;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Bf;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var rA=F(7565);const sA=new class Uf extends rA.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class iA extends Ku.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Bf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Bf.cancelAnimationFrame(e),t._scheduled=void 0)}});let P_,oA=1;const N_={};function wI(n){return n in N_&&(delete N_[n],!0)}const cb={setImmediate(n){const t=oA++;return N_[t]=!0,P_||(P_=Promise.resolve()),P_.then(()=>wI(t)&&n()),t},clearImmediate(n){wI(n)}},{setImmediate:bI,clearImmediate:F_}=cb,Fh={setImmediate(...n){const{delegate:t}=Fh;return((null==t?void 0:t.setImmediate)||bI)(...n)},clearImmediate(n){const{delegate:t}=Fh;return((null==t?void 0:t.clearImmediate)||F_)(n)},delegate:void 0},lA=new class CI extends rA.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class GP extends Ku.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fh.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Fh.clearImmediate(e),t._scheduled=void 0)}});function Hf(n){return!!n&&(n instanceof Fi.y||(0,v.m)(n.lift)&&(0,v.m)(n.subscribe))}function L_(n,t=nh.y){return n=null!=n?n:uA,(0,m.e)((e,i)=>{let r,o=!0;e.subscribe((0,b.x)(i,c=>{const h=t(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function uA(n,t){return n===t}var Lh=F(4986),$P=F(3532);function V_(n,t=Lh.z){return function ub(n){return(0,m.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},f=()=>{o=null,c&&e.complete()};t.subscribe((0,b.x)(e,y=>{i=!0,r=y,o||(0,ml.Xf)(n(y)).subscribe(o=(0,b.x)(e,h,f))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function hA(n=0,t,e=Lh.P){let i=-1;return null!=t&&((0,$P.K)(t)?e=t:i=t),new Fi.y(r=>{let o=function dA(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}var db=F(5032);function hb(n){return(0,m.e)((t,e)=>{(0,ml.Xf)(n).subscribe((0,b.x)(e,()=>e.complete(),db.Z)),!e.closed&&t.subscribe(e)})}function jf(){return(0,m.e)((n,t)=>{let e,i=!1;n.subscribe((0,b.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}let B_;try{B_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){B_=!1}let U_,Qu,EI=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Oi(n){return n===No}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bh(){if("object"!=typeof document||!document)return 0;if(null==U_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),U_=0,0===n.scrollLeft&&(n.scrollLeft=1,U_=0===n.scrollLeft?1:2),n.remove()}return U_}const YP=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function QP(){return(0,s.f3M)(ue)}}),H_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pb=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function JP(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?H_.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YP,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class gb extends class DI{}{constructor(t){super(),this._data=t}connect(){return Hf(this._data)?this._data:bt(this._data)}disconnect(){}}class mA{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((c,h,f)=>{let y,E;null==c.previousIndex?(y=this._insertView(()=>i(c,h,f),f,e,r(c)),E=y?1:0):null==f?(this._detachAndCacheView(h,e),E=3):(y=this._moveView(h,f,e,r(c)),E=2),o&&o({context:null==y?void 0:y.context,operation:E,record:c})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const c=t();return i.createEmbeddedView(c.templateRef,c.context,c.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const AI=new s.OlP("_ViewRepeater"),mb=["contentWrapper"],yA=["*"],vA=new s.OlP("VIRTUAL_SCROLL_STRATEGY");class tN{constructor(t,e,i){this._scrolledIndexChange=new mn.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(L_()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),c=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const f=Math.ceil(i/this._itemSize),y=Math.max(0,Math.min(c,r-f));c!=y&&(c=y,o=y*this._itemSize,e.start=Math.floor(c)),e.end=Math.max(0,Math.min(r,e.start+f))}const h=o-e.start*this._itemSize;if(h<this._minBufferPx&&0!=e.start){const f=Math.ceil((this._maxBufferPx-h)/this._itemSize);e.start=Math.max(0,e.start-f),e.end=Math.min(r,Math.ceil(c+(i+this._minBufferPx)/this._itemSize))}else{const f=e.end*this._itemSize-(o+i);if(f<this._minBufferPx&&e.end!=r){const y=Math.ceil((this._maxBufferPx-f)/this._itemSize);y>0&&(e.end=Math.min(r,e.end+y),e.start=Math.max(0,Math.floor(c-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(c))}}function nN(n){return n._scrollStrategy}let _b=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new tN(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=R_(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=R_(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=R_(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s._Bn([{provide:vA,useFactory:nN,deps:[(0,s.Gpc)(()=>n)]}]),s.TTD]}),n})(),MI=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Fi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(V_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(D(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function hI(n){return n instanceof s.SBq?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(EI),s.LFG(ue,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bA=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new mn.x,this._elementScrolled=new Fi.y(c=>this.ngZone.runOutsideAngular(()=>Vf(this.elementRef.nativeElement,"scroll").pipe(hb(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Bh()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Bh()?e.left=e.right:1==Bh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function WP(){if(null==Qu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qu=!1,Qu;if("scrollBehavior"in document.documentElement.style)Qu=!0;else{const n=Element.prototype.scrollTo;Qu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qu}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Bh()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==Bh()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(MI),s.Y36(s.R0b),s.Y36(pb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),yb=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new mn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(V_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(EI),s.LFG(s.R0b),s.LFG(ue,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const da="undefined"!=typeof requestAnimationFrame?sA:lA;let Ju=(()=>{class n extends bA{constructor(e,i,r,o,c,h,f){super(e,h,r,c),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new mn.x,this._renderedRangeSubject=new mn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Fi.y(y=>this._scrollStrategy.scrolledIndexChange.subscribe(E=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(E))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ss.w0.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function JD(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Oc(null),V_(0,da)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(hb(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function EA(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,c=o?"X":"Y";let f=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(f+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(vA,8),s.Y36(pb,8),s.Y36(MI),s.Y36(yb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(mb,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s._Bn([{provide:bA,useExisting:n}]),s.qOj],ngContentSelectors:yA,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function j_(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let vb=(()=>{class n{constructor(e,i,r,o,c,h){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=c,this.viewChange=new mn.x,this._dataSourceChanges=new mn.x,this.dataStream=this._dataSourceChanges.pipe(Oc(null),jf(),Li(([f,y])=>this._changeDataSource(f,y)),Xm(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new mn.x,this.dataStream.subscribe(f=>{this._data=f,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(hb(this._destroyed)).subscribe(f=>{this._renderedRange=f,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function XP(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new gb(Hf(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=R_(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let c,h;for(let f=0;f<o;f++){const y=this._viewContainerRef.get(f+r);if(y&&y.rootNodes.length){c=h=y.rootNodes[0];break}}for(let f=o-1;f>-1;f--){const y=this._viewContainerRef.get(f+r);if(y&&y.rootNodes.length){h=y.rootNodes[y.rootNodes.length-1];break}}return c&&h?j_(i,"end",h)-j_(i,"start",c):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):bt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,c,h)=>this._getEmbeddedViewArgs(o,h),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(AI),s.Y36(Ju,4),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[s._Bn([{provide:AI,useClass:mA}])]}),n})(),kI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Hc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[fb,kI],fb,kI]}),n})();class ot{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,c,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((c=t.length)!=e.length)return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var f=t instanceof Date,y=e instanceof Date;if(f!=y)return!1;if(f&&y)return t.getTime()==e.getTime();var E=t instanceof RegExp,I=e instanceof RegExp;if(E!=I)return!1;if(E&&I)return t.toString()==e.toString();var M=Object.keys(t);if((c=M.length)!==Object.keys(e).length)return!1;for(o=c;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=c;0!=o--;)if(!this.equalsByValue(t[h=M[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,c=i.length;o<c;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let c=0;c<i.length;c++)if(this.findIndexInList(i[c],r)>e){i.splice(c,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var wb=0;function Uh(){return"pr_id_"+ ++wb}var Bi=function OI(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,c,h)=>{c&&(c.style.zIndex=String(((o,c)=>{let h=n.length>0?n[n.length-1]:{key:o,value:c},f=h.value+(h.key===o?0:c)+1;return n.push({key:o,value:f}),f})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(c=>c.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const TA=["*"];let pr=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),xl=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[pr.STARTS_WITH,pr.CONTAINS,pr.NOT_CONTAINS,pr.ENDS_WITH,pr.EQUALS,pr.NOT_EQUALS],numeric:[pr.EQUALS,pr.NOT_EQUALS,pr.LESS_THAN,pr.LESS_THAN_OR_EQUAL_TO,pr.GREATER_THAN,pr.GREATER_THAN_OR_EQUAL_TO],date:[pr.DATE_IS,pr.DATE_IS_NOT,pr.DATE_BEFORE,pr.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new mn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();var Dl=(()=>{return(n=Dl||(Dl={}))[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",Dl;var n})();let ai=(()=>{class n{constructor(){this.requireConfirmationSource=new mn.x,this.acceptConfirmationSource=new mn.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),RI=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return ot.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===ot.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=ot.removeAccents(i.toString()).toLocaleLowerCase(r),c=ot.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==c.indexOf(o,c.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():ot.removeAccents(e.toString()).toLocaleLowerCase(r)==ot.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(ot.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,c){let h=[];if(e)for(let f of e)for(let y of i){let E=ot.resolveFieldData(f,y);if(this.filters[o](E,r,c)){h.push(f);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wn=(()=>{class n{constructor(){this.messageSource=new mn.x,this.clearSource=new mn.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),z_=(()=>{class n{constructor(){this.clickSource=new mn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bb=(()=>{class n{}return n.AND="and",n.OR="or",n})(),IA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:TA,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),fr=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Qs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})(),re=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var c=0;c<r.length;c++){if(r[c]==e)return o;r[c].attributes&&r[c].attributes[i]&&1==r[c].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,c=i.getBoundingClientRect(),h=this.getViewport();let f,y;c.top+o+r.height>h.height?(f=-1*r.height,e.style.transformOrigin="bottom",c.top+f<0&&(f=-1*c.top)):(f=o,e.style.transformOrigin="top"),y=r.width>h.width?-1*c.left:c.left+r.width>h.width?-1*(c.left+r.width-h.width):0,e.style.top=f+"px",e.style.left=y+"px"}static absolutePosition(e,i){let P,V,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,c=r.width,h=i.offsetHeight,f=i.offsetWidth,y=i.getBoundingClientRect(),E=this.getWindowScrollTop(),I=this.getWindowScrollLeft(),M=this.getViewport();y.top+h+o>M.height?(P=y.top+E-o,e.style.transformOrigin="bottom",P<0&&(P=E)):(P=h+y.top+E,e.style.transformOrigin="top"),V=y.left+c>M.width?Math.max(0,y.left+I+f-c):y.left+I,e.style.top=P+"px",e.style.left=V+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,c=h=>{let f=window.getComputedStyle(h,null);return o.test(f.getPropertyValue("overflow"))||o.test(f.getPropertyValue("overflowX"))||o.test(f.getPropertyValue("overflowY"))};for(let h of r){let f=1===h.nodeType&&h.dataset.scrollselectors;if(f){let y=f.split(",");for(let E of y){let I=this.findSingle(h,E);I&&c(I)&&i.push(I)}}9!==h.nodeType&&c(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,c=getComputedStyle(e).getPropertyValue("paddingTop"),h=c?parseFloat(c):0,f=e.getBoundingClientRect(),E=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-o-h,I=e.scrollTop,M=e.clientHeight,P=this.getOuterHeight(i);E<0?e.scrollTop=I+E:E+P>M&&(e.scrollTop=I+E-M+P)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,c=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(e,i){var r=1,h=50/i;let f=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(f)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class q_{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=re.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let PI=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?re.appendChild(this.container,this.el.nativeElement):re.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),re.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Bi.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Bi.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+re.getWindowScrollLeft(),top:e.top+re.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+re.getOuterWidth(this.el.nativeElement),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-re.getOuterWidth(this.container),r=e.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top-re.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,r=e.top+re.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return re.hasClass(e,"p-inputwrapper")?re.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=re.getOuterWidth(this.container),c=re.getOuterHeight(this.container),h=re.getViewport();return r+o>h.width||r<0||i<0||i+c>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new q_(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):re.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Bi.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xl))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})(),Al=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(re.removeClass(i,"p-ink-active"),!re.getHeight(i)&&!re.getWidth(i)){let h=Math.max(re.getOuterWidth(this.el.nativeElement),re.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=re.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-re.getWidth(i)/2,c=e.pageY-r.top+document.body.scrollLeft-re.getHeight(i)/2;i.style.top=c+"px",i.style.left=o+"px",re.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&re.removeClass(e,"p-ink-active")}onAnimationEnd(e){re.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),re.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xl,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})();function xA(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function NI(n,t){1&n&&s.GkF(0)}const Eb=function(n){return{height:n}},DA=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},Tb=function(n){return{$implicit:n}},sN=["container"],oN=["filter"],FI=["in"],AA=["editableInput"];function MA(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function kA(n,t){1&n&&s.GkF(0)}const aN=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function lN(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,MA,2,1,"ng-container",13),s.YNc(2,kA,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,aN,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,Tb,e.selectedOption))}}const cN=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function uN(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,cN,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function dN(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){return s.CHM(e),s.oxw().onEditableInputClick()})("input",function(r){return s.CHM(e),s.oxw().onEditableInputChange(r)})("focus",function(r){return s.CHM(e),s.oxw().onEditableInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function OA(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function G_(n,t){1&n&&s.GkF(0)}function RA(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(2,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return s.CHM(e),s.oxw(2).onKeydown(r,!1)})("input",function(r){return s.CHM(e),s.oxw(2).onFilterInputChange(r)}),s.qZA(),s._UZ(4,"span",30),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function PA(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function LI(n,t){1&n&&s.GkF(0)}function Xu(n,t){1&n&&s.GkF(0)}const Ib=function(n,t){return{$implicit:n,selectedOption:t}};function Sb(n,t){if(1&n&&(s.TgZ(0,"li",32),s.YNc(1,PA,2,1,"span",13),s.YNc(2,LI,1,0,"ng-container",14),s.qZA(),s.YNc(3,Xu,1,0,"ng-container",14)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(8),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,Tb,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(7,Ib,r.getOptionGroupChildren(e),r.selectedOption))}}function xb(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Sb,4,10,"ng-template",31),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToDisplay)}}function NA(n,t){1&n&&s.GkF(0)}function Db(n,t){if(1&n&&(s.ynx(0),s.YNc(1,NA,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(8),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(2,Ib,i.optionsToDisplay,i.selectedOption))}}function Ab(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onItemClick(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).selectedOption,r=s.oxw(2);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function $_(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Ab,1,5,"ng-template",31),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function hN(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onItemClick(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(3).selectedOption,r=s.oxw(2);s.xp6(1),s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function pN(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",37,38),s.NdJ("scrolledIndexChange",function(){return s.CHM(e),s.oxw(4).scrollToSelectedVirtualScrollElement()}),s.YNc(2,hN,2,5,"ng-container",39),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,Eb,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function fN(n,t){if(1&n&&s.YNc(0,pN,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function gN(n,t){if(1&n&&(s.YNc(0,$_,2,1,"ng-container",33),s.YNc(1,fN,1,1,"ng-template",null,34,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function VI(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function FA(n,t){1&n&&s.GkF(0,null,41)}function LA(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,VI,2,1,"ng-container",33),s.YNc(2,FA,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function VA(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function BA(n,t){1&n&&s.GkF(0,null,42)}function BI(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,VA,2,1,"ng-container",33),s.YNc(2,BA,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function UI(n,t){1&n&&s.GkF(0)}const HI=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},UA=function(n){return{value:"visible",params:n}},HA=function(n){return{"p-dropdown-virtualscroll":n}};function jI(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(1,G_,1,0,"ng-container",20),s.YNc(2,RA,5,4,"div",21),s.TgZ(3,"div",22)(4,"ul",23),s.YNc(5,xb,2,1,"ng-container",13),s.YNc(6,Db,2,5,"ng-container",13),s.YNc(7,gN,3,2,"ng-template",null,24,s.W1O),s.YNc(9,LA,3,3,"li",25),s.YNc(10,BI,3,3,"li",25),s.qZA()(),s.YNc(11,UI,1,0,"ng-container",20),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(19,UA,s.WLB(16,HI,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(21,HA,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngIf",!e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Mb=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},mN={provide:Or,useExisting:(0,s.Gpc)(()=>Nr),multi:!0};let zI=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,xA,2,1,"span",1),s.YNc(2,NI,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,Eb,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,DA,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,Tb,i.option)))},directives:[Al,Zi,xn,Lt,gs],encapsulation:2}),n})(),Nr=(()=>{class n{constructor(e,i,r,o,c,h,f){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=c,this.config=h,this.overlayService=f,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=Uh()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(pi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(pi.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}re.findSingle(this.overlay,"li.p-highlight")&&re.scrollInView(this.itemsWrapper,re.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return re.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=re.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Bi.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=re.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Bi.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?re.absolutePosition(this.overlay,this.containerViewChild.nativeElement):re.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let c=this.optionsToDisplay[r.groupIndex-1];c&&(this.selectItem(e,this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||ot.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let c of i)if(o=this.findOption(e,this.getOptionGroupChildren(c),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:o}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?re.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():re.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!re.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new q_(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Bi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(RI),s.Y36(xl),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,fr,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(sN,5),s.Gf(oN,5),s.Gf(FI,5),s.Gf(Ju,5),s.Gf(AA,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[s._Bn([mN])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,lN,3,13,"span",5),s.YNc(6,uN,2,4,"span",6),s.YNc(7,dN,2,4,"input",7),s.YNc(8,OA,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,jI,12,23,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(20,Mb,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[zI,Ju,xn,Zi,Lt,PI,gs,$t,_b,vb],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Tr("overlayAnimation",[tn(":enter",[Gn({opacity:0,transform:"scaleY(0.8)"}),Ir("{{showTransitionParams}}")]),tn(":leave",[Ir("{{hideTransitionParams}}",Gn({opacity:0}))])])]},changeDetection:0}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,Qs,Hc,Cb,Ml],Qs,Hc]}),n})(),qI=(()=>{class n{constructor(){this.planetpositions=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],inputs:{planetpositions:"planetpositions"},decls:7,vars:0,consts:[[1,"container-fluid","p-0"],[1,"row"],[1,"col-md-4"],[1,"col-12","col-lg-4","col-xxl-3","d-flex"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._uU(3," Dashboard "),s.qZA()(),s.TgZ(4,"div",1),s._UZ(5,"div",2),s.qZA(),s._UZ(6,"div",3),s.qZA())},styles:[".tile[_ngcontent-%COMP%]{height:200px!important;max-height:200px;min-height:200px!important;overflow:scroll}.top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),_N=(()=>{class n{constructor(e){this.generalService=e,this.indextoaries=1,this.planetpositions=[],this.housedetails=[],this.previoushouse=1,this.houseorder=[],this.signdata=["Aries","Tarus","Gemini","Cancer","Leo","Virgo","Libra","Scorpion","Sagittarius","Capricon","Aquarius","Pisces"]}ngOnInit(){}checkAstro(e){const i=this.housedetails.filter(o=>o.order==this.previoushouse)[0].sign;this.removehighlightcell(i),this.houseorder=[...p_];const r=this.housedetails.filter(o=>o.order==e)[0].sign;this.highlightcell(r),this.previoushouse=e}addtochart(){this.planet.split(/\r\n|\r|\n/).forEach(i=>{const r=(i=i.replace(" [R]","[R]")).split(/(\s+)/);r[0].indexOf("ASC")>=0&&(this.ASC=r[2],this.indextoaries=Dw.filter(o=>o.house==this.ASC)[0].indextoaries,this.highlightcell(this.ASC)),r[0].indexOf("Uran")<0&&r[0].indexOf("Nept")<0&&r[0].indexOf("Plut")<0&&this.planetpositions.push({planet:r[0],house:r[2],star:r[6],leg:r[8],degree:r[4]})}),this.signdata.forEach(i=>{this.housedetails.push({sign:i,order:this.indextoaries,planets:this.calculateposition(i)}),this.indextoaries<12?this.indextoaries+=1:this.indextoaries=1}),this.drawchart(),this.checkAstro(1)}highlightcell(e){const i=Dw.filter(o=>o.house==e)[0].class;document.getElementById(i).style.cssText=" background-color: #F7DB6A"}removehighlightcell(e){const i=Dw.filter(o=>o.house==e)[0].class;document.getElementById(i).style.cssText="background-color: #ffffff"}drawchart(){this.aries_inner=this.calculateposition("Aries"),this.tarus_inner=this.calculateposition("Tarus"),this.gemini_inner=this.calculateposition("Gemini"),this.cancer_inner=this.calculateposition("Cancer"),this.leo_inner=this.calculateposition("Leo"),this.virgo_inner=this.calculateposition("Virgo"),this.libra_inner=this.calculateposition("Libra"),this.scorpion_inner=this.calculateposition("Scorpion"),this.sagittarius_inner=this.calculateposition("Sagittarius"),this.capricon_inner=this.calculateposition("Capricon"),this.aquarius_inner=this.calculateposition("Aquarius"),this.pisces_inner=this.calculateposition("Pisces")}calculateposition(e){const i=this.planetpositions.filter(r=>r.house===e);return i.sort((r,o)=>r.degree>o.degree?1:r.degree<o.degree?-1:0),i.map(r=>r.planet).join(" ")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-chart"]],decls:62,vars:14,consts:[[1,"container"],[1,"row",2,"margin-top","25px"],[1,"col-md-12"],["pInputTextarea","",3,"ngModel","ngModelChange"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"grid",2,"margin-top","25px"],[1,"box","empty_box"],[1,"box","pisces_outer"],[1,"box","aries_outer"],[1,"box","tarus_outer"],[1,"box","gemini_outer"],["id","pisces_inner",1,"box","pisces_inner"],["id","aries_inner",1,"box","aries_inner"],["id","tarus_inner",1,"box","tarus_inner"],["id","gemini_inner",1,"box","gemini_inner"],[1,"box","aquarius_outer"],["id","aquarius_inner",1,"box","aquarius_inner"],["id","cancer_inner",1,"box","cancer_inner"],[1,"box","cancer_outer"],[1,"box","capricon_outer"],["id","capricon_inner",1,"box","capricon_inner"],["id","leo_inner",1,"box","leo_inner"],[1,"box","leo_outer"],["id","sagittarius_inner",1,"box","sagittarius_inner"],["id","scorpion_inner",1,"box","scorpion_inner"],["id","libra_inner",1,"box","libra_inner"],["id","virgo_inner",1,"box","virgo_inner"],[1,"box","sagittarius_outer"],[1,"box","scorpion_outer"],[1,"box","libra_outer"],[1,"box","virgo_outer"],[1,"container-fluid","p-0"],[1,"row"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","onChange"],[3,"planetpositions"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"textarea",3),s.NdJ("ngModelChange",function(o){return i.planet=o}),s.qZA()()(),s.TgZ(4,"div",1)(5,"div",4)(6,"button",5),s.NdJ("click",function(){return i.addtochart()}),s._uU(7,"+ Add"),s.qZA()()()(),s.TgZ(8,"div",6),s._UZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",7)(15,"div",7),s.TgZ(16,"div",12),s._uU(17),s.qZA(),s.TgZ(18,"div",13),s._uU(19),s.qZA(),s._UZ(20,"div",14),s.TgZ(21,"div",15),s._uU(22),s.qZA(),s._UZ(23,"div",7)(24,"div",16),s.TgZ(25,"div",17),s._uU(26),s.qZA(),s._UZ(27,"div",7)(28,"div",7),s.TgZ(29,"div",18),s._uU(30),s.qZA(),s._UZ(31,"div",19)(32,"div",20),s.TgZ(33,"div",21),s._uU(34),s.qZA(),s._UZ(35,"div",7)(36,"div",7),s.TgZ(37,"div",22),s._uU(38),s.qZA(),s._UZ(39,"div",23)(40,"div",7),s.TgZ(41,"div",24),s._uU(42),s.qZA(),s.TgZ(43,"div",25),s._uU(44),s.qZA(),s.TgZ(45,"div",26),s._uU(46),s.qZA(),s.TgZ(47,"div",27),s._uU(48),s.qZA(),s._UZ(49,"div",7)(50,"div",7)(51,"div",28)(52,"div",29)(53,"div",30)(54,"div",31)(55,"div",7),s.qZA(),s.TgZ(56,"div",32)(57,"div",33)(58,"div",34)(59,"p-dropdown",35),s.NdJ("onChange",function(o){return i.checkAstro(o.value)}),s.qZA(),s._uU(60," \u0bb5\u0bc0\u0b9f\u0bc1 "),s.qZA()()(),s._UZ(61,"app-dashboard",36)),2&e&&(s.xp6(3),s.Q6J("ngModel",i.planet),s.xp6(14),s.hij(" ",i.pisces_inner," "),s.xp6(2),s.hij(" ",i.aries_inner," "),s.xp6(3),s.hij(" ",i.gemini_inner," "),s.xp6(4),s.hij(" ",i.aquarius_inner," "),s.xp6(4),s.hij(" ",i.cancer_inner," "),s.xp6(4),s.hij(" ",i.capricon_inner," "),s.xp6(4),s.hij(" ",i.leo_inner," "),s.xp6(4),s.hij(" ",i.sagittarius_inner," "),s.xp6(2),s.hij(" ",i.scorpion_inner," "),s.xp6(2),s.hij(" ",i.libra_inner," "),s.xp6(2),s.hij(" ",i.virgo_inner," "),s.xp6(11),s.Q6J("options",i.houseorder),s.xp6(2),s.Q6J("planetpositions",i.planetpositions))},directives:[Rr,xs,Pr,Xi,Nr,qI],styles:[".pisces_outer[_ngcontent-%COMP%], .aries_outer[_ngcontent-%COMP%], .tarus_outer[_ngcontent-%COMP%], .gemini_outer[_ngcontent-%COMP%], .pisces_inner[_ngcontent-%COMP%], .aries_inner[_ngcontent-%COMP%], .tarus_inner[_ngcontent-%COMP%], .gemini_inner[_ngcontent-%COMP%], .aquarius_outer[_ngcontent-%COMP%], .aquarius_inner[_ngcontent-%COMP%], .cancer_inner[_ngcontent-%COMP%], .cancer_outer[_ngcontent-%COMP%], .capricon_outer[_ngcontent-%COMP%], .capricon_inner[_ngcontent-%COMP%], .leo_inner[_ngcontent-%COMP%], .leo_outer[_ngcontent-%COMP%], .sagittarius_inner[_ngcontent-%COMP%], .scorpion_inner[_ngcontent-%COMP%], .libra_inner[_ngcontent-%COMP%], .virgo_inner[_ngcontent-%COMP%], .sagittarius_outer[_ngcontent-%COMP%], .scorpion_outer[_ngcontent-%COMP%], .libra_outer[_ngcontent-%COMP%], .virgo_outer[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden;height:80px;border:1px solid #000}.empty_box[_ngcontent-%COMP%]{border:none;background-color:#f5f7fb}.box[_ngcontent-%COMP%]{margin:2px}.aries_outer[_ngcontent-%COMP%], .tarus_outer[_ngcontent-%COMP%], .gemini_outer[_ngcontent-%COMP%], .pisces_outer[_ngcontent-%COMP%], .cancer_outer[_ngcontent-%COMP%], .leo_outer[_ngcontent-%COMP%], .aquarius_outer[_ngcontent-%COMP%], .capricon_outer[_ngcontent-%COMP%], .sagittarius_outer[_ngcontent-%COMP%], .scorpion_outer[_ngcontent-%COMP%], .libra_outer[_ngcontent-%COMP%], .virgo_outer[_ngcontent-%COMP%]{background-color:#ededed}.grid[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:row}.grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:calc(16.66% - 10px)}.chart_input[_ngcontent-%COMP%]{width:100%!important;min-height:100%!important}"]}),n})();F(8775);var lt,GI=F(3942),jA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jc={},$I=$I||{},Ft=jA||self;function kb(){}function Ob(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function W_(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var ZI="closure_uid_"+(1e9*Math.random()>>>0),vN=0;function a(n,t,e){return n.call.apply(n.bind,arguments)}function l(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function u(n,t,e){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function d(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function p(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[r].apply(i,c)}}function _(){this.s=this.s,this.o=this.o}var C={};_.prototype.s=!1,_.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yN(n){return Object.prototype.hasOwnProperty.call(n,ZI)&&n[ZI]||(n[ZI]=++vN)}(this);delete C[n]}},_.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const T=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},A=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function B(n){return Array.prototype.concat.apply([],arguments)}function j(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function X(n){return/^[\s\xa0]*$/.test(n)}var Ge,be=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pe(n,t){return-1!=n.indexOf(t)}function qe(n,t){return n<t?-1:n>t?1:0}e:{var Ae=Ft.navigator;if(Ae){var yt=Ae.userAgent;if(yt){Ge=yt;break e}}Ge=""}function Zt(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function pn(n){const t={};for(const e in n)t[e]=n[e];return t}var Ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zc(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Ds.length;o++)e=Ds[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function zf(n){return zf[" "](n),n}zf[" "]=kb;var WI,n,Pb=Pe(Ge,"Opera"),qc=Pe(Ge,"Trident")||Pe(Ge,"MSIE"),K_=Pe(Ge,"Edge"),qf=K_||qc,Y_=Pe(Ge,"Gecko")&&!(Pe(Ge.toLowerCase(),"webkit")&&!Pe(Ge,"Edge"))&&!(Pe(Ge,"Trident")||Pe(Ge,"MSIE"))&&!Pe(Ge,"Edge"),Nb=Pe(Ge.toLowerCase(),"webkit")&&!Pe(Ge,"Edge");function Q_(){var n=Ft.document;return n?n.documentMode:void 0}e:{var zA="",qA=(n=Ge,Y_?/rv:([^\);]+)(\)|;)/.exec(n):K_?/Edge\/([\d\.]+)/.exec(n):qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nb?/WebKit\/(\S+)/.exec(n):Pb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qA&&(zA=qA?qA[1]:""),qc){var GA=Q_();if(null!=GA&&GA>parseFloat(zA)){WI=String(GA);break e}}WI=zA}var LU={};var BU=Ft.document&&qc&&(Q_()||parseInt(WI,10))||void 0,UU=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",kb,t),Ft.removeEventListener("test",kb,t)}catch(e){}return n}();function As(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Fb(n,t){if(As.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Y_){e:{try{zf(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fb.Z.h.call(this)}}As.prototype.h=function(){this.defaultPrevented=!0},p(Fb,As);var HU={2:"touch",3:"pen",4:"mouse"};Fb.prototype.h=function(){Fb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lb="closure_listenable_"+(1e6*Math.random()|0),jU=0;function zU(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++jU,this.ca=this.fa=!1}function KI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function YI(n){this.src=n,this.g={},this.h=0}function ZA(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=T(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(KI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function WA(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}YI.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=WA(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new zU(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var KA="closure_lm_"+(1e6*Math.random()|0),YA={};function bN(n,t,e,i,r){if(i&&i.once)return EN(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)bN(n,t[o],e,i,r);return null}return e=eM(e),n&&n[Lb]?n.N(t,e,W_(i)?!!i.capture:!!i,r):CN(n,t,e,!1,i,r)}function CN(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=W_(r)?!!r.capture:!!r,h=JA(n);if(h||(n[KA]=h=new YI(n)),(e=h.add(t,e,i,c,o)).proxy)return e;if(i=function qU(){var t=GU;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)UU||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(IN(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function EN(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)EN(n,t[o],e,i,r);return null}return e=eM(e),n&&n[Lb]?n.O(t,e,W_(i)?!!i.capture:!!i,r):CN(n,t,e,!0,i,r)}function TN(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)TN(n,t[o],e,i,r);else i=W_(i)?!!i.capture:!!i,e=eM(e),n&&n[Lb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=WA(o=n.g[t],e,i,r))&&(KI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=JA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=WA(t,e,i,r)),(e=-1<n?t[n]:null)&&QA(e))}function QA(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Lb])ZA(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(IN(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=JA(t))?(ZA(e,n),0==e.h&&(e.src=null,t[KA]=null)):KI(n)}}}function IN(n){return n in YA?YA[n]:YA[n]="on"+n}function GU(n,t){if(n.ca)n=!0;else{t=new Fb(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&QA(n),n=e.call(i,t)}return n}function JA(n){return(n=n[KA])instanceof YI?n:null}var XA="__closure_events_fn_"+(1e9*Math.random()>>>0);function eM(n){return"function"==typeof n?n:(n[XA]||(n[XA]=function(t){return n.handleEvent(t)}),n[XA])}function Fr(){_.call(this),this.i=new YI(this),this.P=this,this.I=null}function is(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new As(t,n);else if(t instanceof As)t.target=t.target||n;else{var r=t;zc(t=new As(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=QI(c,i,!0,t)&&r}if(r=QI(c=t.g=n,i,!0,t)&&r,r=QI(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=QI(c=t.g=e[o],i,!1,t)&&r}function QI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var h=c.listener,f=c.ia||c.src;c.fa&&ZA(n.i,c),r=!1!==h.call(f,i)&&r}}return r&&!i.defaultPrevented}p(Fr,_),Fr.prototype[Lb]=!0,Fr.prototype.removeEventListener=function(n,t,e,i){TN(this,n,t,e,i)},Fr.prototype.M=function(){if(Fr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)KI(e[i]);delete n.g[t],n.h--}}this.I=null},Fr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Fr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var tM=Ft.JSON.stringify;function $U(){var n=xN;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var iM,SN=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WU,n=>n.reset());class WU{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function KU(n){Ft.setTimeout(()=>{throw n},0)}function nM(n,t){iM||function YU(){var n=Ft.Promise.resolve(void 0);iM=function(){n.then(QU)}}(),rM||(iM(),rM=!0),xN.add(n,t)}var rM=!1,xN=new class ZU{constructor(){this.h=this.g=null}add(t,e){const i=SN.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function QU(){for(var n;n=$U();){try{n.h.call(n.g)}catch(e){KU(e)}var t=SN;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}rM=!1}function JI(n,t){Fr.call(this),this.h=n||1,this.g=t||Ft,this.j=u(this.kb,this),this.l=Date.now()}function sM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function oM(n,t,e){if("function"==typeof n)e&&(n=u(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=u(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ft.setTimeout(n,t||0)}function DN(n){n.g=oM(()=>{n.g=null,n.i&&(n.i=!1,DN(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}p(JI,Fr),(lt=JI.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),is(this,"tick"),this.da&&(sM(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){JI.Z.M.call(this),sM(this),delete this.g};class JU extends _{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:DN(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vb(n){_.call(this),this.h=n,this.g={}}p(Vb,_);var AN=[];function MN(n,t,e,i){Array.isArray(e)||(e&&(AN[0]=e.toString()),e=AN);for(var r=0;r<e.length;r++){var o=bN(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function kN(n){Zt(n.g,function(t,e){this.g.hasOwnProperty(e)&&QA(t)},n),n.g={}}function XI(){this.g=!0}function J_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function nH(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return tM(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Vb.prototype.M=function(){Vb.Z.M.call(this),kN(this)},Vb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},XI.prototype.Aa=function(){this.g=!1},XI.prototype.info=function(){};var Gf={},ON=null;function eS(){return ON=ON||new Fr}function RN(n){As.call(this,Gf.Ma,n)}function Bb(n){const t=eS();is(t,new RN(t,n))}function PN(n,t){As.call(this,Gf.STAT_EVENT,n),this.stat=t}function Js(n){const t=eS();is(t,new PN(t,n))}function NN(n,t){As.call(this,Gf.Na,n),this.size=t}function Ub(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},t)}Gf.Ma="serverreachability",p(RN,As),Gf.STAT_EVENT="statevent",p(PN,As),Gf.Na="timingevent",p(NN,As);var tS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},FN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function aM(){}function VN(){}aM.prototype.h=null;var uM,Hb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lM(){As.call(this,"d")}function cM(){As.call(this,"c")}function nS(){}function jb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Vb(this),this.P=iH,this.W=new JI(n=qf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new BN}function BN(){this.i=null,this.g="",this.h=!1}p(lM,As),p(cM,As),p(nS,aM),nS.prototype.g=function(){return new XMLHttpRequest},nS.prototype.i=function(){return{}},uM=new nS;var iH=45e3,dM={},iS={};function hM(n,t,e){n.K=1,n.v=lS(ed(t)),n.s=e,n.U=!0,UN(n,null)}function UN(n,t){n.F=Date.now(),zb(n),n.A=ed(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),KN(e.h,"t",i),n.C=0,e=n.l.H,n.h=new BN,n.g=yF(n.l,e?t:null,!n.s),0<n.O&&(n.L=new JU(u(n.Ia,n,n.g),n.O)),MN(n.V,n.g,"readystatechange",n.gb),t=n.H?pn(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Bb(1),function XU(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),f=0;f<h.length;f++){var y=h[f].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");c=2<=I.length&&"type"==I[1]?c+(E+"=")+y+"&":c+(E+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function HN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jN(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=rH(n,e),r==iS){4==t&&(n.o=4,Js(14),i=!1),J_(n.j,n.m,null,"[Incomplete Response]");break}if(r==dM){n.o=4,Js(15),J_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}J_(n.j,n.m,r,null),pM(n,r)}HN(n)&&r!=iS&&r!=dM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Js(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),TM(t),t.L=!0,Js(11))):(J_(n.j,n.m,e,"[Invalid Chunked Response]"),$f(n),qb(n))}function rH(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?iS:(e=Number(t.substring(e,i)),isNaN(e)?dM:(i+=1)+e>t.length?iS:(t=t.substr(i,e),n.C=i+e,t))}function zb(n){n.Y=Date.now()+n.P,zN(n,n.P)}function zN(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ub(u(n.eb,n),t)}function rS(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function qb(n){0==n.l.G||n.I||fF(n.l,n)}function $f(n){rS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,sM(n.W),kN(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function pM(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||mM(e.i,n)))if(e.I=n.N,!n.J&&mM(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Ub(u(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;fS(e),hS(e)}EM(e),Js(18)}if(1>=JN(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else Kf(e,11)}else if((n.J||e.g==n)&&fS(e),!X(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const E=y[3];null!=E&&(e.ma=E,e.h.info("VER="+e.ma));const I=y[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var o=i.i;!o.g&&(Pe(V,"spdy")||Pe(V,"quic")||Pe(V,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(_M(o,o.h),o.h=null))}if(i.D){const Q=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(i.sa=Q,li(i.F,i.D,Q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=_F(i,i.H?i.la:null,i.W),c.J){XN(i.i,c);var h=c,f=i.K;f&&h.setTimeout(f),h.B&&(rS(h),zb(h)),i.g=c}else hF(i);0<e.l.length&&pS(e)}else"stop"!=y[0]&&"close"!=y[0]||Kf(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Kf(e,7):bM(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Bb(4)}catch(y){}}function fM(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Ob(n)||"string"==typeof n)A(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Ob(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function sH(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ob(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function X_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof X_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function gM(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Zf(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Zf(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Zf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(lt=jb.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const t=this.L;t&&3==td(n)?t.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const E=td(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>E)&&(3!=E||qf||this.g&&(this.h.h||this.g.ga()||aF(this.g)))){this.I||4!=E||7==t||Bb(8==t||0>=I?3:2),rS(this);var e=this.g.ba();this.N=e;t:if(HN(this)){var i=aF(this.g);n="";var r=i.length,o=4==td(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$f(this),qb(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function eH(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,E,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Js(12),$f(this),qb(this);break e}J_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pM(this,e)}this.U?(jN(this,E,c),qf&&this.i&&3==E&&(MN(this.V,this.W,"tick",this.fb),this.W.start())):(J_(this.j,this.m,c,null),pM(this,c)),4==E&&$f(this),this.i&&!this.I&&(4==E?fF(this.l,this):(this.i=!1,zb(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Js(12)):(this.o=0,Js(13)),$f(this),qb(this)}}}catch(E){}},lt.fb=function(){if(this.g){var n=td(this.g),t=this.g.ga();this.C<t.length&&(rS(this),jN(this,n,t),this.i&&4!=n&&zb(this))}},lt.cancel=function(){this.I=!0,$f(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tH(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Bb(3),Js(17)),$f(this),this.o=2,qb(this)):zN(this,this.Y-n)},(lt=X_.prototype).R=function(){gM(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},lt.T=function(){return gM(this),this.g.concat()},lt.get=function(n,t){return Zf(this.h,n)?this.h[n]:t},lt.set=function(n,t){Zf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},lt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var qN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wf(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wf){this.g=void 0!==t?t:n.g,sS(this,n.j),this.s=n.s,oS(this,n.i),aS(this,n.m),this.l=n.l,t=n.h;var e=new Zb;e.i=t.i,t.g&&(e.g=new X_(t.g),e.h=t.h),GN(this,e),this.o=n.o}else n&&(e=String(n).match(qN))?(this.g=!!t,sS(this,e[1]||"",!0),this.s=Gb(e[2]||""),oS(this,e[3]||"",!0),aS(this,e[4]),this.l=Gb(e[5]||"",!0),GN(this,e[6]||"",!0),this.o=Gb(e[7]||"")):(this.g=!!t,this.h=new Zb(null,this.g))}function ed(n){return new Wf(n)}function sS(n,t,e){n.j=e?Gb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function oS(n,t,e){n.i=e?Gb(t,!0):t}function aS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GN(n,t,e){t instanceof Zb?(n.h=t,function fH(n,t){t&&!n.j&&(Hh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(ZN(this,i),KN(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=$b(t,hH)),n.h=new Zb(t,n.g))}function li(n,t,e){n.h.set(t,e)}function lS(n){return li(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $b(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,cH),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wf.prototype.toString=function(){var n=[],t=this.j;t&&n.push($b(t,$N,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push($b(t,$N,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push($b(e,"/"==e.charAt(0)?dH:uH,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",$b(e,pH)),n.join("")};var $N=/[#\/\?@]/g,uH=/[#\?:]/g,dH=/[#\?]/g,hH=/[#\?@]/g,pH=/#/g;function Zb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Hh(n){n.g||(n.g=new X_,n.h=0,n.i&&function oH(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ZN(n,t){Hh(n),t=ey(n,t),Zf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Zf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&gM(n)))}function WN(n,t){return Hh(n),t=ey(n,t),Zf(n.g.h,t)}function KN(n,t,e){ZN(n,t),0<e.length&&(n.i=null,n.g.set(ey(n,t),j(e)),n.h+=e.length)}function ey(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function YN(n){this.l=n||mH,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Zb.prototype).add=function(n,t){Hh(this),this.i=null,n=ey(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){Hh(this),this.g.forEach(function(e,i){A(e,function(r){n.call(t,r,i,this)},this)},this)},lt.T=function(){Hh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},lt.R=function(n){Hh(this);var t=[];if("string"==typeof n)WN(this,n)&&(t=B(t,this.g.get(ey(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=B(t,n[e])}return t},lt.set=function(n,t){return Hh(this),this.i=null,WN(this,n=ey(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var mH=10;function QN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function JN(n){return n.h?1:n.g?n.g.size:0}function mM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function _M(n,t){n.g?n.g.add(t):n.h=t}function XN(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function eF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return j(n.i)}function yM(){}function _H(){this.g=new yM}function yH(n,t,e){const i=e||"";try{fM(n,function(r,o){let c=r;W_(r)&&(c=tM(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function cS(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function Wb(n){this.l=n.$b||null,this.j=n.ib||!1}function uS(n,t){Fr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=vM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YN.prototype.cancel=function(){if(this.i=eF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yM.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},yM.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},p(Wb,aM),Wb.prototype.g=function(){return new uS(this.l,this.j)},Wb.prototype.i=function(n){return function(){return n}}({}),p(uS,Fr);var vM=0;function tF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Kb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yb(n)}function Yb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=uS.prototype).open=function(n,t){if(this.readyState!=vM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Yb(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ft).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kb(this)),this.readyState=vM},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yb(this)),this.g&&(this.readyState=3,Yb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Kb(this):Yb(this),3==this.readyState&&tF(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,Kb(this))},lt.Ta=function(n){this.g&&(this.response=n,Kb(this))},lt.ha=function(){this.g&&Kb(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(uS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wH=Ft.JSON.parse;function er(n){Fr.call(this),this.headers=new X_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nF,this.K=this.L=!1}p(er,Fr);var nF="",bH=/^https?$/i,CH=["POST","PUT"];function TH(n){return"content-type"==n.toLowerCase()}function iF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,rF(n),dS(n)}function rF(n){n.D||(n.D=!0,is(n,"complete"),is(n,"error"))}function sF(n){if(n.h&&void 0!==$I&&(!n.C[1]||4!=td(n)||2!=n.ba()))if(n.v&&4==td(n))oM(n.Fa,0,n);else if(is(n,"readystatechange"),4==td(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(qN)[1]||null;if(!r&&Ft.self&&Ft.self.location){var o=Ft.self.location.protocol;r=o.substr(0,o.length-1)}i=!bH.test(r?r.toLowerCase():"")}e=i}if(e)is(n,"complete"),is(n,"success");else{n.m=6;try{var c=2<td(n)?n.g.statusText:""}catch(f){c=""}n.j=c+" ["+n.ba()+"]",rF(n)}}finally{dS(n)}}}function dS(n,t){if(n.g){oF(n);const e=n.g,i=n.C[0]?kb:null;n.g=null,n.C=null,t||is(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function oF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function td(n){return n.g?n.g.readyState:0}function aF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case nF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function wM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function IH(n){let t="";return Zt(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):li(n,t,e))}function Qb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function lF(n){this.za=0,this.l=[],this.h=new XI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qb("baseRetryDelayMs",5e3,n),this.$a=Qb("retryDelaySeedMs",1e4,n),this.Ya=Qb("forwardChannelMaxRetries",2,n),this.ra=Qb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new YN(n&&n.concurrentRequestLimit),this.Ca=new _H,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function bM(n){if(cF(n),3==n.G){var t=n.V++,e=ed(n.F);li(e,"SID",n.J),li(e,"RID",t),li(e,"TYPE","terminate"),Jb(n,e),(t=new jb(n,n.h,t,void 0)).K=2,t.v=lS(ed(e)),e=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(e=Ft.navigator.sendBeacon(t.v.toString(),"")),!e&&Ft.Image&&((new Image).src=t.v,e=!0),e||(t.g=yF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zb(t)}mF(n)}function hS(n){n.g&&(TM(n),n.g.cancel(),n.g=null)}function cF(n){hS(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),fS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function CM(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&pS(n)}function pS(n){QN(n.i)||n.m||(n.m=!0,nM(n.Ha,n),n.C=0)}function uF(n,t){var e;e=t?t.m:n.V++;const i=ed(n.F);li(i,"SID",n.J),li(i,"RID",e),li(i,"AID",n.U),Jb(n,i),n.o&&n.s&&wM(i,n.o,n.s),e=new jb(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=dF(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),_M(n.i,e),hM(e,i,t)}function Jb(n,t){n.j&&fM({},function(e,i){li(t,i,e)})}function dF(n,t,e){e=Math.min(n.l.length,e);var i=n.j?u(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let f=0;f<e;f++){let y=r[f].h;const E=r[f].g;if(y-=o,0>y)o=Math.max(0,r[f].h-100),h=!1;else try{yH(E,c,"req"+y+"_")}catch(I){i&&i(E)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function hF(n){n.g||n.u||(n.Y=1,nM(n.Ga,n),n.A=0)}function EM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ub(u(n.Ga,n),gF(n,n.A)),n.A++,0))}function TM(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function pF(n){n.g=new jb(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=ed(n.oa);li(t,"RID","rpc"),li(t,"SID",n.J),li(t,"CI",n.N?"0":"1"),li(t,"AID",n.U),Jb(n,t),li(t,"TYPE","xmlhttp"),n.o&&n.s&&wM(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=lS(ed(t)),e.s=null,e.U=!0,UN(e,n)}function fS(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function fF(n,t){var e=null;if(n.g==t){fS(n),TM(n),n.g=null;var i=2}else{if(!mM(n.i,t))return;e=t.D,XN(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;is(i=eS(),new NN(i,e,t,r)),pS(n)}else hF(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function SH(n,t){return!(JN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ub(u(n.Ha,n,t),gF(n,n.C)),n.C++,0)))}(n,t)||2==i&&EM(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Kf(n,5);break;case 4:Kf(n,10);break;case 3:Kf(n,6);break;default:Kf(n,2)}}function gF(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Kf(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=u(n.jb,n);e||(e=new Wf("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||sS(e,"https"),lS(e)),function vH(n,t){const e=new XI;if(Ft.Image){const i=new Image;i.onload=d(cS,e,i,"TestLoadImage: loaded",!0,t),i.onerror=d(cS,e,i,"TestLoadImage: error",!1,t),i.onabort=d(cS,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=d(cS,e,i,"TestLoadImage: timeout",!1,t),Ft.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Js(2);n.G=0,n.j&&n.j.va(t),mF(n),cF(n)}function mF(n){n.G=0,n.I=-1,n.j&&((0!=eF(n.i).length||0!=n.l.length)&&(n.i.i.length=0,j(n.l),n.l.length=0),n.j.ua())}function _F(n,t,e){let i=function aH(n){return n instanceof Wf?ed(n):new Wf(n,void 0)}(e);if(""!=i.i)t&&oS(i,t+"."+i.i),aS(i,i.m);else{const r=Ft.location;i=function lH(n,t,e,i){var r=new Wf(null,void 0);return n&&sS(r,n),t&&oS(r,t),e&&aS(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Zt(n.aa,function(r,o){li(i,o,r)}),e=n.sa,(t=n.D)&&e&&li(i,t,e),li(i,"VER",n.ma),Jb(n,i),i}function yF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new er(e&&n.Ba&&!n.qa?new Wb({ib:!0}):n.qa)).L=n.H,t}function vF(){}function gS(){if(qc&&!(10<=Number(BU)))throw Error("Environmental error: no available transport.")}function ha(n,t){Fr.call(this),this.g=new lF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!X(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!X(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ty(this)}function wF(n){lM.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function bF(){cM.call(this),this.status=1}function ty(n){this.g=n}(lt=er.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uM.g(),this.C=function LN(n){return n.h||(n.h=n.i())}(this.u?this.u:uM),this.g.onreadystatechange=u(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void iF(this,o)}n=e||"";const r=new X_(this.headers);i&&fM(i,function(o,c){r.set(c,o)}),i=function O(n){e:{var t=TH;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ft.FormData&&n instanceof Ft.FormData,!(0<=T(CH,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oF(this),0<this.B&&((this.K=function EH(n){return qc&&function VU(){return function Rb(n){var t=LU;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=be(String(WI)).split("."),e=be("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=qe(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||qe(0==r[2].length,0==o[2].length)||qe(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=u(this.pa,this)):this.A=oM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){iF(this,o)}},lt.pa=function(){void 0!==$I&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,is(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,is(this,"complete"),is(this,"abort"),dS(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dS(this,!0)),er.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?sF(this):this.cb())},lt.cb=function(){sF(this)},lt.ba=function(){try{return 2<td(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),wH(t)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=lF.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new jb(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=pn(o),zc(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=dF(this,r,t),li(e=ed(this.F),"RID",n),li(e,"CVER",22),this.D&&li(e,"X-HTTP-Session-Id",this.D),Jb(this,e),this.o&&o&&wM(e,this.o,o),_M(this.i,r),this.Ra&&li(e,"TYPE","init"),this.ja?(li(e,"$req",t),li(e,"SID","null"),r.$=!0,hM(r,e,null)):hM(r,e,t),this.G=2}}else 3==this.G&&(n?uF(this,n):0==this.l.length||QN(this.i)||uF(this))},lt.Ga=function(){if(this.u=null,pF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ub(u(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Js(10),hS(this),pF(this))},lt.ab=function(){null!=this.v&&(this.v=null,hS(this),EM(this),Js(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Js(2)):(this.h.info("Failed to ping google.com"),Js(1))},(lt=vF.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},gS.prototype.g=function(n,t){return new ha(n,t)},p(ha,Fr),ha.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),nM(u(n.hb,n,t))),Js(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=_F(n,null,n.W),pS(n)},ha.prototype.close=function(){bM(this.g)},ha.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,CM(this.g,t)}else this.v?((t={}).__data__=tM(n),CM(this.g,t)):CM(this.g,n)},ha.prototype.M=function(){this.g.j=null,delete this.j,bM(this.g),delete this.g,ha.Z.M.call(this)},p(wF,lM),p(bF,cM),p(ty,vF),ty.prototype.xa=function(){is(this.g,"a")},ty.prototype.wa=function(n){is(this.g,new wF(n))},ty.prototype.va=function(n){is(this.g,new bF(n))},ty.prototype.ua=function(){is(this.g,"b")},gS.prototype.createWebChannel=gS.prototype.g,ha.prototype.send=ha.prototype.u,ha.prototype.open=ha.prototype.m,ha.prototype.close=ha.prototype.close,tS.NO_ERROR=0,tS.TIMEOUT=8,tS.HTTP_ERROR=6,FN.COMPLETE="complete",VN.EventType=Hb,Hb.OPEN="a",Hb.CLOSE="b",Hb.ERROR="c",Hb.MESSAGE="d",Fr.prototype.listen=Fr.prototype.N,er.prototype.listenOnce=er.prototype.O,er.prototype.getLastError=er.prototype.La,er.prototype.getLastErrorCode=er.prototype.Da,er.prototype.getStatus=er.prototype.ba,er.prototype.getResponseJson=er.prototype.Qa,er.prototype.getResponseText=er.prototype.ga,er.prototype.send=er.prototype.ea;var xH=jc.createWebChannelTransport=function(){return new gS},DH=jc.getStatEventTarget=function(){return eS()},IM=jc.ErrorCode=tS,AH=jc.EventType=FN,MH=jc.Event=Gf,CF=jc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kH=jc.FetchXmlHttpFactory=Wb,mS=jc.WebChannel=VN,OH=jc.XhrIo=er;const EF="@firebase/firestore";class rs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");let ny="9.8.0";const jh=new Ws.Yd("@firebase/firestore");function SM(){return jh.logLevel}function Be(n,...t){if(jh.logLevel<=Ws.in.DEBUG){const e=t.map(xM);jh.debug(`Firestore (${ny}): ${n}`,...e)}}function tr(n,...t){if(jh.logLevel<=Ws.in.ERROR){const e=t.map(xM);jh.error(`Firestore (${ny}): ${n}`,...e)}}function Xb(n,...t){if(jh.logLevel<=Ws.in.WARN){const e=t.map(xM);jh.warn(`Firestore (${ny}): ${n}`,...e)}}function xM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${ny}) INTERNAL ASSERTION FAILED: `+n;throw tr(t),new Error(t)}function Pt(n,t){n||ut()}function Je(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class TF{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(rs.UNAUTHENTICATED))}shutdown(){}}class FH{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class LH{constructor(t){this.t=t,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;t.enqueueRetryable((0,Te.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},f=y=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new TF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pt(null===t||"string"==typeof t),new rs(t)}}class VH{constructor(t,e,i){this.type="FirstParty",this.user=rs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class BH{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new VH(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UH{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Pt("string"==typeof e.token),this.p=e.token,new IF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class pa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function HH(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}pa.A=-1;class SF{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=HH(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function qt(n,t){return n<t?-1:n>t?1:0}function iy(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function xF(n){return n+"\0"}class Ui{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ui.fromMillis(Date.now())}static fromDate(t){return Ui.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ui(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Ui(0,0))}static max(){return new Dt(new Ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function DF(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function AF(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class eC{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===eC.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof eC?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ln extends eC{construct(t,e,i){return new ln(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ln(e)}static emptyPath(){return new ln([])}}const jH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends eC{construct(t,e,i){return new gr(t,e,i)}static isValidIdentifier(t){return jH.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ne(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ne(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Ne(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Ne(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gr(e)}static emptyPath(){return new gr([])}}class ry{constructor(t){this.fields=t,t.sort(gr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return iy(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class mr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new mr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new mr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const qH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zh(n){if(Pt(!!n),"string"==typeof n){let t=0;const e=qH.exec(n);if(Pt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ii(n.seconds),nanos:Ii(n.nanos)}}function Ii(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qf(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function DM(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function MF(n){const t=n.mapValue.fields.__previous_value__;return DM(t)?MF(t):t}function tC(n){const t=zh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ui(t.seconds,t.nanos)}class GH{constructor(t,e,i,r,o,c,h,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class nd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nd&&t.projectId===this.projectId&&t.database===this.database}}function nC(n){return null==n}function iC(n){return 0===n&&1/n==-1/0}function kF(n){return"number"==typeof n&&Number.isInteger(n)&&!iC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(t){this.path=t}static fromPath(t){return new We(ln.fromString(t))}static fromName(t){return new We(ln.fromString(t).popFirst(5))}static empty(){return new We(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ln.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ln.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new We(new ln(t.slice()))}}const qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_S={nullValue:"NULL_VALUE"};function Jf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?DM(n)?4:NF(n)?9007199254740991:10:ut()}function Gc(n,t){if(n===t)return!0;const e=Jf(n);if(e!==Jf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tC(n).isEqual(tC(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=zh(i.timestampValue),c=zh(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Qf(n.bytesValue).isEqual(Qf(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ii(i.geoPointValue.latitude)===Ii(r.geoPointValue.latitude)&&Ii(i.geoPointValue.longitude)===Ii(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ii(i.integerValue)===Ii(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Ii(i.doubleValue),c=Ii(r.doubleValue);return o===c?iC(o)===iC(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return iy(n.arrayValue.values||[],t.arrayValue.values||[],Gc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(DF(o)!==DF(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Gc(o[h],c[h])))return!1;return!0}(n,t);default:return ut()}var r}function rC(n,t){return void 0!==(n.values||[]).find(e=>Gc(e,t))}function Gh(n,t){if(n===t)return 0;const e=Jf(n),i=Jf(t);if(e!==i)return qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=Ii(r.integerValue||r.doubleValue),h=Ii(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return OF(n.timestampValue,t.timestampValue);case 4:return OF(tC(n),tC(t));case 5:return qt(n.stringValue,t.stringValue);case 6:return function(r,o){const c=Qf(r),h=Qf(o);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let f=0;f<c.length&&f<h.length;f++){const y=qt(c[f],h[f]);if(0!==y)return y}return qt(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=qt(Ii(r.latitude),Ii(o.latitude));return 0!==c?c:qt(Ii(r.longitude),Ii(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let f=0;f<c.length&&f<h.length;++f){const y=Gh(c[f],h[f]);if(y)return y}return qt(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===qh.mapValue&&o===qh.mapValue)return 0;if(r===qh.mapValue)return 1;if(o===qh.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),f=o.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const I=qt(h[E],y[E]);if(0!==I)return I;const M=Gh(c[h[E]],f[y[E]]);if(0!==M)return M}return qt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw ut()}}function OF(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return qt(n,t);const e=zh(n),i=zh(t),r=qt(e.seconds,i.seconds);return 0!==r?r:qt(e.nanos,i.nanos)}function sy(n){return AM(n)}function AM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=zh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qf(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=AM(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${AM(i.fields[h])}`;return o+"}"}(n.mapValue):ut();var t}function Xf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function MM(n){return!!n&&"integerValue"in n}function sC(n){return!!n&&"arrayValue"in n}function RF(n){return!!n&&"nullValue"in n}function PF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yS(n){return!!n&&"mapValue"in n}function oC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Yf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=oC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=oC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function NF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function $H(n){return"nullValue"in n?_S:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xf(nd.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function ZH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xf(nd.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?qh:ut()}function FF(n,t){const e=Gh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function LF(n,t){const e=Gh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ms{constructor(t){this.value=t}static empty(){return new Ms({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=oC(e)}setAll(t){let e=gr.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=oC(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());yS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Yf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ms(oC(this.value))}}function VF(n){const t=[];return Yf(n.fields,(e,i)=>{const r=new gr([e]);if(yS(i)){const o=VF(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new ry(t)}class Kn{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new Kn(t,0,Dt.min(),Dt.min(),Ms.empty(),0)}static newFoundDocument(t,e,i){return new Kn(t,1,e,Dt.min(),i,0)}static newNoDocument(t,e){return new Kn(t,2,e,Dt.min(),Ms.empty(),0)}static newUnknownDocument(t,e){return new Kn(t,3,e,Dt.min(),Ms.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vS{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function kM(n){return n.fields.find(t=>2===t.kind)}function eg(n){return n.fields.filter(t=>2!==t.kind)}vS.UNKNOWN_ID=-1;class wS{constructor(t,e){this.fieldPath=t,this.kind=e}}class aC{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new aC(0,kl.min())}}function BF(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new Ui(e+1,0):new Ui(e,i));return new kl(r,We.empty(),t)}function WH(n){return new kl(n.readTime,n.key,-1)}class kl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kl(Dt.min(),We.empty(),-1)}static max(){return new kl(Dt.max(),We.empty(),-1)}}function UF(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=We.comparator(n.documentKey,t.documentKey),0!==e?e:qt(n.largestBatchId,t.largestBatchId))}class Hi{constructor(t,e){this.comparator=t,this.root=e||ss.EMPTY}insert(t,e){return new Hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(t){return new Hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ss.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bS(this.root,t,this.comparator,!1)}getReverseIterator(){return new bS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bS(this.root,t,this.comparator,!0)}}class bS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ss{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:ss.RED,this.left=null!=r?r:ss.EMPTY,this.right=null!=o?o:ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ss(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ss.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ss(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(t){this.comparator=t,this.data=new Hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new HF(this.data.getIterator())}getIteratorFrom(t){return new HF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Vn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Vn(this.comparator);return e.data=t,e}}class HF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function oy(n){return n.hasNext()?n.getNext():void 0}class KH{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.P=null}}function jF(n,t=null,e=[],i=[],r=null,o=null,c=null){return new KH(n,t,e,i,r,o,c)}function tg(n){const t=Je(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+sy(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),nC(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>sy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>sy(i)).join(",")),t.P=e}return t.P}function lC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!s6(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Gc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ZF(n.startAt,t.startAt)&&ZF(n.endAt,t.endAt)}function CS(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ES(n,t){return n.filters.filter(e=>e instanceof os&&e.field.isEqual(t))}function zF(n,t,e){let i=_S,r=!0;for(const o of ES(n,t)){let c=_S,h=!0;switch(o.op){case"<":case"<=":c=$H(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=_S}FF({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];FF({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function qF(n,t,e){let i=qh,r=!0;for(const o of ES(n,t)){let c=qh,h=!0;switch(o.op){case">=":case">":c=ZH(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=qh}LF({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];LF({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class os extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new QH(t,e,i):"array-contains"===e?new e6(t,i):"in"===e?new t6(t,i):"not-in"===e?new n6(t,i):"array-contains-any"===e?new r6(t,i):new os(t,e,i)}static V(t,e,i){return"in"===e?new JH(t,i):new XH(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Gh(e,this.value)):null!==e&&Jf(this.value)===Jf(e)&&this.v(Gh(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QH extends os{constructor(t,e,i){super(t,e,i),this.key=We.fromName(i.referenceValue)}matches(t){const e=We.comparator(t.key,this.key);return this.v(e)}}class JH extends os{constructor(t,e){super(t,"in",e),this.keys=GF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class XH extends os{constructor(t,e){super(t,"not-in",e),this.keys=GF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function GF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>We.fromName(i.referenceValue))}class e6 extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sC(e)&&rC(e.arrayValue,this.value)}}class t6 extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&rC(this.value.arrayValue,e)}}class n6 extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(rC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!rC(this.value.arrayValue,e)}}class r6 extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>rC(this.value.arrayValue,i))}}class $h{constructor(t,e){this.position=t,this.inclusive=e}}class ay{constructor(t,e="asc"){this.field=t,this.dir=e}}function s6(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function $F(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?We.comparator(We.fromName(c.referenceValue),e.key):Gh(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function ZF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gc(n.position[e],t.position[e]))return!1;return!0}class id{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.D=null,this.C=null}}function WF(n,t,e,i,r,o,c,h){return new id(n,t,e,i,r,o,c,h)}function ly(n){return new id(n)}function OM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function RM(n){for(const t of n.filters)if(t.S())return t.field;return null}function PM(n){return null!==n.collectionGroup}function cy(n){const t=Je(n);if(null===t.D){t.D=[];const e=RM(t),i=OM(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new ay(e)),t.D.push(new ay(gr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ay(gr.keyField(),o))}}}return t.D}function ja(n){const t=Je(n);if(!t.C)if("F"===t.limitType)t.C=jF(t.path,t.collectionGroup,cy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of cy(t))e.push(new ay(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;t.C=jF(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function KF(n,t,e){return new id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cC(n,t){return lC(ja(n),ja(t))&&n.limitType===t.limitType}function YF(n){return`${tg(ja(n))}|lt:${n.limitType}`}function NM(n){return`Query(target=${function YH(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${sy(i.value)}`;var i}).join(", ")}]`),nC(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>sy(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>sy(e)).join(",")),`Target(${t})`}(ja(n))}; limitType=${n.limitType})`}function FM(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):We.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const h=$F(r,o,c);return r.inclusive?h<=0:h<0}(e.startAt,cy(e),i)||e.endAt&&!function(r,o,c){const h=$F(r,o,c);return r.inclusive?h>=0:h>0}(e.endAt,cy(e),i)));var e,i}function QF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JF(n){return(t,e)=>{let i=!1;for(const r of cy(n)){const o=a6(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function a6(n,t,e){const i=n.field.isKeyField()?We.comparator(t.key,e.key):function(r,o,c){const h=o.data.field(r),f=c.data.field(r);return null!==h&&null!==f?Gh(h,f):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function XF(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iC(t)?"-0":t}}function eL(n){return{integerValue:""+n}}function tL(n,t){return kF(t)?eL(t):XF(n,t)}class TS{constructor(){this._=void 0}}function l6(n,t,e){return n instanceof uy?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof ng?iL(n,t):n instanceof ig?rL(n,t):function(i,r){const o=nL(i,r),c=sL(o)+sL(i.k);return MM(o)&&MM(i.k)?eL(c):XF(i.M,c)}(n,t)}function c6(n,t,e){return n instanceof ng?iL(n,t):n instanceof ig?rL(n,t):e}function nL(n,t){return n instanceof dy?MM(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class uy extends TS{}class ng extends TS{constructor(t){super(),this.elements=t}}function iL(n,t){const e=oL(t);for(const i of n.elements)e.some(r=>Gc(r,i))||e.push(i);return{arrayValue:{values:e}}}class ig extends TS{constructor(t){super(),this.elements=t}}function rL(n,t){let e=oL(t);for(const i of n.elements)e=e.filter(r=>!Gc(r,i));return{arrayValue:{values:e}}}class dy extends TS{constructor(t,e){super(),this.M=t,this.k=e}}function sL(n){return Ii(n.integerValue||n.doubleValue)}function oL(n){return sC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uC{constructor(t,e){this.field=t,this.transform=e}}class d6{constructor(t,e){this.version=t,this.transformResults=e}}class nr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new nr}static exists(t){return new nr(void 0,t)}static updateTime(t){return new nr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function IS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class SS{}function h6(n,t,e){n instanceof dC?function(i,r,o){const c=i.value.clone(),h=uL(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof rg?function(i,r,o){if(!IS(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=uL(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(cL(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function LM(n,t,e){var r;n instanceof dC?function(i,r,o){if(!IS(i.precondition,r))return;const c=i.value.clone(),h=dL(i.fieldTransforms,o,r);c.setAll(h),r.convertToFoundDocument(lL(r),c).setHasLocalMutations()}(n,t,e):n instanceof rg?function(i,r,o){if(!IS(i.precondition,r))return;const c=dL(i.fieldTransforms,o,r),h=r.data;h.setAll(cL(i)),h.setAll(c),r.convertToFoundDocument(lL(r),h).setHasLocalMutations()}(n,t,e):IS(n.precondition,r=t)&&r.convertToNoDocument(Dt.min())}function p6(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=nL(i.transform,r||null);null!=o&&(null==e&&(e=Ms.empty()),e.set(i.field,o))}return e||null}function aL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&iy(e,i,(r,o)=>function u6(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof ng&&i instanceof ng||e instanceof ig&&i instanceof ig?iy(e.elements,i.elements,Gc):e instanceof dy&&i instanceof dy?Gc(e.k,i.k):e instanceof uy&&i instanceof uy);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function lL(n){return n.isFoundDocument()?n.version:Dt.min()}class dC extends SS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class rg extends SS{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function cL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function uL(n,t,e){const i=new Map;Pt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,c6(c,h,e[r]))}return i}function dL(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,l6(o,c,t))}return i}class hC extends SS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class VM extends SS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class f6{constructor(t){this.count=t}}var ir,cn;function hL(n){switch(n){default:return ut();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function pL(n){if(void 0===n)return tr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ir.OK:return fe.OK;case ir.CANCELLED:return fe.CANCELLED;case ir.UNKNOWN:return fe.UNKNOWN;case ir.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ir.INTERNAL:return fe.INTERNAL;case ir.UNAVAILABLE:return fe.UNAVAILABLE;case ir.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ir.NOT_FOUND:return fe.NOT_FOUND;case ir.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ir.ABORTED:return fe.ABORTED;case ir.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ir.DATA_LOSS:return fe.DATA_LOSS;default:return ut()}}(cn=ir||(ir={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class Zh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Yf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return AF(this.inner)}size(){return this.innerSize}}const g6=new Hi(We.comparator);function za(){return g6}const m6=new Hi(We.comparator);function BM(...n){let t=m6;for(const e of n)t=t.insert(e.key,e);return t}function pC(){return new Zh(n=>n.toString(),(n,t)=>n.isEqual(t))}const _6=new Hi(We.comparator),y6=new Vn(We.comparator);function bn(...n){let t=y6;for(const e of n)t=t.add(e);return t}const v6=new Vn(qt);function xS(){return v6}class fC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,gC.createSynthesizedTargetChangeForCurrentChange(t,e)),new fC(Dt.min(),i,xS(),za(),bn())}}class gC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new gC(mr.EMPTY_BYTE_STRING,e,bn(),bn(),bn())}}class DS{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class fL{constructor(t,e){this.targetId=t,this.$=e}}class gL{constructor(t,e,i=mr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class mL{constructor(){this.B=0,this.L=yL(),this.U=mr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=bn(),e=bn(),i=bn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new gC(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=yL()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class w6{constructor(t){this.nt=t,this.st=new Map,this.it=za(),this.rt=_L(),this.ot=new Vn(qt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(CS(o))if(0===i){const c=new We(o.path);this.ct(e,c,Kn.newNoDocument(c,Dt.min()))}else Pt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,c)=>{const h=this.wt(c);if(h){if(o.current&&CS(h.target)){const f=new We(h.target.path);null!==this.it.get(f)||this.It(c,f)||this.ct(c,f,Kn.newNoDocument(f,t))}o.j&&(e.set(c,o.H()),o.J())}});let i=bn();this.rt.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const y=this.wt(f);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,c)=>c.setReadTime(t));const r=new fC(t,e,this.ot,this.it,i);return this.it=za(),this.rt=_L(),this.ot=new Vn(qt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new mL,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Vn(qt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Be("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new mL),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function _L(){return new Hi(We.comparator)}function yL(){return new Hi(We.comparator)}const b6={asc:"ASCENDING",desc:"DESCENDING"},C6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E6{constructor(t,e){this.databaseId=t,this.N=e}}function mC(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vL(n,t){return n.N?t.toBase64():t.toUint8Array()}function T6(n,t){return mC(n,t.toTimestamp())}function Vr(n){return Pt(!!n),Dt.fromTimestamp(function(t){const e=zh(t);return new Ui(e.seconds,e.nanos)}(n))}function UM(n,t){return(e=n,new ln(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function wL(n){const t=ln.fromString(n);return Pt(AL(t)),t}function _C(n,t){return UM(n.databaseId,t.path)}function $c(n,t){const e=wL(t);if(e.get(1)!==n.databaseId.projectId)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new We(CL(e))}function HM(n,t){return UM(n.databaseId,t)}function bL(n){const t=wL(n);return 4===t.length?ln.emptyPath():CL(t)}function yC(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CL(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function EL(n,t,e){return{name:_C(n,t),fields:e.value.mapValue.fields}}function TL(n,t,e){const i=$c(n,t.name),r=Vr(t.updateTime),o=new Ms({mapValue:{fields:t.fields}}),c=Kn.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function vC(n,t){let e;if(t instanceof dC)e={update:EL(n,t.key,t.value)};else if(t instanceof hC)e={delete:_C(n,t.key)};else if(t instanceof rg)e={update:EL(n,t.key,t.data),updateMask:R6(t.fieldMask)};else{if(!(t instanceof VM))return ut();e={verify:_C(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof uy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ng)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ig)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dy)return{fieldPath:o.field.canonicalString(),increment:c.k};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:T6(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function jM(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?nr.updateTime(Vr(r.updateTime)):void 0!==r.exists?nr.exists(r.exists):nr.none():nr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Pt("REQUEST_TIME"===c.setToServerValue),h=new uy):"appendMissingElements"in c?h=new ng(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new ig(c.removeAllFromArray.values||[]):"increment"in c?h=new dy(o,c.increment):ut();const f=gr.fromServerFormat(c.fieldPath);return new uC(f,h)}(n,r)):[];var r;if(t.update){const r=$c(n,t.update.name),o=new Ms({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new ry((t.updateMask.fieldPaths||[]).map(y=>gr.fromServerFormat(y)));return new rg(r,o,c,e,i)}return new dC(r,o,e,i)}if(t.delete){const r=$c(n,t.delete);return new hC(r,e)}if(t.verify){const r=$c(n,t.verify);return new VM(r,e)}return ut()}function IL(n,t){return{documents:[HM(n,t.path)]}}function SL(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=HM(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=HM(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(E=>function(I){if("=="===I.op){if(PF(I.value))return{unaryFilter:{field:hy(I.field),op:"IS_NAN"}};if(RF(I.value))return{unaryFilter:{field:hy(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(PF(I.value))return{unaryFilter:{field:hy(I.field),op:"IS_NOT_NAN"}};if(RF(I.value))return{unaryFilter:{field:hy(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hy(I.field),op:M6(I.op),value:I.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(y=>{return{field:hy((E=y).field),direction:A6(E.dir)};var E})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(y=t.limit,n.N||nC(y)?y:{value:y});var y,h,f;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function xL(n){let t=bL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Pt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let o=[];e.where&&(o=DL(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(E=>{return new ay(py((I=E).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(E){let I;return I="object"==typeof E?E.value:E,nC(I)?null:I}(e.limit));let f=null;var E;e.startAt&&(f=new $h((E=e.startAt).values||[],!!E.before));let y=null;return e.endAt&&(y=function(E){return new $h(E.values||[],!E.before)}(e.endAt)),WF(t,r,c,o,h,"F",f,y)}function DL(n){return n?void 0!==n.unaryFilter?[O6(n)]:void 0!==n.fieldFilter?[k6(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>DL(t)).reduce((t,e)=>t.concat(e)):ut():[]}function A6(n){return b6[n]}function M6(n){return C6[n]}function hy(n){return{fieldPath:n.canonicalString()}}function py(n){return gr.fromServerFormat(n.fieldPath)}function k6(n){return os.create(py(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function O6(n){switch(n.unaryFilter.op){case"IS_NAN":const t=py(n.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=py(n.unaryFilter.field);return os.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=py(n.unaryFilter.field);return os.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=py(n.unaryFilter.field);return os.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function R6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function AL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Xs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ML(t)),t=P6(n.get(e),t);return ML(t)}function P6(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function ML(n){return n+"\x01\x01"}function Zc(n){const t=n.length;if(Pt(t>=2),2===t)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&ut(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let f;0===r.length?f=h:(r+=h,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ut()}o=c+2}return new ln(i)}const kL=["userId","batchId"];function AS(n,t){return[n,Xs(t)]}function OL(n,t,e){return[n,Xs(t),e]}const N6={},F6=["prefixPath","collectionGroup","readTime","documentId"],L6=["prefixPath","collectionGroup","documentId"],V6=["collectionGroup","readTime","prefixPath","documentId"],B6=["canonicalId","targetId"],U6=["targetId","path"],H6=["path","targetId"],j6=["collectionId","parent"],z6=["indexId","uid"],q6=["uid","sequenceNumber"],G6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$6=["indexId","uid","orderedDocumentKey"],Z6=["userId","collectionPath","documentId"],W6=["userId","collectionPath","largestBatchId"],K6=["userId","collectionGroup","largestBatchId"],RL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y6=[...RL,"documentOverlays"],PL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q6=[...PL,"indexConfiguration","indexState","indexEntries"],NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new me((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof me?e:me.resolve(e)}catch(e){return me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):me.reject(e)}static resolve(t){return new me((e,i)=>{e(t)})}static reject(t){return new me((e,i)=>{i(t)})}static waitFor(t){return new me((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=me.resolve(!1);for(const i of t)e=e.next(r=>r?me.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class MS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Lr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new wC(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=zM(i.target.error);this.At.reject(new wC(t,r))}}static open(t,e,i,r){try{return new MS(e,t.transaction(r,i))}catch(o){throw new wC(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new X6(e)}}class Ol{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Ol.Vt((0,N.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),og(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,N.hl)())return!1;if(Ol.St())return!0;const t=(0,N.z$)(),e=Ol.Vt(t),i=0<e&&e<10,r=Ol.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Te.Z)(function*(){return e.db||(Be("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new wC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ne(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ne(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new wC(t,h))},o.onupgradeneeded=c=>{Be("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Pt.kt(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Be("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Te.Z)(function*(){const c="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const f=MS.open(o.db,t,c?"readonly":"readwrite",i),y=r(f).next(E=>(f.bt(),E)).catch(E=>(f.abort(E),me.reject(E))).toPromise();return y.catch(()=>{}),yield f.Rt,y}catch(f){const y="FirebaseError"!==f.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",f.message,"Retrying:",y),o.close(),!y)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class J6{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return og(this.Ft.delete())}}class wC extends Ne{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function sg(n){return"IndexedDbTransactionError"===n.name}class X6{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Be("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),og(i)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),og(this.store.add(t))}get(t){return og(this.store.get(t)).next(e=>(void 0===e&&(e=null),Be("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),og(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),og(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new me((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new me((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(t,e){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,c,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new me((i,r)=>{e.onerror=o=>{const c=zM(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}Kt(t,e){const i=[];return new me((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const f=new J6(h),y=e(h.primaryKey,h.value,f);if(y instanceof me){const E=y.catch(I=>(f.done(),me.reject(I)));i.push(E)}f.isDone?r():null===f.Lt?h.continue():h.continue(f.Lt)}}).next(()=>me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function og(n){return new me((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=zM(i.target.error);e(r)}})}let LL=!1;function zM(n){const t=Ol.Vt((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LL||(LL=!0,setTimeout(()=>{throw i},0)),i}}return n}class VL extends FL{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Br(n,t){const e=Je(n);return Ol.xt(e.Ht,t)}class qM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&h6(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&LM(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&LM(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bn())}isEqual(t){return this.batchId===t.batchId&&iy(this.mutations,t.mutations,(e,i)=>aL(e,i))&&iy(this.baseMutations,t.baseMutations,(e,i)=>aL(e,i))}}class GM{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Pt(t.mutations.length===i.length);let r=_6;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new GM(t,e,i,r)}}class $M{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wh{constructor(t,e,i,r,o=Dt.min(),c=Dt.min(),h=mr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(t){return new Wh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Wh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class BL{constructor(t){this.Jt=t}}function UL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:kS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:_C(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:mC(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:ag(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:ag(t.version)}}var r,o;return i}function kS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function ag(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function lg(n){const t=new Ui(n.seconds,n.nanoseconds);return Dt.fromTimestamp(t)}function fy(n,t){const e=(t.baseMutations||[]).map(o=>jM(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>jM(n.Jt,o)),r=Ui.fromMillis(t.localWriteTimeMs);return new qM(t.batchId,r,e,i)}function bC(n){const t=lg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?lg(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(Pt(1===(r=n.query).documents.length),i=ja(ly(bL(r.documents[0])))):i=ja(xL(n.query)),new Wh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,mr.fromBase64String(n.resumeToken))}function HL(n,t){const e=ag(t.snapshotVersion),i=ag(t.lastLimboFreeSnapshotVersion);let r;r=CS(t.target)?IL(n.Jt,t.target):SL(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tg(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ZM(n){const t=xL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KF(t,t.limit,"L"):t}function WM(n,t){return new $M(t.largestBatchId,jM(n.Jt,t.overlayMutation))}function jL(n,t){const e=t.path.lastSegment();return[n,Xs(t.path.popLast()),e]}class tj{getBundleMetadata(t,e){return zL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:lg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return zL(t).put({bundleId:(i=e).id,createTime:ag(Vr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return qL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:ZM(r.bundledQuery),readTime:lg(r.readTime)};var r})}saveNamedQuery(t,e){return qL(t).put({name:(i=e).name,readTime:ag(Vr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function zL(n){return Br(n,"bundles")}function qL(n){return Br(n,"namedQueries")}class KM{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new KM(t,e.uid||"")}getOverlay(t,e){return CC(t).get(jL(this.userId,e)).next(i=>i?WM(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const h=new $M(e,c);r.push(this.Xt(t,h))}),me.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Xs(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(CC(t).Qt("collectionPathOverlayIndex",h))}),me.waitFor(o)}getOverlaysForCollection(t,e,i){const r=pC(),o=Xs(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return CC(t).qt("collectionPathOverlayIndex",c).next(h=>{for(const f of h){const y=WM(this.M,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=pC();let c;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return CC(t).Wt({index:"collectionGroupOverlayIndex",range:h},(f,y,E)=>{const I=WM(this.M,y);o.size()<r||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):E.done()}).next(()=>o)}Xt(t,e){return CC(t).put(function(i,r,o){const[c,h,f]=jL(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:vC(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function CC(n){return Br(n,"documentOverlays")}class cg{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Ii(t.integerValue));else if("doubleValue"in t){const i=Ii(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),iC(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Qf(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?NF(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ut()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),We.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function nj(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function GL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=nj(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}cg.fe=new cg;class ij{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=GL(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=GL(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class rj{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class sj{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class EC{constructor(){this.De=new ij,this.Ce=new rj(this.De),this.xe=new sj(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ug{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ug(this.indexId,this.documentKey,this.arrayValue,i)}}function dg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=$L(n.arrayValue,t.arrayValue),0!==e?e:(e=$L(n.directionalValue,t.directionalValue),0!==e?e:We.comparator(n.documentKey,t.documentKey)))}function $L(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class oj{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=kM(t);if(void 0!==e&&!this.Be(e))return!1;const i=eg(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],c))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class aj{constructor(){this.qe=new YM}addToCollectionParentIndex(t,e){return this.qe.add(e),me.resolve()}getCollectionParents(t,e){return me.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return me.resolve()}deleteFieldIndex(t,e){return me.resolve()}getDocumentsMatchingTarget(t,e){return me.resolve(null)}getIndexType(t,e){return me.resolve(0)}getFieldIndexes(t,e){return me.resolve([])}getNextCollectionGroupToUpdate(t){return me.resolve(null)}getMinOffset(t,e){return me.resolve(kl.min())}updateCollectionGroup(t,e,i){return me.resolve()}updateIndexEntries(t,e){return me.resolve()}}class YM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Vn(ln.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Vn(ln.comparator)).toArray()}}const OS=new Uint8Array(0);class lj{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new YM,this.Ge=new Zh(i=>tg(i),(i,r)=>lC(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const o={collectionId:i,parent:Xs(r)};return ZL(t).put(o)}return me.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[xF(e),""],!1,!0);return ZL(t).qt(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(Zc(c.parent))}return i})}addFieldIndex(t,e){const i=RS(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=RS(t),r=PS(t),o=TC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=TC(t);let r=!0;const o=new Map;return me.forEach(this.Qe(e),c=>this.je(t,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=bn();const h=[];return me.forEach(o,(f,y)=>{var E;Be("IndexedDbIndexManager",`Using index ${E=f,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${tg(e)}`);const I=function(it,rt){const At=kM(rt);if(void 0===At)return null;for(const kt of ES(it,At.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(y,f),M=function(it,rt){const At=new Map;for(const kt of eg(rt))for(const nn of ES(it,kt.fieldPath))switch(nn.op){case"==":case"in":At.set(kt.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return At.set(kt.fieldPath.canonicalString(),nn.value),Array.from(At.values())}return null}(y,f),P=function(it,rt){const At=[];let kt=!0;for(const nn of eg(rt)){const Qn=0===nn.kind?zF(it,nn.fieldPath,it.startAt):qF(it,nn.fieldPath,it.startAt);At.push(Qn.value),kt&&(kt=Qn.inclusive)}return new $h(At,kt)}(y,f),V=function(it,rt){const At=[];let kt=!0;for(const nn of eg(rt)){const Qn=0===nn.kind?qF(it,nn.fieldPath,it.endAt):zF(it,nn.fieldPath,it.endAt);At.push(Qn.value),kt&&(kt=Qn.inclusive)}return new $h(At,kt)}(y,f),Q=this.We(f,y,P),ye=this.We(f,y,V),He=this.ze(f,y,M),Xe=this.He(f.indexId,I,Q,P.inclusive,ye,V.inclusive,He);return me.forEach(Xe,it=>i.Gt(it,e.limit).next(rt=>{rt.forEach(At=>{const kt=We.fromSegments(At.documentKey);c.has(kt)||(c=c.add(kt),h.push(kt))})}))}).next(()=>h)}return me.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,o,c,h){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),y=f/(null!=e?e.length:1),E=[];for(let I=0;I<f;++I){const M=e?this.Je(e[I/y]):OS,P=this.Ye(t,M,i[I%y],r),V=this.Xe(t,M,o[I%y],c),Q=h.map(ye=>this.Ye(t,M,ye,!0));E.push(...this.createRange(P,V,Q))}return E}Ye(t,e,i,r){const o=new ug(t,We.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new ug(t,We.empty(),e,i);return r?o.ke():o}je(t,e){const i=new oj(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const h of o)i.$e(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(t,e){let i=2;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new Vn(gr.comparator),f=!1;for(const y of c.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?f=!0:h=h.add(E.field))}for(const y of c.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new EC;for(const r of eg(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Ne(r.kind);cg.fe.Zt(o,c)}return i.Se()}Je(t){const e=new EC;return cg.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new EC;return cg.fe.Zt(Xf(this.databaseId,e),i.Ne(function(r){const o=eg(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new EC);let o=0;for(const c of eg(t)){const h=i[o++];for(const f of r)if(this.en(e,c.fieldPath)&&sC(h))r=this.nn(r,c,h);else{const y=f.Ne(c.kind);cg.fe.Zt(h,y)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const f=new EC;f.seed(h.Se()),cg.fe.Zt(c,f.Ne(e.kind)),o.push(f)}return o}en(t,e){return!!t.filters.find(i=>i instanceof os&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=RS(t),r=PS(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const c=[];return me.forEach(o,h=>r.get([h.indexId,this.uid]).next(f=>{c.push(function(y,E){const I=E?new aC(E.sequenceNumber,new kl(lg(E.readTime),new We(Zc(E.documentKey)),E.largestBatchId)):aC.empty(),M=y.fields.map(([P,V])=>new wS(gr.fromServerFormat(P),V));return new vS(y.indexId,y.collectionGroup,M,I)}(h,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:qt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=RS(t),o=PS(t);return this.rn(t).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>me.forEach(h,f=>{return o.put({indexId:f.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:ag((M=i).readTime),documentKey:Xs(M.documentKey.path),largestBatchId:M.largestBatchId});var M})))}updateIndexEntries(t,e){const i=new Map;return me.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),me.forEach(h,f=>this.on(t,r,f).next(y=>{const E=this.un(o,f);return y.isEqual(E)?me.resolve():this.an(t,o,f,y,E)}))))})}cn(t,e,i,r){return TC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return TC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=TC(t);let o=new Vn(dg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(c,h)=>{o=o.add(new ug(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}un(t,e){let i=new Vn(dg);const r=this.Ze(e,t);if(null==r)return i;const o=kM(e);if(null!=o){const c=t.data.field(o.fieldPath);if(sC(c))for(const h of c.arrayValue.values||[])i=i.add(new ug(e.indexId,t.key,this.Je(h),r))}else i=i.add(new ug(e.indexId,t.key,OS,r));return i}an(t,e,i,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(h,f,y,E,I){const M=h.getIterator(),P=f.getIterator();let V=oy(M),Q=oy(P);for(;V||Q;){let ye=!1,He=!1;if(V&&Q){const Xe=y(V,Q);Xe<0?He=!0:Xe>0&&(ye=!0)}else null!=V?He=!0:ye=!0;ye?(E(Q),Q=oy(P)):He?(I(V),V=oy(M)):(V=oy(M),Q=oy(P))}}(r,o,dg,h=>{c.push(this.cn(t,e,i,h))},h=>{c.push(this.hn(t,e,i,h))}),me.waitFor(c)}rn(t){let e=1;return PS(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,h)=>dg(c,h)).filter((c,h,f)=>!h||0!==dg(c,f[h-1]));const r=[];r.push(t);for(const c of i){const h=dg(c,t),f=dg(c,e);if(0===h)r[0]=t.ke();else if(h>0&&f<0)r.push(c),r.push(c.ke());else if(f>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,OS,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,OS,[]]));return o}getMinOffset(t,e){let i;return me.forEach(this.Qe(e),r=>this.je(t,r).next(o=>{o?(!i||UF(o.indexState.offset,i)<0)&&(i=o.indexState.offset):i=kl.min()})).next(()=>i)}}function ZL(n){return Br(n,"collectionParents")}function TC(n){return Br(n,"indexEntries")}function RS(n){return Br(n,"indexConfiguration")}function PS(n){return Br(n,"indexState")}const WL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new xo(t,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function KL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let h=0;const f=i.Wt({range:c},(E,I,M)=>(h++,M.delete()));o.push(f.next(()=>{Pt(1===h)}));const y=[];for(const E of e.mutations){const I=OL(t,E.key.path,e.batchId);o.push(r.delete(I)),y.push(E.key)}return me.waitFor(o).next(()=>y)}function NS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}xo.DEFAULT_COLLECTION_PERCENTILE=10,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xo.DEFAULT=new xo(41943040,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xo.DISABLED=new xo(-1,0,0);class QM{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Pt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new QM(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kh(t).Wt({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=gy(t),c=Kh(t);return c.add({}).next(h=>{Pt("number"==typeof h);const f=new qM(h,e,i,r),y=function(M,P,V){const Q=V.baseMutations.map(He=>vC(M.Jt,He)),ye=V.mutations.map(He=>vC(M.Jt,He));return{userId:P,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:Q,mutations:ye}}(this.M,this.userId,f),E=[];let I=new Vn((M,P)=>qt(M.canonicalString(),P.canonicalString()));for(const M of r){const P=OL(this.userId,M.key.path,h);I=I.add(M.key.path.popLast()),E.push(c.put(y)),E.push(o.put(P,N6))}return I.forEach(M=>{E.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.ln[h]=f.keys()}),me.waitFor(E).next(()=>f)})}lookupMutationBatch(t,e){return Kh(t).get(e).next(i=>i?(Pt(i.userId===this.userId),fy(this.M,i)):null)}fn(t,e){return this.ln[e]?me.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Kh(t).Wt({index:"userMutationsIndex",range:r},(c,h,f)=>{h.userId===this.userId&&(Pt(h.batchId>=i),o=fy(this.M,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Kh(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kh(t).qt("userMutationsIndex",e).next(i=>i.map(r=>fy(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=AS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return gy(t).Wt({range:r},(c,h,f)=>{const[y,E,I]=c,M=Zc(E);if(y===this.userId&&e.path.isEqual(M))return Kh(t).get(I).next(P=>{if(!P)throw ut();Pt(P.userId===this.userId),o.push(fy(this.M,P))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(qt);const r=[];return e.forEach(o=>{const c=AS(this.userId,o.path),h=IDBKeyRange.lowerBound(c),f=gy(t).Wt({range:h},(y,E,I)=>{const[M,P,V]=y,Q=Zc(P);M===this.userId&&o.path.isEqual(Q)?i=i.add(V):I.done()});r.push(f)}),me.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=AS(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new Vn(qt);return gy(t).Wt({range:c},(f,y,E)=>{const[I,M,P]=f,V=Zc(M);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(P)):E.done()}).next(()=>this.dn(t,h))}dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Kh(t).get(o).next(c=>{if(null===c)throw ut();Pt(c.userId===this.userId),i.push(fy(this.M,c))}))}),me.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return KL(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),me.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return me.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gy(t).Wt({range:i},(o,c,h)=>{if(o[0]===this.userId){const f=Zc(o[1]);r.push(f)}else h.done()}).next(()=>{Pt(0===r.length)})})}containsKey(t,e){return YL(t,this.userId,e)}wn(t){return QL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YL(n,t,e){const i=AS(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return gy(n).Wt({range:o,jt:!0},(h,f,y)=>{const[E,I,M]=h;E===t&&I===r&&(c=!0),y.done()}).next(()=>c)}function Kh(n){return Br(n,"mutations")}function gy(n){return Br(n,"documentMutations")}function QL(n){return Br(n,"mutationQueues")}class hg{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new hg(0)}static yn(){return new hg(-1)}}class cj{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new hg(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>Dt.fromTimestamp(new Ui(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>my(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Pt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return my(t).Wt((c,h)=>{const f=bC(h);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>me.waitFor(o)).next(()=>r)}forEachTarget(t,e){return my(t).Wt((i,r)=>{const o=bC(r);e(o)})}pn(t){return JL(t).get("targetGlobalKey").next(e=>(Pt(null!==e),e))}In(t,e){return JL(t).put("targetGlobalKey",e)}Tn(t,e){return my(t).put(HL(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=tg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return my(t).Wt({range:r,index:"queryTargetsIndex"},(c,h,f)=>{const y=bC(h);lC(e,y.target)&&(o=y,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Yh(t);return e.forEach(c=>{const h=Xs(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,c))}),me.waitFor(r)}removeMatchingKeys(t,e,i){const r=Yh(t);return me.forEach(e,o=>{const c=Xs(o.path);return me.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Yh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yh(t);let o=bn();return r.Wt({range:i,jt:!0},(c,h,f)=>{const y=Zc(c[1]),E=new We(y);o=o.add(E)}).next(()=>o)}containsKey(t,e){const i=Xs(e.path),r=IDBKeyRange.bound([i],[xF(i)],!1,!0);let o=0;return Yh(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,h],f,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}Et(t,e){return my(t).get(e).next(i=>i?bC(i):null)}}function my(n){return Br(n,"targets")}function JL(n){return Br(n,"targetGlobal")}function Yh(n){return Br(n,"targetDocuments")}function pg(n){return JM.apply(this,arguments)}function JM(){return JM=(0,Te.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==NL)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),JM.apply(this,arguments)}function XL([n,t],[e,i]){const r=qt(n,e);return 0===r?qt(t,i):r}class uj{constructor(t){this.An=t,this.buffer=new Vn(XL),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();XL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class dj{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Te.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){sg(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield pg(r)}yield e.Sn(t)}))}}class hj{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return me.resolve(pa.A);const i=new uj(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(WL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WL):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,o,c,h,f,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),SM()<=Ws.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(f-h)+`ms\n\tRemoved ${I} documents in `+(y-f)+`ms\nTotal Duration: ${y-E}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class pj{constructor(t,e){this.db=t,this.garbageCollector=new hj(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return FS(t,i)}removeReference(t,e,i){return FS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return FS(t,e)}On(t,e){return function(i,r){let o=!1;return QL(i).zt(c=>YL(i,c,r).next(h=>(h&&(o=!0),me.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Mn(t,(c,h)=>{if(h<=e){const f=this.On(t,c).next(y=>{if(!y)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Dt.min()),Yh(t).delete([0,Xs(c.path)])))});r.push(f)}}).next(()=>me.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return FS(t,e)}Mn(t,e){const i=Yh(t);let r,o=pa.A;return i.Wt({index:"documentTargetsIndex"},([c,h],{path:f,sequenceNumber:y})=>{0===c?(o!==pa.A&&e(new We(Zc(r)),o),o=y,r=f):o=pa.A}).next(()=>{o!==pa.A&&e(new We(Zc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function FS(n,t){return Yh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Xs(t.path),sequenceNumber:i}));var i}class e2{constructor(){this.changes=new Zh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?me.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fj{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return fg(t).put(i)}removeEntry(t,e,i){return fg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],kS(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Kn.newInvalidDocument(e);return fg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(IC(e))},(r,o)=>{i=this.$n(e,o)}).next(()=>i)}Bn(t,e){let i={size:0,document:Kn.newInvalidDocument(e)};return fg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(IC(e))},(r,o)=>{i={document:this.$n(e,o),size:NS(o)}}).next(()=>i)}getEntries(t,e){let i=za();return this.Ln(t,e,(r,o)=>{const c=this.$n(r,o);i=i.insert(r,c)}).next(()=>i)}Un(t,e){let i=za(),r=new Hi(We.comparator);return this.Ln(t,e,(o,c)=>{const h=this.$n(o,c);i=i.insert(o,h),r=r.insert(o,NS(c))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return me.resolve();let r=new Vn(r2);e.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(IC(r.first()),IC(r.last())),c=r.getIterator();let h=c.getNext();return fg(t).Wt({index:"documentKeyIndex",range:o},(f,y,E)=>{const I=We.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&r2(h,I)<0;)i(h,null),h=c.getNext();h&&h.isEqual(I)&&(i(h,y),h=c.hasNext()?c.getNext():null),h?E.Ut(IC(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),kS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fg(t).qt(IDBKeyRange.bound(r,o,!0)).next(c=>{let h=za();for(const f of c){const y=this.$n(We.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=za();const c=n2(e,i),h=n2(e,kl.max());return fg(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(f,y,E)=>{const I=this.$n(We.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(I.key,I),o.size===r&&E.done()}).next(()=>o)}newChangeBuffer(t){return new gj(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return t2(t).get("remoteDocumentGlobalKey").next(e=>(Pt(!!e),e))}Fn(t,e){return t2(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function ej(n,t){let e;if(t.document)e=TL(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=We.fromSegments(t.noDocument.path),r=lg(t.noDocument.readTime);e=Kn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=We.fromSegments(t.unknownDocument.path),r=lg(t.unknownDocument.version);e=Kn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ui(i[0],i[1]);return Dt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return Kn.newInvalidDocument(t)}}class gj extends e2{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new Zh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Vn((o,c)=>qt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.Gn.get(o);if(e.push(this.Kn.removeEntry(t,o,h.readTime)),c.isValidDocument()){const f=UL(this.Kn.M,c);r=r.add(o.path.popLast()),i+=NS(f)-h.size,e.push(this.Kn.addEntry(t,o,f))}else if(i-=h.size,this.trackRemovals){const f=UL(this.Kn.M,c.convertToNoDocument(Dt.min()));e.push(this.Kn.addEntry(t,o,f))}}),r.forEach(o=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Kn.updateMetadata(t,i)),me.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((o,c)=>{this.Gn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function t2(n){return Br(n,"remoteDocumentGlobal")}function fg(n){return Br(n,"remoteDocumentsV14")}function IC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function n2(n,t){const e=t.documentKey.path.toArray();return[n,kS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function r2(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=qt(e[o],i[o]),r)return r;return r=qt(e.length,i.length),r||(r=qt(e[e.length-2],i[i.length-2]),r||qt(e[e.length-1],i[i.length-1]))}class mj{constructor(t){this.M=t}kt(t,e,i,r){const o=new MS("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kL,{unique:!0}),h.createObjectStore("documentMutations"),s2(t),function(h){h.createObjectStore("remoteDocuments")}(t));let c=me.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),s2(t)),c=c.next(()=>function(h){const f=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,f){return f.store("mutations").qt().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kL,{unique:!0});const E=f.store("mutations"),I=y.map(M=>E.put(M));return me.waitFor(I)})}(t,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(o)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(o))),i<8&&r>=8&&(c=c.next(()=>this.zn(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const f=h.createObjectStore("documentOverlays",{keyPath:Z6});f.createIndex("collectionPathOverlayIndex",W6,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",K6,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(h){const f=h.createObjectStore("remoteDocumentsV14",{keyPath:F6});f.createIndex("documentKeyIndex",L6),f.createIndex("collectionGroupIndex",V6)}(t)).next(()=>this.Jn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:z6}).createIndex("sequenceNumberIndex",q6,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:G6}).createIndex("documentKeyIndex",$6,{unique:!1})}(t)})),c}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=NS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>me.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(h=>me.forEach(h,f=>{Pt(f.userId===o.userId);const y=fy(this.M,f);return KL(t,o.userId,y).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((c,h)=>{const f=new ln(c),y=[0,Xs(f)];o.push(e.get(y).next(E=>E?me.resolve():e.put({targetId:0,path:Xs(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>me.waitFor(o))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:j6});const i=e.store("collectionParents"),r=new YM,o=c=>{if(r.add(c)){const h=c.lastSegment(),f=c.popLast();return i.put({collectionId:h,parent:Xs(f)})}};return e.store("remoteDocuments").Wt({jt:!0},(c,h)=>{const f=new ln(c);return o(f.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([c,h,f],y)=>{const E=Zc(h);return o(E.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=bC(r),c=HL(this.M,o);return e.put(c)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,c)=>{const h=e.store("remoteDocumentsV14"),f=(y=c,y.document?new We(ln.fromString(y.document.name).popFirst(5)):y.noDocument?We.fromSegments(y.noDocument.path):y.unknownDocument?We.fromSegments(y.unknownDocument.path):ut()).path.toArray();var y;const E={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(E))}).next(()=>me.waitFor(r))}}function s2(n){n.createObjectStore("targetDocuments",{keyPath:U6}).createIndex("documentTargetsIndex",H6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",B6,{unique:!0}),n.createObjectStore("targetGlobal")}const XM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ek{constructor(t,e,i,r,o,c,h,f,y,E,I=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=o,this.window=c,this.document=h,this.Xn=y,this.Zn=E,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=M=>Promise.resolve(),!ek.vt())throw new Ne(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pj(this,r),this.hs=e+"main",this.M=new BL(f),this.ls=new Ol(this.hs,this.ts,new mj(this.M)),this.fs=new cj(this.referenceDelegate,this.M),this.ds=new fj(this.M),this._s=new tj,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===E&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(fe.FAILED_PRECONDITION,XM);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new pa(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,Te.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,Te.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,Te.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>LS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(sg(t))return Be("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return SC(t).get("owner").next(e=>me.resolve(this.Ps(e)))}Vs(t){return LS(t).delete(this.clientId)}vs(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Br(i,"clientMetadata");return r.qt().next(o=>{const c=t.Ds(o,18e5),h=o.filter(f=>-1===c.indexOf(f));return me.forEach(h,f=>r.delete(f.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?me.resolve(!0):SC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new Ne(fe.FAILED_PRECONDITION,XM);return!1}}return!(!this.networkEnabled||!this.inForeground)||LS(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Be("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new VL(e,pa.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>LS(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return QM.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new lj(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return KM.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Be("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(c=this.ts)?Q6:13===c?PL:12===c?Y6:11===c?RL:void ut();var c;let h;return this.ls.runTransaction(t,r,o,f=>(h=new VL(f,this.es?this.es.next():pa.A),"readwrite-primary"===e?this.Es(h).next(y=>!!y||this.As(h)).next(y=>{if(!y)throw tr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ne(fe.FAILED_PRECONDITION,NL);return i(h)}).next(y=>this.bs(h).next(()=>y)):this.$s(h).next(()=>i(h)))).then(f=>(h.raiseOnCommittedEvent(),f))}$s(t){return SC(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ne(fe.FAILED_PRECONDITION,XM)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return SC(t).put("owner",e)}static vt(){return Ol.vt()}Rs(t){const e=SC(t);return e.get("owner").next(i=>this.Ps(i)?(Be("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):me.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(tr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Be("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return tr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){tr("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function SC(n){return Br(n,"owner")}function LS(n){return Br(n,"clientMetadata")}function tk(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class _j{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return We.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):PM(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new We(e)).next(i=>{let r=BM();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let o=BM();return this.indexManager.getCollectionParents(t,r).next(c=>me.forEach(c,h=>{const f=(y=e,E=h.child(r),new id(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.zs(t,f,i).next(y=>{y.forEach((E,I)=>{o=o.insert(E,I)})})}).next(()=>o))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const c of o)for(const h of c.mutations){const f=h.key;let y=r.get(f);null==y&&(y=Kn.newInvalidDocument(f),r=r.insert(f,y)),LM(h,y,c.localWriteTime),y.isFoundDocument()||(r=r.remove(f))}}).next(()=>(r.forEach((o,c)=>{FM(e,c)||(r=r.remove(o))}),r))}}class nk{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=bn(),r=bn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new nk(t,e.fromCache,i,r)}}class o2{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(o=>o||this.ei(t,e,r,i)).next(o=>o||this.ni(t,e))}ti(t,e){return me.resolve(null)}ei(t,e,i,r){return function o6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Dt.min())?this.ni(t,e):this.Zs.Ks(t,i).next(o=>{const c=this.si(e,o);return this.ii(e,c,i,r)?this.ni(t,e):(SM()<=Ws.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),NM(e)),this.ri(t,c,e,BF(r,-1)))})}si(t,e){let i=new Vn(JF(t));return e.forEach((r,o)=>{FM(t,o)&&(i=i.add(o))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ni(t,e){return SM()<=Ws.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",NM(e)),this.Zs.Qs(t,e,kl.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class yj{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new Hi(qt),this.ai=new Zh(o=>tg(o),lC),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new _j(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function a2(n,t,e,i){return new yj(n,t,e,i)}function l2(n,t){return ik.apply(this,arguments)}function ik(){return ik=(0,Te.Z)(function*(n,t){const e=Je(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(o=>(r=o,e.li(t),e.Bs.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=bn();for(const y of r){c.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}for(const y of o){h.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}return e.fi.Ks(i,f).next(y=>({di:y,removedBatchIds:c,addedBatchIds:h}))})})}),ik.apply(this,arguments)}function vj(n,t){const e=Je(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.hi.newChangeBuffer({trackRemovals:!0});return function(c,h,f,y){const E=f.batch,I=E.keys();let M=me.resolve();return I.forEach(P=>{M=M.next(()=>y.getEntry(h,P)).next(V=>{const Q=f.docVersions.get(P);Pt(null!==Q),V.version.compareTo(Q)<0&&(E.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),y.addEntry(V)))})}),M.next(()=>c.Bs.removeMutationBatch(h,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function c2(n){const t=Je(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function wj(n,t){const e=Je(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const h=[];t.targetChanges.forEach((y,E)=>{const I=r.get(E);if(!I)return;h.push(e.fs.removeMatchingKeys(o,y.removedDocuments,E).next(()=>e.fs.addMatchingKeys(o,y.addedDocuments,E)));let M=I.withSequenceNumber(o.currentSequenceNumber);var P,V,Q;t.targetMismatches.has(E)?M=M.withResumeToken(mr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):y.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(y.resumeToken,i)),r=r.insert(E,M),V=M,Q=y,(0===(P=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(o,M))});let f=za();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(u2(o,c,t.documentUpdates).next(y=>{f=y})),!i.isEqual(Dt.min())){const y=e.fs.getLastRemoteSnapshotVersion(o).next(E=>e.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return me.waitFor(h).next(()=>c.apply(o)).next(()=>e.fi.Gs(o,f)).next(()=>f)}).then(o=>(e.ui=r,o))}function u2(n,t,e){let i=bn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=za();return e.forEach((c,h)=>{const f=r.get(c);h.isNoDocument()&&h.version.isEqual(Dt.min())?(t.removeEntry(c,h.readTime),o=o.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||0===h.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(h),o=o.insert(c,h)):Be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),o})}function bj(n,t){const e=Je(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function _y(n,t){const e=Je(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(o=>o?(r=o,me.resolve(r)):e.fs.allocateTargetId(i).next(c=>(r=new Wh(t,c,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function yy(n,t,e){return rk.apply(this,arguments)}function rk(){return rk=(0,Te.Z)(function*(n,t,e){const i=Je(n),r=i.ui.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!sg(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),rk.apply(this,arguments)}function VS(n,t,e){const i=Je(n);let r=Dt.min(),o=bn();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,f,y){const E=Je(h),I=E.ai.get(y);return void 0!==I?me.resolve(E.ui.get(I)):E.fs.getTargetData(f,y)}(i,c,ja(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.oi.Qs(c,t,e?r:Dt.min(),e?o:bn())).next(h=>(p2(i,QF(t),h),{documents:h,_i:o})))}function d2(n,t){const e=Je(n),i=Je(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(c=>c?c.target:null))}function h2(n,t){const e=Je(n),i=e.ci.get(t)||Dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,BF(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(p2(e,t,r),r))}function p2(n,t,e){let i=Dt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ci.set(t,i)}function sk(){return sk=(0,Te.Z)(function*(n,t,e,i){const r=Je(n);let o=bn(),c=za();for(const y of e){const E=t.wi(y.metadata.name);y.document&&(o=o.add(E));const I=t.mi(y);I.setReadTime(t.gi(y.metadata.readTime)),c=c.insert(E,I)}const h=r.hi.newChangeBuffer({trackRemovals:!0}),f=yield _y(r,(y=i,ja(ly(ln.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>u2(y,h,c).next(E=>(h.apply(y),E)).next(E=>r.fs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.fs.addMatchingKeys(y,o,f.targetId)).next(()=>r.fi.Gs(y,E)).next(()=>E)))}),sk.apply(this,arguments)}function Ej(n,t){return ok.apply(this,arguments)}function ok(){return ok=(0,Te.Z)(function*(n,t,e=bn()){const i=yield _y(n,ja(ZM(t.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Vr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(o,t);const h=i.withResumeToken(mr.EMPTY_BYTE_STRING,c);return r.ui=r.ui.insert(h.targetId,h),r.fs.updateTargetData(o,h).next(()=>r.fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.fs.addMatchingKeys(o,e,i.targetId)).next(()=>r._s.saveNamedQuery(o,t))})}),ok.apply(this,arguments)}class Tj{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return me.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:Vr(i.createTime)}),me.resolve()}getNamedQuery(t,e){return me.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:ZM(i.bundledQuery),readTime:Vr(i.readTime)}),me.resolve();var i}}class Ij{constructor(){this.overlays=new Hi(We.comparator),this.Ii=new Map}getOverlay(t,e){return me.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),me.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ii.delete(i)),me.resolve()}getOverlaysForCollection(t,e,i){const r=pC(),o=e.length+1,c=new We(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return me.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Hi((y,E)=>y-E);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let E=o.get(y.largestBatchId);null===E&&(E=pC(),o=o.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const h=pC(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,E)=>h.set(y,E)),!(h.size()>=r)););return me.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $M(e,i));let o=this.Ii.get(e);void 0===o&&(o=bn(),this.Ii.set(e,o)),this.Ii.set(e,o.add(i.key))}}class ak{constructor(){this.Ti=new Vn(Ur.Ei),this.Ai=new Vn(Ur.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new Ur(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new Ur(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new We(new ln([])),i=new Ur(e,t),r=new Ur(e,t+1),o=[];return this.Ai.forEachInRange([i,r],c=>{this.Pi(c),o.push(c.key)}),o}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new We(new ln([])),i=new Ur(e,t),r=new Ur(e,t+1);let o=bn();return this.Ai.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Ur(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ur{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return We.comparator(t.key,e.key)||qt(t.Ci,e.Ci)}static Ri(t,e){return qt(t.Ci,e.Ci)||We.comparator(t.key,e.key)}}class Sj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new Vn(Ur.Ei)}checkEmpty(t){return me.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const o=this.xi;this.xi++;const c=new qM(o,e,i,r);this.Bs.push(c);for(const h of r)this.Ni=this.Ni.add(new Ur(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(t,e){return me.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),o=r<0?0:r;return me.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return me.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ur(e,0),r=new Ur(e,Number.POSITIVE_INFINITY),o=[];return this.Ni.forEachInRange([i,r],c=>{const h=this.ki(c.Ci);o.push(h)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(qt);return e.forEach(r=>{const o=new Ur(r,0),c=new Ur(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([o,c],h=>{i=i.add(h.Ci)})}),me.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;We.isDocumentKey(o)||(o=o.child(""));const c=new Ur(new We(o),0);let h=new Vn(qt);return this.Ni.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(f.Ci)),!0)},c),me.resolve(this.Oi(h))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Pt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return me.forEach(e.mutations,r=>{const o=new Ur(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new Ur(e,0),r=this.Ni.firstAfterOrEqual(i);return me.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return me.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class xj{constructor(t){this.$i=t,this.docs=new Hi(We.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return me.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(e))}getEntries(t,e){let i=za();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Kn.newInvalidDocument(r))}),me.resolve(i)}getAllFromCollection(t,e,i){let r=za();const o=new We(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||UF(WH(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return me.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ut()}Bi(t,e){return me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Dj(this)}getSize(t){return me.resolve(this.size)}}class Dj extends e2{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),me.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class Aj{constructor(t){this.persistence=t,this.Li=new Zh(e=>tg(e),lC),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ak,this.targetCount=0,this.Ki=hg.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),me.resolve()}getLastRemoteSnapshotVersion(t){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return me.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),me.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new hg(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,me.resolve()}updateTargetData(t,e){return this.Tn(e),me.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,me.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Li.forEach((c,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Li.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),me.waitFor(o).next(()=>r)}getTargetCount(t){return me.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return me.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),me.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),me.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return me.resolve(i)}containsKey(t,e){return me.resolve(this.qi.containsKey(e))}}class Mj{constructor(t,e){this.Gi={},this.overlays={},this.es=new pa(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Aj(this),this.indexManager=new aj,this.ds=new xj(i=>this.referenceDelegate.Qi(i)),this.M=new BL(e),this._s=new Tj(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ij,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new Sj(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Be("MemoryPersistence","Starting transaction:",t);const r=new kj(this.es.next());return this.referenceDelegate.ji(),i(r).next(o=>this.referenceDelegate.Wi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}zi(t,e){return me.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class kj extends FL{constructor(t){super(),this.currentSequenceNumber=t}}class lk{constructor(t){this.persistence=t,this.Hi=new ak,this.Ji=null}static Yi(t){return new lk(t)}get Xi(){if(this.Ji)return this.Ji;throw ut()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),me.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),me.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),me.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xi,i=>{const r=We.fromPath(i);return this.Zi(t,r).next(o=>{o||e.removeEntry(r,Dt.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return me.or([()=>me.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function f2(n,t){return`firestore_clients_${n}_${t}`}function g2(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function ck(n,t){return`firestore_targets_${n}_${t}`}class BS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ne(r.error.code,r.error.message))),c?new BS(t,e,r.state,o):(tr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ne(i.error.code,i.error.message))),o?new xC(t,i.state,r):(tr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class US{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=xS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=kF(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new US(t,o):(tr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class uk{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new uk(e.clientId,e.onlineState):(tr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class dk{constructor(){this.activeTargetIds=xS()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hk{constructor(t,e,i,r,o){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Hi(qt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=f2(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new dk),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const o=t.getItem(f2(t.persistenceKey,r));if(o){const c=US.tr(r,o);c&&(t.ar=t.ar.insert(c.clientId,c))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(ck(this.persistenceKey,t));if(i){const r=xC.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ck(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Be("SharedClientState","READ",t,e),e}setItem(t,e){Be("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Be("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Te.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(o){let c=pa.A;if(null!=o)try{const h=JSON.parse(o);Pt("number"==typeof h),c=h}catch(h){tr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==pa.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Fr(o)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new BS(this.currentUser,t,e,i),o=g2(this.persistenceKey,this.currentUser,t);this.setItem(o,r.er())}Ar(t){const e=g2(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=ck(this.persistenceKey,t),o=new xC(t,e,i);this.setItem(r,o.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return US.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return BS.tr(new rs(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return xC.tr(r,e)}pr(t){return uk.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,Te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);Be("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),o=this.Tr(i),c=[],h=[];return o.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Lr(c,h).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=xS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class m2{constructor(){this.Ur=new dk,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new dk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Oj{Kr(t){}shutdown(){}}class _2{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Pj{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class Nj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,o){const c=this.ho(t,e);Be("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,o),this.fo(t,c,h,i).then(f=>(Be("RestConnection","Received: ",f),f),f=>{throw Xb("RestConnection",`${t} failed with error: `,f,"url: ",c,"request:",i),f})}_o(t,e,i,r,o){return this.co(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ny,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.uo}/v1/${e}:${Rj[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,c)=>{const h=new OH;h.listenOnce(AH.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case IM.NO_ERROR:const y=h.getResponseJson();Be("Connection","XHR received:",JSON.stringify(y)),o(y);break;case IM.TIMEOUT:Be("Connection",'RPC "'+t+'" timed out'),c(new Ne(fe.DEADLINE_EXCEEDED,"Request time out"));break;case IM.HTTP_ERROR:const E=h.getStatus();if(Be("Connection",'RPC "'+t+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const M=function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(V)>=0?V:fe.UNKNOWN}(I.status);c(new Ne(M,I.message))}else c(new Ne(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ne(fe.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Be("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);h.send(e,"POST",f,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=xH(),c=DH(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new kH({})),this.lo(h.initMessageHeaders,e,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");Be("Connection","Creating WebChannel: "+f,h);const y=o.createWebChannel(f,h);let E=!1,I=!1;const M=new Pj({Jr:V=>{I?Be("Connection","Not sending because WebChannel is closed:",V):(E||(Be("Connection","Opening WebChannel transport."),y.open(),E=!0),Be("Connection","WebChannel sending:",V),y.send(V))},Yr:()=>y.close()}),P=(V,Q,ye)=>{V.listen(Q,He=>{try{ye(He)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return P(y,mS.EventType.OPEN,()=>{I||Be("Connection","WebChannel transport opened.")}),P(y,mS.EventType.CLOSE,()=>{I||(I=!0,Be("Connection","WebChannel transport closed"),M.ro())}),P(y,mS.EventType.ERROR,V=>{I||(I=!0,Xb("Connection","WebChannel transport errored:",V),M.ro(new Ne(fe.UNAVAILABLE,"The operation could not be completed")))}),P(y,mS.EventType.MESSAGE,V=>{var Q;if(!I){const ye=V.data[0];Pt(!!ye);const He=ye,Xe=He.error||(null===(Q=He[0])||void 0===Q?void 0:Q.error);if(Xe){Be("Connection","WebChannel received error:",Xe);const it=Xe.status;let rt=function(kt){const nn=ir[kt];if(void 0!==nn)return pL(nn)}(it),At=Xe.message;void 0===rt&&(rt=fe.INTERNAL,At="Unknown error status: "+it+" with message "+Xe.message),I=!0,M.ro(new Ne(rt,At)),y.close()}else Be("Connection","WebChannel received:",ye),M.oo(ye)}}),P(c,MH.STAT_EVENT,V=>{V.stat===CF.PROXY?Be("Connection","Detected buffering proxy"):V.stat===CF.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.io()},0),M}}function y2(){return"undefined"!=typeof window?window:null}function HS(){return"undefined"!=typeof document?document:null}function DC(n){return new E6(n,!0)}class pk{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class v2{constructor(t,e,i,r,o,c,h,f){this.Yn=t,this.Vo=i,this.vo=r,this.So=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new pk(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Te.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,Te.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,Te.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(tr(e.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Ne(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,Te.Z)(function*(){t.state=0,t.start()}))}jo(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fj extends v2{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=o}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function S6(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:ut(),r=t.targetChange.targetIds||[],o=function(f,y){return f.N?(Pt(void 0===y||"string"==typeof y),mr.fromBase64String(y||"")):(Pt(void 0===y||y instanceof Uint8Array),mr.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(f){const y=void 0===f.code?fe.UNKNOWN:pL(f.code);return new Ne(y,f.message||"")}(c);e=new gL(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=$c(n,i.document.name),o=Vr(i.document.updateTime),c=new Ms({mapValue:{fields:i.document.fields}}),h=Kn.newFoundDocument(r,o,c);e=new DS(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=$c(n,i.document),o=i.readTime?Vr(i.readTime):Dt.min(),c=Kn.newNoDocument(r,o);e=new DS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=$c(n,i.document);e=new DS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,o=new f6(i.count||0);e=new fL(i.targetId,o)}}var f;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Dt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Dt.min():o.readTime?Vr(o.readTime):Dt.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=yC(this.M),e.addTarget=function(r,o){let c;const h=o.target;return c=CS(h)?{documents:IL(r,h)}:{query:SL(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=vL(r,o.resumeToken):o.snapshotVersion.compareTo(Dt.min())>0&&(c.readTime=mC(r,o.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function D6(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=yC(this.M),e.removeTarget=t,this.Lo(e)}}class Lj extends v2{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Pt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function x6(n,t){return n&&n.length>0?(Pt(void 0!==t),n.map(e=>function(i,r){let o=Vr(i.updateTime?i.updateTime:r);return o.isEqual(Dt.min())&&(o=Vr(r)),new d6(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Vr(t.commitTime);return this.listener.tu(i,e)}return Pt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=yC(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vC(this.M,i))};this.Lo(e)}}class Vj extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(fe.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So._o(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(fe.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class Bj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(tr(e),this.uu=!1):Be("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Uj{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr(h=>{i.enqueueAndForget((0,Te.Z)(function*(){var f;Qh(c)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Te.Z)(function*(y){const E=Je(y);E.wu.add(4),yield vy(E),E.yu.set("Unknown"),E.wu.delete(4),yield AC(E)}),function(y){return f.apply(this,arguments)})(c))}))}),this.yu=new Bj(i,r)}}function AC(n){return fk.apply(this,arguments)}function fk(){return fk=(0,Te.Z)(function*(n){if(Qh(n))for(const t of n.mu)yield t(!0)}),fk.apply(this,arguments)}function vy(n){return gk.apply(this,arguments)}function gk(){return gk=(0,Te.Z)(function*(n){for(const t of n.mu)yield t(!1)}),gk.apply(this,arguments)}function jS(n,t){const e=Je(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),yk(e)?_k(e):by(e).Mo()&&mk(e,t))}function MC(n,t){const e=Je(n),i=by(e);e._u.delete(t),i.Mo()&&w2(e,t),0===e._u.size&&(i.Mo()?i.$o():Qh(e)&&e.yu.set("Unknown"))}function mk(n,t){n.pu.Z(t.targetId),by(n).Ho(t)}function w2(n,t){n.pu.Z(t),by(n).Jo(t)}function _k(n){n.pu=new w6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),by(n).start(),n.yu.au()}function yk(n){return Qh(n)&&!by(n).ko()&&n._u.size>0}function Qh(n){return 0===Je(n).wu.size}function b2(n){n.pu=void 0}function Hj(n){return vk.apply(this,arguments)}function vk(){return vk=(0,Te.Z)(function*(n){n._u.forEach((t,e)=>{mk(n,t)})}),vk.apply(this,arguments)}function jj(n,t){return wk.apply(this,arguments)}function wk(){return wk=(0,Te.Z)(function*(n,t){b2(n),yk(n)?(n.yu.lu(t),_k(n)):n.yu.set("Unknown")}),wk.apply(this,arguments)}function zj(n,t,e){return bk.apply(this,arguments)}function bk(){return bk=(0,Te.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof gL&&2===t.state&&t.cause)try{yield(i=(0,Te.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r._u.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r._u.delete(h),r.pu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield zS(n,i)}else if(t instanceof DS?n.pu.ut(t):t instanceof fL?n.pu._t(t):n.pu.ht(t),!e.isEqual(Dt.min()))try{const i=yield c2(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.pu.yt(o);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=r._u.get(f);y&&r._u.set(f,y.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach(h=>{const f=r._u.get(h);if(!f)return;r._u.set(h,f.withResumeToken(mr.EMPTY_BYTE_STRING,f.snapshotVersion)),w2(r,h);const y=new Wh(f.target,h,1,f.sequenceNumber);mk(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield zS(n,i)}var i}),bk.apply(this,arguments)}function zS(n,t,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Te.Z)(function*(n,t,e){if(!sg(t))throw t;n.wu.add(1),yield vy(n),n.yu.set("Offline"),e||(e=()=>c2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield AC(n)}))}),Ck.apply(this,arguments)}function C2(n,t){return t().catch(e=>zS(n,e,t))}function wy(n){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Te.Z)(function*(n){const t=Je(n),e=Jh(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;qj(t);)try{const r=yield bj(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,Gj(t,r)}catch(r){yield zS(t,r)}E2(t)&&T2(t)}),Ek.apply(this,arguments)}function qj(n){return Qh(n)&&n.du.length<10}function Gj(n,t){n.du.push(t);const e=Jh(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function E2(n){return Qh(n)&&!Jh(n).ko()&&n.du.length>0}function T2(n){Jh(n).start()}function $j(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Te.Z)(function*(n){Jh(n).nu()}),Tk.apply(this,arguments)}function Zj(n){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Te.Z)(function*(n){const t=Jh(n);for(const e of n.du)t.Zo(e.mutations)}),Ik.apply(this,arguments)}function Wj(n,t,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Te.Z)(function*(n,t,e){const i=n.du.shift(),r=GM.from(i,t,e);yield C2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield wy(n)}),Sk.apply(this,arguments)}function Kj(n,t){return xk.apply(this,arguments)}function xk(){return xk=(0,Te.Z)(function*(n,t){var e;t&&Jh(n).Xo&&(yield(e=(0,Te.Z)(function*(i,r){if(hL(o=r.code)&&o!==fe.ABORTED){const c=i.du.shift();Jh(i).Fo(),yield C2(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield wy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),E2(n)&&T2(n)}),xk.apply(this,arguments)}function I2(n,t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Te.Z)(function*(n,t){const e=Je(n);e.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=Qh(e);e.wu.add(3),yield vy(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield AC(e)}),Dk.apply(this,arguments)}function Ak(n,t){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,Te.Z)(function*(n,t){const e=Je(n);t?(e.wu.delete(2),yield AC(e)):t||(e.wu.add(2),yield vy(e),e.yu.set("Unknown"))}),Mk.apply(this,arguments)}function by(n){return n.Iu||(n.Iu=function(t,e,i){const r=Je(t);return r.iu(),new Fj(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:Hj.bind(null,n),eo:jj.bind(null,n),zo:zj.bind(null,n)}),n.mu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Iu.Fo(),yk(n)?_k(n):n.yu.set("Unknown")):(yield n.Iu.stop(),b2(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function Jh(n){return n.Tu||(n.Tu=function(t,e,i){const r=Je(t);return r.iu(),new Lj(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:$j.bind(null,n),eo:Kj.bind(null,n),eu:Zj.bind(null,n),tu:Wj.bind(null,n)}),n.mu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Tu.Fo(),yield wy(n)):(yield n.Tu.stop(),n.du.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class kk{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new kk(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(n,t){if(tr("AsyncQueue",`${t}: ${n}`),sg(n))return new Ne(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class Ey{constructor(t){this.comparator=t?(e,i)=>t(e,i)||We.comparator(e.key,i.key):(e,i)=>We.comparator(e.key,i.key),this.keyedMap=BM(),this.sortedSet=new Hi(this.comparator)}static emptySet(t){return new Ey(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ey)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ey;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class S2{constructor(){this.Eu=new Hi(We.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):ut():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ty{constructor(t,e,i,r,o,c,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Ty(t,e,Ey.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Yj{constructor(){this.Ru=void 0,this.listeners=[]}}class Qj{constructor(){this.queries=new Zh(t=>YF(t),cC),this.onlineState="Unknown",this.bu=new Set}}function Ok(n,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Te.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Yj),r)try{o.Ru=yield e.onListen(i)}catch(c){const h=Cy(c,`Initialization of query '${NM(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Pu(e.onlineState),o.Ru&&t.Vu(o.Ru)&&Fk(e)}),Rk.apply(this,arguments)}function Pk(n,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Te.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Nk.apply(this,arguments)}function Jj(n,t){const e=Je(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const h of c.listeners)h.Vu(r)&&(i=!0);c.Ru=r}}i&&Fk(e)}function Xj(n,t,e){const i=Je(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function Fk(n){n.bu.forEach(t=>{t.next()})}class Lk{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Ty(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=Ty.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class e4{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class x2{constructor(t){this.M=t}wi(t){return $c(this.M,t)}mi(t){return t.metadata.exists?TL(this.M,t.document,!1):Kn.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return Vr(t)}}class t4{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=D2(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=ln.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new x2(this.M);for(const r of t)if(r.metadata.queries){const o=i.wi(r.metadata.name);for(const c of r.metadata.queries){const h=(e.get(c)||bn()).add(o);e.set(c,h)}}return e}complete(){var t=this;return(0,Te.Z)(function*(){const e=yield function Cj(n,t,e,i){return sk.apply(this,arguments)}(t.localStore,new x2(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield Ej(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function D2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class A2{constructor(t){this.key=t}}class M2{constructor(t){this.key=t}}class k2{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=bn(),this.mutatedKeys=bn(),this.Gu=JF(t),this.Qu=new Ey(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new S2,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,I)=>{const M=r.get(E),P=FM(this.query,I)?I:null,V=!!M&&this.mutatedKeys.has(M.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ye=!1;M&&P?M.data.isEqual(P.data)?V!==Q&&(i.track({type:3,doc:P}),ye=!0):this.Hu(M,P)||(i.track({type:2,doc:P}),ye=!0,(f&&this.Gu(P,f)>0||y&&this.Gu(P,y)<0)&&(h=!0)):!M&&P?(i.track({type:0,doc:P}),ye=!0):M&&!P&&(i.track({type:1,doc:M}),ye=!0,(f||y)&&(h=!0)),ye&&(P?(c=c.add(P),o=Q?o.add(E):o.delete(E)):(c=c.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),o=o.delete(E.key),i.track({type:1,doc:E})}return{Qu:c,zu:i,ii:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Au();o.sort((y,E)=>function(I,M){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return P(I)-P(M)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(i);const c=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,f=h!==this.qu;return this.qu=h,0!==o.length||f?{snapshot:new Ty(this.query,t.Qu,r,o,t.mutatedKeys,0===h,f,!1),Xu:c}:{Xu:c}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new S2,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=bn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new M2(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new A2(i))}),e}ta(t){this.Uu=t._i,this.Ku=bn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return Ty.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class n4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class r4{constructor(t){this.key=t,this.na=!1}}class s4{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new Zh(h=>YF(h),cC),this.ra=new Map,this.oa=new Set,this.ua=new Hi(We.comparator),this.aa=new Map,this.ca=new ak,this.ha={},this.la=new Map,this.fa=hg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function o4(n,t){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Te.Z)(function*(n,t){const e=aO(n);let i,r;const o=e.ia.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ea();else{const c=yield _y(e.localStore,ja(t));e.isPrimaryClient&&jS(e.remoteStore,c);const h=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield Bk(e,t,i,"current"===h)}return r}),Vk.apply(this,arguments)}function Bk(n,t,e,i){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Te.Z)(function*(n,t,e,i){n._a=(E,I,M)=>{return(P=(0,Te.Z)(function*(V,Q,ye,He){let Xe=Q.view.Wu(ye);Xe.ii&&(Xe=yield VS(V.localStore,Q.query,!1).then(({documents:At})=>Q.view.Wu(At,Xe)));const it=He&&He.targetChanges.get(Q.targetId),rt=Q.view.applyChanges(Xe,V.isPrimaryClient,it);return Yk(V,Q.targetId,rt.Xu),rt.snapshot}),function(V,Q,ye,He){return P.apply(this,arguments)})(n,E,I,M);var P};const r=yield VS(n.localStore,t,!0),o=new k2(t,r._i),c=o.Wu(r.documents),h=gC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),f=o.applyChanges(c,n.isPrimaryClient,h);Yk(n,e,f.Xu);const y=new n4(t,e,o);return n.ia.set(t,y),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),f.snapshot}),Uk.apply(this,arguments)}function a4(n,t){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Te.Z)(function*(n,t){const e=Je(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(o=>!cC(o,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),MC(e.remoteStore,i.targetId),Iy(e,i.targetId)}).catch(pg))):(Iy(e,i.targetId),yield yy(e.localStore,i.targetId,!0))}),Hk.apply(this,arguments)}function jk(){return jk=(0,Te.Z)(function*(n,t,e){const i=lO(n);try{const r=yield function(o,c){const h=Je(o),f=Ui.now(),y=c.reduce((I,M)=>I.add(M.key),bn());let E;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.fi.Ks(I,y).next(M=>{E=M;const P=[];for(const V of c){const Q=p6(V,E.get(V.key));null!=Q&&P.push(new rg(V.key,Q,VF(Q.value.mapValue),nr.exists(!0)))}return h.Bs.addMutationBatch(I,f,P,c)})).then(I=>(I.applyToLocalDocumentSet(E),{batchId:I.batchId,changes:E}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let f=o.ha[o.currentUser.toKey()];f||(f=new Hi(qt)),f=f.insert(c,h),o.ha[o.currentUser.toKey()]=f}(i,r.batchId,e),yield rd(i,r.changes),yield wy(i.remoteStore)}catch(r){const o=Cy(r,"Failed to persist write");e.reject(o)}}),jk.apply(this,arguments)}function O2(n,t){return zk.apply(this,arguments)}function zk(){return zk=(0,Te.Z)(function*(n,t){const e=Je(n);try{const i=yield wj(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.aa.get(o);c&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.na=!0:r.modifiedDocuments.size>0?Pt(c.na):r.removedDocuments.size>0&&(Pt(c.na),c.na=!1))}),yield rd(e,i,t)}catch(i){yield pg(i)}}),zk.apply(this,arguments)}function R2(n,t,e){const i=Je(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((o,c)=>{const h=c.view.Pu(t);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=Je(o);h.onlineState=c;let f=!1;h.queries.forEach((y,E)=>{for(const I of E.listeners)I.Pu(c)&&(f=!0)}),f&&Fk(h)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function c4(n,t,e){return qk.apply(this,arguments)}function qk(){return qk=(0,Te.Z)(function*(n,t,e){const i=Je(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),o=r&&r.key;if(o){let c=new Hi(We.comparator);c=c.insert(o,Kn.newNoDocument(o,Dt.min()));const h=bn().add(o),f=new fC(Dt.min(),new Map,new Vn(qt),c,h);yield O2(i,f),i.ua=i.ua.remove(o),i.aa.delete(t),Qk(i)}else yield yy(i.localStore,t,!1).then(()=>Iy(i,t,e)).catch(pg)}),qk.apply(this,arguments)}function u4(n,t){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,Te.Z)(function*(n,t){const e=Je(n),i=t.batch.batchId;try{const r=yield vj(e.localStore,t);Kk(e,i,null),Wk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield rd(e,r)}catch(r){yield pg(r)}}),Gk.apply(this,arguments)}function d4(n,t,e){return $k.apply(this,arguments)}function $k(){return $k=(0,Te.Z)(function*(n,t,e){const i=Je(n);try{const r=yield function(o,c){const h=Je(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return h.Bs.lookupMutationBatch(f,c).next(E=>(Pt(null!==E),y=E.keys(),h.Bs.removeMutationBatch(f,E))).next(()=>h.Bs.performConsistencyCheck(f)).next(()=>h.fi.Ks(f,y))})}(i.localStore,t);Kk(i,t,e),Wk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield rd(i,r)}catch(r){yield pg(r)}}),$k.apply(this,arguments)}function Zk(){return Zk=(0,Te.Z)(function*(n,t){const e=Je(n);Qh(e.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=Je(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=Cy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Zk.apply(this,arguments)}function Wk(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function Kk(n,t,e){const i=Je(n);let r=i.ha[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function Iy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||P2(n,i)})}function P2(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(MC(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),Qk(n))}function Yk(n,t,e){for(const i of e)i instanceof A2?(n.ca.addReference(i.key,t),p4(n,i)):i instanceof M2?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||P2(n,i.key)):ut()}function p4(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(Be("SyncEngine","New document in limbo: "+e),n.oa.add(i),Qk(n))}function Qk(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new We(ln.fromString(t)),i=n.fa.next();n.aa.set(i,new r4(e)),n.ua=n.ua.insert(e,i),jS(n.remoteStore,new Wh(ja(ly(e.path)),i,2,pa.A))}}function rd(n,t,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,Te.Z)(function*(n,t,e){const i=Je(n),r=[],o=[],c=[];var h;i.ia.isEmpty()||(i.ia.forEach((h,f)=>{c.push(i._a(f,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y.fromCache?"not-current":"current"),r.push(y);const E=nk.Ys(f.targetId,y);o.push(E)}}))}),yield Promise.all(c),i.sa.zo(r),yield(h=(0,Te.Z)(function*(f,y){const E=Je(f);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>me.forEach(y,M=>me.forEach(M.Hs,P=>E.persistence.referenceDelegate.addReference(I,M.targetId,P)).next(()=>me.forEach(M.Js,P=>E.persistence.referenceDelegate.removeReference(I,M.targetId,P)))))}catch(I){if(!sg(I))throw I;Be("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const M=I.targetId;if(!I.fromCache){const P=E.ui.get(M),Q=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);E.ui=E.ui.insert(M,Q)}}}),function(f,y){return h.apply(this,arguments)})(i.localStore,o))}),Jk.apply(this,arguments)}function f4(n,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,Te.Z)(function*(n,t){const e=Je(n);if(!e.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const i=yield l2(e.localStore,t);e.currentUser=t,(r=e).la.forEach(c=>{c.forEach(h=>{h.reject(new Ne(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield rd(e,i.di)}var r}),Xk.apply(this,arguments)}function g4(n,t){const e=Je(n),i=e.aa.get(t);if(i&&i.na)return bn().add(i.key);{let r=bn();const o=e.ra.get(t);if(!o)return r;for(const c of o){const h=e.ia.get(c);r=r.unionWith(h.view.ju)}return r}}function m4(n,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Te.Z)(function*(n,t){const e=Je(n),i=yield VS(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&Yk(e,t.targetId,r.Xu),r}),eO.apply(this,arguments)}function _4(n,t){return tO.apply(this,arguments)}function tO(){return tO=(0,Te.Z)(function*(n,t){const e=Je(n);return h2(e.localStore,t).then(i=>rd(e,i))}),tO.apply(this,arguments)}function y4(n,t,e,i){return nO.apply(this,arguments)}function nO(){return nO=(0,Te.Z)(function*(n,t,e,i){const r=Je(n),o=yield function(c,h){const f=Je(c),y=Je(f.Bs);return f.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.fn(E,h).next(I=>I?f.fi.Ks(E,I):me.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield wy(r.remoteStore):"acknowledged"===e||"rejected"===e?(Kk(r,t,i||null),Wk(r,t),h=t,Je(Je(r.localStore).Bs)._n(h)):ut(),yield rd(r,o)):Be("SyncEngine","Cannot apply mutation batch with id: "+t)}),nO.apply(this,arguments)}function iO(){return iO=(0,Te.Z)(function*(n,t){const e=Je(n);if(aO(e),lO(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield N2(e,i.toArray());e.da=!0,yield Ak(e.remoteStore,!0);for(const o of r)jS(e.remoteStore,o)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Iy(e,c),yy(e.localStore,c,!0))),MC(e.remoteStore,c)}),yield r,yield N2(e,i),function(o){const c=Je(o);c.aa.forEach((h,f)=>{MC(c.remoteStore,f)}),c.ca.Si(),c.aa=new Map,c.ua=new Hi(We.comparator)}(e),e.da=!1,yield Ak(e.remoteStore,!1)}}),iO.apply(this,arguments)}function N2(n,t,e){return rO.apply(this,arguments)}function rO(){return rO=(0,Te.Z)(function*(n,t,e){const i=Je(n),r=[],o=[];for(const c of t){let h;const f=i.ra.get(c);if(f&&0!==f.length){h=yield _y(i.localStore,ja(f[0]));for(const y of f){const E=i.ia.get(y),I=yield m4(i,E);I.snapshot&&o.push(I.snapshot)}}else{const y=yield d2(i.localStore,c);h=yield _y(i.localStore,y),yield Bk(i,F2(y),c,!1)}r.push(h)}return i.sa.zo(o),r}),rO.apply(this,arguments)}function F2(n){return WF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function w4(n){const t=Je(n);return Je(Je(t.localStore).persistence).Fs()}function b4(n,t,e,i){return sO.apply(this,arguments)}function sO(){return sO=(0,Te.Z)(function*(n,t,e,i){const r=Je(n);if(r.da)return void Be("SyncEngine","Ignoring unexpected query state notification.");const o=r.ra.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield h2(r.localStore,QF(o[0])),h=fC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield rd(r,c,h);break}case"rejected":yield yy(r.localStore,t,!0),Iy(r,t,i);break;default:ut()}}),sO.apply(this,arguments)}function C4(n,t,e){return oO.apply(this,arguments)}function oO(){return oO=(0,Te.Z)(function*(n,t,e){const i=aO(n);if(i.da){for(const r of t){if(i.ra.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const o=yield d2(i.localStore,r),c=yield _y(i.localStore,o);yield Bk(i,F2(o),c.targetId,!1),jS(i.remoteStore,c)}for(const r of e)i.ra.has(r)&&(yield yy(i.localStore,r,!1).then(()=>{MC(i.remoteStore,r),Iy(i,r)}).catch(pg))}}),oO.apply(this,arguments)}function aO(n){const t=Je(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=O2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=g4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=c4.bind(null,t),t.sa.zo=Jj.bind(null,t.eventManager),t.sa.wa=Xj.bind(null,t.eventManager),t}function lO(n){const t=Je(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d4.bind(null,t),t}class L2{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.Z)(function*(){e.M=DC(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return a2(this.persistence,new o2,t.initialUser,this.M)}ya(t){return new Mj(lk.Yi,this.M)}ga(t){return new m2}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class V2 extends L2{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield lO(i.Ta.syncEngine),yield wy(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return a2(this.persistence,new o2,t.initialUser,this.M)}pa(t){return new dj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=tk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?xo.withCacheSize(this.cacheSizeBytes):xo.DEFAULT;return new ek(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,y2(),HS(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new m2}}class T4 extends V2{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof hk&&(i.sharedClientState.syncEngine={$r:y4.bind(null,r),Br:b4.bind(null,r),Lr:C4.bind(null,r),Fs:w4.bind(null,r),Fr:_4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var o=(0,Te.Z)(function*(c){yield function v4(n,t){return iO.apply(this,arguments)}(i.Ta.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}ga(t){const e=y2();if(!hk.vt(e))throw new Ne(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=tk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hk(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class cO{initialize(t,e){var i=this;return(0,Te.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>R2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,i.syncEngine),yield Ak(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Qj}createDatastore(t){const e=DC(t.databaseInfo.databaseId),i=new Nj(t.databaseInfo);return new Vj(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>R2(this.syncEngine,h,0),c=_2.vt()?new _2:new Oj,new Uj(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,h,f,y){const E=new s4(i,r,o,c,h,f);return y&&(E.da=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.Z)(function*(e){const i=Je(e);Be("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield vy(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function B2(n,t=10240){let e=0;return{read:()=>(0,Te.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class I4{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new Lr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const o=yield t.Sa(r);return new e4(JSON.parse(o),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,Te.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,Te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class S4{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ne(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Te.Z)(function*(o,c){const h=Je(o),f=yC(h.M)+"/documents",y={documents:c.map(P=>_C(h.M,P))},E=yield h._o("BatchGetDocuments",f,y),I=new Map;E.forEach(P=>{const V=function I6(n,t){return"found"in t?function(e,i){Pt(!!i.found);const r=$c(e,i.found.name),o=Vr(i.found.updateTime),c=new Ms({mapValue:{fields:i.found.fields}});return Kn.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){Pt(!!i.missing),Pt(!!i.readTime);const r=$c(e,i.missing),o=Vr(i.readTime);return Kn.newNoDocument(r,o)}(n,t):ut()}(h.M,P);I.set(V.key.toString(),V)});const M=[];return c.forEach(P=>{const V=I.get(P.toString());Pt(!!V),M.push(V)}),M}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new hC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=We.fromPath(r);t.mutations.push(new VM(o,t.precondition(o)))}),yield(i=(0,Te.Z)(function*(r,o){const c=Je(r),h=yC(c.M)+"/documents",f={writes:o.map(y=>vC(c.M,y))};yield c.co("Commit",h,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=Dt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ne(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?nr.updateTime(e):nr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dt.min()))throw new Ne(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(e)}return nr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class x4{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.xa=i.maxAttempts,this.No=new pk(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,Te.Z)(function*(){const e=new S4(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ma(o)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!nC(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!hL(e)}return!1}}class D4{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=rs.UNAUTHENTICATED,this.clientId=SF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Te.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Cy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function U2(n,t){return uO.apply(this,arguments)}function uO(){return uO=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.Z)(function*(o){i.isEqual(o)||(yield l2(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),uO.apply(this,arguments)}function H2(n,t){return dO.apply(this,arguments)}function dO(){return dO=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield hO(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>I2(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>I2(t.remoteStore,o)),n.onlineComponents=t}),dO.apply(this,arguments)}function hO(n){return pO.apply(this,arguments)}function pO(){return pO=(0,Te.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield U2(n,new L2)),n.offlineComponents}),pO.apply(this,arguments)}function GS(n){return fO.apply(this,arguments)}function fO(){return fO=(0,Te.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield H2(n,new cO)),n.onlineComponents}),fO.apply(this,arguments)}function j2(n){return hO(n).then(t=>t.persistence)}function gO(n){return hO(n).then(t=>t.localStore)}function z2(n){return GS(n).then(t=>t.remoteStore)}function mO(n){return GS(n).then(t=>t.syncEngine)}function Sy(n){return _O.apply(this,arguments)}function _O(){return _O=(0,Te.Z)(function*(n){const t=yield GS(n),e=t.eventManager;return e.onListen=o4.bind(null,t.syncEngine),e.onUnlisten=a4.bind(null,t.syncEngine),e}),_O.apply(this,arguments)}function q2(n,t,e={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,c,h,f){const y=new qS({next:I=>{o.enqueueAndForget(()=>Pk(r,E));const M=I.docs.has(c);!M&&I.fromCache?f.reject(new Ne(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&h&&"server"===h.source?f.reject(new Ne(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),E=new Lk(ly(c.path),y,{includeMetadataChanges:!0,ku:!0});return Ok(r,E)}(yield Sy(n),n.asyncQueue,t,e,i)})),i.promise}function G2(n,t,e={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,c,h,f){const y=new qS({next:I=>{o.enqueueAndForget(()=>Pk(r,E)),I.fromCache&&"server"===h.source?f.reject(new Ne(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),E=new Lk(c,y,{includeMetadataChanges:!0,ku:!0});return Ok(r,E)}(yield Sy(n),n.asyncQueue,t,e,i)})),i.promise}const $2=new Map;function yO(n,t,e){if(!e)throw new Ne(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Z2(n,t,e,i){if(!0===t&&!0===i)throw new Ne(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function W2(n){if(!We.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K2(n){if(We.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $S(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function on(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ne(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=$S(n);throw new Ne(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Y2(n,t){if(t<=0)throw new Ne(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Q2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ne(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ne(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Z2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q2({}),this._settingsFrozen=!1,t instanceof nd?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ne(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ne(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new NH;switch(e.type){case"gapi":const i=e.client;return Pt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new BH(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ne(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=$2.get(t);e&&(Be("ComponentProvider","Removing Datastore"),$2.delete(t),e.terminate())}(this),Promise.resolve()}}class Yn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yn(this.firestore,t,this._key)}}class ks{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ks(this.firestore,t,this._query)}}class Wc extends ks{constructor(t,e,i){super(t,e,ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yn(this.firestore,null,new We(t))}withConverter(t){return new Wc(this.firestore,t,this._path)}}function J2(n,t,...e){if(n=(0,N.m9)(n),yO("collection","path",t),n instanceof kC){const i=ln.fromString(t,...e);return K2(i),new Wc(n,null,i)}{if(!(n instanceof Yn||n instanceof Wc))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(t,...e));return K2(i),new Wc(n.firestore,null,i)}}function ZS(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=SF.R()),yO("doc","path",t),n instanceof kC){const i=ln.fromString(t,...e);return W2(i),new Yn(n,null,new We(i))}{if(!(n instanceof Yn||n instanceof Wc))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(t,...e));return W2(i),new Yn(n.firestore,n instanceof Wc?n.converter:null,new We(i))}}function X2(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof Yn||n instanceof Wc)&&(t instanceof Yn||t instanceof Wc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function eV(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof ks&&t instanceof ks&&n.firestore===t.firestore&&cC(n._query,t._query)&&n.converter===t.converter}class B4{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new pk(this,"async_queue_retry"),this.Qa=()=>{const e=HS();e&&Be("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=HS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=HS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new Lr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,Te.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!sg(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,tr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=kk.createAndSchedule(this,t,e,i,o=>this.Ha(o));return this.La.push(r),r}ja(){this.Ua&&ut()}verifyOperationInProgress(){}Ja(){var t=this;return(0,Te.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function vO(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class U4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ci extends kC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new B4,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tV(this),this._firestoreClient.terminate()}}function rr(n){return n._firestoreClient||tV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tV(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new GH(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new D4(n._authCredentials,n._appCheckCredentials,n._queue,i)}function nV(n,t,e){const i=new Lr;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield U2(n,e),yield H2(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function iV(n){if(n._initialized||n._terminated)throw new Ne(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ne(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kc(mr.fromBase64String(t))}catch(e){throw new Ne(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kc(mr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class gg{constructor(t){this._methodName=t}}class WS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ne(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ne(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}}const Y4=/^__.*__$/;class Q4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new rg(t,this.data,this.fieldMask,e,this.fieldTransforms):new dC(t,this.data,e,this.fieldTransforms)}}class rV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new rg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function sV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class KS{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new KS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return JS(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(sV(this.ec)&&Y4.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class J4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||DC(t)}lc(t,e,i,r=!1){return new KS({ec:t,methodName:e,hc:i,path:gr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function mg(n){const t=n._freezeSettings(),e=DC(n._databaseId);return new J4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function YS(n,t,e,i,r,o={}){const c=n.lc(o.merge||o.mergeFields?2:0,t,e,r);EO("Data must be an object, but it was:",c,i);const h=lV(i,c);let f,y;if(o.merge)f=new ry(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const E=[];for(const I of o.mergeFields){const M=TO(t,I,e);if(!c.contains(M))throw new Ne(fe.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);uV(E,M)||E.push(M)}f=new ry(E),y=c.fieldTransforms.filter(I=>f.covers(I.field))}else f=null,y=c.fieldTransforms;return new Q4(new Ms(h),f,y)}class OC extends gg{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof OC}}function oV(n,t,e){return new KS({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class wO extends gg{_toFieldTransform(t){return new uC(t.path,new uy)}isEqual(t){return t instanceof wO}}class X4 extends gg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=oV(this,t,!0),i=this.fc.map(o=>_g(o,e)),r=new ng(i);return new uC(t.path,r)}isEqual(t){return this===t}}class ez extends gg{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=oV(this,t,!0),i=this.fc.map(o=>_g(o,e)),r=new ig(i);return new uC(t.path,r)}isEqual(t){return this===t}}class tz extends gg{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new dy(t.M,tL(t.M,this.dc));return new uC(t.path,e)}isEqual(t){return this===t}}function bO(n,t,e,i){const r=n.lc(1,t,e);EO("Data must be an object, but it was:",r,i);const o=[],c=Ms.empty();Yf(i,(f,y)=>{const E=QS(t,f,e);y=(0,N.m9)(y);const I=r.oc(E);if(y instanceof OC)o.push(E);else{const M=_g(y,I);null!=M&&(o.push(E),c.set(E,M))}});const h=new ry(o);return new rV(c,h,r.fieldTransforms)}function CO(n,t,e,i,r,o){const c=n.lc(1,t,e),h=[TO(t,i,e)],f=[r];if(o.length%2!=0)throw new Ne(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(TO(t,o[M])),f.push(o[M+1]);const y=[],E=Ms.empty();for(let M=h.length-1;M>=0;--M)if(!uV(y,h[M])){const P=h[M];let V=f[M];V=(0,N.m9)(V);const Q=c.oc(P);if(V instanceof OC)y.push(P);else{const ye=_g(V,Q);null!=ye&&(y.push(P),E.set(P,ye))}}const I=new ry(y);return new rV(E,I,c.fieldTransforms)}function aV(n,t,e,i=!1){return _g(e,n.lc(i?4:3,t))}function _g(n,t){if(cV(n=(0,N.m9)(n)))return EO("Unsupported field value:",t,n),lV(n,t);if(n instanceof gg)return function(e,i){if(!sV(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let h=_g(c,i.uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tL(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ui.fromDate(e);return{timestampValue:mC(i.M,r)}}if(e instanceof Ui){const r=new Ui(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mC(i.M,r)}}if(e instanceof WS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kc)return{bytesValue:vL(i.M,e._byteString)};if(e instanceof Yn){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ac(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:UM(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${$S(e)}`)}(n,t)}function lV(n,t){const e={};return AF(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yf(n,(i,r)=>{const o=_g(r,t.sc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function cV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ui||n instanceof WS||n instanceof Kc||n instanceof Yn||n instanceof gg)}function EO(n,t,e){if(!cV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$S(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function TO(n,t,e){if((t=(0,N.m9)(t))instanceof sd)return t._internalPath;if("string"==typeof t)return QS(n,t);throw JS("Field path arguments must be of type string or ",n,!1,void 0,e)}const nz=new RegExp("[~\\*/\\[\\]]");function QS(n,t,e){if(t.search(nz)>=0)throw JS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sd(...t.split("."))._internalPath}catch(i){throw JS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function JS(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new Ne(fe.INVALID_ARGUMENT,h+n+f)}function uV(n,t){return n.some(e=>e.isEqual(t))}class RC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new iz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(XS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class iz extends RC{data(){return super.data()}}function XS(n,t){return"string"==typeof t?QS(n,t):t instanceof sd?t._internalPath:t._delegate._internalPath}class yg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class od extends RC{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new PC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(XS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class PC extends od{data(t={}){return super.data(t)}}class Xh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new PC(this._firestore,this._userDataWriter,i.key,i,new yg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ne(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new PC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new PC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:rz(c.type),doc:h,oldIndex:f,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function rz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function dV(n,t){return n instanceof od&&t instanceof od?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Xh&&t instanceof Xh&&n._firestore===t._firestore&&eV(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function hV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NC{}function ep(n,...t){for(const e of t)n=e._apply(n);return n}class sz extends NC{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=mg(t.firestore),i=function(r,o,c,h,f,y,E){let I;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){yV(E,y);const P=[];for(const V of E)P.push(_V(h,r,V));I={arrayValue:{values:P}}}else I=_V(h,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||yV(E,y),I=aV(c,"where",E,"in"===y||"not-in"===y);const M=os.create(f,y,I);return function(P,V){if(V.S()){const ye=RM(P);if(null!==ye&&!ye.isEqual(V.field))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${V.field.toString()}'`);const He=OM(P);null!==He&&vV(0,V.field,He)}const Q=function(ye,He){for(const Xe of ye.filters)if(He.indexOf(Xe.op)>=0)return Xe.op;return null}(P,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Q)throw new Ne(fe.INVALID_ARGUMENT,Q===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Q.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new ks(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new id(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class az extends NC{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ay(r,o);return function(h,f){if(null===OM(h)){const y=RM(h);null!==y&&vV(0,y,f.field)}}(i,c),c}(t._query,this._c,this.gc);return new ks(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new id(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class pV extends NC{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new ks(t.firestore,t.converter,KF(t._query,this.yc,this.Ic))}}class fV extends NC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=mV(t,this.type,this.Tc,this.Ec);return new ks(t.firestore,t.converter,(r=e,new id((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class gV extends NC{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=mV(t,this.type,this.Tc,this.Ec);return new ks(t.firestore,t.converter,(r=e,new id((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function mV(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof RC)return function(r,o,c,h,f){if(!h)throw new Ne(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const E of cy(r))if(E.field.isKeyField())y.push(Xf(o,h.key));else{const I=h.data.field(E.field);if(DM(I))throw new Ne(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=E.field.canonicalString();throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(I)}return new $h(y,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=mg(n.firestore);return function(o,c,h,f,y,E){const I=o.explicitOrderBy;if(y.length>I.length)throw new Ne(fe.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<y.length;P++){const V=y[P];if(I[P].field.isKeyField()){if("string"!=typeof V)throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!PM(o)&&-1!==V.indexOf("/"))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const Q=o.path.child(ln.fromString(V));if(!We.isDocumentKey(Q))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ye=new We(Q);M.push(Xf(c,ye))}else{const Q=aV(h,f,V);M.push(Q)}}return new $h(M,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function _V(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Ne(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PM(t)&&-1!==e.indexOf("/"))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ln.fromString(e));if(!We.isDocumentKey(i))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xf(n,new We(i))}if(e instanceof Yn)return Xf(n,e._key);throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$S(e)}.`)}function yV(n,t){if(!Array.isArray(n)||0===n.length)throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ne(fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function vV(n,t,e){if(!e.isEqual(t))throw new Ne(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const gz={maxAttempts:5};class IO{convertValue(t,e="none"){switch(Jf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ii(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return Yf(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new WS(Ii(t.latitude),Ii(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=MF(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(tC(t));default:return null}}convertTimestamp(t){const e=zh(t);return new Ui(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ln.fromString(t);Pt(AL(i));const r=new nd(i.get(1),i.get(3)),o=new We(i.popFirst(5));return r.isEqual(e)||tr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function ex(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class mz extends IO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}class wV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=mg(t)}set(t,e,i){this._verifyNotCommitted();const r=tp(t,this._firestore),o=ex(r.converter,e,i),c=YS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,nr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=tp(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof sd?CO(this._dataReader,"WriteBatch.update",o._key,e,i,r):bO(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,nr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=tp(t,this._firestore);return this._mutations=this._mutations.concat(new hC(e._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tp(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Ne(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class vg extends IO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}function bV(n,t,e){n=on(n,Yn);const i=on(n.firestore,ci),r=ex(n.converter,t,e);return xy(i,[YS(mg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,nr.none())])}function CV(n,t,e,...i){n=on(n,Yn);const r=on(n.firestore,ci),o=mg(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof sd?CO(o,"updateDoc",n._key,t,e,i):bO(o,"updateDoc",n._key,t),xy(r,[c.toMutation(n._key,nr.exists(!0))])}function EV(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||vO(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(vO(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let f,y,E;if(n instanceof Yn)y=on(n.firestore,ci),E=ly(n._key.path),f={next:I=>{t[c]&&t[c](SO(y,n,I))},error:t[c+1],complete:t[c+2]};else{const I=on(n,ks);y=on(I.firestore,ci),E=I._query;const M=new vg(y);f={next:P=>{t[c]&&t[c](new Xh(y,M,I,P))},error:t[c+1],complete:t[c+2]},hV(n._query)}return function(I,M,P,V){const Q=new qS(V),ye=new Lk(M,Q,P);return I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Ok(yield Sy(I),ye)})),()=>{Q.Aa(),I.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Pk(yield Sy(I),ye)}))}}(rr(y),E,h,f)}function xy(n,t){return function(e,i){const r=new Lr;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function l4(n,t,e){return jk.apply(this,arguments)}(yield mO(e),i,r)})),r.promise}(rr(n),t)}function SO(n,t,e){const i=e.docs.get(t._key),r=new vg(n);return new od(n,r,t._key,i,new yg(e.hasPendingWrites,e.fromCache),t.converter)}class Sz extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=mg(t)}get(t){const e=tp(t,this._firestore),i=new mz(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const o=r[0];if(o.isFoundDocument())return new RC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new RC(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=tp(t,this._firestore),o=ex(r.converter,e,i),c=YS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=tp(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof sd?CO(this._dataReader,"Transaction.update",o._key,e,i,r):bO(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=tp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=tp(t,this._firestore),i=new vg(this._firestore);return super.get(t).then(r=>new od(this._firestore,i,e._key,r._document,new yg(!1,!1),e.converter))}}function xO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function IV(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function SV(){if(!function zH(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){ny=aa.SDK_VERSION,(0,aa._registerComponent)(new Io.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new ci(r,new LH(e.getProvider("auth-internal")),new UH(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,aa.registerVersion)(EF,"3.4.9",n),(0,aa.registerVersion)(EF,"3.4.9","esm2017")}();class FC{constructor(t){this._delegate=t}static fromBase64String(t){return SV(),new FC(Kc.fromBase64String(t))}static fromUint8Array(t){return IV(),new FC(Kc.fromUint8Array(t))}toBase64(){return SV(),this._delegate.toBase64()}toUint8Array(){return IV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DO(n){return function Nz(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Fz{enableIndexedDbPersistence(t,e){return function j4(n,t){iV(n=on(n,ci));const e=rr(n),i=n._freezeSettings(),r=new cO;return nV(e,r,new V2(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function z4(n){iV(n=on(n,ci));const t=rr(n),e=n._freezeSettings(),i=new cO;return nV(t,i,new T4(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function q4(n){if(n._initialized&&!n._terminated)throw new Ne(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(e=(0,Te.Z)(function*(i){if(!Ol.vt())return Promise.resolve();const r=i+"main";yield Ol.delete(r)}),function(i){return e.apply(this,arguments)})(tk(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class xV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof nd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Xb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function L4(n,t,e,i={}){var r;const o=(n=on(n,kC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Xb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=rs.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ne(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new rs(f)}n._authCredentials=new FH(new TF(c,h))}}(this._delegate,t,e,i)}enableNetwork(){return function $4(n){return function A4(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield j2(n),e=yield z2(n);return t.setNetworkEnabled(!0),function(i){const r=Je(i);return r.wu.delete(0),AC(r)}(e)}))}(rr(n=on(n,ci)))}(this._delegate)}disableNetwork(){return function Z4(n){return function M4(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield j2(n),e=yield z2(n);return t.setNetworkEnabled(!1),(i=(0,Te.Z)(function*(r){const o=Je(r);o.wu.add(0),yield vy(o),o.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(rr(n=on(n,ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Z2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function G4(n){return function(t){const e=new Lr;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function h4(n,t){return Zk.apply(this,arguments)}(yield mO(t),e)})),e.promise}(rr(n=on(n,ci)))}(this._delegate)}onSnapshotsInSync(t){return function Iz(n,t){return function R4(n,t){const e=new qS(t);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield Sy(n),r=e,Je(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield Sy(n),r=e,void Je(i).bu.delete(r);var i,r}))}}(rr(n=on(n,ci)),vO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Dy(this,J2(this._delegate,t))}catch(e){throw eo(e,"collection()","Firestore.collection()")}}doc(t){try{return new qa(this,ZS(this._delegate,t))}catch(e){throw eo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new to(this,function V4(n,t){if(n=on(n,kC),yO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ks(n,null,(e=t,new id(ln.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw eo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function xz(n,t,e){n=on(n,ci);const i=Object.assign(Object.assign({},gz),e);return function(r){if(r.maxAttempts<1)throw new Ne(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function P4(n,t,e){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const r=yield(o=n,GS(o).then(c=>c.datastore));var o;new x4(n.asyncQueue,r,e,t,i).run()})),i.promise}(rr(n),r=>t(new Sz(n,r)),i)}(this._delegate,e=>t(new DV(this,e)))}batch(){return rr(this._delegate),new AV(new wV(this._delegate,t=>xy(this._delegate,t)))}loadBundle(t){return function W4(n,t){const e=rr(n=on(n,ci)),i=new U4;return function N4(n,t,e,i){const r=function(o,c){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,y){if(f instanceof Uint8Array)return B2(f,y);if(f instanceof ArrayBuffer)return B2(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new I4(f,c);var f}(e,DC(t));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function E4(n,t,e){const i=Je(n);var r;(r=(0,Te.Z)(function*(o,c,h){try{const f=yield c.getMetadata();if(yield function(M,P){const V=Je(M),Q=Vr(P.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ye=>V._s.getBundleMetadata(ye,P.id)).then(ye=>!!ye&&ye.createTime.compareTo(Q)>=0)}(o.localStore,f))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=f).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(D2(f));const y=new t4(f,o.localStore,c.M);let E=yield c.ma();for(;E;){const M=yield y.Fu(E);M&&h._updateProgress(M),E=yield c.ma()}const I=yield y.complete();return yield rd(o,I.Lu,void 0),yield function(M,P){const V=Je(M);return V.persistence.runTransaction("Save bundle","readwrite",Q=>V._s.saveBundleMetadata(Q,P))}(o.localStore,f),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(f){return Xb("SyncEngine",`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}var M}),function(o,c,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield mO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function K4(n,t){return function F4(n,t){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(e,i){const r=Je(e);return r.persistence.runTransaction("Get named query","readonly",o=>r._s.getNamedQuery(o,i))}(yield gO(n),t)}))}(rr(n=on(n,ci)),t).then(e=>e?new ks(n,null,e.query):null)}(this._delegate,t).then(e=>e?new to(this,e):null)}}class tx extends IO{constructor(t){super(),this.firestore=t}convertBytes(t){return new FC(new Kc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return qa.forKey(e,this.firestore,null)}}class DV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new tx(t)}get(t){const e=bg(t);return this._delegate.get(e).then(i=>new LC(this._firestore,new od(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=bg(t);return i?(xO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=bg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=bg(t);return this._delegate.delete(e),this}}class AV{constructor(t){this._delegate=t}set(t,e,i){const r=bg(t);return i?(xO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=bg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=bg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class wg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new PC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new VC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=wg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new wg(t,new tx(t),e),r.set(e,o)),o}}wg.INSTANCES=new WeakMap;class qa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new tx(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new qa(e,new Yn(e._delegate,i,new We(t)))}static forKey(t,e,i){return new qa(e,new Yn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Dy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Dy(this.firestore,J2(this._delegate,t))}catch(e){throw eo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof Yn&&X2(this._delegate,t)}set(t,e){e=xO("DocumentReference.set",e);try{return e?bV(this._delegate,t,e):bV(this._delegate,t)}catch(i){throw eo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?CV(this._delegate,t):CV(this._delegate,t,e,...i)}catch(r){throw eo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Ez(n){return xy(on(n.firestore,ci),[new hC(n._key,nr.none())])}(this._delegate)}onSnapshot(...t){const e=MV(t),i=kV(t,r=>new LC(this.firestore,new od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return EV(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function yz(n){n=on(n,Yn);const t=on(n.firestore,ci),e=rr(t),i=new vg(t);return function k4(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,c){try{const h=yield function(f,y){const E=Je(f);return E.persistence.runTransaction("read document","readonly",I=>E.fi.Ls(I,y))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ne(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Cy(h,`Failed to get document '${o} from cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield gO(n),t,e);var i})),e.promise}(e,n._key).then(r=>new od(t,i,n._key,r,new yg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function vz(n){n=on(n,Yn);const t=on(n.firestore,ci);return q2(rr(t),n._key,{source:"server"}).then(e=>SO(t,n,e))}(this._delegate):function _z(n){n=on(n,Yn);const t=on(n.firestore,ci);return q2(rr(t),n._key).then(e=>SO(t,n,e))}(this._delegate),e.then(i=>new LC(this.firestore,new od(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new qa(this.firestore,this._delegate.withConverter(t?wg.getInstance(this.firestore,t):null))}}function eo(n,t,e){return n.message=n.message.replace(t,e),n}function MV(n){for(const t of n)if("object"==typeof t&&!DO(t))return t;return{}}function kV(n,t){var e,i;let r;return r=DO(n[0])?n[0]:DO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class LC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return dV(this._delegate,t._delegate)}}class VC extends LC{data(t){const e=this._delegate.data(t);return function PH(n,t){n||ut()}(void 0!==e),e}}class to{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new tx(t)}where(t,e,i){try{return new to(this.firestore,ep(this._delegate,function oz(n,t,e){const i=t,r=XS("where",n);return new sz(r,i,e)}(t,e,i)))}catch(r){throw eo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new to(this.firestore,ep(this._delegate,function lz(n,t="asc"){const e=t,i=XS("orderBy",n);return new az(i,e)}(t,e)))}catch(i){throw eo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new to(this.firestore,ep(this._delegate,function cz(n){return Y2("limit",n),new pV("limit",n,"F")}(t)))}catch(e){throw eo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new to(this.firestore,ep(this._delegate,function uz(n){return Y2("limitToLast",n),new pV("limitToLast",n,"L")}(t)))}catch(e){throw eo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new to(this.firestore,ep(this._delegate,function dz(...n){return new fV("startAt",n,!0)}(...t)))}catch(e){throw eo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new to(this.firestore,ep(this._delegate,function hz(...n){return new fV("startAfter",n,!1)}(...t)))}catch(e){throw eo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new to(this.firestore,ep(this._delegate,function pz(...n){return new gV("endBefore",n,!1)}(...t)))}catch(e){throw eo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new to(this.firestore,ep(this._delegate,function fz(...n){return new gV("endAt",n,!0)}(...t)))}catch(e){throw eo(e,"endAt()","Query.endAt()")}}isEqual(t){return eV(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function bz(n){n=on(n,ks);const t=on(n.firestore,ci),e=rr(t),i=new vg(t);return function O4(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,c){try{const h=yield VS(r,o,!0),f=new k2(o,h._i),y=f.Wu(h.documents),E=f.applyChanges(y,!1);c.resolve(E.snapshot)}catch(h){const f=Cy(h,`Failed to execute query '${o} against cache`);c.reject(f)}}),function(r,o,c){return i.apply(this,arguments)})(yield gO(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Xh(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function Cz(n){n=on(n,ks);const t=on(n.firestore,ci),e=rr(t),i=new vg(t);return G2(e,n._query,{source:"server"}).then(r=>new Xh(t,i,n,r))}(this._delegate):function wz(n){n=on(n,ks);const t=on(n.firestore,ci),e=rr(t),i=new vg(t);return hV(n._query),G2(e,n._query).then(r=>new Xh(t,i,n,r))}(this._delegate),e.then(i=>new AO(this.firestore,new Xh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=MV(t),i=kV(t,r=>new AO(this.firestore,new Xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return EV(this._delegate,e,i)}withConverter(t){return new to(this.firestore,this._delegate.withConverter(t?wg.getInstance(this.firestore,t):null))}}class Vz{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new VC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new to(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new VC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Vz(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new VC(this._firestore,i))})}isEqual(t){return dV(this._delegate,t._delegate)}}class Dy extends to{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new qa(this.firestore,t):null}doc(t){try{return new qa(this.firestore,void 0===t?ZS(this._delegate):ZS(this._delegate,t))}catch(e){throw eo(e,"doc()","CollectionReference.doc()")}}add(t){return function Tz(n,t){const e=on(n.firestore,ci),i=ZS(n),r=ex(n.converter,t);return xy(e,[YS(mg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,nr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new qa(this.firestore,e))}isEqual(t){return X2(this._delegate,t._delegate)}withConverter(t){return new Dy(this.firestore,this._delegate.withConverter(t?wg.getInstance(this.firestore,t):null))}}function bg(n){return on(n,Yn)}class MO{constructor(...t){this._delegate=new sd(...t)}static documentId(){return new MO(gr.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof sd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Cg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Az(){return new wO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Cg(t)}static delete(){const t=function Dz(){return new OC("deleteField")}();return t._methodName="FieldValue.delete",new Cg(t)}static arrayUnion(...t){const e=function Mz(...n){return new X4("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Cg(e)}static arrayRemove(...t){const e=function kz(...n){return new ez("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Cg(e)}static increment(t){const e=function Oz(n){return new tz("increment",n)}(t);return e._methodName="FieldValue.increment",new Cg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Bz={Firestore:xV,GeoPoint:WS,Timestamp:Ui,Blob:FC,Transaction:DV,WriteBatch:AV,DocumentReference:qa,DocumentSnapshot:LC,Query:to,QueryDocumentSnapshot:VC,QuerySnapshot:AO,CollectionReference:Dy,FieldPath:MO,FieldValue:Cg,setLogLevel:function Lz(n){!function RH(n){jh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function OV(n,t){return function jz(n,t=Lh.z){return new Fi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function kO(n,t){return OV(n,t).pipe((0,k.U)(e=>({payload:e,type:"query"})))}function nx(n,t){return kO(n,t).pipe(Oc(void 0),jf(),(0,k.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const f=r.find(E=>E.doc.ref.isEqual(c.ref)),y=null==e?void 0:e.payload.docs.find(E=>E.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function RV(n,t,e){return nx(n,e).pipe(yl((i,r)=>function qz(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Gz(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return OO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return OO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return OO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),L_(),(0,k.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function OO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function PV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Hz(n){(function Uz(n,t){n.INTERNAL.registerComponent(new Io.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Bz)))})(n,(t,e)=>new xV(t,e,new Fz)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(GI.Z);class NV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=nx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,k.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Oc(void 0),jf(),D(([i,r])=>r.length>0||!i),(0,k.U)(([i,r])=>r),An.iC)}auditTrail(t){return this.stateChanges(t).pipe(yl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=PV(t);return RV(this.query,e,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return kO(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),An.iC)}get(t){return(0,Nn.D)(this.query.get(t)).pipe(An.iC)}add(t){return this.ref.add(t)}doc(t){return new FV(this.ref.doc(t),this.afs)}}class FV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=BV(i,e);return new NV(r,o,this.afs)}snapshotChanges(){return function zz(n,t){return OV(n,t).pipe(Oc(void 0),jf(),(0,k.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,k.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Nn.D)(this.ref.get(t)).pipe(An.iC)}}class $z{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nx(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),D(e=>e.length>0),An.iC):nx(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(t){return this.stateChanges(t).pipe(yl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=PV(t);return RV(this.query,e,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return kO(this.query,this.afs.schedulers.outsideAngular).pipe((0,k.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),An.iC)}get(t){return(0,Nn.D)(this.query.get(t)).pipe(An.iC)}}const LV=new s.OlP("angularfire2.enableFirestorePersistence"),VV=new s.OlP("angularfire2.firestore.persistenceSettings"),Zz=new s.OlP("angularfire2.firestore.settings"),Wz=new s.OlP("angularfire2.firestore.use-emulator");function BV(n,t=(e=>e)){return{query:t(n),ref:n}}let Ga=(()=>{class n{constructor(e,i,r,o,c,h,f,y,E,I,M,P,V,Q,ye,He,Xe){this.schedulers=f;const it=(0,Xr.on)(e,h,i),rt=E;I&&Ct(it,h,M,V,Q,ye,P,He),[this.firestore,this.persistenceEnabled$]=(0,Xr.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const At=h.runOutsideAngular(()=>it.firestore());if(o&&At.settings(o),rt&&At.useEmulator(...rt),r&&!Ca(c)){const kt=()=>{try{return(0,Nn.D)(At.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(nn){return"undefined"!=typeof console&&console.warn(nn),bt(!1)}};return[At,h.runOutsideAngular(kt)]}return[At,bt(!1)]},[o,rt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=BV(r,i),h=this.schedulers.ngZone.run(()=>o);return new NV(h,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new $z(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new FV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xr.Dh),s.LFG(Xr.xv,8),s.LFG(LV,8),s.LFG(Zz,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(An.HU),s.LFG(VV,8),s.LFG(Wz,8),s.LFG(h_,8),s.LFG(CT,8),s.LFG(Sf,8),s.LFG(ET,8),s.LFG(u_,8),s.LFG(d_,8),s.LFG(TT,8),s.LFG(c_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Kz=(()=>{class n{constructor(){bT.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:LV,useValue:!0},{provide:VV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ga]}),n})(),Yz=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("houses",i=>i.where("house","==",e)).snapshotChanges()}read_All_Houses(){return this.firestore.collection("houses").snapshotChanges()}create_House(e){return this.firestore.collection("houses").add(e)}update_House(e,i){this.firestore.doc("houses/"+e).update(i)}delete_House(e){this.firestore.doc("houses/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UV=["container"],Qz=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function Jz(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,Qz,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function Xz(n,t){1&n&&s.GkF(0)}function eq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)}),s._UZ(1,"span",11),s.qZA()}}const tq=function(n){return[n,"p-toast-message"]},nq=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},iq=function(n){return{value:"visible",params:n}},rq=function(n){return{$implicit:n}};function sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){return s.CHM(e),s.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return s.CHM(e),s.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return s.CHM(e),s.oxw().onAnimationEnd(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let oq=(()=>{class n{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&s.Gf(UV,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,Jz,7,10,"ng-container",3),s.YNc(4,Xz,1,0,"ng-container",4),s.YNc(5,eq,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(i.message.styleClass),s.Q6J("ngClass",s.VKq(10,tq,"p-toast-message-"+i.message.severity))("@messageState",s.VKq(17,iq,s.l5B(12,nq,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),s.uIk("id",i.message.id),s.xp6(2),s.Q6J("ngClass",i.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(19,rq,i.message)),s.xp6(1),s.Q6J("ngIf",!1!==i.message.closable))},directives:[xn,Lt,gs,Al],encapsulation:2,data:{animation:[Tr("messageState",[qo("visible",Gn({transform:"translateY(0)",opacity:1})),tn("void => *",[Gn({transform:"{{showTransformParams}}",opacity:0}),Ir("{{showTransitionParams}}")]),tn("* => void",[Ir("{{hideTransitionParams}}",Gn({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),Rl=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=Uh()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&Bi.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&ot.isEmpty(this.messages)&&Bi.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Bi.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wn),s.Y36(s.sBO),s.Y36(xl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,fr,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(UV,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,sq,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),s.xp6(2),s.Q6J("ngForOf",i.messages))},directives:[oq,xn,Zi,$t],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Tr("toastAnimation",[tn(":enter, :leave",[Ad("@*",Ma())])])]},changeDetection:0}),n})(),aq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,Ml],Qs]}),n})(),ix=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,re.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&re.addClass(e,i);let r=this.getIconClass();r&&re.addMultipleClasses(e,r);let o=re.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=re.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(re.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,Ml]]}),n})();const cq=["content"];function uq(n,t){1&n&&s.GkF(0)}function dq(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,uq,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function hq(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Oqu(e.option("header"))}}const pq=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function fq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(4).close(r)}),s._UZ(1,"span",17),s.qZA()}2&n&&s.Q6J("ngClass",s.DdM(1,pq))}function gq(n,t){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,hq,2,1,"span",12),s.TgZ(2,"div",13),s.YNc(3,fq,2,2,"button",14),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("header")),s.xp6(2),s.Q6J("ngIf",e.closable)}}function mq(n,t){if(1&n&&s._UZ(0,"i",1),2&n){const e=s.oxw(3);s.Tol(e.option("icon")),s.Q6J("ngClass","p-confirm-dialog-icon")}}function _q(n,t){1&n&&s.GkF(0)}function yq(n,t){if(1&n&&(s.TgZ(0,"div",18),s.Hsn(1),s.YNc(2,_q,1,0,"ng-container",11),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}function vq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).reject()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("rejectButtonStyleClass")),s.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),s.uIk("aria-label",e.rejectAriaLabel)}}function wq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).accept()}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.option("acceptButtonStyleClass")),s.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),s.uIk("aria-label",e.acceptAriaLabel)}}function bq(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,vq,1,6,"button",19),s.YNc(2,wq,1,6,"button",19),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.option("rejectVisible")),s.xp6(1),s.Q6J("ngIf",e.option("acceptVisible"))}}const Cq=function(n){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}},Eq=function(n,t){return{transform:n,transition:t}},Tq=function(n){return{value:"visible",params:n}};function Iq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("mousedown",function(){return s.CHM(e),s.oxw(2).moveOnTop()})("@animation.start",function(r){return s.CHM(e),s.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw(2).onAnimationEnd(r)}),s.YNc(1,dq,2,1,"div",4),s.YNc(2,gq,4,2,"div",4),s.TgZ(3,"div",5,6),s.YNc(5,mq,1,3,"i",7),s._UZ(6,"span",8),s.qZA(),s.YNc(7,yq,3,1,"div",9),s.YNc(8,bq,3,2,"div",9),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.VKq(11,Cq,e.rtl))("ngStyle",e.style)("@animation",s.VKq(16,Tq,s.WLB(13,Eq,e.transformOptions,e.transitionOptions))),s.xp6(1),s.Q6J("ngIf",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.headerTemplate),s.xp6(3),s.Q6J("ngIf",e.option("icon")),s.xp6(1),s.Q6J("innerHTML",e.option("message"),s.oJD),s.xp6(1),s.Q6J("ngIf",e.footer||e.footerTemplate),s.xp6(1),s.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function Sq(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,Iq,9,18,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",e.getMaskClass()),s.xp6(1),s.Q6J("ngIf",e.visible)}}const xq=[[["p-footer"]]],Dq=["p-footer"],Aq=Us([Gn({transform:"{{transform}}",opacity:0}),Ir("{{transition}}",Gn({transform:"none",opacity:1}))]),Mq=Us([Ir("{{transition}}",Gn({transform:"{{transform}}",opacity:0}))]);let Pl=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.confirmationService=r,this.zone=o,this.cd=c,this.config=h,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new s.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=Uh(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(f=>{f?f.key===this.key&&(this.confirmation=f,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new s.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new s.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){if("visible"===e.toState){this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=re.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const i=this.getElementToFocus();i&&i.focus()}}onAnimationEnd(e){"void"===e.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return re.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return re.findSingle(this.container,".p-confirm-dialog-reject");case"close":return re.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):re.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&re.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&re.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Dl.CANCEL),this.hide(Dl.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(Bi.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{if(27==i.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===Bi.get(this.container)&&this.visible&&this.close(i),9===i.which&&this.focusTrap){i.preventDefault();let r=re.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);i.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&Bi.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Dl.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Dl.REJECT),this.hide(Dl.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(pi.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(pi.REJECT)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(ai),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(xl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,IA,5),s.Suo(r,fr,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(cq,5),2&e){let r;s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:Dq,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,i){1&e&&(s.F$t(xq),s.YNc(0,Sq,2,4,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},directives:[Lt,xn,Zi,gs,Al,ix],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Tr("animation",[tn("void => visible",[$o(Aq)]),tn("visible => void",[$o(Mq)])])]},changeDetection:0}),n})(),kq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,np,Ml],np,Qs]}),n})(),$a=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Xi,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})();const Oq=["input"];function Rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}const HV=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},jV=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Pq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,HV))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,jV))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Nq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onUpButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onUpButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onUpButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onUpButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,HV))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function Fq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return s.CHM(e),s.oxw().onDownButtonMouseUp()})("mouseleave",function(){return s.CHM(e),s.oxw().onDownButtonMouseLeave()})("keydown",function(r){return s.CHM(e),s.oxw().onDownButtonKeyDown(r)})("keyup",function(){return s.CHM(e),s.oxw().onDownButtonKeyUp()}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,jV))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Lq=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},Vq={provide:Or,useExisting:(0,s.Gpc)(()=>zV),multi:!0};let zV=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,c=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(c).length||(this.updateInput(c,null,"spin",null),this.updateModel(e,c),this.handleOnInput(e,o,c))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,c=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:c=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(c),this.input.nativeElement.setAttribute("aria-valuenow",c),this.updateModel(e,c);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,c=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i-1,i-1):c=o.slice(0,i-1)+o.slice(i);else if(f>0&&i>f){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";c=o.slice(0,i-1)+I+o.slice(i)}else 1===y?(c=o.slice(0,i-1)+"0"+o.slice(i),c=this.parseValue(c)>0?c:""):c=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,c,null,"delete-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const E=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,c=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,E?this.input.nativeElement.setSelectionRange(i+1,i+1):c=o.slice(0,i)+o.slice(i+1);else if(f>0&&i>f){const I=this.isDecimalMode()&&(this.minFractionDigits||0)<E?"":"0";c=o.slice(0,i)+I+o.slice(i+1)}else 1===y?(c=o.slice(0,i)+"0"+o.slice(i+1),c=this.parseValue(c)>0?c:""):c=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,c,null,"delete-back-single")}else c=this.deleteRange(o,i,r),this.updateValue(e,c,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),c=this.isMinusSign(r);(48<=i&&i<=57||c||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:c})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const c=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:c}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let c=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,f=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:E,suffixCharIndex:I,currencyCharIndex:M}=this.getCharIndexes(f);let P;if(r.isMinusSign)0===c&&(P=f,(-1===E||0!==h)&&(P=this.insertText(f,i,0,h)),this.updateValue(e,P,i,"insert"));else if(r.isDecimalSign)y>0&&c===y?this.updateValue(e,f,i,"insert"):(y>c&&y<h||-1===y&&this.maxFractionDigits)&&(P=this.insertText(f,i,c,h),this.updateValue(e,P,i,"insert"));else{const V=this.numberFormat.resolvedOptions().maximumFractionDigits,Q=c!==h?"range-insert":"insert";if(y>0&&c>y){if(c+i.length-(y+1)<=V){const ye=M>=c?M-1:I>=c?I:f.length;P=f.slice(0,c)+i+f.slice(c+i.length,ye)+f.slice(ye),this.updateValue(e,P,i,Q)}}else P=this.insertText(f,i,c,h),this.updateValue(e,P,i,Q)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,c=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=c;let h=i.charAt(e);if(this.isNumeralChar(h))return e+c;let f=e-1;for(;f>=0;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+c;break}f--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(f=e;f<r;){if(h=i.charAt(f),this.isNumeralChar(h)){o=f+c;break}f++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let c=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,c,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let c=this.input.nativeElement.value,h=this.formatValue(e),f=c.length;if(h!==o&&(h=this.concatValues(h,o)),0===f){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const E=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(E,E)}else{let y=this.input.nativeElement.selectionStart,E=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let I=h.length;if("range-insert"===r){const M=this.parseValue((c||"").slice(0,y)),V=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),Q=new RegExp(V,"g");Q.test(h);const ye=i.split("").join(`(${this.groupChar})?`),He=new RegExp(ye,"g");He.test(h.slice(Q.lastIndex)),E=Q.lastIndex+He.lastIndex,this.input.nativeElement.setSelectionRange(E,E)}else if(I===f)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(E+1,E+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(E-1,E-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(E,E);else if("delete-back-single"===r){let M=c.charAt(E-1),P=c.charAt(E),V=f-I,Q=this._group.test(P);Q&&1===V?E+=1:!Q&&this.isNumeralChar(M)&&(E+=-1*V+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(E,E)}else if("-"===c&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const P=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(P,P)}else E+=I-f,this.input.nativeElement.setSelectionRange(E,E)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(Oq,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([Vq]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,Rq,1,0,"i",3),s.YNc(4,Pq,3,12,"span",4),s.YNc(5,Nq,1,6,"button",5),s.YNc(6,Fq,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,Lq,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[xn,Zi,$a,Lt,ix],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,rx,np]]}),n})();function Bq(n,t){1&n&&s.GkF(0)}const PO=function(n){return{$implicit:n}};function Uq(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,Bq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,PO,e.paginatorState))}}function Hq(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const sx=function(n){return{"p-disabled":n}};function jq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToFirst(r)}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,sx,e.isFirstPage()||e.empty()))}}const zq=function(n){return{"p-highlight":n}};function qq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw(3).onPageLinkClick(r,c-1)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,zq,e-1==i.getPage())),s.xp6(1),s.Oqu(e)}}function Gq(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,qq,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function $q(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function Zq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){return s.CHM(e),s.oxw(2).onPageDropdownChange(r)}),s.YNc(1,$q,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function Wq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).changePageToLast(r)}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,sx,e.isLastPage()||e.empty()))}}function Kq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).changePage(r-1)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function Yq(n,t){1&n&&s.GkF(0)}function Qq(n,t){if(1&n&&s.YNc(0,Yq,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,PO,e))}}function Jq(n,t){1&n&&(s.ynx(0),s.YNc(1,Qq,1,4,"ng-template",30),s.BQk())}function Xq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw(2).rows=r})("onChange",function(r){return s.CHM(e),s.oxw(2).onRppChange(r)}),s.YNc(1,Jq,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function eG(n,t){1&n&&s.GkF(0)}function tG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,eG,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,PO,e.paginatorState))}}function nG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,Uq,2,4,"div",2),s.YNc(2,Hq,2,1,"span",3),s.YNc(3,jq,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToPrev(r)}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,Gq,2,1,"span",7),s.YNc(7,Zq,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().changePageToNext(r)}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,Wq,2,4,"button",11),s.YNc(11,Kq,1,2,"p-inputNumber",12),s.YNc(12,Xq,2,6,"p-dropdown",13),s.YNc(13,tG,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,sx,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,sx,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let iG=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,nG,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[Nr,zV,Lt,Zi,xn,gs,Al,$t,Pr,Xi,fr],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),rG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,Z_,RO,lb,Qs,Ml],Z_,RO,lb,Qs]}),n})();function sG(n,t){if(1&n&&s._UZ(0,"span",8),2&n){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function oG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,sG,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(i.getOptionLabel(e))}}function aG(n,t){1&n&&s.GkF(0)}const lG=function(n,t){return{$implicit:n,index:t}};function cG(n,t){if(1&n&&s.YNc(0,aG,1,0,"ng-container",9),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",s.WLB(2,lG,i,r))}}const uG=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function dG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(e),c=o.$implicit,h=o.index;return s.oxw().onItemClick(r,c,h)})("keydown.enter",function(r){const o=s.CHM(e),c=o.$implicit,h=o.index;return s.oxw().onItemClick(r,c,h)})("blur",function(){return s.CHM(e),s.oxw().onBlur()}),s.YNc(2,oG,4,2,"ng-container",4),s.YNc(3,cG,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(4),r=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,uG,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),s.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const hG={provide:Or,useExisting:(0,s.Gpc)(()=>pG),multi:!0};let pG=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?ot.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?ot.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?ot.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let o=this.getOptionValue(i);this.value!==o&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!ot.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let o of this.value)if(ot.equals(o,r,this.dataKey)){i=!0;break}}else i=ot.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,s.Rgc,5),2&e){let o;s.iGM(o=s.CRH())&&(i.itemTemplate=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([hG])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,dG,5,14,"div",1),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),s.xp6(1),s.Q6J("ngForOf",i.options))},directives:[xn,Zi,$t,Al,Lt,gs],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),fG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,Ml]]}),n})();const gG=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function mG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(),c=s.MAs(3);return o.onClick(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,gG,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const _G=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},yG=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},vG={provide:Or,useExisting:(0,s.Gpc)(()=>wG),multi:!0};let wG=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([vG])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(c){return i.onKeyup(c)})("keydown",function(c){return i.onKeydown(c)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(c){s.CHM(r);const h=s.MAs(3);return i.onClick(c,h)}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,mG,2,7,"label",6)}2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.WLB(14,_G,i.disabled,i.focused)),s.xp6(2),s.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),s.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,yG,null!=i.value,i.disabled,i.focused)),s.uIk("aria-checked",!0===i.value),s.xp6(1),s.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",i.label))},directives:[Zi,xn,Lt],encapsulation:2,changeDetection:0}),n})(),bG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})();const CG=["container"],EG=["inputfield"],TG=["contentWrapper"];function IG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).clear()}),s.qZA()}}function SG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const o=s.MAs(1);return s.oxw().onButtonClick(r,o)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function xG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("keydown",function(r){return s.CHM(e),s.oxw().onInputKeydown(r)})("click",function(){return s.CHM(e),s.oxw().onInputClick()})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("input",function(r){return s.CHM(e),s.oxw().onUserInput(r)}),s.qZA(),s.YNc(2,IG,1,0,"i",6),s.YNc(3,SG,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function DG(n,t){1&n&&s.GkF(0)}function AG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(4).onPrevButtonClick(r)}),s._UZ(1,"span",31),s.qZA()}}function MG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToMonthView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function kG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToYearView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function OG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function RG(n,t){1&n&&s.GkF(0)}const qV=function(n){return{$implicit:n}};function PG(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,OG,2,2,"ng-container",13),s.YNc(2,RG,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,qV,e.yearPickerValues))}}function NG(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function FG(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function LG(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function VG(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function BG(n,t){1&n&&s.GkF(0)}const UG=function(n,t){return{"p-highlight":n,"p-disabled":t}};function HG(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(6).onDateSelect(r,o)})("keydown",function(r){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw(3).index;return s.oxw(3).onDateCellKeydown(r,o,c)}),s.YNc(2,VG,2,1,"ng-container",13),s.YNc(3,BG,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,UG,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,qV,e))}}const jG=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function zG(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,HG,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,jG,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function qG(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,LG,3,1,"td",43),s.YNc(2,zG,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function GG(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,NG,3,1,"th",38),s.YNc(5,FG,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,qG,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function $G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,AG,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,MG,2,2,"button",24),s.YNc(5,kG,2,2,"button",25),s.YNc(6,PG,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).onNextButtonClick(r)}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,GG,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}const GV=function(n){return{"p-highlight":n}};function ZG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const c=s.CHM(e).index;return s.oxw(4).onMonthSelect(r,c)})("keydown",function(r){const c=s.CHM(e).index;return s.oxw(4).onMonthCellKeydown(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(2,GV,r.isMonthSelected(i))),s.xp6(1),s.hij(" ",e," ")}}function WG(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,ZG,2,4,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}function KG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw(4).onYearSelect(r,c)})("keydown",function(r){const c=s.CHM(e).$implicit;return s.oxw(4).onYearCellKeydown(r,c)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,GV,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function YG(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,KG,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function QG(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,$G,10,7,"div",17),s.qZA(),s.YNc(3,WG,2,1,"div",18),s.YNc(4,YG,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function JG(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function XG(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function e$(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function t$(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function n$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,t$,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function i$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function r$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,JG,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,XG,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,e$,3,1,"div",62),s.YNc(21,n$,8,2,"div",63),s.YNc(22,i$,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const $V=function(n){return[n]};function s$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onTodayButtonClick(r)}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onClearButtonClick(r)}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,$V,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,$V,e.clearButtonStyleClass))}}function o$(n,t){1&n&&s.GkF(0)}const a$=function(n,t,e,i,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},ZV=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},l$=function(n){return{value:"visibleTouchUI",params:n}},c$=function(n){return{value:"visible",params:n}};function u$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationDone(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.Hsn(2),s.YNc(3,DG,1,0,"ng-container",12),s.YNc(4,QG,5,3,"ng-container",13),s.YNc(5,r$,23,8,"div",14),s.YNc(6,s$,3,8,"div",15),s.Hsn(7,1),s.YNc(8,o$,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,a$,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,l$,s.WLB(18,ZV,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,c$,s.WLB(23,ZV,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const d$=[[["p-header"]],[["p-footer"]]],h$=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},p$=["p-header","p-footer"],f$={provide:Or,useExisting:(0,s.Gpc)(()=>g$),multi:!0};let g$=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.config=c,this.overlayService=h,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(f,y){return"12"==this.hourFormat?12===f?y?12:0:y?f+12:f:f}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),o=parseInt(i[1]);this.populateYearOptions(r,o)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=Uh();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=re.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(pi.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let o=e+r,c=i;o>11&&(o=o%11-1,c=i+1),this.months.push(this.createMonth(o,c))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],o=this.getFirstDayOfMonthIndex(e,i),c=this.getDaysCountInMonth(e,i),h=this.getDaysCountInPrevMonth(e,i),f=1,y=new Date,E=[],I=Math.ceil((c+o)/7);for(let M=0;M<I;M++){let P=[];if(0==M){for(let Q=h-o+1;Q<=h;Q++){let ye=this.getPreviousMonthAndYear(e,i);P.push({day:Q,month:ye.month,year:ye.year,otherMonth:!0,today:this.isToday(y,Q,ye.month,ye.year),selectable:this.isSelectable(Q,ye.month,ye.year,!0)})}let V=7-P.length;for(let Q=0;Q<V;Q++)P.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)}),f++}else for(let V=0;V<7;V++){if(f>c){let Q=this.getNextMonthAndYear(e,i);P.push({day:f-c,month:Q.month,year:Q.year,otherMonth:!0,today:this.isToday(y,f-c,Q.month,Q.year),selectable:this.isSelectable(f-c,Q.month,Q.year,!0)})}else P.push({day:f,month:e,year:i,today:this.isToday(y,f,e,i),selectable:this.isSelectable(f,e,i,!1)});f++}this.showWeek&&E.push(this.getWeekNumber(new Date(P[0].year,P[0].month,P[0].day))),r.push(P)}return{month:e,year:i,dates:r,weekNumbers:E}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,o)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],o=this.value[1];!o&&i.getTime()>=r.getTime()?o=i:(r=i,o=null),this.updateModel([r,o])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let o=r.getDay()+this.getSundayIndex();return o>=7?o-7:o}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,o;return 0===e?(r=11,o=i-1):(r=e-1,o=i),{month:r,year:o}}getNextMonthAndYear(e,i){let r,o;return 11===e?(r=0,o=i+1):(r=e+1,o=i),{month:r,year:o}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let c=new Date(r.year,r.month,r.day);return e.getTime()<=c.getTime()&&i.getTime()>=c.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,o){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===o}isSelectable(e,i,r,o){let c=!0,h=!0,f=!0,y=!0;return!(o&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(c=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(h=!1),this.disabledDates&&(f=!this.isDateDisabled(e,i,r)),this.disabledDays&&(y=!this.isDayDisabled(e,i,r)),c&&h&&f&&y)}isDateDisabled(e,i,r){if(this.disabledDates)for(let o of this.disabledDates)if(o.getFullYear()===r&&o.getMonth()===i&&o.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let c=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(c)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(re.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const o=e.currentTarget,c=o.parentElement;switch(e.which){case 40:{o.tabIndex="-1";let h=re.index(c),f=c.parentElement.nextElementSibling;f?re.hasClass(f.children[h].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(f.children[h].children[0].tabIndex="0",f.children[h].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{o.tabIndex="-1";let h=re.index(c),f=c.parentElement.previousElementSibling;if(f){let y=f.children[h].children[0];re.hasClass(y,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(y.tabIndex="0",y.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{o.tabIndex="-1";let h=c.previousElementSibling;if(h){let f=h.children[0];re.hasClass(f,"p-disabled")||re.hasClass(f.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{o.tabIndex="-1";let h=c.nextElementSibling;if(h){let f=h.children[0];re.hasClass(f,"p-disabled")?this.navigateToMonth(!1,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=re.index(r);let h=o[40===e.which?c+3:c-3];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var o=r.parentElement.children,c=re.index(r);let h=o[40===e.which?c+2:c-2];h&&(h.tabIndex="0",h.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let h=r.previousElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let h=r.nextElementSibling;h?(h.tabIndex="0",h.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let o=re.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),c=o[o.length-1];c.tabIndex="0",c.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let o=re.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");o.tabIndex="0",o.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=re.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=re.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if("year"===this.currentView){let i=re.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=re.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(o=>o.tabIndex=-1),e=r||i[0],0===i.length&&re.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if(e=re.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=re.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||re.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=re.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,o){let c=this.value;const h=this.convertTo24Hour(e,o);this.isRangeSelection()&&(c=this.value[1]||this.value[0]),this.isMultipleSelection()&&(c=this.value[this.value.length-1]);const f=c?c.toDateString():null;return!(this.minDate&&f&&this.minDate.toDateString()===f&&(this.minDate.getHours()>h||this.minDate.getHours()===h&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&f&&this.maxDate.toDateString()===f&&(this.maxDate.getHours()<h||this.maxDate.getHours()===h&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,o=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(o=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,o){let c=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,o),this.cd.markForCheck()},c),r){case 0:1===o?this.incrementHour(e):this.decrementHour(e);break;case 1:1===o?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===o?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let o of r)i.push(this.parseDateTime(o.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let o=0;o<r.length;o++)i[o]=this.parseDateTime(r[o].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const o=this.getDateFormat();if(this.showTime){let c="12"==this.hourFormat?r.pop():null,h=r.pop();i=this.parseDate(r.join(" "),o),this.populateTime(i,h,c)}else i=this.parseDate(e,o)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let o=this.parseTime(i);e.setHours(o.hour),e.setMinutes(o.minute),e.setSeconds(o.second)}isValidDate(e){return e instanceof Date&&ot.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Bi.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Bi.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Bi.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=re.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=re.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",re.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):re.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),re.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),re.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(re.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(re.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||re.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(i){this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(pi.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const o=E=>{const I=r+1<i.length&&i.charAt(r+1)===E;return I&&r++,I},c=(E,I,M)=>{let P=""+I;if(o(E))for(;P.length<M;)P="0"+P;return P},h=(E,I,M,P)=>o(E)?P[I]:M[I];let f="",y=!1;if(e)for(r=0;r<i.length;r++)if(y)"'"!==i.charAt(r)||o("'")?f+=i.charAt(r):y=!1;else switch(i.charAt(r)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=h("D",e.getDay(),this.getTranslation(pi.DAY_NAMES_SHORT),this.getTranslation(pi.DAY_NAMES));break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=h("M",e.getMonth(),this.getTranslation(pi.MONTH_NAMES_SHORT),this.getTranslation(pi.MONTH_NAMES));break;case"y":f+=o("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this.ticksTo1970;break;case"'":o("'")?f+="'":y=!0;break;default:f+=i.charAt(r)}return f}formatTime(e){if(!e)return"";let i="",r=e.getHours(),o=e.getMinutes(),c=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=o<10?"0"+o:o,this.showSeconds&&(i+=":",i+=c<10?"0"+c:c),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let o=parseInt(i[0]),c=parseInt(i[1]),h=this.showSeconds?parseInt(i[2]):null;if(isNaN(o)||isNaN(c)||o>23||c>59||"12"==this.hourFormat&&o>12||this.showSeconds&&(isNaN(h)||h>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==o&&this.pm?o+=12:!this.pm&&12===o&&(o-=12)),{hour:o,minute:c,second:h}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,o,c,V,h=0,f="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),y=-1,E=-1,I=-1,M=-1,P=!1,Q=it=>{let rt=r+1<i.length&&i.charAt(r+1)===it;return rt&&r++,rt},ye=it=>{let rt=Q(it),At="@"===it?14:"!"===it?20:"y"===it&&rt?4:"o"===it?3:2,nn=new RegExp("^\\d{"+("y"===it?At:1)+","+At+"}"),Qn=e.substring(h).match(nn);if(!Qn)throw"Missing number at position "+h;return h+=Qn[0].length,parseInt(Qn[0],10)},He=(it,rt,At)=>{let kt=-1,nn=Q(it)?At:rt,Qn=[];for(let ji=0;ji<nn.length;ji++)Qn.push([ji,nn[ji]]);Qn.sort((ji,io)=>-(ji[1].length-io[1].length));for(let ji=0;ji<Qn.length;ji++){let io=Qn[ji][1];if(e.substr(h,io.length).toLowerCase()===io.toLowerCase()){kt=Qn[ji][0],h+=io.length;break}}if(-1!==kt)return kt+1;throw"Unknown name at position "+h},Xe=()=>{if(e.charAt(h)!==i.charAt(r))throw"Unexpected literal at position "+h;h++};for("month"===this.view&&(I=1),r=0;r<i.length;r++)if(P)"'"!==i.charAt(r)||Q("'")?Xe():P=!1;else switch(i.charAt(r)){case"d":I=ye("d");break;case"D":He("D",this.getTranslation(pi.DAY_NAMES_SHORT),this.getTranslation(pi.DAY_NAMES));break;case"o":M=ye("o");break;case"m":E=ye("m");break;case"M":E=He("M",this.getTranslation(pi.MONTH_NAMES_SHORT),this.getTranslation(pi.MONTH_NAMES));break;case"y":y=ye("y");break;case"@":V=new Date(ye("@")),y=V.getFullYear(),E=V.getMonth()+1,I=V.getDate();break;case"!":V=new Date((ye("!")-this.ticksTo1970)/1e4),y=V.getFullYear(),E=V.getMonth()+1,I=V.getDate();break;case"'":Q("'")?Xe():P=!0;break;default:Xe()}if(h<e.length&&(c=e.substr(h),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===y?y=(new Date).getFullYear():y<100&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=f?0:-100)),M>-1)for(E=1,I=M;o=this.getDaysCountInMonth(y,E-1),!(I<=o);)E++,I-=o;if(V=this.daylightSavingAdjust(new Date(y,E-1,I)),V.getFullYear()!==y||V.getMonth()+1!==E||V.getDate()!==I)throw"Invalid date";return V}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,o)=>-1*r.breakpoint.localeCompare(o.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:o,numMonths:c}=i[r],h=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let f=c;f<this.numberOfMonths;f++)h+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${f+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${o}) {\n                            ${h}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new q_(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return re.hasClass(e.target,"p-datepicker-prev")||re.hasClass(e.target,"p-datepicker-prev-icon")||re.hasClass(e.target,"p-datepicker-next")||re.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!re.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Bi.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(xl),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,fr,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(CG,5),s.Gf(EG,5),s.Gf(TG,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([f$])],ngContentSelectors:p$,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(d$),s.TgZ(0,"span",0,1),s.YNc(2,xG,4,17,"ng-template",2),s.YNc(3,u$,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,h$,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[xn,Zi,Lt,ix,Al,gs,$t],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Tr("overlayAnimation",[qo("visibleTouchUI",Gn({transform:"translate(-50%,-50%)",opacity:1})),tn("void => visible",[Gn({opacity:0,transform:"scaleY(0.8)"}),Ir("{{showTransitionParams}}",Gn({opacity:1,transform:"*"}))]),tn("visible => void",[Ir("{{hideTransitionParams}}",Gn({opacity:0}))]),tn("void => visibleTouchUI",[Gn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Ir("{{showTransitionParams}}")]),tn("visibleTouchUI => void",[Ir("{{hideTransitionParams}}",Gn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,np,Qs,Ml],np,Qs]}),n})();const _$=["container"],y$=["resizeHelper"],v$=["reorderIndicatorUp"],w$=["reorderIndicatorDown"],b$=["wrapper"],C$=["table"],E$=["tableHeader"];function T$(n,t){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"i"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function I$(n,t){1&n&&s.GkF(0)}function S$(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,I$,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function x$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",17),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function D$(n,t){1&n&&s.GkF(0)}function A$(n,t){1&n&&s.GkF(0)}function M$(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function k$(n,t){1&n&&s.GkF(0)}const ip=function(n){return{$implicit:n}};function O$(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,k$,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,ip,e.columns))}}function R$(n,t){if(1&n&&(s.TgZ(0,"table",18,19),s.YNc(2,D$,1,0,"ng-container",20),s.TgZ(3,"thead",21),s.YNc(4,A$,1,0,"ng-container",20),s.qZA(),s.YNc(5,M$,1,5,"tbody",22),s._UZ(6,"tbody",23),s.YNc(7,O$,2,4,"tfoot",24),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(12,ip,e.columns)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(14,ip,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function P$(n,t){1&n&&s.GkF(0)}function N$(n,t){1&n&&s.GkF(0)}function F$(n,t){if(1&n&&s._UZ(0,"tbody",25),2&n){const e=s.oxw(2);s.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function L$(n,t){1&n&&s.GkF(0)}function V$(n,t){if(1&n&&(s.TgZ(0,"tfoot",26),s.YNc(1,L$,1,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,ip,e.columns))}}function B$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",27),s.NdJ("scrolledIndexChange",function(r){return s.CHM(e),s.oxw().onScrollIndexChange(r)}),s.TgZ(1,"table",18,19),s.YNc(3,P$,1,0,"ng-container",20),s.TgZ(4,"thead",21,28),s.YNc(6,N$,1,0,"ng-container",20),s.qZA(),s.YNc(7,F$,1,5,"tbody",22),s._UZ(8,"tbody",23),s.YNc(9,V$,2,4,"tfoot",24),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),s.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),s.xp6(1),s.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s.uIk("id",e.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",s.VKq(17,ip,e.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",s.VKq(19,ip,e.columns)),s.xp6(1),s.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),s.xp6(1),s.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),s.xp6(1),s.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function U$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",29),s.NdJ("onPageChange",function(r){return s.CHM(e),s.oxw().onPageChange(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function H$(n,t){1&n&&s.GkF(0)}function j$(n,t){if(1&n&&(s.TgZ(0,"div",30),s.YNc(1,H$,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function z$(n,t){1&n&&s._UZ(0,"div",31,32)}function q$(n,t){1&n&&s._UZ(0,"span",33,34)}function G$(n,t){1&n&&s._UZ(0,"span",35,36)}const $$=function(n,t,e,i,r,o,c,h,f,y,E,I,M,P){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":o,"p-datatable-scrollable-horizontal":c,"p-datatable-scrollable-both":h,"p-datatable-flex-scrollable":f,"p-datatable-responsive-stack":y,"p-datatable-responsive-scroll":E,"p-datatable-responsive":I,"p-datatable-grouped-header":M,"p-datatable-grouped-footer":P}},Z$=function(n){return{height:n}},W$=["pTableBody",""];function K$(n,t){1&n&&s.GkF(0)}const ox=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function Y$(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,K$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,ox,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function Q$(n,t){1&n&&s.GkF(0)}function J$(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Q$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.qbA(2,ox,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function X$(n,t){1&n&&s.GkF(0)}const eZ=function(n,t,e,i,r,o,c){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:o,rowspan:c}};function tZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,X$,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.Hh0(2,eZ,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen,o.shouldRenderRowspan(o.value,i,r),o.calculateRowGroupSize(o.value,i,r)))}}function nZ(n,t){1&n&&s.GkF(0)}function iZ(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,nZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,ox,i,o.dt.paginator?o.dt.first+r:r,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function rZ(n,t){if(1&n&&(s.YNc(0,Y$,2,8,"ng-container",2),s.YNc(1,J$,2,8,"ng-container",0),s.YNc(2,tZ,2,10,"ng-container",0),s.YNc(3,iZ,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function sZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,rZ,4,4,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function oZ(n,t){1&n&&s.GkF(0)}function aZ(n,t){if(1&n&&s.YNc(0,oZ,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,ox,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function lZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,aZ,1,8,"ng-template",5),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkVirtualForOf",e.dt.filteredValue||e.dt.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function cZ(n,t){1&n&&s.GkF(0)}const ax=function(n,t,e,i,r,o){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:o}};function uZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,cZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,ax,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function dZ(n,t){1&n&&s.GkF(0)}function hZ(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,dZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,ax,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}function pZ(n,t){1&n&&s.GkF(0)}function fZ(n,t){1&n&&s.GkF(0)}function gZ(n,t){if(1&n&&(s.ynx(0,3),s.YNc(1,fZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(2),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,ax,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.dt.isRowExpanded(i),"row"===o.dt.editMode&&o.dt.isRowEditing(i),o.frozen))}}const WV=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function mZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,pZ,1,0,"ng-container",4),s.YNc(2,gZ,2,9,"ng-container",2),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,WV,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,i,r))}}function _Z(n,t){if(1&n&&(s.YNc(0,uZ,2,9,"ng-container",0),s.YNc(1,hZ,2,9,"ng-container",2),s.YNc(2,mZ,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function yZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,_Z,3,3,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function vZ(n,t){1&n&&s.GkF(0)}function wZ(n,t){1&n&&s.GkF(0)}function bZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,wZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw(),i=e.$implicit,r=e.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,WV,i,o.dt.paginator?o.dt.first+r:r,o.columns,o.frozen))}}function CZ(n,t){if(1&n&&(s.YNc(0,vZ,1,0,"ng-container",4),s.YNc(1,bZ,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,ax,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(e))}}function EZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,CZ,2,10,"ng-template",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function TZ(n,t){1&n&&s.GkF(0)}const KV=function(n,t){return{$implicit:n,frozen:t}};function IZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,TZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,KV,e.columns,e.frozen))}}function SZ(n,t){1&n&&s.GkF(0)}function xZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,SZ,1,0,"ng-container",4),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,KV,e.columns,e.frozen))}}let lx=(()=>{class n{constructor(){this.sortSource=new mn.x,this.selectionSource=new mn.x,this.contextMenuSource=new mn.x,this.valueSource=new mn.x,this.totalRecordsSource=new mn.x,this.columnsSource=new mn.x,this.resetSource=new mn.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fa=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.zone=i,this.tableService=r,this.cd=o,this.filterService=c,this.overlayService=h,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(f,y)=>y,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Uh(),this.virtualScrollInitialized=!1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(ot.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(ot.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,o=this.getSortMeta(e.field);o?r?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((o,c)=>{let h=ot.resolveFieldData(o,e),f=ot.resolveFieldData(c,e),y=null;return y=null==h&&null!=f?-1:null!=h&&null==f?1:null==h&&null==f?0:"string"==typeof h&&"string"==typeof f?h.localeCompare(f):h<f?-1:h>f?1:0,i*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,o){let c=ot.resolveFieldData(e,r[o].field),h=ot.resolveFieldData(i,r[o].field),f=null;if(null==c&&null!=h)f=-1;else if(null!=c&&null==h)f=1;else if(null==c&&null==h)f=0;else if("string"==typeof c||c instanceof String){if(c.localeCompare&&c!=h)return r[o].order*c.localeCompare(h)}else f=c<h?-1:1;return c==h?r.length-1>o?this.multisortField(e,i,r,o+1):0:r[o].order*f}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,o=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&!re.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let c=e.rowData,h=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)re.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=h,this.selectRange(e.originalEvent,h);else{let f=this.isSelected(c);if(!f&&!this.isRowSelectable(c,h))return;let y=!this.rowTouched&&this.metaKeySelection,E=this.dataKey?String(ot.resolveFieldData(c,this.dataKey)):null;if(this.anchorRowIndex=h,this.rangeRowIndex=h,y){let I=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(f&&I){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let M=this.findIndexInSelection(c);this._selection=this.selection.filter((P,V)=>V!=M),this.selectionChange.emit(this.selection),E&&delete this.selectionKeys[E]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row"})}else this.isSingleSelectionMode()?(this._selection=c,this.selectionChange.emit(c),E&&(this.selectionKeys={},this.selectionKeys[E]=1)):this.isMultipleSelectionMode()&&(I?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,c],this.selectionChange.emit(this.selection),E&&(this.selectionKeys[E]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h})}else if("single"===this.selectionMode)f?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h})):(this._selection=c,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),E&&(this.selectionKeys={},this.selectionKeys[E]=1));else if("multiple"===this.selectionMode)if(f){let I=this.findIndexInSelection(c);this._selection=this.selection.filter((M,P)=>P!=I),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),E&&delete this.selectionKeys[E]}else this._selection=this.selection?[...this.selection,c]:[c],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:h}),E&&(this.selectionKeys[E]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(i),c=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(!o){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),c&&(this.selectionKeys={},this.selectionKeys[c]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),c&&(this.selectionKeys[c]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,o;this.anchorRowIndex>i?(r=i,o=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,o=i):(r=i,o=i),this.lazy&&this.paginator&&(r-=this.first,o-=this.first);let c=[];for(let h=r;h<=o;h++){let f=this.filteredValue?this.filteredValue[h]:this.value[h];if(!this.isSelected(f)){if(!this.isRowSelectable(f,i))continue;c.push(f),this._selection=[...this.selection,f];let y=this.dataKey?String(ot.resolveFieldData(f,this.dataKey)):null;y&&(this.selectionKeys[y]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:c,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let o=i;o<=r;o++){let c=this.value[o],h=this.findIndexInSelection(c);this._selection=this.selection.filter((y,E)=>E!=h);let f=this.dataKey?String(ot.resolveFieldData(c,this.dataKey)):null;f&&delete this.selectionKeys[f],this.onRowUnselect.emit({originalEvent:e,data:c,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[ot.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(ot.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),o=this.dataKey?String(ot.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let c=this.findIndexInSelection(i);this._selection=this.selection.filter((h,f)=>f!=c),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&delete this.selectionKeys[o]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let o=this.selectionPageOnly&&this._selection?this._selection.filter(c=>!r.some(h=>this.equals(c,h))):[];i&&(o=this.frozenValue?[...o,...this.frozenValue,...r]:[...o,...r],o=this.rowSelectable?o.filter((c,h)=>this.rowSelectable({data:c,index:h})):o),this._selection=o,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:ot.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let h,r=!0,o=!1,c=!1;for(let f in this.filters)if(this.filters.hasOwnProperty(f)&&"global"!==f){c=!0;let y=f,E=this.filters[y];if(Array.isArray(E)){for(let I of E)if(r=this.executeLocalFilter(y,this.value[i],I),I.operator===bb.OR&&r||I.operator===bb.AND&&!r)break}else r=this.executeLocalFilter(y,this.value[i],E);if(!r)break}if(this.filters.global&&!o&&e)for(let f=0;f<e.length&&(o=this.filterService.filters[this.filters.global.matchMode](ot.resolveFieldData(this.value[i],e[f].field||e[f]),this.filters.global.value,this.filterLocale),!o);f++);h=this.filters.global?c?c&&r&&o:o:c&&r,h&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let o=r.value,c=r.matchMode||pr.STARTS_WITH,h=ot.resolveFieldData(i,e);return this.filterService.filters[c](h,o,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",o=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let f=0;f<o.length;f++){let y=o[f];!1!==y.exportable&&y.field&&(r+='"'+this.getExportHeader(y)+'"',f<o.length-1&&(r+=this.csvSeparator))}i.forEach((f,y)=>{r+="\n";for(let E=0;E<o.length;E++){let I=o[E];if(!1!==I.exportable&&I.field){let M=ot.resolveFieldData(f,I.field);M=null!=M?this.exportFunction?this.exportFunction({data:M,field:I.field}):String(M).replace(/"/g,'""'):"",r+='"'+M+'"',E<o.length-1&&(r+=this.csvSeparator)}}});let c=new Blob([r],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.style.display="none",document.body.appendChild(h),void 0!==h.download?(h.setAttribute("href",URL.createObjectURL(c)),h.setAttribute("download",this.exportFilename+".csv"),h.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(h)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,o=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.lazyLoadOnInit||this.virtualScrollInitialized?this.onLazyLoad.emit({first:r,rows:o,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}):this.virtualScrollInitialized=!0)},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,o){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===re.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(re.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===re.find(i,".ng-invalid.ng-dirty").length){let r=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(ot.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(ot.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(ot.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=re.getOffset(this.containerViewChild.nativeElement).left;re.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&h>15&&this.resizeTableCells(r,h)}else if("expand"===this.columnResizeMode){let c=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.width=c+"px",this.tableViewChild.nativeElement.style.minWidth=c+"px",this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",re.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=re.index(this.resizeColumnElement),o=[];const c=re.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");re.find(c,"tr > th").forEach(y=>o.push(re.getOuterWidth(y))),this.destroyStyleElement(),this.createStyleElement();let f="";o.forEach((y,E)=>{let I=E===r?e:i&&E===r+1?i:y;f+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${E+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${E+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${E+1}) {\n                    ${this.scrollable?`flex: 1 1 ${I}px !important`:`width: ${I}px !important`}\n                }\n            `}),this.styleElement.innerHTML=f}onColumnDragStart(e,i){this.reorderIconWidth=re.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=re.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=re.getOffset(this.containerViewChild.nativeElement),o=re.getOffset(i);if(this.draggedColumn!=i){let c=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),h=re.indexWithinGroup(i,"preorderablecolumn"),f=o.left-r.left,E=o.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-r.top+i.offsetHeight+"px",e.pageX>E?(this.reorderIndicatorUpViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),h-c==1&&-1===this.dropPosition||h-c==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=re.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=re.indexWithinGroup(i,"preorderablecolumn"),c=r!=o;c&&(o-r==1&&-1===this.dropPosition||r-o==1&&1===this.dropPosition)&&(c=!1),c&&o<r&&1===this.dropPosition&&(o+=1),c&&o>r&&-1===this.dropPosition&&(o-=1),c&&(ot.reorderArray(this.columns,r,o),this.onColReorder.emit({dragIndex:r,dropIndex:o,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let o=re.getOffset(r).top+re.getWindowScrollTop(),c=e.pageY,h=o+re.getOuterHeight(r)/2,f=r.previousElementSibling;c<h?(re.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,f?re.addClass(f,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top")):(f?re.removeClass(f,"p-datatable-dragpoint-bottom"):re.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,re.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&re.removeClass(r,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-bottom"),re.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;ot.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let c=JSON.parse(i,function(c,h){return"string"==typeof h&&r.test(h)?new Date(h):h});this.paginator&&(void 0!==this.first&&(this.first=c.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=c.rows,this.rowsChange.emit(this.rows))),c.sortField&&(this.restoringSort=!0,this._sortField=c.sortField,this._sortOrder=c.sortOrder),c.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=c.multiSortMeta),c.filters&&(this.restoringFilter=!0,this.filters=c.filters),this.resizableColumns&&(this.columnWidthsState=c.columnWidths,this.tableWidthState=c.tableWidth),c.expandedRowKeys&&(this.expandedRowKeys=c.expandedRowKeys),c.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(c.selection)),this.stateRestored=!0,this.onStateRestore.emit(c)}}saveColumnWidths(e){let i=[];re.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(o=>i.push(re.getOuterWidth(o))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=re.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),ot.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,o)=>{i+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${o+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${o+1}) {\n                            ${this.scrollable?`flex: 1 1 ${r}px !important`:`width: ${r}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let o=JSON.parse(i).columnOrder;if(o){let c=[];o.map(h=>{let f=this.findColumnByKey(h);f&&c.push(f)}),this.columnOrderStateRestored=!0,this.columns=c}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollInitialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(lx),s.Y36(s.sBO),s.Y36(RI),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,fr,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(_$,5),s.Gf(y$,5),s.Gf(v$,5),s.Gf(w$,5),s.Gf(b$,5),s.Gf(C$,5),s.Gf(E$,5),s.Gf(Ju,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.resizeHelperViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorUpViewChild=r.first),s.iGM(r=s.CRH())&&(i.reorderIndicatorDownViewChild=r.first),s.iGM(r=s.CRH())&&(i.wrapperViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableViewChild=r.first),s.iGM(r=s.CRH())&&(i.tableHeaderViewChild=r.first),s.iGM(r=s.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([lx]),s.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,T$,2,2,"div",2),s.YNc(3,S$,2,1,"div",3),s.YNc(4,x$,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,R$,8,16,"table",7),s.YNc(8,B$,10,21,"cdk-virtual-scroll-viewport",8),s.qZA(),s.YNc(9,U$,1,17,"p-paginator",9),s.YNc(10,j$,2,1,"div",10),s.YNc(11,z$,2,0,"div",11),s.YNc(12,q$,2,0,"span",12),s.YNc(13,G$,2,0,"span",13),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngStyle",i.style)("ngClass",s.rFY(16,$$,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),s.uIk("id",i.id),s.xp6(2),s.Q6J("ngIf",i.loading&&i.showLoader),s.xp6(1),s.Q6J("ngIf",i.captionTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,Z$,i.scrollHeight)),s.xp6(2),s.Q6J("ngIf",!i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.summaryTemplate),s.xp6(1),s.Q6J("ngIf",i.resizableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns),s.xp6(1),s.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[iG,JZ,Ju,Zi,xn,Lt,gs,_b]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),n})(),JZ=(()=>{class n{constructor(e,i,r,o){this.dt=e,this.tableService=i,this.cd=r,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r+1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=e[r-1];return!c||o!==ot.resolveFieldData(c,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let o=ot.resolveFieldData(i,this.dt.groupRowsBy),c=o,h=0;for(;o===c;){h++;let f=e[++r];if(!f)break;c=ot.resolveFieldData(f,this.dt.groupRowsBy)}return 1===h?null:h}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=re.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=re.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fa),s.Y36(lx),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:W$,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(s.YNc(0,sZ,2,2,"ng-container",0),s.YNc(1,lZ,2,3,"ng-container",0),s.YNc(2,yZ,2,2,"ng-container",0),s.YNc(3,EZ,2,2,"ng-container",0),s.YNc(4,IZ,2,5,"ng-container",0),s.YNc(5,xZ,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),s.xp6(1),s.Q6J("ngIf",i.dt.loading),s.xp6(1),s.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[Lt,$t,gs,vb],encapsulation:2}),n})(),Nl=(()=>{class n{constructor(e,i){this.dt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onArrowDownKeyDown(e){if(!this.isEnabled())return;const r=this.findNextSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onArrowUpKeyDown(e){if(!this.isEnabled())return;const r=this.findPrevSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onEnterKeyDown(e){!this.isEnabled()||this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}findNextSelectableRow(e){let i=e.nextElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findNextSelectableRow(i):null}findPrevSelectableRow(e){let i=e.previousElementSibling;return i?re.hasClass(i,"p-selectable-row")?i:this.findPrevSelectableRow(i):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fa),s.Y36(lx))},n.\u0275dir=s.lG2({type:n,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o)})("touchend",function(o){return i.onTouchEnd(o)})("keydown.arrowdown",function(o){return i.onArrowDownKeyDown(o)})("keydown.arrowup",function(o){return i.onArrowUpKeyDown(o)})("keydown.enter",function(o){return i.onEnterKeyDown(o)})("keydown.shift.enter",function(o){return i.onEnterKeyDown(o)})("keydown.meta.enter",function(o){return i.onEnterKeyDown(o)})("keydown.pagedown",function(){return i.onPageDownKeyDown()})("keydown.pageup",function(){return i.onPageDownKeyDown()})("keydown.home",function(){return i.onPageDownKeyDown()})("keydown.end",function(){return i.onPageDownKeyDown()})("keydown.space",function(){return i.onSpaceKeydown()}),2&e&&(s.uIk("tabindex",i.isEnabled()?0:void 0),s.ekj("p-selectable-row",i.isEnabled())("p-highlight",i.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),n})(),XZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,rG,rx,Z_,Hc,lb,np,fG,m$,RO,bG],Qs,Hc]}),n})();const e5=["HouseTable"];function t5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function n5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function r5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_House()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.csvalues)}}function s5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_House()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function o5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.house||!e.type||!e.value)}}function a5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function l5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function c5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,a5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,l5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function u5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.House),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const d5=function(){return{width:"50vw"}},h5=function(){return["House","type","value"]};let p5=(()=>{class n{constructor(e,i,r,o){this.houseService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.houseTypeData=[],this.allHouses=[],this.allValues=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"house",header:"house"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_House(),this.get_House_Type_Values()}get_House_Type_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.houseTypeData.push(r)})}),setTimeout(()=>this.update_House_Type_Values(),3e3)}update_House_Type_Values(){var e=this.houseTypeData[0].split(","),i=this.houseTypeData[1].split(",");e.forEach(r=>this.allHouses.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedHouse.id,this.house=this.selectedHouse.House,this.type=this.selectedHouse.type,this.value=this.selectedHouse.value,this.selecteForEditorDel=!0}cancel_House(){this.selectedHouse=null,this.house="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Houses(){}read_All_House(){this.houseService.read_All_Houses().subscribe(e=>{this.houseList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,House:i.payload.doc.data().house,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_House()},reject:()=>{this.cancel_House()}})}create_House(){let e={};e.house=this.house,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.houseService.create_House(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"House added",detail:"House added to database"}),this.cancel_House()}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}Update_House(){let e={};e.house=this.house,e.type=this.type,e.value=this.value,this.houseService.update_House(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"House updated",detail:this.selectedHouse.id+" is updated"}),this.cancel_House()}Delete_House(){this.houseService.delete_House(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"House deleted",detail:this.selectedHouse.id+" is deleted"}),this.cancel_House()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yz),s.Y36(ai),s.Y36(Wn),s.Y36(es))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-house"]],viewQuery:function(e,i){if(1&e&&s.Gf(e5,5),2&e){let r;s.iGM(r=s.CRH())&&(i.HouseTable=r.first)}},features:[s._Bn([ai,Wn])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["HouseTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.house=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,t5,2,1,"div",5),s.YNc(9,n5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,r5,3,1,"div",5),s.YNc(12,s5,3,1,"div",5),s.YNc(13,o5,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_House()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedHouse=o}),s.YNc(20,c5,4,2,"ng-template",12),s.YNc(21,u5,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,d5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allHouses)("ngModel",i.house),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.house||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.houseList)("globalFilterFields",s.DdM(20,h5))("selection",i.selectedHouse))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),f5=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e,i){return this.firestore.collection("lordinhouse",r=>r.where("lord","==",e).where("house","==",i)).snapshotChanges()}read_All_Items(){return this.firestore.collection("lordinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("lordinhouse").add(e)}update_Item(e,i){this.firestore.doc("lordinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function m5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function _5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function v5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function w5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function b5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function C5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function E5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,b5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,C5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function T5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const I5=function(){return{width:"50vw"}},S5=function(){return["house","lord","trait"]};let x5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"lord",header:"Lord"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.lord,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,lord:i.payload.doc.data().lord,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.lord=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.lord=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(f5),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-lordinhouse"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,g5,2,1,"div",5),s.YNc(9,m5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,_5,3,1,"div",5),s.YNc(12,y5,3,1,"div",5),s.YNc(13,v5,3,1,"div",5),s.YNc(14,w5,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,E5,4,2,"ng-template",10),s.YNc(19,T5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,I5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,S5))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),D5=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("lordinsigns").snapshotChanges()}create_Item(e){return this.firestore.collection("lordinsigns").add(e)}update_Item(e,i){this.firestore.doc("lordinsigns/"+e).update(i)}delete_Item(e){this.firestore.doc("lordinsigns/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function M5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function k5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function O5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function R5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function P5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function N5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function F5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function L5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,N5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,F5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function V5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.value)}}const B5=function(){return{width:"50vw"}},U5=function(){return["house","lord","trait"]};let H5=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"lord",header:"Lord"},{field:"sign",header:"Sign"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.lord,this.option2Selected=this.selectedItem.sign,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,lord:i.payload.doc.data().lord,sign:i.payload.doc.data().sign,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.lord=this.option1Selected,e.sign=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.lord=this.option1Selected,e.sign=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){console.log("enter"),this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(D5),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-lorninsign"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,A5,2,1,"div",5),s.YNc(9,M5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,k5,3,1,"div",5),s.YNc(12,O5,3,1,"div",5),s.YNc(13,R5,3,1,"div",5),s.YNc(14,P5,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,L5,4,2,"ng-template",10),s.YNc(19,V5,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,B5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,U5))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),j5=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("planetss",i=>i.where("planet","==",e)).snapshotChanges()}read_All_Planets(){return this.firestore.collection("planetss").snapshotChanges()}create_Planet(e){return this.firestore.collection("planetss").add(e)}update_Planet(e,i){this.firestore.doc("planetss/"+e).update(i)}delete_Planet(e){this.firestore.doc("planetss/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z5=["PlanetTable"];function q5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function G5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function $5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Planet()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.csvalues)}}function Z5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Planet()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.value)}}function W5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.planet||!e.type||!e.value)}}function K5(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function Y5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function Q5(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,K5,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,Y5,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function J5(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const X5=function(){return{width:"50vw"}},eW=function(){return["Planet","type","value"]};let tW=(()=>{class n{constructor(e,i,r,o){this.planetService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.planetTypeData=[],this.selecteForEditorDel=!1,this.allPlanets=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Planet(),this.get_Planet_Type_Values()}get_Planet_Type_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.planetTypeData.push(r)})}),setTimeout(()=>this.update_Planet_Type_Values(),3e3)}update_Planet_Type_Values(){var e=this.planetTypeData[0].split(","),i=this.planetTypeData[1].split(",");e.forEach(r=>this.allPlanets.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedPlanet.id,this.planet=this.selectedPlanet.Planet,this.type=this.selectedPlanet.type,this.value=this.selectedPlanet.value,this.selecteForEditorDel=!0}cancel_Planet(){this.selectedPlanet=null,this.planet="",this.type="",this.value="",this.selecteForEditorDel=!1}get_All_Planets(){}read_All_Planet(){this.planetService.read_All_Planets().subscribe(e=>{this.planetList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Planet()},reject:()=>{this.cancel_Planet()}})}create_Planet(){let e={};e.planet=this.planet,e.type=this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.planetService.create_Planet(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Planet added",detail:"planet added to database"}),this.cancel_Planet()}Update_Planet(){let e={};e.planet=this.planet,e.type=this.type,e.value=this.value,this.planetService.update_Planet(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Planet updated",detail:this.selectedPlanet.id+" is updated"}),this.cancel_Planet()}Delete_Planet(){this.planetService.delete_Planet(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Planet deleted",detail:this.selectedPlanet.id+" is deleted"}),this.cancel_Planet()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(j5),s.Y36(ai),s.Y36(Wn),s.Y36(es))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planet"]],viewQuery:function(e,i){if(1&e&&s.Gf(z5,5),2&e){let r;s.iGM(r=s.CRH())&&(i.PlanetTable=r.first)}},decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["PlanetTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.planet=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,q5,2,1,"div",5),s.YNc(9,G5,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,$5,3,1,"div",5),s.YNc(12,Z5,3,1,"div",5),s.YNc(13,W5,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Planet()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedPlanet=o}),s.YNc(20,Q5,4,2,"ng-template",12),s.YNc(21,J5,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,X5)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allPlanets)("ngModel",i.planet),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.planet||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.planetList)("globalFilterFields",s.DdM(20,eW))("selection",i.selectedPlanet))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),nW=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("planetaslord").snapshotChanges()}create_Item(e){return this.firestore.collection("planetaslord").add(e)}update_Item(e,i){this.firestore.doc("planetaslord/"+e).update(i)}delete_Item(e){this.firestore.doc("planetaslord/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function rW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function sW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function oW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function aW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function lW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function cW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function uW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function dW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,cW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,uW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function hW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.lord),s.xp6(2),s.Oqu(e.value)}}const pW=function(){return{width:"50vw"}},fW=function(){return["house","lord","trait"]};let gW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"lord",header:"Lord"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.lord,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,lord:i.payload.doc.data().lord,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.lord=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.lord=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(nW),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetaslord"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,iW,2,1,"div",5),s.YNc(9,rW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,sW,3,1,"div",5),s.YNc(12,oW,3,1,"div",5),s.YNc(13,aW,3,1,"div",5),s.YNc(14,lW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,dW,4,2,"ng-template",10),s.YNc(19,hW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,pW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,fW))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),mW=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e,i){return this.firestore.collection("planetinhouse",r=>r.where("planet","==",e).where("house","==",i)).snapshotChanges()}read_All_Items(){return this.firestore.collection("planetinhouse").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinhouse").add(e)}update_Item(e,i){this.firestore.doc("planetinhouse/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinhouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _W(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function yW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function vW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function wW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function bW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function CW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function EW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function TW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function IW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,EW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,TW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function SW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const xW=function(){return{width:"50vw"}},DW=function(){return["house","lord","trait"]};let AW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(mW),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinhouse"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,_W,2,1,"div",5),s.YNc(9,yW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,vW,3,1,"div",5),s.YNc(12,wW,3,1,"div",5),s.YNc(13,bW,3,1,"div",5),s.YNc(14,CW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,IW,4,2,"ng-template",10),s.YNc(19,SW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,xW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,DW))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),MW=(()=>{class n{constructor(e){this.firestore=e}Read_For_Rasi(e){return this.firestore.collection("planetinsign",i=>i.where("planet","==","\u0b9a\u0ba8\u0bcd\u0ba4\u0bbf\u0bb0\u0ba9\u0bcd").where("sign","==",e)).snapshotChanges()}read_All_Items(){return this.firestore.collection("planetinsign").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinsign").add(e)}update_Item(e,i){this.firestore.doc("planetinsign/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinsign/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function OW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function RW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function PW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function NW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function FW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function LW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function VW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function BW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,LW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,VW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function UW(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.value)}}const HW=function(){return{width:"50vw"}},jW=function(){return["house","lord","trait"]};let zW=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"sign",header:"Sign"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.sign,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,sign:i.payload.doc.data().sign,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected.trim(),e.sign=this.option2Selected.trim();for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected.trim(),e.sign=this.option2Selected.trim(),e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(MW),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinsign"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,kW,2,1,"div",5),s.YNc(9,OW,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,RW,3,1,"div",5),s.YNc(12,PW,3,1,"div",5),s.YNc(13,NW,3,1,"div",5),s.YNc(14,FW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,BW,4,2,"ng-template",10),s.YNc(19,UW,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,HW)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,jW))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),qW=(()=>{class n{constructor(e){this.firestore=e}Read_For_Natchathiram(e){return this.firestore.collection("planetinstar",i=>i.where("planet","==","\u0b9a\u0ba8\u0bcd\u0ba4\u0bbf\u0bb0\u0ba9\u0bcd").where("star","==",e)).snapshotChanges()}Read_For_Placement(e,i){return this.firestore.collection("planetinstar",r=>r.where("planet","==",e).where("star","==",i)).snapshotChanges()}read_All_Items(){return this.firestore.collection("planetinstar").snapshotChanges()}create_Item(e){return this.firestore.collection("planetinstar").add(e)}update_Item(e,i){this.firestore.doc("planetinstar/"+e).update(i)}delete_Item(e){this.firestore.doc("planetinstar/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function $W(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function ZW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function WW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function KW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function YW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function QW(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function JW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function XW(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,QW,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,JW,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function eK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.planet),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.value)}}const tK=function(){return{width:"50vw"}},nK=function(){return["house","lord","trait"]};let iK=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"planet",header:"Planet"},{field:"star",header:"Star"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getPlanetTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.planet,this.option2Selected=this.selectedItem.star,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,planet:i.payload.doc.data().planet,star:i.payload.doc.data().star,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.planet=this.option1Selected.trim(),e.star=this.option2Selected.trim();for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.planet=this.option1Selected.trim(),e.star=this.option2Selected.trim(),e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(qW),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-planetinstar"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,GW,2,1,"div",5),s.YNc(9,$W,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,ZW,3,1,"div",5),s.YNc(12,WW,3,1,"div",5),s.YNc(13,KW,3,1,"div",5),s.YNc(14,YW,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,XW,4,2,"ng-template",10),s.YNc(19,eK,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,tK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,nK))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[""]}),n})(),rK=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("signs",i=>i.where("sign","==",e)).snapshotChanges()}read_All_Signs(){return this.firestore.collection("signs").snapshotChanges()}create_Sign(e){return this.firestore.collection("signs").add(e)}update_Sign(e,i){this.firestore.doc("signs/"+e).update(i)}delete_Sign(e){this.firestore.doc("signs/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sK=["SignTable"];function oK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function aK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function lK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Sign()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.csvalues)}}function cK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Sign()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function uK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function dK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Sign()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.sign||!e.type||!e.value)}}function hK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function pK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function fK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,hK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,pK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function gK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const mK=function(){return{width:"50vw"}},_K=function(){return["Sign","type","value"]};let yK=(()=>{class n{constructor(e,i,r,o){this.signService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.signTypeData=[],this.selecteForEditorDel=!1,this.allSigns=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"sign",header:"Sign"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Sign(),this.get_Sign_Type_Values()}get_Sign_Type_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.signTypeData.push(r)})}),setTimeout(()=>this.update_Sign_Type_Values(),3e3)}update_Sign_Type_Values(){var e=this.signTypeData[0].split(","),i=this.signTypeData[1].split(",");e.forEach(r=>this.allSigns.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedSign.id,this.sign=this.selectedSign.Sign,this.type=this.selectedSign.type,this.value=this.selectedSign.value,this.selecteForEditorDel=!0}cancel_Sign(){this.selectedSign=null,this.sign="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}get_All_Signs(){}read_All_Sign(){this.signService.read_All_Signs().subscribe(e=>{this.signList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,sign:i.payload.doc.data().sign,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.Delete_Sign()},reject:()=>{this.cancel_Sign()}})}create_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.signService.create_Sign(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Sign added",detail:"Sign added to database"}),this.cancel_Sign()}Update_Sign(){let e={};e.Sign=this.sign,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.signService.update_Sign(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Sign updated",detail:this.selectedSign.id+" is updated"}),this.cancel_Sign()}Delete_Sign(){this.signService.delete_Sign(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Sign deleted",detail:this.selectedSign.id+" is deleted"}),this.cancel_Sign()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rK),s.Y36(ai),s.Y36(Wn),s.Y36(es))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign"]],viewQuery:function(e,i){if(1&e&&s.Gf(sK,5),2&e){let r;s.iGM(r=s.CRH())&&(i.SignTable=r.first)}},features:[s._Bn([Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["SignTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.sign=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,oK,2,1,"div",5),s.YNc(9,aK,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,lK,3,1,"div",5),s.YNc(12,cK,3,1,"div",5),s.YNc(13,uK,3,1,"div",5),s.YNc(14,dK,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedSign=o}),s.YNc(18,fK,4,2,"ng-template",10),s.YNc(19,gK,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,mK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allSigns)("ngModel",i.sign),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.signList)("globalFilterFields",s.DdM(20,_K))("selection",i.selectedSign))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),vK=(()=>{class n{constructor(e){this.firestore=e}read_All_Items(){return this.firestore.collection("signashouse").snapshotChanges()}Read_For_Lagnam(e){return this.firestore.collection("signashouse",i=>i.where("house","==","\u0bae\u0bc1\u0ba4\u0bb2\u0bbe\u0bb5\u0ba4\u0bc1").where("sign","==",e)).snapshotChanges()}read_Items_Where(e,i){return this.firestore.collection("signashouse",r=>r.where("house","==",e).where("sign","==",i)).snapshotChanges()}create_Item(e){return this.firestore.collection("signashouse").add(e)}update_Item(e,i){this.firestore.doc("signashouse/"+e).update(i)}delete_Item(e){this.firestore.doc("signashouse/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function bK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function CK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Item()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.csvalues)}}function EK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().update_Item()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function TK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected||!e.value)}}function IK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().cancel_Item()}),s._uU(2," Cancel"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.option1Selected||!e.option2Selected)}}function SK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function xK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(17).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function DK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,SK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,xK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function AK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.sign),s.xp6(2),s.Oqu(e.house),s.xp6(2),s.Oqu(e.value)}}const MK=function(){return{width:"50vw"}},kK=function(){return["house","lord","trait"]};let OK=(()=>{class n{constructor(e,i,r,o){this.generalService=e,this.confirmationService=i,this.dbService=r,this.messageService=o,this.op1Data=[],this.op2Data=[],this.allOp1s=[],this.allOp2s=[],this.selecteForEditorDel=!1}ngOnInit(){this.cols=[{field:"sign",header:"Sign"},{field:"house",header:"House"},{field:"value",header:"Value"}],this.read_All_Items(),this.get_Option1_Values(),this.get_Option2_Values()}get_Option1_Values(){this.generalService.getSignTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op1Data.push(r)})}),setTimeout(()=>this.update_Option1_Values(),3e3)}update_Option1_Values(){this.op1Data[0].split(",").forEach(i=>this.allOp1s.push({name:i,value:i}))}get_Option2_Values(){this.generalService.getHouseTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.op2Data.push(r)})}),setTimeout(()=>this.update_Option2_Values(),3e3)}update_Option2_Values(){this.op2Data[0].split(",").forEach(i=>this.allOp2s.push({name:i,value:i}))}onRowSelect(e){this.idToEditorDelete=this.selectedItem.id,this.option1Selected=this.selectedItem.sign,this.option2Selected=this.selectedItem.house,this.value=this.selectedItem.value,this.selecteForEditorDel=!0}cancel_Item(){this.selectedItem=null,this.option1Selected="",this.option2Selected="",this.value="",this.selecteForEditorDel=!1}read_All_Items(){this.dbService.read_All_Items().subscribe(e=>{this.tableData=e.map(i=>({id:i.payload.doc.id,isEdit:!1,sign:i.payload.doc.data().sign,house:i.payload.doc.data().house,value:i.payload.doc.data().value}))})}create_Item(){let e={};e.sign=this.option1Selected,e.house=this.option2Selected;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.dbService.create_Item(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Item added",detail:"Item added to database"}),this.cancel_Item()}update_Item(){let e={};e.sign=this.option1Selected,e.house=this.option2Selected,e.value=this.value,this.dbService.update_Item(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Item updated",detail:this.selectedItem.id+" is updated"}),this.cancel_Item()}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.delete_Item()},reject:()=>{this.cancel_Item()}})}delete_Item(){this.dbService.delete_Item(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Item deleted",detail:this.selectedItem.id+" is deleted"}),this.cancel_Item()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(es),s.Y36(ai),s.Y36(vK),s.Y36(Wn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signashouse"]],features:[s._Bn([ai,Wn])],decls:20,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-md-3"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option1Selected=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.option2Selected=o}),s.qZA()(),s.YNc(8,wK,2,1,"div",5),s.YNc(9,bK,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,CK,3,1,"div",5),s.YNc(12,EK,3,1,"div",5),s.YNc(13,TK,3,1,"div",5),s.YNc(14,IK,3,1,"div",5),s.qZA(),s.TgZ(15,"div",7)(16,"p-table",8,9),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedItem=o}),s.YNc(18,DK,4,2,"ng-template",10),s.YNc(19,AK,7,4,"ng-template",11),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,MK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allOp1s)("ngModel",i.option1Selected),s.xp6(2),s.Q6J("options",i.allOp2s)("ngModel",i.option2Selected),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.tableData)("globalFilterFields",s.DdM(20,kK))("selection",i.selectedItem))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})(),RK=(()=>{class n{constructor(e){this.firestore=e}read_Items_Where(e){return this.firestore.collection("stars",i=>i.where("star","==",e)).snapshotChanges()}read_All_Stars(){return this.firestore.collection("stars").snapshotChanges()}create_Star(e){return this.firestore.collection("stars").add(e)}update_Star(e,i){this.firestore.doc("stars/"+e).update(i)}delete_Star(e){this.firestore.doc("stars/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PK=["StarTable"];function NK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"input",14),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().value=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.value)}}function FK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().csvalues=r}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngModel",e.csvalues)}}function LK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().create_Star()}),s._uU(2,"+ Create"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.csvalues)}}function VK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().Update_Star()}),s._uU(2," Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function BK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"button",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().confirmDelete()}),s._uU(2," Delete"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!e.star||!e.type||!e.value)}}function UK(n,t){if(1&n&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.header," ")}}function HK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"th",18)(1,"input",19,20),s.NdJ("input",function(){const o=s.CHM(e).$implicit,c=s.MAs(2);return s.oxw(2),s.MAs(19).filter(c.value,o.field,"contains")}),s.qZA()()}2&n&&s.Q6J("ngSwitch",t.$implicit.field)}function jK(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,UK,2,1,"th",16),s.qZA(),s.TgZ(2,"tr"),s.YNc(3,HK,3,1,"th",17),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e),s.xp6(2),s.Q6J("ngForOf",e)}}function zK(n,t){if(1&n&&(s.TgZ(0,"tr",21)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.Q6J("pSelectableRow",e),s.xp6(2),s.Oqu(e.star),s.xp6(2),s.Oqu(e.type),s.xp6(2),s.Oqu(e.value)}}const qK=function(){return{width:"50vw"}},GK=function(){return["star","type","value"]};let $K=(()=>{class n{constructor(e,i,r,o){this.starService=e,this.confirmationService=i,this.messageService=r,this.generalService=o,this.starTypeData=[],this.selecteForEditorDel=!1,this.allStars=[],this.allValues=[]}ngOnInit(){this.cols=[{field:"star",header:"Star"},{field:"type",header:"Type"},{field:"value",header:"Value"}],this.read_All_Star(),this.get_Star_Type_Values()}get_Star_Type_Values(){this.generalService.getStarTypeInfo().subscribe(e=>{e.split("\n").forEach(r=>{this.starTypeData.push(r)})}),setTimeout(()=>this.update_Star_Type_Values(),3e3)}update_Star_Type_Values(){var e=this.starTypeData[0].split(","),i=this.starTypeData[1].split(",");e.forEach(r=>this.allStars.push({name:r,value:r})),i.forEach(r=>{r&&""!=r&&this.allValues.push({name:r,value:r})})}onRowSelect(e){this.idToEditorDelete=this.selectedStar.id,this.star=this.selectedStar.star,this.type=this.selectedStar.type,this.value=this.selectedStar.value,this.selecteForEditorDel=!0}filterValue(e){let i=[],r=e.query;for(let o=0;o<this.allValues.length;o++){let c=this.allValues[o];0==c.name.toLowerCase().indexOf(r.toLowerCase())&&i.push(c)}this.filteredValues=i}cancel_Star(){this.selectedStar=null,this.star="",this.type="",this.value="",this.csvalues="",this.selecteForEditorDel=!1}read_All_Star(){this.starService.read_All_Stars().subscribe(e=>{this.starList=e.map(i=>({id:i.payload.doc.id,isEdit:!1,star:i.payload.doc.data().star,type:i.payload.doc.data().type,value:i.payload.doc.data().value}))})}confirmDelete(){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{console.log(this.idToEditorDelete),this.Delete_Star()},reject:()=>{this.cancel_Star()}})}create_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type;for(var i=this.csvalues.split(","),r=0;r<i.length;r++)e.value=i[r],this.starService.create_Star(e).then(o=>{console.log("success")}).catch(o=>{this.messageService.add({severity:"error",closable:!1,summary:"some error occured",detail:o})});this.messageService.add({severity:"success",closable:!1,summary:"Star added",detail:"Star added to database"}),this.cancel_Star()}Update_Star(){let e={};e.star=this.star,e.type=this.type.value?this.type.value:this.type,e.value=this.value,this.starService.update_Star(this.idToEditorDelete,e),this.messageService.add({severity:"success",closable:!1,summary:"Star updated",detail:this.selectedStar.id+" is updated"}),this.cancel_Star()}Delete_Star(){this.starService.delete_Star(this.idToEditorDelete),this.messageService.add({severity:"success",closable:!1,summary:"Star deleted",detail:this.selectedStar.id+" is deleted"}),this.cancel_Star()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RK),s.Y36(ai),s.Y36(Wn),s.Y36(es))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-star"]],viewQuery:function(e,i){if(1&e&&s.Gf(PK,5),2&e){let r;s.iGM(r=s.CRH())&&(i.StarTable=r.first)}},features:[s._Bn([Wn])],decls:22,vars:21,consts:[[1,"container"],[3,"baseZIndex"],[1,"row",2,"margin-top","25px"],[1,"col-md-4"],["optionValue","value","optionLabel","name",3,"options","ngModel","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"card",2,"margin-top","25px"],["selectionMode","single","dataKey","id","responsiveLayout","scroll",3,"columns","paginator","rows","value","globalFilterFields","selection","onRowSelect","selectionChange"],["StarTable",""],["pTemplate","header"],["pTemplate","body"],["type","text","pInputText","","placeholder","value",1,"top20",3,"ngModel","ngModelChange"],["pInputTextarea","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["pInputText","","type","text",3,"input"],["colInput",""],[3,"pSelectableRow"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast")(2,"p-confirmDialog",1),s.TgZ(3,"div",2)(4,"div",3)(5,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.star=o}),s.qZA()(),s.TgZ(6,"div",3)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(o){return i.type=o}),s.qZA()(),s.YNc(8,NK,2,1,"div",5),s.YNc(9,FK,2,1,"div",6),s.qZA(),s.TgZ(10,"div",2),s.YNc(11,LK,3,1,"div",5),s.YNc(12,VK,3,1,"div",5),s.YNc(13,BK,3,1,"div",5),s.TgZ(14,"div",7)(15,"button",8),s.NdJ("click",function(){return i.cancel_Star()}),s._uU(16," Cancel"),s.qZA()()(),s.TgZ(17,"div",9)(18,"p-table",10,11),s.NdJ("onRowSelect",function(o){return i.onRowSelect(o)})("selectionChange",function(o){return i.selectedStar=o}),s.YNc(20,jK,4,2,"ng-template",12),s.YNc(21,zK,7,4,"ng-template",13),s.qZA()()()),2&e&&(s.xp6(2),s.Akn(s.DdM(19,qK)),s.Q6J("baseZIndex",1e4),s.xp6(3),s.Q6J("options",i.allStars)("ngModel",i.star),s.xp6(2),s.Q6J("options",i.allValues)("ngModel",i.type),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(2),s.Q6J("ngIf",!i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(1),s.Q6J("ngIf",i.selecteForEditorDel),s.xp6(2),s.Q6J("disabled",!i.star||!i.type),s.xp6(3),s.Q6J("columns",i.cols)("paginator",!0)("rows",5)("value",i.starList)("globalFilterFields",s.DdM(20,GK))("selection",i.selectedStar))},directives:[Rl,Pl,Nr,Pr,Xi,Lt,Rr,$a,xs,fa,fr,$t,wn,Nl],styles:[".top20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),n})();const ZK=function(n){return{active:n}};function WK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",8),s.NdJ("click",function(r){const c=s.CHM(e).$implicit;return s.oxw().listClick(r,c)}),s.TgZ(1,"a",9),s._UZ(2,"i",3),s.TgZ(3,"span",3),s._uU(4),s.qZA()()()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(4,ZK,i.selectedItem==e.name)),s.xp6(1),s.Q6J("routerLink",e.link),s.xp6(1),s.uIk("data-feather",e.icon),s.xp6(2),s.Oqu(e.name)}}function KK(n,t){1&n&&(s.TgZ(0,"div",1)(1,"a",2)(2,"span",3),s._uU(3,"Pranavam"),s.qZA()()())}let YK=(()=>{class n{constructor(e){this._authService=e,this.menuItems=[{name:"Basic",icon:"sliders",link:"basic"},{name:"Advanced",icon:"anchor",link:"dashboard"},{name:"Star",icon:"star",link:"star"},{name:"Sign",icon:"activity",link:"sign"},{name:"House",icon:"home",link:"house"},{name:"Planet",icon:"sun",link:"planet"},{name:"Planet-In-Star",icon:"sunrise",link:"planetinstar"},{name:"Planet-In-Sign",icon:"sunset",link:"planetinsign"},{name:"Planet-In-House",icon:"archive",link:"planetinhouse"},{name:"Planet-as-Lord",icon:"codepen",link:"planetaslord"},{name:"Lord-In-Sign",icon:"airplay",link:"lordinsign"},{name:"Lord-In-House",icon:"at-sign",link:"lordinhouse"},{name:"Sign-as-House",icon:"command",link:"signashouse"}],this.selectedItem="Basic",this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}listClick(e,i){this.selectedItem=i.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu"]],decls:10,vars:2,consts:[["id","sidebar",1,"sidebar","js-sidebar"],[1,"sidebar-content","js-simplebar"],["href","index.html",1,"sidebar-brand"],[1,"align-middle"],[1,"sidebar-nav"],[1,"sidebar-header"],["class","sidebar-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","sidebar-content js-simplebar",4,"ngIf"],[1,"sidebar-item",3,"ngClass","click"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),s._uU(4,"Pranavam"),s.qZA()(),s.TgZ(5,"ul",4)(6,"li",5),s._uU(7," Pages "),s.qZA(),s.YNc(8,WK,5,6,"li",6),s.qZA()(),s.YNc(9,KK,4,0,"div",7),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",i.menuItems),s.xp6(1),s.Q6J("ngIf",!i.canShow))},directives:[$t,xn,mf,CE,Lt],styles:[""]}),n})(),QK=(()=>{class n{constructor(e){this._authService=e}ngOnInit(){}signOut(){this._authService.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-topbar"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand","navbar-light","navbar-bg"],[1,"sidebar-toggle","js-sidebar-toggle"],[1,"hamburger","align-self-center"],[1,"navbar-collapse","collapse"],[1,"navbar-nav","navbar-align"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-icon","dropdown-toggle","d-inline-block","d-sm-none"],["data-feather","settings",1,"align-middle"],["href","#","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle","d-none","d-sm-inline-block"],["src","../assets/img/avatars/avatar.jpg","alt","Charles Hall",1,"avatar","img-fluid","rounded","me-1"],[1,"text-dark"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"a",1),s._UZ(2,"i",2),s.qZA(),s.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),s._UZ(7,"i",7),s.qZA(),s.TgZ(8,"a",8),s._UZ(9,"img",9),s.TgZ(10,"span",10),s._uU(11,"Charles Hall"),s.qZA()(),s.TgZ(12,"div",11)(13,"a",12),s.NdJ("click",function(){return i.signOut()}),s._uU(14,"Log out"),s.qZA()()()()()())},styles:[""]}),n})(),JK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:23,vars:0,consts:[[1,"footer"],[1,"container-fluid"],[1,"row","text-muted"],[1,"col-6","text-start"],[1,"mb-0"],["href","https://adminkit.io/","target","_blank",1,"text-muted"],[1,"col-6","text-end"],[1,"list-inline"],[1,"list-inline-item"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5)(6,"strong"),s._uU(7,"Pranavam"),s.qZA()(),s._uU(8," \xa9 "),s.qZA()(),s.TgZ(9,"div",6)(10,"ul",7)(11,"li",8)(12,"a",5),s._uU(13,"Support"),s.qZA()(),s.TgZ(14,"li",8)(15,"a",5),s._uU(16,"Help Center"),s.qZA()(),s.TgZ(17,"li",8)(18,"a",5),s._uU(19,"Privacy"),s.qZA()(),s.TgZ(20,"li",8)(21,"a",5),s._uU(22,"Terms"),s.qZA()()()()()()())},styles:[""]}),n})(),XK=(()=>{class n{constructor(e){this._authService=e,this.canShow=!1,this._authService.isAuthExpose.subscribe(i=>this.canShow=i)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"wrapper"],[1,"main"],[1,"content"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-menu"),s.TgZ(2,"div",1),s._UZ(3,"app-topbar"),s.TgZ(4,"main",2),s._UZ(5,"router-outlet"),s.qZA(),s._UZ(6,"app-footer"),s.qZA()())},directives:[YK,QK,zm,JK],styles:[""]}),n})(),YV=(()=>{class n{constructor(e){this.authenticationService=e}ngOnInit(){}signIn(){this.authenticationService.signIn(this.email,this.password),this.email="",this.password=""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signin"]],decls:22,vars:2,consts:[[1,"container","d-flex","flex-column"],[1,"row","vh-100"],[1,"col-sm-10","col-md-8","col-lg-6","mx-auto","d-table","h-100"],[1,"d-table-cell","align-middle"],[1,"text-center","mt-4"],[1,"lead"],[1,"card"],[1,"card-body"],[1,"m-sm-4"],[1,"mb-3"],[1,"form-label"],["type","email","name","email","placeholder","Enter your email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Enter your password",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-lg","btn-primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),s._uU(6," Sign in to your account to continue "),s.qZA()(),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"form")(11,"div",9)(12,"label",10),s._uU(13,"Email"),s.qZA(),s.TgZ(14,"input",11),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(15,"div",9)(16,"label",10),s._uU(17,"Password"),s.qZA(),s.TgZ(18,"input",12),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(19,"div",13)(20,"button",14),s.NdJ("click",function(){return i.signIn()}),s._uU(21,"Sign in"),s.qZA()()()()()()()()()()),2&e&&(s.xp6(14),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password))},directives:[LD,FT,Pf,Rr,Pr,Xi],styles:[""]}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[H1.forRoot([{path:"pranavam",component:XK,canActivate:[Ji],children:[{path:"basic",component:_N,canActivate:[Ji]},{path:"dashboard",component:qI,canActivate:[Ji]},{path:"star",component:$K,canActivate:[Ji]},{path:"sign",component:yK,canActivate:[Ji]},{path:"house",component:p5,canActivate:[Ji]},{path:"planet",component:tW,canActivate:[Ji]},{path:"planetinsign",component:zW,canActivate:[Ji]},{path:"planetinhouse",component:AW,canActivate:[Ji]},{path:"planetinstar",component:iK,canActivate:[Ji]},{path:"planetaslord",component:gW,canActivate:[Ji]},{path:"lordinsign",component:H5,canActivate:[Ji]},{path:"lordinhouse",component:x5,canActivate:[Ji]},{path:"signashouse",component:OK,canActivate:[Ji]}]},{path:"",component:YV},{path:"login",component:YV},{path:"**",redirectTo:"pages/notfound"}])],H1]}),n})(),t8=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[zm],styles:[".p-inputtext{width:200px!important;min-height:40px!important}  .p-dropdown{margin-top:20px;width:200px!important;height:40px;padding:0}  .p-autocomplete{margin-top:20px;width:200px!important;height:40px;padding:0}[_nghost-%COMP%]     .p-hidden-accessible{display:none}textarea[_ngcontent-%COMP%]{height:99px}"]}),n})();const QV="@firebase/database";let NO="";function XV(n){NO=n}class s8{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class o8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const eB=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new s8(t)}}catch(t){}return new o8},Eg=eB("localStorage"),FO=eB("sessionStorage"),Ay=new Ws.Yd("@firebase/database"),tB=function(){let n=1;return function(){return n++}}(),nB=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},BC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=BC.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let Tg=null,iB=!0;const rB=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ay.logLevel=Ws.in.VERBOSE,Tg=Ay.log.bind(Ay),t&&FO.set("logging_enabled",!0)):"function"==typeof n?Tg=n:(Tg=null,FO.remove("logging_enabled"))},Hr=function(...n){if(!0===iB&&(iB=!1,null===Tg&&!0===FO.get("logging_enabled")&&rB(!0)),Tg){const t=BC.apply(null,n);Tg(t)}},UC=function(n){return function(...t){Hr(n,...t)}},LO=function(...n){const t="FIREBASE INTERNAL ERROR: "+BC(...n);Ay.error(t)},Yc=function(...n){const t=`FIREBASE FATAL ERROR: ${BC(...n)}`;throw Ay.error(t),new Error(t)},Os=function(...n){const t="FIREBASE WARNING: "+BC(...n);Ay.warn(t)},cx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ad="[MIN_NAME]",Qc="[MAX_NAME]",Ig=function(n,t){if(n===t)return 0;if(n===ad||t===Qc)return-1;if(t===ad||n===Qc)return 1;{const e=ux(n),i=ux(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},c8=function(n,t){return n===t?0:n<t?-1:1},HC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},VO=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=VO(n[t[i]]);return e+="}",e},sB=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function jr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const oB=function(n){(0,N.hu)(!cx(n),"Invalid JSON number");const i=1023;let r,o,c,h,f;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(f=52;f;f-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const E=y.join("");let I="";for(f=0;f<64;f+=8){let M=parseInt(E.substr(f,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},p8=new RegExp("^-?(0*)\\d{1,10}$"),aB=-2147483648,BO=2147483647,ux=function(n){if(p8.test(n)){const t=Number(n);if(t>=aB&&t<=BO)return t}return null},My=function(n){try{n()}catch(t){setTimeout(()=>{throw Os("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},jC=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class g8{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Os(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class m8{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Hr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Os(t)}}let zC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gB="websocket",mB="long_polling";class HO{constructor(t,e,i,r,o=!1,c="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Eg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _B(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===gB)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mB)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _8(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return jr(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class y8{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const jO={},zO={};function qO(n){const t=n.toString();return jO[t]||(jO[t]=new y8),jO[t]}class w8{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&My(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rp{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=UC(t),this.stats_=qO(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),_B(e,mB,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new w8(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GO((...o)=>{const[c,h,f,y,E]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&hB.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rp.forceAllow_=!0}static forceDisallow(){rp.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!rp.forceAllow_&&(rp.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=sB(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class GO{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=tB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=GO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Hr("frame writing exception"),h.stack&&Hr(h.stack),Hr(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Hr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Hr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let hx=null;"undefined"!=typeof MozWebSocket?hx=MozWebSocket:"undefined"!=typeof WebSocket&&(hx=WebSocket);let ky=(()=>{class n{constructor(e,i,r,o,c,h,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=UC(this.connId),this.stats_=qO(i),this.connURL=n.connectionURL_(i,h,f,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const h={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&hB.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),_B(e,gB,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eg.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${NO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,f=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;f&&(c.proxy={origin:f})}this.mySock=new hx(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==hx&&!n.forceDisallow_}static previouslyFailed(){return Eg.isInMemoryStorage||!0===Eg.get("previous_websocket_failure")}markConnectionHealthy(){Eg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sB(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),TB=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[rp,ky]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ky&&ky.isAvailable();let r=i&&!ky.previouslyFailed();if(e.webSocketOnly&&(i||Os("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ky];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class kB{constructor(t,e,i,r,o,c,h,f,y,E){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=UC("c:"+this.id+":"),this.transportManager_=new TB(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=jC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=HC("t",t),i=HC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=HC("t",t),i=HC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=HC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?LO("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):LO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Os("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),jC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OB{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class RB{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class px extends RB{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new px}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Cn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _n(){return new Cn("")}function Qt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function sp(n){return n.pieces_.length-n.pieceNum_}function Mn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cn(n.pieces_,t)}function ZO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function FB(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Cn(t,0)}function ui(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Cn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Cn(e,0)}function Jt(n){return n.pieceNum_>=n.pieces_.length}function no(n,t){const e=Qt(n),i=Qt(t);if(null===e)return t;if(e===i)return no(Mn(n),Mn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function j8(n,t){const e=qC(n,0),i=qC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Ig(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function WO(n,t){if(sp(n)!==sp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Za(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(sp(n)>sp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class z8{constructor(t,e){this.errorPrefix_=e,this.parts_=qC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);LB(this)}}function LB(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Sg(n))}function Sg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class KO extends RB{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new KO}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const GC=1e3;let gx,xg=(()=>{class n extends OB{constructor(e,i,r,o,c,h,f,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=f,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=UC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=GC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");KO.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&px.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:h=>{const f=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||o!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(h).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,f=>{const y=f.d,E=f.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==E&&this.removeListen_(r,o),e.onComplete&&e.onComplete(E,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Os(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):LO("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=GC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=GC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=GC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Te.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let f=!1,y=null;const E=function(){y?y.close():(f=!0,o())};e.realtime_={close:E,sendRequest:function(P){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,V]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);f?Hr("getToken() completed but was canceled"):(Hr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=V&&V.token,y=new kB(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Q=>{Os(Q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(P){e.log_("Failed to get token: "+P),f||(e.repoInfo_.nodeAdmin&&Os(P),E())}}})()}interrupt(e){Hr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Hr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=GC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>VO(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Cn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Hr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Hr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+NO.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=px.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class en{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new en(t,e)}}class fx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new en(ad,t),r=new en(ad,e);return 0!==this.compare(i,r)}minPost(){return en.MIN}}class UB extends fx{static get __EMPTY_NODE(){return gx}static set __EMPTY_NODE(t){gx=t}compare(t,e){return Ig(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return en.MIN}maxPost(){return new en(Qc,gx)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new en(t,gx)}toString(){return".key"}}const Jc=new UB;class mx{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let QO,Fl=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:Do.EMPTY_NODE,this.right=null!=c?c:Do.EMPTY_NODE}copy(e,i,r,o,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Do.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Do.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Do{constructor(t,e=Do.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Do(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Fl.BLACK,null,null))}remove(t){return new Do(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new mx(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new mx(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new mx(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new mx(this.root_,null,this.comparator_,!0,t)}}function J8(n,t){return Ig(n.name,t.name)}function YO(n,t){return Ig(n,t)}Do.EMPTY_NODE=new class Q8{copy(t,e,i,r,o){return this}insert(t,e,i){return new Fl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const HB=function(n){return"number"==typeof n?"number:"+oB(n):"string:"+n},jB=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===QO||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===QO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zB,qB,GB,Oy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jB(this.priorityNode_)}static set __childrenNodeConstructor(e){zB=e}static get __childrenNodeConstructor(){return zB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Jt(e)?this:".priority"===Qt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Qt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===sp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HB(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?oB(this.value_):this.value_,this.lazyHash_=nB(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Bn=new class nY extends fx{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Ig(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return en.MIN}maxPost(){return new en(Qc,new Oy("[PRIORITY-POST]",GB))}makePost(t,e){const i=qB(t);return new en(e,new Oy("[PRIORITY-POST]",i))}toString(){return".priority"}},iY=Math.log(2);class rY{constructor(t){this.count=parseInt(Math.log(t+1)/iY,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const _x=function(n,t,e,i){n.sort(t);const r=function(f,y){const E=y-f;let I,M;if(0===E)return null;if(1===E)return I=n[f],M=e?e(I):I,new Fl(M,I.node,Fl.BLACK,null,null);{const P=parseInt(E/2,10)+f,V=r(f,P),Q=r(P+1,y);return I=n[P],M=e?e(I):I,new Fl(M,I.node,Fl.BLACK,V,Q)}},h=function(f){let y=null,E=null,I=n.length;const M=function(V,Q){const ye=I-V,He=I;I-=V;const Xe=r(ye+1,He),it=n[ye],rt=e?e(it):it;P(new Fl(rt,it.node,Q,null,Xe))},P=function(V){y?(y.left=V,y=V):(E=V,y=V)};for(let V=0;V<f.count;++V){const Q=f.nextBitIsOne(),ye=Math.pow(2,f.count-(V+1));Q?M(ye,Fl.BLACK):(M(ye,Fl.BLACK),M(ye,Fl.RED))}return E}(new rY(n.length));return new Do(i||t,h)};let JO;const Ry={};class ld{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(Ry&&Bn,"ChildrenNode.ts has not been loaded"),JO=JO||new ld({".priority":Ry},{".priority":Bn}),JO}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Do?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==Jc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(en.Wrap);let h,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?_x(i,t.getCompare()):Ry;const f=t.toString(),y=Object.assign({},this.indexSet_);y[f]=t;const E=Object.assign({},this.indexes_);return E[f]=h,new ld(E,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const c=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(c,"Missing index implementation for "+o),r===Ry){if(c.isDefinedOn(t.node)){const h=[],f=e.getIterator(en.Wrap);let y=f.getNext();for(;y;)y.name!==t.name&&h.push(y),y=f.getNext();return h.push(t),_x(h,c.getCompare())}return Ry}{const h=e.get(t.name);let f=r;return h&&(f=f.remove(new en(t.name,h))),f.insert(t,t.node)}});return new ld(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===Ry)return r;{const o=e.get(t.name);return o?r.remove(new en(t.name,o)):r}});return new ld(i,this.indexSet_)}}let $C,Ut=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jB(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $C||($C=new n(new Do(YO),null,ld.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$C}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?$C:i}}getChild(e){const i=Qt(e);return null===i?this:this.getImmediateChild(i).getChild(Mn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new en(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?$C:this.priorityNode_;return new n(o,h,c)}}updateChild(e,i){const r=Qt(e);if(null===r)return i;{(0,N.hu)(".priority"!==Qt(e)||1===sp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Mn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Bn,(h,f)=>{i[h]=f.val(e),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*r){const h=[];for(const f in i)h[f]=i[f];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+HB(this.getPriority().val())+":"),this.forEachChild(Bn,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":nB(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new en(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new en(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new en(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,en.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,en.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ZC?-1:0}withIndex(e){if(e===Jc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Jc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Bn),o=i.getIterator(Bn);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===Jc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ZC=new class sY extends Ut{constructor(){super(new Do(YO),Ut.EMPTY_NODE,ld.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ut.EMPTY_NODE}isEmpty(){return!1}};function fi(n,t=null){if(null===n)return Ut.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Oy(n,fi(t));if(n instanceof Array){let e=Ut.EMPTY_NODE;return jr(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=fi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(fi(t))}{const e=[];let i=!1;if(jr(n,(c,h)=>{if("."!==c.substring(0,1)){const f=fi(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new en(c,f)))}}),0===e.length)return Ut.EMPTY_NODE;const o=_x(e,J8,c=>c.name,YO);if(i){const c=_x(e,Bn.getCompare());return new Ut(o,fi(t),new ld({".priority":c},{".priority":Bn}))}return new Ut(o,fi(t),ld.Default)}}Object.defineProperties(en,{MIN:{value:new en(ad,Ut.EMPTY_NODE)},MAX:{value:new en(Qc,ZC)}}),UB.__EMPTY_NODE=Ut.EMPTY_NODE,Oy.__childrenNodeConstructor=Ut,function X8(n){QO=n}(ZC),function tY(n){GB=n}(ZC),function eY(n){qB=n}(fi);class XO extends fx{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!Jt(t)&&".priority"!==Qt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Ig(t.name,e.name):o}makePost(t,e){const i=fi(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,i);return new en(e,r)}maxPost(){const t=Ut.EMPTY_NODE.updateChild(this.indexPath_,ZC);return new en(Qc,t)}toString(){return qC(this.indexPath_,0).join("/")}}const eR=new class aY extends fx{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ig(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return en.MIN}maxPost(){return en.MAX}makePost(t,e){const i=fi(t);return new en(e,i)}toString(){return".value"}},Py="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lY=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Py.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Py.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),WB=function(n){if(n===""+BO)return"-";const t=ux(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Qc;const o=Py.charAt(Py.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},KB=function(n){if(n===""+aB)return ad;const t=ux(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+BO:(delete e[e.length-1],e.join("")):(e[e.length-1]=Py.charAt(Py.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function YB(n){return{type:"value",snapshotNode:n}}function Ny(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function WC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function KC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class nR{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(WC(e,h)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Ny(e,i)):c.trackChildChange(KC(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Bn,(r,o)=>{e.hasChild(r)||i.trackChildChange(WC(r,o))}),e.isLeafNode()||e.forEachChild(Bn,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(KC(r,o,c))}else i.trackChildChange(Ny(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class YC{constructor(t){this.indexedFilter_=new nR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=YC.getStartPost_(t),this.endPost_=YC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new en(e,i))||(i=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ut.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);const o=this;return e.forEachChild(Bn,(c,h)=>{o.matches(new en(c,h))||(r=r.updateImmediateChild(c,Ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class uY{constructor(t){this.rangedFilter_=new YC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new en(e,i))||(i=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Ut.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let o,c,h,f;if(r=e.withIndex(this.index_),r=r.updatePriority(Ut.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();h=(M,P)=>I(P,M)}else f=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,E=!1;for(;f.hasNext();){const I=f.getNext();!E&&h(o,I)<=0&&(E=!0),E&&y<this.limit_&&h(I,c)<=0?y++:r=r.updateImmediateChild(I.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const I=this.index_.getCompare();c=(M,P)=>I(P,M)}else c=this.index_.getCompare();const h=t;(0,N.hu)(h.numChildren()===this.limit_,"");const f=new en(e,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(f);if(h.hasChild(e)){const I=h.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===e||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:c(M,f);if(E&&!i.isEmpty()&&P>=0)return null!=o&&o.trackChildChange(KC(e,i,I)),h.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(WC(e,I));const Q=h.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(null!=o&&o.trackChildChange(Ny(M.name,M.node)),Q.updateImmediateChild(M.name,M.node)):Q}}return i.isEmpty()?t:E&&c(y,f)>=0?(null!=o&&(o.trackChildChange(WC(y.name,y.node)),o.trackChildChange(Ny(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(y.name,Ut.EMPTY_NODE)):t}}class yx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ad}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bn}copy(){const t=new yx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function iR(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function rR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function vx(n,t){const e=n.copy();return e.index_=t,e}function QB(n){const t={};if(n.isDefault())return t;let e;return n.index_===Bn?e="$priority":n.index_===eR?e="$value":n.index_===Jc?e="$key":((0,N.hu)(n.index_ instanceof XO,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function JB(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Bn&&(t.i=n.index_.toString()),t}class wx extends OB{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=UC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=wx.getListenId_(t,i),h={};this.listens_[c]=h;const f=QB(t._queryParams);this.restRequest_(o+".json",f,(y,E)=>{let I=E;if(404===y&&(I=null,y=null),null===y&&this.onDataUpdate_(o,I,!1,i),(0,N.DV)(this.listens_,c)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(t,e){const i=wx.getListenId_(t,e);delete this.listens_[i]}get(t){const e=QB(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=(0,N.cI)(h.responseText)}catch(y){Os("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,f)}else 401!==h.status&&404!==h.status&&Os("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class mY{constructor(){this.rootNode_=Ut.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function bx(){return{value:null,children:new Map}}function Fy(n,t,e){if(Jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Qt(t);n.children.has(i)||n.children.set(i,bx()),Fy(n.children.get(i),t=Mn(t),e)}}function sR(n,t){if(Jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Bn,(i,r)=>{Fy(n,new Cn(i),r)}),sR(n,t)}}if(n.children.size>0){const e=Qt(t);return t=Mn(t),n.children.has(e)&&sR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function oR(n,t,e){null!==n.value?e(t,n.value):function _Y(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{oR(r,new Cn(t.toString()+"/"+i),e)})}class yY{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&jr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class bY{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new yY(t);const i=1e4+2e4*Math.random();jC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;jr(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),jC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wa=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wa||(Wa={})),Wa))();function cR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Cx{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Wa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Cn(t));return new Cx(_n(),e,this.revert)}}return(0,N.hu)(Qt(this.path)===t,"operationForChild called for unrelated child."),new Cx(Mn(this.path),this.affectedTree,this.revert)}}class QC{constructor(t,e){this.source=t,this.path=e,this.type=Wa.LISTEN_COMPLETE}operationForChild(t){return Jt(this.path)?new QC(this.source,_n()):new QC(this.source,Mn(this.path))}}class Dg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Wa.OVERWRITE}operationForChild(t){return Jt(this.path)?new Dg(this.source,_n(),this.snap.getImmediateChild(t)):new Dg(this.source,Mn(this.path),this.snap)}}class Ly{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Wa.MERGE}operationForChild(t){if(Jt(this.path)){const e=this.children.subtree(new Cn(t));return e.isEmpty()?null:e.value?new Dg(this.source,_n(),e.value):new Ly(this.source,_n(),e)}return(0,N.hu)(Qt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ly(this.source,Mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class op{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Qt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class CY{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function JC(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,f)=>function IY(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new en(t.childName,t.snapshotNode),r=new en(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,f)),c.forEach(h=>{const f=function TY(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);r.forEach(y=>{y.respondsTo(h.type)&&t.push(y.createEvent(f,n.query_))})})}function Ex(n,t){return{eventCache:n,serverCache:t}}function XC(n,t,e,i){return Ex(new op(t,e,i),n.serverCache)}function e3(n,t,e,i){return Ex(n.eventCache,new op(t,e,i))}function Tx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ag(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let uR;class Un{constructor(t,e=(()=>(uR||(uR=new Do(c8)),uR))()){this.value=t,this.children=e}static fromObject(t){let e=new Un(null);return jr(t,(i,r)=>{e=e.set(new Cn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_n(),value:this.value};if(Jt(t))return null;{const i=Qt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Mn(t),e);return null!=o?{path:ui(new Cn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Jt(t))return this;{const e=Qt(t),i=this.children.get(e);return null!==i?i.subtree(Mn(t)):new Un(null)}}set(t,e){if(Jt(t))return new Un(e,this.children);{const i=Qt(t),o=(this.children.get(i)||new Un(null)).set(Mn(t),e),c=this.children.insert(i,o);return new Un(this.value,c)}}remove(t){if(Jt(t))return this.children.isEmpty()?new Un(null):new Un(null,this.children);{const e=Qt(t),i=this.children.get(e);if(i){const r=i.remove(Mn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Un(null):new Un(this.value,o)}return this}}get(t){if(Jt(t))return this.value;{const e=Qt(t),i=this.children.get(e);return i?i.get(Mn(t)):null}}setTree(t,e){if(Jt(t))return e;{const i=Qt(t),o=(this.children.get(i)||new Un(null)).setTree(Mn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Un(this.value,c)}}fold(t){return this.fold_(_n(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ui(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,_n(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Jt(t))return null;{const o=Qt(t),c=this.children.get(o);return c?c.findOnPath_(Mn(t),ui(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_n(),e)}foreachOnPath_(t,e,i){if(Jt(t))return this;{this.value&&i(e,this.value);const r=Qt(t),o=this.children.get(r);return o?o.foreachOnPath_(Mn(t),ui(e,r),i):new Un(null)}}foreach(t){this.foreach_(_n(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ui(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ll{constructor(t){this.writeTree_=t}static empty(){return new Ll(new Un(null))}}function e0(n,t,e){if(Jt(t))return new Ll(new Un(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=no(r,t);return o=o.updateChild(c,e),new Ll(n.writeTree_.set(r,o))}{const r=new Un(e),o=n.writeTree_.setTree(t,r);return new Ll(o)}}}function dR(n,t,e){let i=n;return jr(e,(r,o)=>{i=e0(i,ui(t,r),o)}),i}function t3(n,t){if(Jt(t))return Ll.empty();{const e=n.writeTree_.setTree(t,new Un(null));return new Ll(e)}}function hR(n,t){return null!=Mg(n,t)}function Mg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(no(e.path,t)):null}function n3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bn,(i,r)=>{t.push(new en(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new en(i,r.value))}),t}function ap(n,t){if(Jt(t))return n;{const e=Mg(n,t);return new Ll(null!=e?new Un(e):n.writeTree_.subtree(t))}}function pR(n){return n.writeTree_.isEmpty()}function Vy(n,t){return i3(_n(),n.writeTree_,t)}function i3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=i3(ui(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ui(n,".priority"),i)),e}}function Ix(n,t){return l3(t,n)}function kY(n,t){if(n.snap)return Za(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Za(ui(n.path,e),t))return!0;return!1}function RY(n){return n.visible}function r3(n,t,e){let i=Ll.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)Za(e,c)?(h=no(e,c),i=e0(i,h,o.snap)):Za(c,e)&&(h=no(c,e),i=e0(i,_n(),o.snap.getChild(h)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(Za(e,c))h=no(e,c),i=dR(i,h,o.children);else if(Za(c,e))if(h=no(c,e),Jt(h))i=dR(i,_n(),o.children);else{const f=(0,N.DV)(o.children,Qt(h));if(f){const y=f.getChild(Mn(h));i=e0(i,_n(),y)}}}}}return i}function s3(n,t,e,i,r){if(i||r){const o=ap(n.visibleWrites,t);return!r&&pR(o)?e:r||null!=e||hR(o,_n())?Vy(r3(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Za(y.path,t)||Za(t,y.path))},t),e||Ut.EMPTY_NODE):null}{const o=Mg(n.visibleWrites,t);if(null!=o)return o;{const c=ap(n.visibleWrites,t);return pR(c)?e:null!=e||hR(c,_n())?Vy(c,e||Ut.EMPTY_NODE):null}}}function Sx(n,t,e,i){return s3(n.writeTree,n.treePath,t,e,i)}function fR(n,t){return function PY(n,t,e){let i=Ut.EMPTY_NODE;const r=Mg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Bn,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=ap(n.visibleWrites,t);return e.forEachChild(Bn,(c,h)=>{const f=Vy(ap(o,new Cn(c)),h);i=i.updateImmediateChild(c,f)}),n3(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return n3(ap(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function o3(n,t,e,i){return function NY(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=ui(t,e);if(hR(n.visibleWrites,o))return null;{const c=ap(n.visibleWrites,o);return pR(c)?r.getChild(e):Vy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function xx(n,t){return function LY(n,t){return Mg(n.visibleWrites,t)}(n.writeTree,ui(n.treePath,t))}function gR(n,t,e){return function FY(n,t,e,i){const r=ui(t,e),o=Mg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Vy(ap(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function a3(n,t){return l3(ui(n.treePath,t),n.writeTree)}function l3(n,t){return{treePath:n,writeTree:t}}class HY{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,KC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,WC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Ny(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,KC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const c3=new class jY{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class mR{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new op(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gR(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ag(this.viewCache_),o=function UY(n,t,e,i,r,o){return function VY(n,t,e,i,r,o,c){let h;const f=ap(n.visibleWrites,t),y=Mg(f,_n());if(null!=y)h=y;else{if(null==e)return[];h=Vy(f,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const E=[],I=c.getCompare(),M=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let P=M.getNext();for(;P&&E.length<r;)0!==I(P,i)&&E.push(P),P=M.getNext();return E}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function u3(n,t,e,i,r,o){const c=t.eventCache;if(null!=xx(i,e))return t;{let h,f;if(Jt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=Ag(t),I=fR(i,y instanceof Ut?y:Ut.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const y=Sx(i,Ag(t));h=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const y=Qt(e);if(".priority"===y){(0,N.hu)(1===sp(e),"Can't have a priority with additional path components");const E=c.getNode();f=t.serverCache.getNode();const I=o3(i,e,E,f);h=null!=I?n.filter.updatePriority(E,I):c.getNode()}else{const E=Mn(e);let I;if(c.isCompleteForChild(y)){f=t.serverCache.getNode();const M=o3(i,e,c.getNode(),f);I=null!=M?c.getNode().getImmediateChild(y).updateChild(E,M):c.getNode().getImmediateChild(y)}else I=gR(i,y,t.serverCache);h=null!=I?n.filter.updateChild(c.getNode(),y,I,E,r,o):c.getNode()}}return XC(t,h,c.isFullyInitialized()||Jt(e),n.filter.filtersNodes())}}function Dx(n,t,e,i,r,o,c,h){const f=t.serverCache;let y;const E=c?n.filter:n.filter.getIndexedFilter();if(Jt(e))y=E.updateFullNode(f.getNode(),i,null);else if(E.filtersNodes()&&!f.isFiltered()){const P=f.getNode().updateChild(e,i);y=E.updateFullNode(f.getNode(),P,null)}else{const P=Qt(e);if(!f.isCompleteForPath(e)&&sp(e)>1)return t;const V=Mn(e),ye=f.getNode().getImmediateChild(P).updateChild(V,i);y=".priority"===P?E.updatePriority(f.getNode(),ye):E.updateChild(f.getNode(),P,ye,V,c3,null)}const I=e3(t,y,f.isFullyInitialized()||Jt(e),E.filtersNodes());return u3(n,I,e,r,new mR(r,I,o),h)}function _R(n,t,e,i,r,o,c){const h=t.eventCache;let f,y;const E=new mR(r,t,o);if(Jt(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=XC(t,y,!0,n.filter.filtersNodes());else{const I=Qt(e);if(".priority"===I)y=n.filter.updatePriority(t.eventCache.getNode(),i),f=XC(t,y,h.isFullyInitialized(),h.isFiltered());else{const M=Mn(e),P=h.getNode().getImmediateChild(I);let V;if(Jt(M))V=i;else{const Q=E.getCompleteChild(I);V=null!=Q?".priority"===ZO(M)&&Q.getChild(FB(M)).isEmpty()?Q:Q.updateChild(M,i):Ut.EMPTY_NODE}f=P.equals(V)?t:XC(t,n.filter.updateChild(h.getNode(),I,V,M,E,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return f}function d3(n,t){return n.eventCache.isCompleteForChild(t)}function h3(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function yR(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,f=t;y=Jt(e)?i:new Un(null).setTree(e,i);const E=t.serverCache.getNode();return y.children.inorderTraversal((I,M)=>{if(E.hasChild(I)){const V=h3(0,t.serverCache.getNode().getImmediateChild(I),M);f=Dx(n,f,new Cn(I),V,r,o,c,h)}}),y.children.inorderTraversal((I,M)=>{const P=!t.serverCache.isCompleteForChild(I)&&void 0===M.value;if(!E.hasChild(I)&&!P){const Q=h3(0,t.serverCache.getNode().getImmediateChild(I),M);f=Dx(n,f,new Cn(I),Q,r,o,c,h)}}),f}class QY{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new nR(i.getIndex()),o=function dY(n){return n.loadsAllData()?new nR(n.getIndex()):n.hasLimit()?new uY(n):new YC(n)}(i);this.processor_=function zY(n){return{filter:n}}(o);const c=e.serverCache,h=e.eventCache,f=r.updateFullNode(Ut.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode(Ut.EMPTY_NODE,h.getNode(),null),E=new op(f,c.isFullyInitialized(),r.filtersNodes()),I=new op(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ex(I,E),this.eventGenerator_=new CY(this.query_)}get query(){return this.query_}}function eQ(n,t){const e=Ag(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Jt(t)&&!e.getImmediateChild(Qt(t)).isEmpty())?e.getChild(t):null}function p3(n){return 0===n.eventRegistrations_.length}function f3(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function g3(n,t,e,i){t.type===Wa.MERGE&&null!==t.source.queryId&&((0,N.hu)(Ag(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(Tx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function GY(n,t,e,i,r){const o=new HY;let c,h;if(e.type===Wa.OVERWRITE){const y=e;y.source.fromUser?c=_R(n,t,y.path,y.snap,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered()&&!Jt(y.path),c=Dx(n,t,y.path,y.snap,i,r,h,o))}else if(e.type===Wa.MERGE){const y=e;y.source.fromUser?c=function ZY(n,t,e,i,r,o,c){let h=t;return i.foreach((f,y)=>{const E=ui(e,f);d3(t,Qt(E))&&(h=_R(n,h,E,y,r,o,c))}),i.foreach((f,y)=>{const E=ui(e,f);d3(t,Qt(E))||(h=_R(n,h,E,y,r,o,c))}),h}(n,t,y.path,y.children,i,r,o):((0,N.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||t.serverCache.isFiltered(),c=yR(n,t,y.path,y.children,i,r,h,o))}else if(e.type===Wa.ACK_USER_WRITE){const y=e;c=y.revert?function YY(n,t,e,i,r,o){let c;if(null!=xx(i,e))return t;{const h=new mR(i,t,r),f=t.eventCache.getNode();let y;if(Jt(e)||".priority"===Qt(e)){let E;if(t.serverCache.isFullyInitialized())E=Sx(i,Ag(t));else{const I=t.serverCache.getNode();(0,N.hu)(I instanceof Ut,"serverChildren would be complete if leaf node"),E=fR(i,I)}E=E,y=n.filter.updateFullNode(f,E,o)}else{const E=Qt(e);let I=gR(i,E,t.serverCache);null==I&&t.serverCache.isCompleteForChild(E)&&(I=f.getImmediateChild(E)),y=null!=I?n.filter.updateChild(f,E,I,Mn(e),h,o):t.eventCache.getNode().hasChild(E)?n.filter.updateChild(f,E,Ut.EMPTY_NODE,Mn(e),h,o):f,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Sx(i,Ag(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=xx(i,_n()),XC(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,o):function WY(n,t,e,i,r,o,c){if(null!=xx(r,e))return t;const h=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(Jt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return Dx(n,t,e,f.getNode().getChild(e),r,o,h,c);if(Jt(e)){let y=new Un(null);return f.getNode().forEachChild(Jc,(E,I)=>{y=y.set(new Cn(E),I)}),yR(n,t,e,y,r,o,h,c)}return t}{let y=new Un(null);return i.foreach((E,I)=>{const M=ui(e,E);f.isCompleteForPath(M)&&(y=y.set(E,f.getNode().getChild(M)))}),yR(n,t,e,y,r,o,h,c)}}(n,t,y.path,y.affectedTree,i,r,o)}else{if(e.type!==Wa.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function KY(n,t,e,i,r){const o=t.serverCache;return u3(n,e3(t,o.getNode(),o.isFullyInitialized()||Jt(e),o.isFiltered()),e,i,c3,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function $Y(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Tx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(YB(Tx(t)))}}(t,c,f),{viewCache:c,changes:f}}(n.processor_,r,t,e,i);return function qY(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,m3(n,o.changes,o.viewCache.eventCache.getNode(),null)}function m3(n,t,e,i){return function EY(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function cY(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),JC(n,r,"child_removed",t,i,e),JC(n,r,"child_added",t,i,e),JC(n,r,"child_moved",o,i,e),JC(n,r,"child_changed",t,i,e),JC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Ax,kx;class _3{constructor(){this.views=new Map}}function vR(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),g3(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(g3(c,t,e,i));return o}}function y3(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let h=Sx(e,r?i:null),f=!1;h?f=!0:i instanceof Ut?(h=fR(e,i),f=!1):(h=Ut.EMPTY_NODE,f=!1);const y=Ex(new op(h,f,!1),new op(i,r,!1));return new QY(t,y)}return c}function v3(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function lp(n,t){let e=null;for(const i of n.views.values())e=e||eQ(i,t);return e}function w3(n,t){return t._queryParams.loadsAllData()?Mx(n):n.views.get(t._queryIdentifier)}function b3(n,t){return null!=w3(n,t)}function cp(n){return null!=Mx(n)}function Mx(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let uQ=1;class C3{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Un(null),this.pendingWriteTree_=function BY(){return{visibleWrites:Ll.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wR(n,t,e,i,r){return function xY(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=e0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?By(n,new Dg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function up(n,t,e=!1){const i=function AY(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function MY(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&kY(h,i.path)?r=!1:Za(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function OY(n){n.visibleWrites=r3(n.allWrites,RY,_n()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=t3(n.visibleWrites,i.path):jr(i.children,f=>{n.visibleWrites=t3(n.visibleWrites,ui(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new Un(null);return null!=i.snap?o=o.set(_n(),!0):jr(i.children,c=>{o=o.set(new Cn(c),!0)}),By(n,new Cx(i.path,o,e))}return[]}function t0(n,t,e){return By(n,new Dg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function bR(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let c=[];if(o&&("default"===t._queryIdentifier||b3(o,t))){const h=function aQ(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=cp(n);if("default"===r)for(const[f,y]of n.views.entries())c=c.concat(f3(y,e,i)),p3(y)&&(n.views.delete(f),y.query._queryParams.loadsAllData()||o.push(y.query));else{const f=n.views.get(r);f&&(c=c.concat(f3(f,e,i)),p3(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return h&&!cp(n)&&o.push(new(function rQ(){return(0,N.hu)(Ax,"Reference.ts has not been loaded"),Ax}())(t._repo,t._path)),{removed:o,events:c}}(o,t,e,i);(function sQ(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=h.removed;c=h.events;const y=-1!==f.findIndex(I=>I._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(r,(I,M)=>cp(M));if(y&&!E){const I=n.syncPointTree_.subtree(r);if(!I.isEmpty()){const M=function yQ(n){return n.fold((t,e,i)=>{if(e&&cp(e))return[Mx(e)];{let r=[];return e&&(r=v3(e)),jr(i,(o,c)=>{r=r.concat(c)}),r}})}(I);for(let P=0;P<M.length;++P){const V=M[P],Q=V.query,ye=S3(n,V);n.listenProvider_.startListening(n0(Q),Rx(n,Q),ye.hashFn,ye.onComplete)}}}!E&&f.length>0&&!i&&(y?n.listenProvider_.stopListening(n0(t),null):f.forEach(I=>{const M=n.queryToTagMap.get(Px(I));n.listenProvider_.stopListening(n0(I),M)})),function vQ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Px(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return c}function E3(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(I,M)=>{const P=no(I,i);r=r||lp(M,P),o=o||cp(M)});let h,c=n.syncPointTree_.get(i);c?(o=o||cp(c),r=r||lp(c,_n())):(c=new _3,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=Ut.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((M,P)=>{const V=lp(P,_n());V&&(r=r.updateImmediateChild(M,V))}));const f=b3(c,t);if(!f&&!t._queryParams.loadsAllData()){const I=Px(t);(0,N.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const M=function wQ(){return uQ++}();n.queryToTagMap.set(I,M),n.tagToQueryMap.set(M,I)}let E=function oQ(n,t,e,i,r,o){const c=y3(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function tQ(n,t){n.eventRegistrations_.push(t)}(c,e),function nQ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Bn,(o,c)=>{i.push(Ny(o,c))}),e.isFullyInitialized()&&i.push(YB(e.getNode())),m3(n,i,e.getNode(),t)}(c,e)}(c,t,e,Ix(n.pendingWriteTree_,i),r,h);if(!f&&!o){const I=w3(c,t);E=E.concat(function bQ(n,t,e){const i=t._path,r=Rx(n,t),o=S3(n,e),c=n.listenProvider_.startListening(n0(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!cp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((y,E,I)=>{if(!Jt(y)&&E&&cp(E))return[Mx(E).query];{let M=[];return E&&(M=M.concat(v3(E).map(P=>P.query))),jr(I,(P,V)=>{M=M.concat(V)}),M}});for(let y=0;y<f.length;++y){const E=f[y];n.listenProvider_.stopListening(n0(E),Rx(n,E))}}return c}(n,t,I))}return E}function Ox(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const y=lp(h,no(c,t));if(y)return y});return s3(r,t,o,e,!0)}function By(n,t){return T3(t,n.syncPointTree_,null,Ix(n.pendingWriteTree_,_n()))}function T3(n,t,e,i){if(Jt(n.path))return I3(n,t,e,i);{const r=t.get(_n());null==e&&null!=r&&(e=lp(r,_n()));let o=[];const c=Qt(n.path),h=n.operationForChild(c),f=t.children.get(c);if(f&&h){const y=e?e.getImmediateChild(c):null,E=a3(i,c);o=o.concat(T3(h,f,y,E))}return r&&(o=o.concat(vR(r,n,i,e))),o}}function I3(n,t,e,i){const r=t.get(_n());null==e&&null!=r&&(e=lp(r,_n()));let o=[];return t.children.inorderTraversal((c,h)=>{const f=e?e.getImmediateChild(c):null,y=a3(i,c),E=n.operationForChild(c);E&&(o=o.concat(I3(E,h,f,y)))}),r&&(o=o.concat(vR(r,n,i,e))),o}function S3(n,t){const e=t.query,i=Rx(n,e);return{hashFn:()=>(function JY(n){return n.viewCache_.serverCache.getNode()}(t)||Ut.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function fQ(n,t,e){const i=CR(n,e);if(i){const r=ER(i),o=r.path,c=r.queryId,h=no(o,t);return TR(n,o,new QC(cR(c),h))}return[]}(n,e._path,i):function pQ(n,t){return By(n,new QC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function h8(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return bR(n,e,null,o)}}}}function Rx(n,t){const e=Px(t);return n.queryToTagMap.get(e)}function Px(n){return n._path.toString()+"$"+n._queryIdentifier}function CR(n,t){return n.tagToQueryMap.get(t)}function ER(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cn(n.substr(0,t))}}function TR(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),vR(i,e,Ix(n.pendingWriteTree_,t),null)}function n0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function cQ(){return(0,N.hu)(kx,"Reference.ts has not been loaded"),kx}())(n._repo,n._path):n}class IR{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new IR(e)}node(){return this.node_}}class SR{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ui(this.path_,t);return new SR(this.syncTree_,e)}node(){return Ox(this.syncTree_,this.path_)}}const x3=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?EQ(n[".sv"],t,e):"object"==typeof n[".sv"]?TQ(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},EQ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},TQ=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},D3=function(n,t,e,i){return DR(t,new SR(e,n),i)},xR=function(n,t,e){return DR(n,new IR(t),e)};function DR(n,t,e){const i=n.getPriority().val(),r=x3(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=x3(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new Oy(h,fi(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Oy(r))),c.forEachChild(Bn,(h,f)=>{const y=DR(f,t.getImmediateChild(h),e);y!==f&&(o=o.updateImmediateChild(h,y))}),o}}class AR{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Nx(n,t){let e=t instanceof Cn?t:new Cn(t),i=n,r=Qt(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new AR(r,i,o),e=Mn(e),r=Qt(e)}return i}function kg(n){return n.node.value}function MR(n,t){n.node.value=t,kR(n)}function A3(n){return n.node.childCount>0}function Fx(n,t){jr(n.node.children,(e,i)=>{t(new AR(e,n,i))})}function M3(n,t,e,i){e&&!i&&t(n),Fx(n,r=>{M3(r,t,!0,i)}),e&&i&&t(n)}function r0(n){return new Cn(null===n.parent?n.name:r0(n.parent)+"/"+n.name)}function kR(n){null!==n.parent&&function xQ(n,t,e){const i=function IQ(n){return void 0===kg(n)&&!A3(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,kR(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,kR(n))}(n.parent,n.name,n)}const DQ=/[\[\].#$\/\u0000-\u001F\u007F]/,AQ=/[\[\].#$\u0000-\u001F\u007F]/,OR=10485760,Lx=function(n){return"string"==typeof n&&0!==n.length&&!DQ.test(n)},k3=function(n){return"string"==typeof n&&0!==n.length&&!AQ.test(n)},s0=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!cx(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Xc=function(n,t,e,i){i&&void 0===t||o0((0,N.gK)(n,"value"),t,e)},o0=function(n,t,e){const i=e instanceof Cn?new z8(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Sg(i));if("function"==typeof t)throw new Error(n+"contains a function "+Sg(i)+" with contents = "+t.toString());if(cx(t))throw new Error(n+"contains "+t.toString()+" "+Sg(i));if("string"==typeof t&&t.length>OR/3&&(0,N.ug)(t)>OR)throw new Error(n+"contains a string greater than "+OR+" utf8 bytes "+Sg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(jr(t,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!Lx(c)))throw new Error(n+" contains an invalid key ("+c+") "+Sg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function q8(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),LB(n)})(i,c),o0(n,h,i),function G8(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Sg(i)+" in addition to actual children.")}},O3=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];jr(t,(c,h)=>{const f=new Cn(c);if(o0(r,h,ui(e,f)),".priority"===ZO(f)&&!s0(h))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=qC(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!Lx(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(j8);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Za(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},RR=function(n,t,e){if(!e||void 0!==t){if(cx(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!s0(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},a0=function(n,t,e,i){if(!(i&&void 0===e||Lx(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},l0=function(n,t,e,i){if(!(i&&void 0===e||k3(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ka=function(n,t){if(".info"===Qt(t))throw new Error(n+" failed = Can't modify data under /.info/")},R3=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lx(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),k3(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class RQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vx(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!WO(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function PR(n,t,e){Vx(n,e),P3(n,i=>WO(i,t))}function Ya(n,t,e){Vx(n,e),P3(n,i=>Za(i,t)||Za(t,i))}function P3(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(PQ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function PQ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Tg&&Hr("event: "+e.toString()),My(i)}}}const N3="repo_interrupt";class FQ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bx(),this.transactionQueueTree_=new AR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F3(n){const e=n.infoData_.getNode(new Cn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function c0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:F3(n)})}function L3(n,t,e,i,r){n.dataUpdateCount++;const o=new Cn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const f=(0,N.UI)(e,y=>fi(y));c=function mQ(n,t,e,i){const r=CR(n,i);if(r){const o=ER(r),c=o.path,h=o.queryId,f=no(c,t),y=Un.fromObject(e);return TR(n,c,new Ly(cR(h),f,y))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=fi(e);c=function gQ(n,t,e,i){const r=CR(n,i);if(null!=r){const o=ER(r),c=o.path,h=o.queryId,f=no(c,t);return TR(n,c,new Dg(cR(h),f,e))}return[]}(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,N.UI)(e,y=>fi(y));c=function hQ(n,t,e){const i=Un.fromObject(e);return By(n,new Ly({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=fi(e);c=t0(n.serverSyncTree_,o,f)}let h=o;c.length>0&&(h=Hy(n,o)),Ya(n.eventQueue_,h,c)}function V3(n,t){NR(n,"connected",t),!1===t&&function HQ(n){Uy(n,"onDisconnectEvents");const t=c0(n),e=bx();oR(n.onDisconnect_,_n(),(r,o)=>{const c=D3(r,o,n.serverSyncTree_,t);Fy(e,r,c)});let i=[];oR(e,_n(),(r,o)=>{i=i.concat(t0(n.serverSyncTree_,r,o));const c=BR(n,r);Hy(n,c)}),n.onDisconnect_=bx(),Ya(n.eventQueue_,_n(),i)}(n)}function NR(n,t,e){const i=new Cn("/.info/"+t),r=fi(e);n.infoData_.updateSnapshot(i,r);const o=t0(n.infoSyncTree_,i,r);Ya(n.eventQueue_,i,o)}function Bx(n){return n.nextWriteId_++}function FR(n,t,e,i,r){Uy(n,"set",{path:t.toString(),value:e,priority:i});const o=c0(n),c=fi(e,i),h=Ox(n.serverSyncTree_,t),f=xR(c,h,o),y=Bx(n),E=wR(n.serverSyncTree_,t,f,y,!0);Vx(n.eventQueue_,E),n.server_.put(t.toString(),c.val(!0),(M,P)=>{const V="ok"===M;V||Os("set at "+t+" failed: "+M);const Q=up(n.serverSyncTree_,y,!V);Ya(n.eventQueue_,t,Q),dp(0,r,M,P)});const I=BR(n,t);Hy(n,I),Ya(n.eventQueue_,I,[])}function jQ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&sR(n.onDisconnect_,t),dp(0,e,i,r)})}function B3(n,t,e,i){const r=fi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&Fy(n.onDisconnect_,t,r),dp(0,i,o,c)})}function LR(n,t,e){let i;i=".info"===Qt(t._path)?bR(n.infoSyncTree_,t,e):bR(n.serverSyncTree_,t,e),PR(n.eventQueue_,t._path,i)}function U3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(N3)}function Uy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Hr(e,...t)}function dp(n,t,e,i){t&&My(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function VR(n,t,e){return Ox(n.serverSyncTree_,t,e)||Ut.EMPTY_NODE}function Ux(n,t=n.transactionQueueTree_){if(t||Hx(n,t),kg(t)){const e=j3(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function WQ(n,t,e){const i=e.map(y=>y.currentWriteId),r=VR(n,t,i);let o=r;const c=r.hash();for(let y=0;y<e.length;y++){const E=e[y];(0,N.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const I=no(t,E.path);o=o.updateChild(I,E.currentOutputSnapshotRaw)}const h=o.val(!0),f=t;n.server_.put(f.toString(),h,y=>{Uy(n,"transaction put response",{path:f.toString(),status:y});let E=[];if("ok"===y){const I=[];for(let M=0;M<e.length;M++)e[M].status=2,E=E.concat(up(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&I.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();Hx(n,Nx(n.transactionQueueTree_,t)),Ux(n,n.transactionQueueTree_),Ya(n.eventQueue_,t,E);for(let M=0;M<I.length;M++)My(I[M])}else{if("datastale"===y)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Os("transaction at "+f.toString()+" failed: "+y);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=y}Hy(n,t)}},c)}(n,r0(t),e)}else A3(t)&&Fx(t,e=>{Ux(n,e)})}function Hy(n,t){const e=H3(n,t),i=r0(e);return function KQ(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const f=t[h],y=no(e,f.path);let I,E=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)E=!0,I=f.abortReason,r=r.concat(up(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)E=!0,I="maxretry",r=r.concat(up(n.serverSyncTree_,f.currentWriteId,!0));else{const M=VR(n,f.path,c);f.currentInputSnapshot=M;const P=t[h].update(M.val());if(void 0!==P){o0("transaction failed: Data returned ",P,f.path);let V=fi(P);"object"==typeof P&&null!=P&&(0,N.r3)(P,".priority")||(V=V.updatePriority(M.getPriority()));const ye=f.currentWriteId,He=c0(n),Xe=xR(V,M,He);f.currentOutputSnapshotRaw=V,f.currentOutputSnapshotResolved=Xe,f.currentWriteId=Bx(n),c.splice(c.indexOf(ye),1),r=r.concat(wR(n.serverSyncTree_,f.path,Xe,f.currentWriteId,f.applyLocally)),r=r.concat(up(n.serverSyncTree_,ye,!0))}else E=!0,I="nodata",r=r.concat(up(n.serverSyncTree_,f.currentWriteId,!0))}Ya(n.eventQueue_,e,r),r=[],E&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}Hx(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)My(i[h]);Ux(n,n.transactionQueueTree_)}(n,j3(n,e),i),i}function H3(n,t){let e,i=n.transactionQueueTree_;for(e=Qt(t);null!==e&&void 0===kg(i);)i=Nx(i,e),e=Qt(t=Mn(t));return i}function j3(n,t){const e=[];return z3(n,t,e),e.sort((i,r)=>i.order-r.order),e}function z3(n,t,e){const i=kg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Fx(t,r=>{z3(n,r,e)})}function Hx(n,t){const e=kg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,MR(t,e.length>0?e:void 0)}Fx(t,i=>{Hx(n,i)})}function BR(n,t){const e=r0(H3(n,t)),i=Nx(n.transactionQueueTree_,t);return function SQ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{UR(n,r)}),UR(n,i),M3(i,r=>{UR(n,r)}),e}function UR(n,t){const e=kg(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(up(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?MR(t,void 0):e.length=o+1,Ya(n.eventQueue_,r0(t),r);for(let c=0;c<i.length;c++)My(i[c])}}const HR=function(n,t){const e=JQ(n),i=e.namespace;return"firebase.com"===e.domain&&Yc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Yc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Os("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new HO(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Cn(e.pathString)}},JQ=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",f=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(E,I)),E<I&&(r=function YQ(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(E,I)));const M=function QQ(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Os(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));y=t.indexOf(":"),y>=0?(c="https"===h||"wss"===h,f=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),o=i}"ns"in M&&(o=M.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};class q3{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class G3{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $3{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Z3{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return jQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ka("OnDisconnect.remove",this._path);const t=new N.BH;return B3(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ka("OnDisconnect.set",this._path),Xc("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return B3(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ka("OnDisconnect.setWithPriority",this._path),Xc("OnDisconnect.setWithPriority",t,this._path,!1),RR("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function zQ(n,t,e,i,r){const o=fi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&Fy(n.onDisconnect_,t,o),dp(0,r,c,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ka("OnDisconnect.update",this._path),O3("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function qQ(n,t,e,i){if((0,N.xb)(e))return Hr("onDisconnect().update() called with empty data.  Don't do anything."),void dp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&jr(e,(c,h)=>{const f=fi(h);Fy(n.onDisconnect_,ui(t,c),f)}),dp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ao{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:ZO(this._path)}get ref(){return new Qa(this._repo,this._path)}get _queryIdentifier(){const t=JB(this._queryParams),e=VO(t);return"{}"===e?"default":e}get _queryObject(){return JB(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Ao))return!1;const e=this._repo===t._repo,i=WO(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function H8(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function jx(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function hp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Jc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ad)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Qc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Bn){if(null!=t&&!s0(t)||null!=e&&!s0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof XO||n.getIndex()===eR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qa extends Ao{constructor(t,e){super(t,e,new yx,!1)}get parent(){const t=FB(this._path);return null===t?null:new Qa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Og{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Cn(t),i=Rg(this.ref,t);return new Og(this._node.getChild(e),i,Bn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Og(r,Rg(this.ref,i),Bn)))}hasChild(t){const e=new Cn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function W3(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?Rg(n._root,t):n._root}function K3(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=HR(t,n._repo.repoInfo_.nodeAdmin);R3("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Yc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),W3(n,e.path.toString())}function Rg(n,t){return null===Qt((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),l0("child","path",e,!1)):l0("child","path",t,!1),new Qa(n._repo,ui(n._path,t));var e}function jR(n,t){n=(0,N.m9)(n),Ka("set",n._path),Xc("set",t,n._path,!1);const e=new N.BH;return FR(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function iJ(n,t){O3("update",t,n._path,!1);const e=new N.BH;return function UQ(n,t,e,i){Uy(n,"update",{path:t.toString(),value:e});let r=!0;const o=c0(n),c={};if(jr(e,(h,f)=>{r=!1,c[h]=D3(ui(t,h),fi(f),n.serverSyncTree_,o)}),r)Hr("update() called with empty data.  Don't do anything."),dp(0,i,"ok",void 0);else{const h=Bx(n),f=function dQ(n,t,e,i){!function DY(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=dR(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Un.fromObject(e);return By(n,new Ly({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,h);Vx(n.eventQueue_,f),n.server_.merge(t.toString(),e,(y,E)=>{const I="ok"===y;I||Os("update at "+t+" failed: "+y);const M=up(n.serverSyncTree_,h,!I),P=M.length>0?Hy(n,t):t;Ya(n.eventQueue_,P,M),dp(0,i,y,E)}),jr(e,y=>{const E=BR(n,ui(t,y));Hy(n,E)}),Ya(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function rJ(n){return function BQ(n,t){const e=function _Q(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,E)=>{const I=no(y,e);i=i||lp(E,I)});let r=n.syncPointTree_.get(e);r?i=i||lp(r,_n()):(r=new _3,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new op(i,!0,!1):null;return function XY(n){return Tx(n.viewCache_)}(y3(r,t,Ix(n.pendingWriteTree_,t._path),o?c.getNode():Ut.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=fi(i).withIndex(t._queryParams.getIndex()),o=t0(n.serverSyncTree_,t._path,r);return PR(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(Uy(n,"get for query "+(0,N.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,N.m9)(n))._repo,n).then(t=>new Og(t,new Qa(n._repo,n._path),n._queryParams.getIndex()))}class qx{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new q3("value",this,new Og(t.snapshotNode,new Qa(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new G3(this,t,e):null}matches(t){return t instanceof qx&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gx{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new G3(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=Rg(new Qa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new q3(t.type,this,new Og(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gx&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function u0(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,y=(E,I)=>{LR(n._repo,n,h),f(E,I)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new $3(e,o||void 0),h="value"===t?new qx(c):new Gx(t,c);return function GQ(n,t,e){let i;i=".info"===Qt(t._path)?E3(n.infoSyncTree_,t,e):E3(n.serverSyncTree_,t,e),PR(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>LR(n._repo,n,h)}function zR(n,t,e,i){return u0(n,"value",t,e,i)}function Y3(n,t,e,i){return u0(n,"child_added",t,e,i)}function Q3(n,t,e,i){return u0(n,"child_changed",t,e,i)}function J3(n,t,e,i){return u0(n,"child_moved",t,e,i)}function X3(n,t,e,i){return u0(n,"child_removed",t,e,i)}function eU(n,t,e){let i=null;const r=e?new $3(e):null;"value"===t?i=new qx(r):t&&(i=new Gx(t,r)),LR(n._repo,n,i)}class Vl{}class tU extends Vl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xc("endAt",this._value,t._path,!0);const e=rR(t._queryParams,this._value,this._key);if(zx(e),hp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ao(t._repo,t._path,e,t._orderByCalled)}}class oJ extends Vl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xc("endBefore",this._value,t._path,!1);const e=function gY(n,t,e){let i,r;return n.index_===Jc?("string"==typeof t&&(t=KB(t)),r=rR(n,t,e)):(i=null==e?ad:KB(e),r=rR(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(zx(e),hp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ao(t._repo,t._path,e,t._orderByCalled)}}class nU extends Vl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xc("startAt",this._value,t._path,!0);const e=iR(t._queryParams,this._value,this._key);if(zx(e),hp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ao(t._repo,t._path,e,t._orderByCalled)}}class cJ extends Vl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xc("startAfter",this._value,t._path,!1);const e=function fY(n,t,e){let i;if(n.index_===Jc)"string"==typeof t&&(t=WB(t)),i=iR(n,t,e);else{let r;r=null==e?Qc:WB(e),i=iR(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(zx(e),hp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ao(t._repo,t._path,e,t._orderByCalled)}}class dJ extends Vl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ao(t._repo,t._path,function hY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class pJ extends Vl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ao(t._repo,t._path,function pY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class gJ extends Vl{constructor(t){super(),this._path=t}_apply(t){jx(t,"orderByChild");const e=new Cn(this._path);if(Jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new XO(e),r=vx(t._queryParams,i);return hp(r),new Ao(t._repo,t._path,r,!0)}}class _J extends Vl{_apply(t){jx(t,"orderByKey");const e=vx(t._queryParams,Jc);return hp(e),new Ao(t._repo,t._path,e,!0)}}class vJ extends Vl{_apply(t){jx(t,"orderByPriority");const e=vx(t._queryParams,Bn);return hp(e),new Ao(t._repo,t._path,e,!0)}}class bJ extends Vl{_apply(t){jx(t,"orderByValue");const e=vx(t._queryParams,eR);return hp(e),new Ao(t._repo,t._path,e,!0)}}class EJ extends Vl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Xc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tU(this._value,this._key)._apply(new nU(this._value,this._key)._apply(t))}}function Bl(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function iQ(n){(0,N.hu)(!Ax,"__referenceConstructor has already been defined"),Ax=n})(Qa),function lQ(n){(0,N.hu)(!kx,"__referenceConstructor has already been defined"),kx=n}(Qa);const qR={};function rU(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Yc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,y,c=HR(o,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(f=!0,o=`http://${y}?ns=${h.namespace}`,c=HR(o,r),h=c.repoInfo):f=!c.repoInfo.secure;const E=r&&f?new zC(zC.OWNER):new m8(n.name,n.options,t);R3("Invalid Firebase Database URL",c),Jt(c.path)||Yc("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function DJ(n,t,e,i){let r=qR[t.name];r||(r={},qR[t.name]=r);let o=r[n.toURLString()];return o&&Yc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new FQ(n,false,e,i),r[n.toURLString()]=o,o}(h,n,E,new g8(n.name,e));return new MJ(I,n)}class MJ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function LQ(n,t,e){if(n.stats_=qO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new wx(n.repoInfo_,(i,r,o,c)=>{L3(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>V3(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new xg(n.repoInfo_,t,(i,r,o,c)=>{L3(n,i,r,o,c)},i=>{V3(n,i)},i=>{!function VQ(n,t){jr(t,(e,i)=>{NR(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function v8(n,t){const e=n.toString();return zO[e]||(zO[e]=t()),zO[e]}(n.repoInfo_,()=>new bY(n.stats_,n.server_)),n.infoData_=new mY,n.infoSyncTree_=new C3({startListening:(i,r,o,c)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=t0(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),NR(n,"connected",!1),n.serverSyncTree_=new C3({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,f)=>{const y=c(h,f);Ya(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qa(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xJ(n,t){const e=qR[t];(!e||e[n.key]!==n)&&Yc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),U3(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Yc("Cannot call "+t+" on a deleted database.")}}function sU(){TB.IS_TRANSPORT_INITIALIZED&&Os("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function kJ(){sU(),rp.forceDisallow()}function OJ(){sU(),ky.forceDisallow(),rp.forceAllow()}function FJ(n,t){rB(n,t)}const VJ={".sv":"timestamp"};class HJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}xg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},xg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function LJ(n){XV(aa.SDK_VERSION),(0,aa._registerComponent)(new Io.wA("database",(t,{instanceIdentifier:e})=>rU(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,aa.registerVersion)(QV,"0.13.0",n),(0,aa.registerVersion)(QV,"0.13.0","esm2017")}();const GJ=new Ws.Yd("@firebase/database-compat"),oU=function(n){GJ.warn("FIREBASE WARNING: "+n)};class WJ{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,oU("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class KJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),l0("DataSnapshot.child","path",t,!1),new pp(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),l0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new pp(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ga(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class as{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=as.getCancelAndContextArgs_("Query.on",i,r),h=(y,E)=>{e.call(c.context,new pp(this.database,y),E)};h.userCallback=e,h.context=c.context;const f=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return zR(this._delegate,h,f),e;case"child_added":return Y3(this._delegate,h,f),e;case"child_removed":return X3(this._delegate,h,f),e;case"child_changed":return Q3(this._delegate,h,f),e;case"child_moved":return J3(this._delegate,h,f),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,eU(this._delegate,t,r)}else eU(this._delegate,t)}get(){return rJ(this._delegate).then(t=>new pp(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=as.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,h=(y,E)=>{const I=new pp(this.database,y);e&&e.call(o.context,I,E),c.resolve(I)};h.userCallback=e,h.context=o.context;const f=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(t){case"value":zR(this._delegate,h,f,{onlyOnce:!0});break;case"child_added":Y3(this._delegate,h,f,{onlyOnce:!0});break;case"child_removed":X3(this._delegate,h,f,{onlyOnce:!0});break;case"child_changed":Q3(this._delegate,h,f,{onlyOnce:!0});break;case"child_moved":J3(this._delegate,h,f,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new as(this.database,Bl(this._delegate,function hJ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new dJ(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new as(this.database,Bl(this._delegate,function fJ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pJ(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new as(this.database,Bl(this._delegate,function mJ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return l0("orderByChild","path",n,!1),new gJ(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new as(this.database,Bl(this._delegate,function yJ(){return new _J}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new as(this.database,Bl(this._delegate,function wJ(){return new vJ}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new as(this.database,Bl(this._delegate,function CJ(){return new bJ}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new as(this.database,Bl(this._delegate,function lJ(n=null,t){return a0("startAt","key",t,!0),new nU(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new as(this.database,Bl(this._delegate,function uJ(n,t){return a0("startAfter","key",t,!0),new cJ(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new as(this.database,Bl(this._delegate,function sJ(n,t){return a0("endAt","key",t,!0),new tU(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new as(this.database,Bl(this._delegate,function aJ(n,t){return a0("endBefore","key",t,!0),new oJ(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new as(this.database,Bl(this._delegate,function TJ(n,t){return a0("equalTo","key",t,!0),new EJ(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof as))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ga(this.database,new Qa(this._delegate._repo,this._delegate._path))}}class ga extends as{constructor(t,e){super(t,new Ao(e._repo,e._path,new yx,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ga(this.database,Rg(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ga(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ga(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=jR(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,oU("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ka("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=iJ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function nJ(n,t,e){if(Ka("setWithPriority",n._path),Xc("setWithPriority",t,n._path,!1),RR("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return FR(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function eJ(n){return Ka("remove",n._path),jR(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function jJ(n,t,e){var i;if(n=(0,N.m9)(n),Ka("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new N.BH,h=zR(n,()=>{});return function ZQ(n,t,e,i,r,o){Uy(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:tB(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=VR(n,t,void 0);c.currentInputSnapshot=h;const f=c.update(h.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{o0("transaction failed: Data returned ",f,c.path),c.status=0;const y=Nx(n.transactionQueueTree_,t),E=kg(y)||[];let I;E.push(c),MR(y,E),"object"==typeof f&&null!==f&&(0,N.r3)(f,".priority")?(I=(0,N.DV)(f,".priority"),(0,N.hu)(s0(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(Ox(n.serverSyncTree_,t)||Ut.EMPTY_NODE).getPriority().val();const M=c0(n),P=fi(f,I),V=xR(P,h,M);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=V,c.currentWriteId=Bx(n);const Q=wR(n.serverSyncTree_,t,V,c.currentWriteId,c.applyLocally);Ya(n.eventQueue_,t,Q),Ux(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,y,E)=>{let I=null;f?o.reject(f):(I=new Og(E,new Qa(n._repo,n._path),Bn),o.resolve(new HJ(y,I)))},h,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new KJ(o.committed,new pp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function tJ(n,t){n=(0,N.m9)(n),Ka("setPriority",n._path),RR("setPriority",t,!1);const e=new N.BH;return FR(n._repo,ui(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function XQ(n,t){n=(0,N.m9)(n),Ka("push",n._path),Xc("push",t,n._path,!0);const e=F3(n._repo),i=lY(e),r=Rg(n,i),o=Rg(n,i);let c;return c=null!=t?jR(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new ga(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new ga(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ka("Reference.onDisconnect",this._delegate._path),new WJ(new Z3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class d0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:kJ,forceLongPolling:OJ}}useEmulator(t,e,i={}){!function RJ(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Yc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Yc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new zC(zC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new zC(c)}!function SJ(n,t,e,i){n.repoInfo_=new HO(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof ga){const e=K3(this._delegate,t.toString());return new ga(this,e)}{const e=W3(this._delegate,t);return new ga(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=K3(this._delegate,t);return new ga(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function PJ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),U3(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function NJ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function $Q(n){n.persistentConnection_&&n.persistentConnection_.resume(N3)}(n._repo)}(this._delegate)}}d0.ServerValue={TIMESTAMP:function BJ(){return VJ}(),increment:n=>function UJ(n){return{".sv":{increment:n}}}(n)};var QJ=Object.freeze({__proto__:null,initStandalone:function YJ({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){XV(e);const c=new Io.zt("auth-internal",new Io.H0("database-standalone"));return c.setComponent(new Io.wA("auth-internal",()=>i,"PRIVATE")),{instance:new d0(rU(n,c,void 0,t,o),n),namespace:r}}});const JJ=d0.ServerValue;function aU(n){return null==n}function lU(n){return"function"==typeof n.set}function cU(n,t){return lU(t)?t:n.ref(t)}function uU(n,t){if(function e7(n){return"string"==typeof n}(n))return t.stringCase();if(lU(n))return t.firebaseCase();if(function t7(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function h0(n,t,e="on",i=Lh.z){return new Fi.y(r=>{let o=null;return o=n[e](t,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,k.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:c,key:h}}),(0,kE.B)())}function dU(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function s7(n,t){const{payload:e,prevKey:i,key:r}=t,o=dU(n,r),c=function r7(n,t){if(aU(t))return 0;{const e=dU(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(f=>{const y={payload:f,type:"value",prevKey:h,key:f.key};return h=f.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function hU(n){return(aU(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pU(n,t,e){return function n7(n,t,e){return h0(n,"value","once",e).pipe(Li(i=>{const r=[bt(i)];return t.forEach(o=>r.push(h0(n,o,"on",e))),(0,Ym.T)(...r).pipe(yl(s7,[]))}),L_())}(n,t=hU(t),e)}function fU(n,t,e){const i=(t=hU(t)).map(r=>h0(n,r,"on",e));return(0,Ym.T)(...i)}function gU(n,t){return function(i,r){return uU(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function c7(n){return function(e){return e?uU(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function mU(n,t){return function(){return h0(n,"value","on",t)}}!function XJ(n){n.INTERNAL.registerComponent(new Io.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new d0(r,i)},"PUBLIC").setServiceProps({Reference:ga,Query:as,Database:d0,DataSnapshot:pp,enableLogging:FJ,INTERNAL:QJ,ServerValue:JJ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(GI.Z);const h7=new s.OlP("angularfire2.realtimeDatabaseURL"),p7=new s.OlP("angularfire2.database.use-emulator");let f7=(()=>{class n{constructor(e,i,r,o,c,h,f,y,E,I,M,P,V,Q,ye){this.schedulers=h;const He=f,Xe=(0,Xr.on)(e,c,i);y&&Ct(Xe,c,E,M,P,V,I,Q),this.database=(0,Xr.cc)(`${Xe.name}.database.${r}`,"AngularFireDatabase",Xe.name,()=>{const it=c.runOutsideAngular(()=>Xe.database(r||void 0));return He&&it.useEmulator(...He),it},[He])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>cU(this.database,e));let o=r;return i&&(o=i(r)),function u7(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:gU(i,"update"),set:gU(i,"set"),push:r=>i.push(r),remove:c7(i),snapshotChanges:r=>pU(n,r,e).pipe(An.iC),stateChanges:r=>fU(n,r,e).pipe(An.iC),auditTrail:r=>function o7(n,t,e){return function l7(n,t,e){return function a7(n,t){return h0(n,"value","on",t).pipe((0,k.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function n8(...n){const t=(0,ea.jO)(n);return(0,m.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let f=0;f<r;f++)(0,ml.Xf)(n[f]).subscribe((0,b.x)(i,y=>{o[f]=y,!h&&!c[f]&&(c[f]=!0,(h=c.every(nh.y))&&(c=null))},db.Z));e.subscribe((0,b.x)(i,f=>{if(h){const y=[f,...o];i.next(t?t(...y):y)}}))})}(t),(0,k.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(f=>f.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function r8(n){return(0,m.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,b.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,k.U)(r=>r.actions))}(n,fU(n,t).pipe(yl((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(An.iC),valueChanges:(r,o)=>pU(n,r,e).pipe((0,k.U)(h=>h.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),An.iC)}}(o,this)}object(e){return function d7(n,t){return{query:n,snapshotChanges:()=>mU(n,t.schedulers.outsideAngular)().pipe(An.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>mU(n,t.schedulers.outsideAngular)().pipe(An.iC,(0,k.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cU(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xr.Dh),s.LFG(Xr.xv,8),s.LFG(h7,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(An.HU),s.LFG(p7,8),s.LFG(h_,8),s.LFG(CT,8),s.LFG(Sf,8),s.LFG(ET,8),s.LFG(u_,8),s.LFG(d_,8),s.LFG(TT,8),s.LFG(c_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),g7=(()=>{class n{constructor(){bT.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[f7]}),n})();const _U_firebaseConfig={apiKey:"AIzaSyBubQfS5FkzpTBdeJF3WgQmCk3XRIX2muE",authDomain:"pranavam-759d0.firebaseapp.com",projectId:"pranavam-759d0",storageBucket:"pranavam-759d0.appspot.com",messagingSenderId:"1036267670449",appId:"1:1036267670449:web:78a97a16efd91192044b90"};let b7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn]]}),n})();const C7=["container"],E7=["in"],T7=["multiIn"],I7=["multiContainer"],S7=["ddBtn"],x7=function(n,t){return{"p-autocomplete-dd-input":n,"p-disabled":t}};function D7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",8,9),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",s.WLB(20,x7,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),s.uIk("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("autofocus",e.autofocus)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function A7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function M7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().clear()}),s.qZA()}}function k7(n,t){1&n&&s.GkF(0)}function O7(n,t){if(1&n&&(s.TgZ(0,"span",22),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function R7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",23),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(1);return s.oxw(2).removeItem(r)}),s.qZA()}}const $x=function(n){return{$implicit:n}};function P7(n,t){if(1&n&&(s.TgZ(0,"li",17,18),s.YNc(2,k7,1,0,"ng-container",19),s.YNc(3,O7,2,1,"span",20),s.YNc(4,R7,1,0,"span",21),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(4,$x,e)),s.xp6(1),s.Q6J("ngIf",!i.selectedItemTemplate),s.xp6(1),s.Q6J("ngIf",!i.disabled&&!i.readonly)}}const N7=function(n,t){return{"p-disabled":n,"p-focus":t}};function F7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ul",11,12),s.NdJ("click",function(){return s.CHM(e),s.MAs(5).focus()}),s.YNc(2,P7,5,6,"li",13),s.TgZ(3,"li",14)(4,"input",15,16),s.NdJ("input",function(r){return s.CHM(e),s.oxw().onInput(r)})("click",function(r){return s.CHM(e),s.oxw().onInputClick(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("keyup",function(r){return s.CHM(e),s.oxw().onKeyup(r)})("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("change",function(r){return s.CHM(e),s.oxw().onInputChange(r)})("paste",function(r){return s.CHM(e),s.oxw().onInputPaste(r)}),s.qZA()()()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.WLB(20,N7,e.disabled,e.focus)),s.xp6(2),s.Q6J("ngForOf",e.value),s.xp6(2),s.Tol(e.inputStyleClass),s.Q6J("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),s.uIk("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("autofocus",e.autofocus)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function L7(n,t){1&n&&s._UZ(0,"i",24)}function V7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25,26),s.NdJ("click",function(r){return s.CHM(e),s.oxw().handleDropdownClick(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("icon",e.dropdownIcon)("disabled",e.disabled),s.uIk("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex)}}function B7(n,t){1&n&&s.GkF(0)}function U7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function H7(n,t){1&n&&s.GkF(0)}function j7(n,t){1&n&&s.GkF(0)}function z7(n,t){if(1&n&&(s.TgZ(0,"li",34),s.YNc(1,U7,2,1,"span",31),s.YNc(2,H7,1,0,"ng-container",19),s.qZA(),s.YNc(3,j7,1,0,"ng-container",19)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(7),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,$x,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(7,$x,r.getOptionGroupChildren(e)))}}function q7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,z7,4,9,"ng-template",33),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.suggestions)}}function G7(n,t){1&n&&s.GkF(0)}function $7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,G7,1,0,"ng-container",19),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.VKq(2,$x,i.suggestions))}}function Z7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function W7(n,t){1&n&&s.GkF(0)}const yU=function(n){return{"p-highlight":n}},vU=function(n,t){return{$implicit:n,index:t}};function K7(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",39),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(4).selectItem(o)}),s.YNc(1,Z7,2,1,"span",31),s.YNc(2,W7,1,0,"ng-container",19),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(5,yU,e===r.highlightOption))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(7,vU,e,i))}}function Y7(n,t){if(1&n&&(s.ynx(0),s.YNc(1,K7,3,10,"li",38),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function Q7(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(5);s.xp6(1),s.Oqu(i.resolveFieldData(e))}}function J7(n,t){1&n&&s.GkF(0)}const wU=function(n){return{height:n}};function X7(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"li",43),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw(5).selectItem(o)}),s.YNc(2,Q7,2,1,"span",31),s.YNc(3,J7,1,0,"ng-container",19),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(5);s.xp6(1),s.Q6J("ngClass",s.VKq(6,yU,e===r.highlightOption))("ngStyle",s.VKq(8,wU,r.itemSize+"px"))("id",r.highlightOption==e?"p-highlighted-option":""),s.xp6(1),s.Q6J("ngIf",!r.itemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(10,vU,e,i))}}function e9(n,t){if(1&n&&(s.TgZ(0,"cdk-virtual-scroll-viewport",41),s.YNc(1,X7,4,13,"ng-container",42),s.qZA()),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,wU,i.scrollHeight))("itemSize",i.itemSize),s.xp6(1),s.Q6J("cdkVirtualForOf",e)}}function t9(n,t){if(1&n&&s.YNc(0,e9,2,5,"cdk-virtual-scroll-viewport",40),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&!e.noResults)}}function n9(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function r9(n,t){1&n&&s.GkF(0,null,45)}function s9(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,n9,2,1,"ng-container",35),s.YNc(2,r9,2,0,"ng-container",29),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function o9(n,t){if(1&n&&(s.YNc(0,Y7,2,1,"ng-container",35),s.YNc(1,t9,1,1,"ng-template",null,36,s.W1O),s.YNc(3,s9,3,3,"li",37)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.noResults&&i.showEmptyMessage)}}function a9(n,t){1&n&&s.GkF(0)}const l9=function(){return["p-autocomplete-panel p-component"]},c9=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},u9=function(n){return{value:"visible",params:n}},d9=function(n){return{"p-autocomplete-virtualscroll":n}};function h9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27,28),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(2,B7,1,0,"ng-container",29),s.TgZ(3,"ul",30),s.YNc(4,q7,2,1,"ng-container",31),s.YNc(5,$7,2,4,"ng-container",31),s.YNc(6,o9,4,3,"ng-template",null,32,s.W1O),s.qZA(),s.YNc(8,a9,1,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight),s.Q6J("ngClass",s.DdM(13,l9))("ngStyle",e.panelStyle)("@overlayAnimation",s.VKq(17,u9,s.WLB(14,c9,e.showTransitionOptions,e.hideTransitionOptions))),s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngClass",s.VKq(19,d9,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const p9=function(n,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":n,"p-autocomplete-multiple":t}},f9={provide:Or,useExisting:(0,s.Gpc)(()=>g9),multi:!0};let g9=(()=>{class n{constructor(e,i,r,o,c,h){this.el=e,this.renderer=i,this.cd=r,this.differs=o,this.config=c,this.overlayService=h,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.completeMethod=new s.vpe,this.onSelect=new s.vpe,this.onUnselect=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onDropdownClick=new s.vpe,this.onClear=new s.vpe,this.onKeyUp=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=o.find([]).create(null),this.listId=Uh()+"_list"}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let e=re.findSingle(this.overlay,"li.p-highlight");if(e&&re.scrollInView(this.itemsWrapper,e),this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}updateVirtualScrollSelectedIndex(){this.highlightOption&&this.suggestions&&this.suggestions.length&&(this.virtualScrollSelectedIndex=this.findOptionIndex(this.highlightOption,this.suggestions))}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(e){return this.optionGroupChildren?ot.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?ot.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&re.isIE())return;this.timeout&&clearTimeout(this.timeout);let i=e.target.value;this.inputValue=i,!this.multiple&&!this.forceSelection&&this.onModelChange(i),0===i.length&&!this.multiple&&(this.hide(),this.onClear.emit(e),this.onModelChange(i)),i.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,i)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,i){null!=i&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i}))}selectItem(e,i=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(e)||!this.unique)&&(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(e),this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),i&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.itemsWrapper=this.virtualScroll?re.findSingle(this.overlay,".cdk-virtual-scroll-viewport"):this.overlay,this.appendOverlay(),this.autoZIndex&&Bi.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Bi.clear(e.element)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){let i=this.field?ot.resolveFieldData(e,this.field):e;return void 0!==i?i:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?re.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):re.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let i=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,i),this.onDropdownClick.emit({originalEvent:e,query:i})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(pi.EMPTY_MESSAGE)}removeItem(e){let i=re.index(e),r=this.value[i];this.value=this.value.filter((o,c)=>c!=i),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}onKeydown(e){if(this.overlayVisible)switch(e.which){case 40:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.suggestions[r.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0):this.suggestions[r.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=r){var i=r+1;i!=this.suggestions.length&&(this.highlightOption=this.suggestions[i],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}e.preventDefault();break;case 38:if(this.group){let r=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[r.groupIndex])[o],this.highlightOptionChanged=!0;else if(o<0){let c=this.suggestions[r.groupIndex-1];c&&(this.highlightOption=this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1],this.highlightOptionChanged=!0)}}}else{let r=this.findOptionIndex(this.highlightOption,this.suggestions);r>0&&(this.highlightOption=this.suggestions[r-1],this.highlightOptionChanged=!0)}e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===e.which&&this.suggestions?this.search(e,e.target.value):e.ctrlKey&&"z"===e.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):e.ctrlKey&&"z"===e.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===e.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const r=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(r)}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let i=!1,r=e.target.value.trim();if(this.suggestions)for(let o of this.suggestions){let c=this.field?ot.resolveFieldData(o,this.field):o;if(c&&r===c.trim()){i=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(o,!1)},250);break}}i||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let i=!1;if(this.value&&this.value.length)for(let r=0;r<this.value.length;r++)if(ot.equals(this.value[r],e,this.dataKey)){i=!0;break}return i}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(ot.equals(e,i[o])){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let c=0;c<i.length&&(r=c,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[c])),-1===o);c++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.resolveFieldData(this.value);this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{3!==i.which&&(!this.inputClick&&!this.isDropdownClick(i)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let i=e.target;return i===this.dropdownButton.nativeElement||i.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new q_(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Bi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.ZZ4),s.Y36(xl),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-autoComplete"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,fr,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(C7,5),s.Gf(E7,5),s.Gf(T7,5),s.Gf(I7,5),s.Gf(S7,5),s.Gf(Ju,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerEL=r.first),s.iGM(r=s.CRH())&&(i.inputEL=r.first),s.iGM(r=s.CRH())&&(i.multiInputEL=r.first),s.iGM(r=s.CRH())&&(i.multiContainerEL=r.first),s.iGM(r=s.CRH())&&(i.dropdownButton=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus&&!i.disabled||i.overlayVisible)("p-autocomplete-clearable",i.showClear&&!i.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",virtualScroll:"virtualScroll",itemSize:"itemSize",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",scrollHeight:"scrollHeight",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[s._Bn([f9])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-autocomplete-empty-message",4,"ngIf"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","ngStyle","id","click"],[1,"p-autocomplete-empty-message"],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"span",0,1),s.YNc(2,D7,2,23,"input",2),s.YNc(3,A7,1,0,"i",3),s.YNc(4,M7,1,0,"i",3),s.YNc(5,F7,6,23,"ul",4),s.YNc(6,L7,1,0,"i",5),s.YNc(7,V7,2,4,"button",6),s.YNc(8,h9,9,21,"div",7),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(11,p9,i.dropdown,i.multiple))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.multiple),s.xp6(1),s.Q6J("ngIf",!i.multiple&&i.inputValue&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.value&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngIf",i.multiple),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.dropdown),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[Ju,xn,Zi,Lt,$t,gs,ix,Al,_b,vb],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Tr("overlayAnimation",[tn(":enter",[Gn({opacity:0,transform:"scaleY(0.8)"}),Ir("{{showTransitionParams}}")]),tn(":leave",[Ir("{{hideTransitionParams}}",Gn({opacity:0}))])])]},changeDetection:0}),n})(),m9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jn,rx,np,Qs,Ml,Hc],Qs,Hc]}),n})(),_9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[t8]}),n.\u0275inj=s.cJS({providers:[Ji,ai,Wn],imports:[[Sa,vm,e1,e8,lb,Xr.hO.initializeApp(_U_firebaseConfig),Kz,g7,XZ,np,aq,b7,QD,Z_,kq,rx,m9]]}),n})();(0,s.G48)(),Jl().bootstrapModule(_9).catch(n=>console.error(n))},5867:(et,we,F)=>{F.d(we,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.8.2","app")},127:(et,we,F)=>{F.d(we,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(et,we,F)=>{F.r(we);var s=F(5861),ee=F(3942),L=F(2090),de=F(9681),se=F(655),_e=F(1877),ue=F(4859);const Fe=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new _e.Yd("@firebase/auth");function Qe(v,...g){Ze.logLevel<=_e.in.ERROR&&Ze.error(`Auth (${de.SDK_VERSION}): ${v}`,...g)}function De(v,...g){throw ze(v,...g)}function Ee(v,...g){return ze(v,...g)}function Ie(v,g,m){const b=Object.assign(Object.assign({},Ue()),{[g]:m});return new L.LL("auth","Firebase",b).create(g,{appName:v.name})}function je(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&De(v,"argument-error"),Ie(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return ge.create(v,...g)}function q(v,g,...m){if(!v)throw ze(g,...m)}function Ce(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Qe(g),new Error(g)}function Y(v,g){v||Ce(g)}const oe=new Map;function ne(v){Y(v instanceof Function,"Expected a class definition");let g=oe.get(v);return g?(Y(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,oe.set(v,g),g)}function Le(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ft(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class an{constructor(g,m){this.shortDelay=g,this.longDelay=m,Y(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(v,g){Y(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class un{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zi=new an(3e4,6e4);function Xt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function jt(v,g,m,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(v,g,m,b,D={}){return _r(v,D,(0,s.Z)(function*(){let k={},K={};b&&("GET"===g?K=b:k={body:JSON.stringify(b)});const pe=(0,L.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Ve=yield v._getAdditionalHeaders();return Ve["Content-Type"]="application/json",v.languageCode&&(Ve["X-Firebase-Locale"]=v.languageCode),un.fetch()(so(v,v.config.apiHost,m,pe),Object.assign({method:g,headers:Ve,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function _r(v,g,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),g);try{const D=new sr(v),k=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw qr(v,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const pe=k.ok?K.errorMessage:K.error.message,[Ve,nt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw qr(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ve)throw qr(v,"email-already-in-use",K);if("USER_DISABLED"===Ve)throw qr(v,"user-disabled",K);const mt=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Ie(v,mt,nt);De(v,mt)}}catch(D){if(D instanceof L.ZR)throw D;De(v,"network-request-failed")}})).apply(this,arguments)}function qi(v,g,m,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(v,g,m,b,D={}){const k=yield jt(v,g,m,b,D);return"mfaPendingCredential"in k&&De(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function so(v,g,m,b){const D=`${g}${m}?${b}`;return v.config.emulator?kn(v.config,D):`${v.config.apiScheme}://${D}`}class sr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ee(this.auth,"network-request-failed")),zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qr(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Ee(v,g,b);return D.customData._tokenResponse=m,D}function yr(){return(yr=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Sn(v,g){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function oo(v,g){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function di(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Mo(){return(Mo=(0,s.Z)(function*(v,g=!1){const m=(0,L.m9)(v),b=yield m.getIdToken(g),D=ct(b);q(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const k="object"==typeof D.firebase?D.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:D,token:b,authTime:di(Kt(D.auth_time)),issuedAtTime:di(Kt(D.iat)),expirationTime:di(Kt(D.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(v){return 1e3*Number(v)}function ct(v){const[g,m,b]=v.split(".");if(void 0===g||void 0===m||void 0===b)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(m);return D?JSON.parse(D):(Qe("Failed to decode base64 JWT payload"),null)}catch(D){return Qe("Caught error parsing JWT payload as JSON",D),null}}function xi(v,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,s.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof L.ZR&&Gt(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ko{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Di{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ai(v){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),D=yield xi(v,oo(m,{idToken:b}));q(null==D?void 0:D.users.length,m,"internal-error");const k=D.users[0];v._notifyReloadListener(k);const K=(null===(g=k.providerUserInfo)||void 0===g?void 0:g.length)?$(k.providerUserInfo):[],pe=xe(v.providerData,K),mt=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==pe?void 0:pe.length)),gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new Di(k.createdAt,k.lastLoginAt),isAnonymous:mt};Object.assign(v,gt)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(v){const g=(0,L.m9)(v);yield Ai(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function xe(v,g){return[...v.filter(b=>!g.some(D=>D.providerId===b.providerId)),...g]}function $(v){return v.map(g=>{var{providerId:m}=g,b=(0,se._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Re(){return(Re=(0,s.Z)(function*(v,g){const m=yield _r(v,{},(0,s.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:k}=v.config,K=so(v,D,"/v1/token",`key=${k}`),pe=yield v._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(K,{method:"POST",headers:pe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){q(g.idToken,"internal-error"),q(void 0!==g.idToken,"internal-error"),q(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Et(v){const g=ct(v);return q(g,"internal-error"),q(void 0!==g.exp,"internal-error"),q(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,s.Z)(function*(){return q(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:K}=yield function te(v,g){return Re.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(D,k,Number(K))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:D,expirationTime:k}=m,K=new tt;return b&&(q("string"==typeof b,"internal-error",{appName:g}),K.refreshToken=b),D&&(q("string"==typeof D,"internal-error",{appName:g}),K.accessToken=D),k&&(q("number"==typeof k,"internal-error",{appName:g}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function _t(v,g){q("string"==typeof v||void 0===v,"internal-error",{appName:g})}class xt{constructor(g){var{uid:m,auth:b,stsTokenManager:D}=g,k=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Di(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const b=yield xi(m,m.stsTokenManager.getToken(m.auth,g));return q(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function vr(v){return Mo.apply(this,arguments)}(this,g)}reload(){return function Z(v){return W.apply(this,arguments)}(this)}_assign(g){this!==g&&(q(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,s.Z)(function*(){let D=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),D=!0),m&&(yield Ai(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield xi(g,function vt(v,g){return yr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,D,k,K,pe,Ve,nt,mt;const gt=null!==(b=m.displayName)&&void 0!==b?b:void 0,ri=null!==(D=m.email)&&void 0!==D?D:void 0,Ar=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,fl=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Co=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,av=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,gl=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,eh=null!==(mt=m.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Ru,emailVerified:jp,isAnonymous:Pu,providerData:zp,stsTokenManager:kc}=m;q(Ru&&kc,g,"internal-error");const si=tt.fromJSON(this.name,kc);q("string"==typeof Ru,g,"internal-error"),_t(gt,g.name),_t(ri,g.name),q("boolean"==typeof jp,g,"internal-error"),q("boolean"==typeof Pu,g,"internal-error"),_t(Ar,g.name),_t(fl,g.name),_t(Co,g.name),_t(av,g.name),_t(gl,g.name),_t(eh,g.name);const Nu=new xt({uid:Ru,auth:g,email:ri,emailVerified:jp,displayName:gt,isAnonymous:Pu,photoURL:fl,phoneNumber:Ar,tenantId:Co,stsTokenManager:si,createdAt:gl,lastLoginAt:eh});return zp&&Array.isArray(zp)&&(Nu.providerData=zp.map(qp=>Object.assign({},qp))),av&&(Nu._redirectEventId=av),Nu}static _fromIdTokenResponse(g,m,b=!1){return(0,s.Z)(function*(){const D=new tt;D.updateFromServerResponse(m);const k=new xt({uid:m.localId,auth:g,stsTokenManager:D,isAnonymous:b});return yield Ai(k),k})()}}const It=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,s.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Jn(v,g,m){return`firebase:${v}:${g}:${m}`}class Gi{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:D,name:k}=this.auth;this.fullUserKey=Jn(this.userKey,D.apiKey,k),this.fullPersistenceKey=Jn("persistence",D.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?xt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Gi(ne(It),g,b);const D=(yield Promise.all(m.map(function(){var nt=(0,s.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let k=D[0]||ne(It);const K=Jn(b,g.config.apiKey,g.name);let pe=null;for(const nt of m)try{const mt=yield nt._get(K);if(mt){const gt=xt._fromJSON(g,mt);nt!==k&&(pe=gt),k=nt;break}}catch(mt){}const Ve=D.filter(nt=>nt._shouldAllowMigration);return k._shouldAllowMigration&&Ve.length?(k=Ve[0],pe&&(yield k._set(K,pe.toJSON())),yield Promise.all(m.map(function(){var nt=(0,s.Z)(function*(mt){if(mt!==k)try{yield mt._remove(K)}catch(gt){}});return function(mt){return nt.apply(this,arguments)}}())),new Gi(k,g,b)):new Gi(k,g,b)})()}}function Ul(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ja(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Rs(g))return"Blackberry";if(ei(g))return"Webos";if(Hl(g))return"Safari";if((g.includes("chrome/")||Xa(g))&&!g.includes("edge/"))return"Chrome";if($i(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ja(v=(0,L.z$)()){return/firefox\//i.test(v)}function Hl(v=(0,L.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Xa(v=(0,L.z$)()){return/crios\//i.test(v)}function Xn(v=(0,L.z$)()){return/iemobile/i.test(v)}function $i(v=(0,L.z$)()){return/android/i.test(v)}function Rs(v=(0,L.z$)()){return/blackberry/i.test(v)}function ei(v=(0,L.z$)()){return/webos/i.test(v)}function ar(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function ao(v=(0,L.z$)()){return ar(v)||$i(v)||ei(v)||Rs(v)||/windows phone/i.test(v)||Xn(v)}function _a(v,g=[]){let m;switch(v){case"Browser":m=Ul((0,L.z$)());break;case"Worker":m=`${Ul((0,L.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${b}`}class lr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=k=>new Promise((K,pe)=>{try{K(g(k))}catch(Ve){pe(Ve)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const b=[];try{for(const D of m.queue)yield D(g),D.onAbort&&b.push(D.onAbort)}catch(D){b.reverse();for(const k of b)try{k()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D.message})}})()}}class Ke{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dn(this),this.idTokenSubscription=new dn(this),this.beforeStateQueue=new lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,k;if(!b._deleted&&(b.persistenceManager=yield Gi.create(b,g),!b._deleted)){if(null===(D=b._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let k=D,K=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ve=null==k?void 0:k._redirectEventId,nt=yield m.tryRedirectSignIn(g);(!pe||pe===Ve)&&(null==nt?void 0:nt.user)&&(k=nt.user,K=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(k)}catch(pe){k=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(D){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield Ai(g)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const b=g?(0,L.m9)(g):null;return b&&q(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return g&&q(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,s.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&ne(g)||m._popupRedirectResolver;q(b,m,"argument-error"),m.redirectPersistenceManager=yield Gi.create(m,[ne(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,D){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return q(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof m?g.addObserver(m,b,D):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=_a(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(b["X-Firebase-Client"]=D),b})()}}function pt(v){return(0,L.m9)(v)}class dn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function us(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ds(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Gr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(g){return Ce("not implemented")}_linkToIdToken(g,m){return Ce("not implemented")}_getReauthenticationResolver(g){return Ce("not implemented")}}function Pn(v,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:resetPassword",Xt(v,g))})).apply(this,arguments)}function ya(v,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jl(v,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",Xt(v,g))})).apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithPassword",Xt(v,g))})).apply(this,arguments)}function co(v,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendOobCode",Xt(v,g))})).apply(this,arguments)}function gn(v,g){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(v,g){return co(v,g)})).apply(this,arguments)}function tl(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(v,g){return co(v,g)})).apply(this,arguments)}function hs(v,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,s.Z)(function*(v,g){return co(v,g)})).apply(this,arguments)}function ud(v,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,s.Z)(function*(v,g){return co(v,g)})).apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}function dd(){return(dd=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}class Mi extends Gr{constructor(g,m,b,D=null){super("password",b),this._email=g,this._password=m,this._tenantId=D}static _fromEmailAndPassword(g,m){return new Mi(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new Mi(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function $t(v,g){return Ro.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function fs(v,g){return Zi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:De(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return ya(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function gs(v,g){return dd.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:De(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function uo(v,g){return hd.apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithIdp",Xt(v,g))})).apply(this,arguments)}class Ps extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ps(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const K=new Ps(b,D);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(g){return uo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,uo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,uo(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,L.xO)(m)}return g}}function Vg(v,g){return pd.apply(this,arguments)}function pd(){return(pd=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendVerificationCode",Xt(v,g))})).apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g))})).apply(this,arguments)}function fd(){return(fd=(0,s.Z)(function*(v,g){const m=yield qi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g));if(m.temporaryProof)throw qr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ug={USER_NOT_FOUND:"user-not-found"};function gd(){return(gd=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ug)})).apply(this,arguments)}class va extends Gr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new va({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new va({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function tu(v,g){return ho.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Bg(v,g){return fd.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Hg(v,g){return gd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}=g;return b||m||D||k?new va({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}):null}}class Gl{constructor(g){var m,b,D,k,K,pe;const Ve=(0,L.zd)((0,L.pd)(g)),nt=null!==(m=Ve.apiKey)&&void 0!==m?m:null,mt=null!==(b=Ve.oobCode)&&void 0!==b?b:null,gt=function mp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ve.mode)&&void 0!==D?D:null);q(nt&&mt&&gt,"argument-error"),this.apiKey=nt,this.operation=gt,this.code=mt,this.continueUrl=null!==(k=Ve.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Ve.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=Ve.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const m=function nl(v){const g=(0,L.zd)((0,L.pd)(v)).link,m=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||m||g||v}(g);try{return new Gl(m)}catch(b){return null}}}let _d=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Mi._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=Gl.parseLink(b);return q(D,"argument-error"),Mi._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ki{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Po extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ms extends Po{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return q("providerId"in m&&"signInMethod"in m,"argument-error"),Ps._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return q(g.idToken||g.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ms.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ms.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:k,nonce:K,providerId:pe}=g;if(!b&&!D&&!m&&!k||!pe)return null;try{return new ms(pe)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:k})}catch(Ve){return null}}}let wa=(()=>{class v extends Po{constructor(){super("facebook.com")}static credential(m){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),yd=(()=>{class v extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),_p=(()=>{class v extends Po{constructor(){super("github.com")}static credential(m){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class No extends Gr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return uo(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,uo(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,uo(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:D,pendingToken:k}=m;return b&&D&&k&&b===D?new No(b,k):null}static _create(g,m){return new No(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends ki{constructor(g){q(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Wi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Wi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=No.fromJSON(g);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return No._create(b,m)}catch(D){return null}}}let vd=(()=>{class v extends Po{constructor(){super("twitter.com")}static credential(m,b){return Ps._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return v.credential(b,D)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Oi(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signUp",Xt(v,g))})).apply(this,arguments)}class br{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,D=!1){return(0,s.Z)(function*(){const k=yield xt._fromIdTokenResponse(g,b,D),K=nu(b);return new br({user:k,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const D=nu(b);return new br({user:g,providerId:D,_tokenResponse:b,operationType:m})})()}}function nu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function iu(){return(iu=(0,s.Z)(function*(v){var g;const m=pt(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new br({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Oi(m,{returnSecureToken:!0}),D=yield br._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ea extends L.ZR{constructor(g,m,b,D){var k;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,Ea.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,D){return new Ea(g,m,b,D)}}function ru(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ea._fromErrorAndOperation(v,k,g,b):k})}function _s(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function hn(){return(hn=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);yield sn(!0,m,g);const{providerUserInfo:b}=yield Sn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),D=_s(b||[]);return m.providerData=m.providerData.filter(k=>D.has(k.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function il(v,g){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(v,g,m=!1){const b=yield xi(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return br._forOperation(v,"link",b)})).apply(this,arguments)}function sn(v,g,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,s.Z)(function*(v,g,m){yield Ai(g);const D=!1===v?"provider-already-linked":"no-such-provider";q(_s(g.providerData).has(m)===v,g.auth,D)})).apply(this,arguments)}function $l(v,g){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(v,g,m=!1){const{auth:b}=v,D="reauthenticate";try{const k=yield xi(v,ru(b,D,g,v),m);q(k.idToken,b,"internal-error");const K=ct(k.idToken);q(K,b,"internal-error");const{sub:pe}=K;return q(v.uid===pe,b,"user-mismatch"),br._forOperation(v,D,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&De(b,"user-mismatch"),k}})).apply(this,arguments)}function _i(v,g){return su.apply(this,arguments)}function su(){return(su=(0,s.Z)(function*(v,g,m=!1){const b="signIn",D=yield ru(v,b,g),k=yield br._fromIdTokenResponse(v,b,D);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Tn(v,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(v,g){return _i(pt(v),g)})).apply(this,arguments)}function yi(v,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v);return yield sn(!1,m,g.providerId),il(m,g)})).apply(this,arguments)}function Ns(v,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(v,g){return $l((0,L.m9)(v),g)})).apply(this,arguments)}function $r(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(v,g){return qi(v,"POST","/v1/accounts:signInWithCustomToken",Xt(v,g))})).apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(v,g){const m=pt(v),b=yield $r(m,{token:g,returnSecureToken:!0}),D=yield br._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class fo{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?ou._fromServerResponse(g,m):De(g,"internal-error")}}class ou extends fo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new ou(m)}}function ol(v,g,m){var b;q((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),q(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Zl(){return(Zl=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"PASSWORD_RESET",email:g};m&&ol(b,D,m),yield tl(b,D)})).apply(this,arguments)}function lu(){return(lu=(0,s.Z)(function*(v,g,m){yield Pn((0,L.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Me(){return(Me=(0,s.Z)(function*(v,g){yield jl((0,L.m9)(v),{oobCode:g})})).apply(this,arguments)}function zt(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),b=yield Pn(m,{oobCode:g}),D=b.requestType;switch(q(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(b.mfaInfo,m,"internal-error");default:q(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=fo._fromServerResponse(pt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:D}})).apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(v,g){const{data:m}=yield zt((0,L.m9)(v),g);return m.email})).apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(v,g,m){const b=pt(v),D=yield Oi(b,{returnSecureToken:!0,email:g,password:m}),k=yield br._fromIdTokenResponse(b,"signIn",D);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D={requestType:"EMAIL_SIGNIN",email:g};q(m.handleCodeInApp,b,"argument-error"),m&&ol(b,D,m),yield hs(b,D)})).apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=_d.credentialWithLink(g,m||Le());return q(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Tn(b,D)})).apply(this,arguments)}function Ri(v,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:createAuthUri",Xt(v,g))})).apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(v,g){const b={identifier:g,continueUri:ft()?Le():"http://localhost"},{signinMethods:D}=yield Ri((0,L.m9)(v),b);return D||[]})).apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(v,g){const m=(0,L.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&ol(m.auth,D,g);const{email:k}=yield gn(m.auth,D);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Jl(){return(Jl=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&ol(b.auth,k,m);const{email:K}=yield ud(b.auth,k);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function pu(v,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,s.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,L.m9)(v),k={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},K=yield xi(b,pu(b.auth,k));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const pe=b.providerData.find(({providerId:Ve})=>"password"===Ve);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function tc(v,g,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(v,g,m){const{auth:b}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(k.email=g),m&&(k.password=m);const K=yield xi(v,ya(b,k));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class xa{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class Id extends xa{constructor(g,m,b,D){super(g,m,b),this.username=D}}class nc extends xa{constructor(g,m){super(g,"facebook.com",m)}}class ur extends Id{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class vp extends xa{constructor(g,m){super(g,"google.com",m)}}class fu extends Id{constructor(g,m,b){super(g,"twitter.com",m,b)}}function hi(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Td(v){var g,m;if(!v)return null;const{providerId:b}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const K=null===(m=null===(g=ct(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new xa(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new nc(k,D);case"github.com":return new ur(k,D);case"google.com":return new vp(k,D);case"twitter.com":return new fu(k,D,v.screenName||null);case"custom":case"anonymous":return new xa(k,null);default:return new xa(k,b,D)}}(m)}class Ls{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Ls("enroll",g)}static _fromMfaPendingCredential(g){return new Ls("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ls._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(b=g.multiFactorSession)||void 0===b?void 0:b.idToken)return Ls._fromIdtoken(g.multiFactorSession.idToken)}return null}}class jo{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=pt(g),D=m.customData._serverResponse,k=(D.mfaInfo||[]).map(pe=>fo._fromServerResponse(b,pe));q(D.mfaPendingCredential,b,"internal-error");const K=Ls._fromMfaPendingCredential(D.mfaPendingCredential);return new jo(K,k,function(){var pe=(0,s.Z)(function*(Ve){const nt=yield Ve._process(b,K);delete D.mfaInfo,delete D.mfaPendingCredential;const mt=Object.assign(Object.assign({},D),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const gt=yield br._fromIdTokenResponse(b,m.operationType,mt);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return q(m.user,b,"internal-error"),br._forOperation(m.user,m.operationType,mt);default:De(b,"internal-error")}});return function(Ve){return pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function xd(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:start",Xt(v,g))}class Da{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>fo._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new Da(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Ls._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var b=this;return(0,s.Z)(function*(){const D=g,k=yield b.getSession(),K=yield xi(b.user,D._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const b="string"==typeof g?g:g.uid,D=yield m.user.getIdToken(),k=yield xi(m.user,function zo(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(v,g))}(m.user.auth,{idToken:D,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const ic=new WeakMap,Vs="__sak";class rc{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tr=(()=>{class v extends rc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $g(){const v=(0,L.z$)();return Hl(v)||ar(v)}()&&function mi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=ao(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),k=this.localCache[b];D!==k&&m(b,k,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((pe,Ve,nt)=>{this.notifyListeners(pe,nt)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(D);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const k=()=>{const pe=this.storage.getItem(D);!b&&this.localCache[D]===pe||this.notifyListeners(D,pe)},K=this.storage.getItem(D);!function el(){return(0,L.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,k=this;return(0,s.Z)(function*(){yield D().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,s.Z)(function*(){const k=yield b().call(D,m);return D.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,D=this;return(0,s.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),Bs=(()=>{class v extends rc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Gn=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const D=m,{eventId:k,eventType:K,data:pe}=D.data,Ve=b.handlersMap[K];if(!(null==Ve?void 0:Ve.size))return;D.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const nt=Array.from(Ve).map(function(){var gt=(0,s.Z)(function*(ri){return ri(D.origin,pe)});return function(ri){return gt.apply(this,arguments)}}()),mt=yield function Aa(v){return Promise.all(v.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(nt);D.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:mt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function qo(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class Go{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var D=this;return(0,s.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,pe;return new Promise((Ve,nt)=>{const mt=qo("",20);k.port1.start();const gt=setTimeout(()=>{nt(new Error("unsupported_event"))},b);pe={messageChannel:k,onMessage(ri){const Ar=ri;if(Ar.data.eventId===mt)switch(Ar.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ve(Ar.data.response);break;default:clearTimeout(gt),clearTimeout(K),nt(new Error("invalid_response"))}}},D.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),D.target.postMessage({eventType:g,eventId:mt,data:m},[k.port2])}).finally(()=>{pe&&D.removeMessageHandler(pe)})})()}}function tn(){return window}function Ma(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function Ad(){return(Ad=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const ka="firebaseLocalStorageDb",ws="firebaseLocalStorage",Rt="fbase_key";class bs{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function vi(v,g){return v.transaction([ws],g?"readwrite":"readonly").objectStore(ws)}function oc(){const v=indexedDB.open(ka,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(ws,{keyPath:Rt})}catch(D){m(D)}}),v.addEventListener("success",(0,s.Z)(function*(){const b=v.result;b.objectStoreNames.contains(ws)?g(b):(b.close(),yield function ll(){const v=indexedDB.deleteDatabase(ka);return new bs(v).toPromise()}(),g(yield oc()))}))})}function Oa(v,g,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(v,g,m){const b=vi(v,!0).put({[Rt]:g,value:m});return new bs(b).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(v,g){const m=vi(v,!1).get(g),b=yield new bs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ac(v,g){const m=vi(v,!0).delete(g);return new bs(m).toPromise()}const ul=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield oc()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(D++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Ma()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Gn._getInstance(function gu(){return Ma()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(D,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(D,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(D,k){return["keyChanged"]});return function(D,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function $o(){return Ad.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Go(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(D=k[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function bp(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield oc();return yield Oa(m,Vs,"1"),yield ac(m,Vs),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(k=>Oa(k,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const D=yield b._withRetries(k=>function mu(v,g){return mo.apply(this,arguments)}(k,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(D=>ac(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(K=>{const pe=vi(K,!1).getAll();return new bs(pe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:K,value:pe}of b)k.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(pe)&&(m.notifyListeners(K,pe),D.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!k.has(K)&&(m.notifyListeners(K,null),D.push(K));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function uc(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:start",Xt(v,g))}function dc(){return(dc=(0,s.Z)(function*(v){return(yield jt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hc(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=D=>{const k=Ee("internal-error");k.customData=D,m(k)},b.type="text/javascript",b.charset="UTF-8",function dl(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function Hs(v){return`__${v}${Math.floor(1e6*Math.random())}`}const pc=1e12;class _u{constructor(g){this.auth=g,this.counter=pc,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new Pa(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||pc;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||pc))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(g||pc))||void 0===b||b.execute(),""})()}}class Pa{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;q(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kd(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Od=Hs("rcb"),Dn=new an(3e4,6e4);class qy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(g,m=""){return q(function Yg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(tn().grecaptcha):new Promise((b,D)=>{const k=tn().setTimeout(()=>{D(Ee(g,"network-request-failed"))},Dn.get());tn()[Od]=()=>{tn().clearTimeout(k),delete tn()[Od];const pe=tn().grecaptcha;if(!pe)return void D(Ee(g,"internal-error"));const Ve=pe.render;pe.render=(nt,mt)=>{const gt=Ve(nt,mt);return this.counter++,gt},this.hostLanguage=m,b(pe)},hc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Od,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),D(Ee(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!tn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cp{load(g){return(0,s.Z)(function*(){return new _u(g)})()}clearedOneInstance(){}}const Rd="recaptcha",Qg={theme:"light",type:"image"};class Jg{constructor(g,m=Object.assign({},Qg),b){this.parameters=m,this.type=Rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(b),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;q(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cp:new qy,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const K=pe=>{!pe||(g.tokenChangeListeners.delete(K),k(pe))};g.tokenChangeListeners.add(K),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=tn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){q(ft()&&!Ma(),g.auth,"internal-error"),yield function fc(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function _o(v){return dc.apply(this,arguments)}(g.auth);q(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pd{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=va._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Zo(){return(Zo=(0,s.Z)(function*(v,g,m){const b=pt(v),D=yield Pi(b,g,(0,L.m9)(m));return new Pd(D,k=>Tn(b,k))})).apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);yield sn(!1,b,"phone");const D=yield Pi(b.auth,g,(0,L.m9)(m));return new Pd(D,k=>yi(b,k))})).apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v),D=yield Pi(b.auth,g,(0,L.m9)(m));return new Pd(D,k=>Ns(b,k))})).apply(this,arguments)}function Pi(v,g,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(v,g,m){var b;const D=yield m.verify();try{let k;if(q("string"==typeof D,v,"argument-error"),q(m.type===Rd,v,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const K=k.session;if("phoneNumber"in k)return q("enroll"===K.type,v,"internal-error"),(yield xd(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{q("signin"===K.type,v,"internal-error");const pe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return q(pe,v,"missing-multi-factor-info"),(yield uc(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Vg(v,{phoneNumber:k.phoneNumber,recaptchaToken:D});return K}}finally{m._reset()}})).apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(v,g){yield il((0,L.m9)(v),g)})).apply(this,arguments)}let js=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=pt(m)}verifyPhoneNumber(m,b){return Pi(this.auth,m,(0,L.m9)(b))}static credential(m,b){return va._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?va._fromTokenResponse(b,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Cs(v,g){return g?ne(g):(q(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ko extends Gr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return uo(g,this._buildIdpRequest())}_linkToIdToken(g,m){return uo(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return uo(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Ep(v){return _i(v.auth,new Ko(v),v.bypassAuthState)}function Nd(v){const{auth:g,user:m}=v;return q(m,g,"internal-error"),$l(m,new Ko(v),v.bypassAuthState)}function Yo(v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(v){const{auth:g,user:m}=v;return q(m,g,"internal-error"),il(m,new Ko(v),v.bypassAuthState)})).apply(this,arguments)}class gc{constructor(g,m,b,D,k=!1){this.auth=g,this.resolver=b,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(b,D){g.pendingPromise={resolve:b,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:k,tenantId:K,error:pe,type:Ve}=g;if(pe)return void m.reject(pe);const nt={auth:m.auth,requestUri:b,sessionId:D,tenantId:K||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(nt))}catch(mt){m.reject(mt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ep;case"linkViaPopup":case"linkViaRedirect":return Yo;case"reauthViaPopup":case"reauthViaRedirect":return Nd;default:De(this.auth,"internal-error")}}resolve(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Na=new an(2e3,1e4);function Es(){return(Es=(0,s.Z)(function*(v,g,m){const b=pt(v);je(v,g,ki);const D=Cs(b,m);return new _c(b,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function mc(){return(mc=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,ki);const D=Cs(b.auth,m);return new _c(b.auth,"reauthViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,ki);const D=Cs(b.auth,m);return new _c(b.auth,"linkViaPopup",g,D,b).executeNotNull()})).apply(this,arguments)}let _c=(()=>{class v extends gc{constructor(m,b,D,k,K){super(m,b,k,K),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return q(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=qo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=(null===(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Na.get())};m()}}return v.currentPopupAction=null,v})();const wo=new Map;class Fa extends gc{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=wo.get(m.auth._key());if(!b){try{const k=(yield function yc(v,g){return Ts.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(k)}catch(D){b=()=>Promise.reject(D)}wo.set(m.auth._key(),b)}return m.bypassAuthState||wo.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const D=yield b.auth._redirectUserForId(g.eventId);if(D)return b.user=D,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Ts(){return(Ts=(0,s.Z)(function*(v,g){const m=U(g),b=R(v);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function La(v,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(v,g){return R(v)._set(U(g),"true")})).apply(this,arguments)}function x(v,g){wo.set(v._key(),g)}function R(v){return ne(v._redirectPersistence)}function U(v){return Jn("pendingRedirect",v.config.apiKey,v.name)}function Oe(){return(Oe=(0,s.Z)(function*(v,g,m){const b=pt(v);je(v,g,ki);const D=Cs(b,m);return yield La(D,b),D._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,ki);const D=Cs(b.auth,m);yield La(D,b.auth);const k=yield Sr(b);return D._openRedirect(b.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(v,g,m){const b=(0,L.m9)(v);je(b.auth,g,ki);const D=Cs(b.auth,m);yield sn(!1,b,g.providerId),yield La(D,b.auth);const k=yield Sr(b);return D._openRedirect(b.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(v,g){return yield pt(v)._initializationPromise,qs(v,g,!1)})).apply(this,arguments)}function qs(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(v,g,m=!1){const b=pt(v),D=Cs(b,g),K=yield new Fa(b,D,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,g)),K})).apply(this,arguments)}function Sr(v){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(v){const g=qo(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Xg{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function bu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ki(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!Ki(g)){const D=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,D))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sp(g))}saveEventToCache(g){this.cachedEventUids.add(Sp(g)),this.lastProcessedEventTime=Date.now()}}function Sp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Ki({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function vc(v){return wc.apply(this,arguments)}function wc(){return(wc=(0,s.Z)(function*(v,g={}){return jt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Gy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bc=/^https?/;function em(){return(em=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield vc(v);for(const m of g)try{if(Zx(m))return}catch(b){}De(v,"unauthorized-domain")})).apply(this,arguments)}function Zx(v){const g=Le(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!bc.test(m))return!1;if(Gy.test(v))return b===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const Eu=new an(3e4,6e4);function tm(){const v=tn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Fd=null;function Ld(v){return Fd=Fd||function g0(v){return new Promise((g,m)=>{var b,D,k;function K(){tm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{tm(),m(Ee(v,"network-request-failed"))},timeout:Eu.get()})}if(null===(D=null===(b=tn().gapi)||void 0===b?void 0:b.iframes)||void 0===D?void 0:D.Iframe)g(gapi.iframes.getContext());else{if(!(null===(k=tn().gapi)||void 0===k?void 0:k.load)){const pe=Hs("iframefcb");return tn()[pe]=()=>{gapi.load?K():m(Ee(v,"network-request-failed"))},hc(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ve=>m(Ve))}K()}}).catch(g=>{throw Fd=null,g})}(v),Fd}const Vd=new an(5e3,15e3),Cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nm(v){const g=v.config;q(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?kn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:de.SDK_VERSION},D=xp.get(v.config.apiHost);D&&(b.eid=D);const k=v._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,L.xO)(b).slice(1)}`}function Ec(){return Ec=(0,s.Z)(function*(v){const g=yield Ld(v),m=tn().gapi;return q(m,v,"internal-error"),g.open({where:document.body,url:nm(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cc,dontclear:!0},b=>new Promise(function(){var D=(0,s.Z)(function*(k,K){yield b.restyle({setHideOnLeave:!1});const pe=Ee(v,"network-request-failed"),Ve=tn().setTimeout(()=>{K(pe)},Vd.get());function nt(){tn().clearTimeout(Ve),k(b)}b.ping(nt).then(nt,()=>{K(pe)})});return function(k,K){return D.apply(this,arguments)}}()))}),Ec.apply(this,arguments)}const Dp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ba{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function bo(v,g,m,b,D,k){q(v.config.authDomain,v,"auth-domain-config-required"),q(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:de.SDK_VERSION,eventId:D};if(g instanceof ki){g.setDefaultLanguage(v.languageCode),K.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ve,nt]of Object.entries(k||{}))K[Ve]=nt}if(g instanceof Po){const Ve=g.getScopes().filter(nt=>""!==nt);Ve.length>0&&(K.scopes=Ve.join(","))}v.tenantId&&(K.tid=v.tenantId);const pe=K;for(const Ve of Object.keys(pe))void 0===pe[Ve]&&delete pe[Ve];return`${function Su({config:v}){return v.emulator?kn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(pe).slice(1)}`}const kp="webStorageSupport";class xu extends class y0{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xu(g)}_finalizeEnroll(g,m,b){return function qg(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Md(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:finalize",Xt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let om=(()=>{class v{constructor(){}static assertion(m){return xu._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Tc="@firebase/auth";class lm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{var D;g((null===(D=b)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ic(){return window}function Is(){return(Is=(0,s.Z)(function*(v,g,m){var b;const{BuildInfo:D}=Ic();Y(g.sessionId,"AuthEvent did not contain a session ID");const k=yield b0(g.sessionId),K={};return ar()?K.ibi=D.packageName:$i()?K.apn=D.packageName:De(v,"operation-not-supported-in-this-environment"),D.displayName&&(K.appDisplayName=D.displayName),K.sessionId=k,bo(v,m,g.type,void 0,null!==(b=g.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function xc(){return(xc=(0,s.Z)(function*(v){const{BuildInfo:g}=Ic(),m={};ar()?m.iosBundleId=g.packageName:$i()?m.androidPackageName=g.packageName:De(v,"operation-not-supported-in-this-environment"),yield vc(v,m)})).apply(this,arguments)}function dm(){return(dm=(0,s.Z)(function*(v,g,m){const{cordova:b}=Ic();let D=()=>{};try{yield new Promise((k,K)=>{let pe=null;function Ve(){var gt;k();const ri=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof ri&&ri(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function nt(){pe||(pe=window.setTimeout(()=>{K(Ee(v,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}g.addPassiveListener(Ve),document.addEventListener("resume",nt,!1),$i()&&document.addEventListener("visibilitychange",mt,!1),D=()=>{g.removePassiveListener(Ve),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",mt,!1),pe&&window.clearTimeout(pe)}})}finally{D()}})).apply(this,arguments)}function b0(v){return Du.apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(v){const g=jd(v),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function jd(v){if(Y(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),m=new Uint8Array(g);for(let b=0;b<v.length;b++)m[b]=v.charCodeAt(b);return m}!function v0(v){(0,de._registerComponent)(new ue.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),{apiKey:k,authDomain:K}=b.options;return((pe,Ve)=>{q(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),q(!(null==K?void 0:K.includes(":")),"argument-error",{appName:pe.name});const nt={apiKey:k,authDomain:K,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_a(v)},mt=new Ke(pe,Ve,nt);return function ce(v,g){const m=(null==g?void 0:g.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ne);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,null==g?void 0:g.popupRedirectResolver)}(mt,m),mt})(b,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ue.wA("auth-internal",g=>{const m=pt(g.getProvider("auth").getImmediate());return new lm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Tc,"0.20.2",function Zy(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,de.registerVersion)(Tc,"0.20.2","esm2017")}("Browser");class C0 extends Xg{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function zd(v){return Np.apply(this,arguments)}function Np(){return(Np=(0,s.Z)(function*(v){const g=yield qd()._get(hl(v));return g&&(yield qd()._remove(hl(v))),g})).apply(this,arguments)}function Qy(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*g.length);v.push(g.charAt(b))}return v.join("")}function qd(){return ne(Tr)}function hl(v){return Jn("authEvent",v.config.apiKey,v.name)}function Dc(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function $d(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Au(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function fm(v=(0,L.z$)()){return!("file:"!==Au()&&"ionic:"!==Au()&&"capacitor:"!==Au()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lp(){try{const v=self.localStorage,g=qo();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Fp(v=(0,L.z$)()){return function Yi(){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ii(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Mu()&&(0,L.hl)()}return!1}function Mu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ci(){return(function pm(){return"http:"===Au()||"https:"===Au()}()||(0,L.ru)()||fm())&&!function nv(){return(0,L.b$)()||(0,L.UG)()}()&&Lp()&&!Mu()}function pl(){return fm()&&"undefined"!=typeof document}function Vp(){return(Vp=(0,s.Z)(function*(){return!!pl()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const Qi={LOCAL:"local",NONE:"none",SESSION:"session"},ku=q,Kd="persistence";function Yd(v){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,s.Z)(function*(v){yield v._initializationPromise;const g=Ou(),m=Jn(Kd,v.config.apiKey,v.name);g&&g.setItem(m,v._getPersistence())})).apply(this,arguments)}function Ou(){var v;try{return(null===(v=function iv(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const Qd=q;class Xo{constructor(){this.browserResolver=ne(class _0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=qs,this._overrideRedirectResult=x}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){var K;Y(null===(K=k.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=bo(g,m,b,Le(),D);return function Ap(v,g,m,b=500,D=600){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const Ve=Object.assign(Object.assign({},Dp),{width:b.toString(),height:D.toString(),top:k,left:K}),nt=(0,L.z$)().toLowerCase();m&&(pe=Xa(nt)?"_blank":m),Ja(nt)&&(g=g||"http://localhost",Ve.scrollbars="yes");const mt=Object.entries(Ve).reduce((ri,[Ar,fl])=>`${ri}${Ar}=${fl},`,"");if(function Oo(v=(0,L.z$)()){var g;return ar(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(nt)&&"_self"!==pe)return function Mp(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",pe),new Ba(null);const gt=window.open(g||"",pe,mt);q(gt,v,"popup-blocked");try{gt.focus()}catch(ri){}return new Ba(gt)}(g,pe,qo())})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k._originValidation(g),function Us(v){tn().location.href=v}(bo(g,m,b,Le(),D)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:D,promise:k}=this.eventManagers[m];return D?Promise.resolve(D):(Y(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const b=yield function m0(v){return Ec.apply(this,arguments)}(g),D=new Xg(g);return b.register("authEvent",k=>(q(null==k?void 0:k.authEvent,g,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:D},m.iframes[g._key()]=b,D})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(kp,{type:kp},D=>{var k;const K=null===(k=null==D?void 0:D[0])||void 0===k?void 0:k[kp];void 0!==K&&m(!!K),De(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Cu(v){return em.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return ao()||Hl()||ar()}}),this.cordovaResolver=ne(class Gd{constructor(){this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qs,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){const b=g._key();let D=m.eventManagers.get(b);return D||(D=new C0(g),m.eventManagers.set(b,D),m.attachCallbackListeners(g,D)),D})()}_openPopup(g){De(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){!function w0(v){var g,m,b,D,k,K,pe,Ve,nt,mt;const gt=Ic();q("function"==typeof(null===(g=null==gt?void 0:gt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(k=null===(D=null===(b=null==gt?void 0:gt.cordova)||void 0===b?void 0:b.plugins)||void 0===D?void 0:D.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Ve=null===(pe=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(mt=null===(nt=null==gt?void 0:gt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===mt?void 0:mt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const K=yield k._initialize(g);yield K.initialized(),K.resetRedirect(),function S(){wo.clear()}(),yield k._originValidation(g);const pe=function Ky(v,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Qy(),postBody:null,tenantId:v.tenantId,error:Ee(v,"no-auth-event")}}(g,b,D);yield function hm(v,g){return qd()._set(hl(v),g)}(g,pe);const Ve=yield function cm(v,g,m){return Is.apply(this,arguments)}(g,pe,m),nt=yield function Rp(v){const{cordova:g}=Ic();return new Promise(m=>{g.plugins.browsertab.isAvailable(b=>{let D=null;b?g.plugins.browsertab.openUrl(v):D=g.InAppBrowser.open(v,function cd(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(Ve);return function um(v,g,m){return dm.apply(this,arguments)}(g,K,nt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sc(v){return xc.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:b,handleOpenURL:D,BuildInfo:k}=Ic(),K=setTimeout((0,s.Z)(function*(){yield zd(g),m.onEvent($d())}),500),pe=function(){var mt=(0,s.Z)(function*(gt){clearTimeout(K);const ri=yield zd(g);let Ar=null;ri&&(null==gt?void 0:gt.url)&&(Ar=function Yy(v,g){var m,b;const D=function xr(v){const g=Dc(v),m=g.link?decodeURIComponent(g.link):void 0,b=Dc(m).link,D=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Dc(D).link||D||b||m||v}(g);if(D.includes("/__/auth/callback")){const k=Dc(D),K=k.firebaseError?function Jy(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(b=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ve=pe?Ee(pe):null;return Ve?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(ri,gt.url)),m.onEvent(Ar||$d())});return function(ri){return mt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,pe);const Ve=D,nt=`${k.packageName.toLowerCase()}://`;Ic().handleOpenURL=function(){var mt=(0,s.Z)(function*(gt){if(gt.toLowerCase().startsWith(nt)&&pe({url:gt}),"function"==typeof Ve)try{Ve(gt)}catch(ri){console.error(ri)}});return function(gt){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=qs,this._overrideRedirectResult=x}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(g,m,b,D)})()}_openRedirect(g,m,b,D){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(g,m,b,D)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return pl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function Ac(){return Vp.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Jd(v){return v.unwrap()}function ov(v){return mm(v)}function mm(v){const{_tokenResponse:g}=v instanceof L.ZR?v.customData:v;if(!g)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return js.credentialFromResult(v);const m=g.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=yd;break;case"facebook.com":b=wa;break;case"github.com":b=_p;break;case"twitter.com":b=vd;break;default:const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:pe,nonce:Ve}=g;return k||K||D||pe?pe?m.startsWith("saml.")?No._create(m,pe):Ps._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:D,accessToken:k}):new ms(m).credential({idToken:D,accessToken:k,rawNonce:Ve}):null}return v instanceof L.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Dr(v,g){return g.catch(m=>{throw m instanceof L.ZR&&function Xd(v,g){var m;const b=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new _m(v,function ti(v,g){var m;const b=(0,L.m9)(v),D=g;return q(g.customData.operationType,b,"argument-error"),q(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),jo._fromError(b,D)}(v,g));else if(b){const D=mm(g),k=g;D&&(k.credential=D,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:ov(m),additionalUserInfo:hi(m),user:Gs.getOrCreate(D)}})}function Up(v,g){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,s.Z)(function*(v,g){const m=yield g;return{verificationId:m.verificationId,confirm:b=>Dr(v,m.confirm(b))}})).apply(this,arguments)}class _m{constructor(g,m){this.resolver=m,this.auth=function gm(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Dr(Jd(this.auth),this.resolver.resolveSignIn(g))}}class Gs{constructor(g){this._delegate=g,this.multiFactor=function Gg(v){const g=(0,L.m9)(v);return ic.has(g)||ic.set(g,Da._fromUser(g)),ic.get(g)}(g)}static getOrCreate(g){return Gs.USER_MAP.has(g)||Gs.USER_MAP.set(g,new Gs(g)),Gs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return Dr(m.auth,yi(m._delegate,g))})()}linkWithPhoneNumber(g,m){var b=this;return(0,s.Z)(function*(){return Up(b.auth,function Wr(v,g,m){return yu.apply(this,arguments)}(b._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return Dr(m.auth,function wu(v,g,m){return zs.apply(this,arguments)}(m._delegate,g,Xo))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield Yd(pt(m.auth)),function Vt(v,g,m){return function Tt(v,g,m){return ni.apply(this,arguments)}(v,g,m)}(m._delegate,g,Xo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return Dr(m.auth,Ns(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Up(this.auth,function vu(v,g,m){return wi.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return Dr(this.auth,function Ip(v,g,m){return mc.apply(this,arguments)}(this._delegate,g,Xo))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield Yd(pt(m.auth)),function st(v,g,m){return function at(v,g,m){return dt.apply(this,arguments)}(v,g,m)}(m._delegate,g,Xo)})()}sendEmailVerification(g){return function Zr(v,g){return hu.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function yp(v,g){return hn.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function Cd(v,g){return tc((0,L.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function Ed(v,g){return tc((0,L.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Wo(v,g){return Kr.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Xl(v,g){return ec.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Ql(v,g,m){return Jl.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gs.USER_MAP=new WeakMap;const Mc=q;let ym=(()=>{class v{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Mc(D,"invalid-api-key",{appName:m.name}),Mc(D,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?Xo:void 0;this._delegate=b.initialize({options:{persistence:E0(D,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function cr(v,g,m){const b=pt(v);q(b._canInitEmulator,b,"emulator-config-failed"),q(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const D=!!(null==m?void 0:m.disableWarnings),k=us(g),{host:K,port:pe}=function Hn(v){const g=us(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const k=D[1];return{host:k,port:ds(b.substr(k.length+1))}}{const[k,K]=b.split(":");return{host:k,port:ds(K)}}}(g);b.config.emulator={url:`${k}//${K}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function vn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,b)}applyActionCode(m){return function Ia(v,g){return Me.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return zt(this._delegate,m)}confirmPasswordReset(m,b){return function Wl(v,g,m){return lu.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var D=this;return(0,s.Z)(function*(){return Dr(D._delegate,function Bo(v,g,m){return Cr.apply(this,arguments)}(D._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Yl(v,g){return go.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function bd(v,g){const m=Gl.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Mc(Ci(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Zn(v,g){return Jo.apply(this,arguments)}(m._delegate,Xo);return b?Dr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Zd(v,g){pt(v)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,b,D){const{next:k,error:K,complete:pe}=vm(m,b,D);return this._delegate.onAuthStateChanged(k,K,pe)}onIdTokenChanged(m,b,D){const{next:k,error:K,complete:pe}=vm(m,b,D);return this._delegate.onIdTokenChanged(k,K,pe)}sendSignInLinkToEmail(m,b){return function uu(v,g,m){return du.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function au(v,g,m){return Zl.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let D;switch(function rv(v,g){ku(Object.values(Qi).includes(g),v,"invalid-persistence-type"),(0,L.b$)()?ku(g!==Qi.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?ku(g===Qi.NONE,v,"unsupported-persistence-type"):Mu()?ku(g===Qi.NONE||g===Qi.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):ku(g===Qi.NONE||Lp(),v,"unsupported-persistence-type")}(b._delegate,m),m){case Qi.SESSION:D=Bs;break;case Qi.LOCAL:D=(yield ne(ul)._isAvailable())?ul:Tr;break;case Qi.NONE:D=It;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Dr(this._delegate,function wd(v){return iu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Dr(this._delegate,Tn(this._delegate,m))}signInWithCustomToken(m){return Dr(this._delegate,function Ta(v,g){return wt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Dr(this._delegate,function cu(v,g,m){return Tn((0,L.m9)(v),_d.credential(g,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Dr(this._delegate,function jg(v,g,m){return Fs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Up(this._delegate,function $n(v,g,m){return Zo.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return Mc(Ci(),b._delegate,"operation-not-supported-in-this-environment"),Dr(b._delegate,function Tp(v,g,m){return Es.apply(this,arguments)}(b._delegate,m,Xo))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return Mc(Ci(),b._delegate,"operation-not-supported-in-this-environment"),yield Yd(b._delegate),function J(v,g,m){return function ae(v,g,m){return Oe.apply(this,arguments)}(v,g,m)}(b._delegate,m,Xo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function En(v,g){return Kl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Qi,v})();function vm(v,g,m){let b=v;"function"!=typeof v&&({next:b,error:g,complete:m}=v);const D=b;return{next:K=>D(K&&Gs.getOrCreate(K)),error:g,complete:m}}function E0(v,g){const m=function sv(v,g){const m=Ou();if(!m)return[];const b=Jn(Kd,v,g);switch(m.getItem(b)){case Qi.NONE:return[It];case Qi.LOCAL:return[ul,Bs];case Qi.SESSION:return[Bs];default:return[]}}(v,g);if("undefined"!=typeof self&&!m.includes(ul)&&m.push(ul),"undefined"!=typeof window)for(const b of[Tr,Bs])m.includes(b)||m.push(b);return m.includes(It)||m.push(It),m}class ea{constructor(){this.providerId="phone",this._delegate=new js(Jd(ee.Z.auth()))}static credential(g,m){return js.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}ea.PHONE_SIGN_IN_METHOD=js.PHONE_SIGN_IN_METHOD,ea.PROVIDER_ID=js.PROVIDER_ID;const Nn=q;class bt{constructor(g,m,b=ee.Z.app()){var D;Nn(null===(D=b.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Jg(g,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fn(v){v.INTERNAL.registerComponent(new ue.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),b=g.getProvider("auth");return new ym(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_d,FacebookAuthProvider:wa,GithubAuthProvider:_p,GoogleAuthProvider:yd,OAuthProvider:ms,SAMLAuthProvider:Wi,PhoneAuthProvider:ea,PhoneMultiFactorGenerator:om,RecaptchaVerifier:bt,TwitterAuthProvider:vd,Auth:ym,AuthCredential:Gr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:(et,we,F)=>{F.d(we,{y:()=>G});var s=F(930),ee=F(727),L=F(8822),de=F(4671);var ue=F(2416),le=F(576),he=F(2806);let G=(()=>{class ke{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ge=new ke;return ge.source=this,ge.operator=Ue,ge}subscribe(Ue,ge,Se){const Ze=function $e(ke){return ke&&ke instanceof s.Lv||function ie(ke){return ke&&(0,le.m)(ke.next)&&(0,le.m)(ke.error)&&(0,le.m)(ke.complete)}(ke)&&(0,ee.Nn)(ke)}(Ue)?Ue:new s.Hp(Ue,ge,Se);return(0,he.x)(()=>{const{operator:Qe,source:De}=this;Ze.add(Qe?Qe.call(Ze,De):De?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ge){Ue.error(ge)}}forEach(Ue,ge){return new(ge=z(ge))((Se,Ze)=>{const Qe=new s.Hp({next:De=>{try{Ue(De)}catch(Ee){Ze(Ee),Qe.unsubscribe()}},error:Ze,complete:Se});this.subscribe(Qe)})}_subscribe(Ue){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Ue)}[L.L](){return this}pipe(...Ue){return function _e(ke){return 0===ke.length?de.y:1===ke.length?ke[0]:function(Ue){return ke.reduce((ge,Se)=>Se(ge),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=z(Ue))((ge,Se)=>{let Ze;this.subscribe(Qe=>Ze=Qe,Qe=>Se(Qe),()=>ge(Ze))})}}return ke.create=Fe=>new ke(Fe),ke})();function z(ke){var Fe;return null!==(Fe=null!=ke?ke:ue.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(et,we,F)=>{F.d(we,{x:()=>ue});var s=F(8306),ee=F(727);const de=(0,F(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),_e=F(2806);let ue=(()=>{class he extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ie=new le(this,this);return ie.operator=z,ie}_throwIfClosed(){if(this.closed)throw new de}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ie}=this;for(;ie.length;)ie.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ie,isStopped:$e,observers:ke}=this;return ie||$e?ee.Lc:(this.currentObservers=null,ke.push(z),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(ke,z)}))}_checkFinalizedStatuses(z){const{hasError:ie,thrownError:$e,isStopped:ke}=this;ie?z.error($e):ke&&z.complete()}asObservable(){const z=new s.y;return z.source=this,z}}return he.create=(G,z)=>new le(G,z),he})();class le extends ue{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,ie;null===(ie=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ie||ie.call(z,G)}error(G){var z,ie;null===(ie=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ie||ie.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,ie;return null!==(ie=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==ie?ie:ee.Lc}}},930:(et,we,F)=>{F.d(we,{Hp:()=>Ue,Lv:()=>ie});var s=F(576),ee=F(727),L=F(2416),de=F(7849),se=F(5032);const _e=he("C",void 0,void 0);function he(De,Ee,Ie){return{kind:De,value:Ee,error:Ie}}var G=F(3410),z=F(2806);class ie extends ee.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,ee.Nn)(Ee)&&Ee.add(this)):this.destination=Qe}static create(Ee,Ie,je){return new Ue(Ee,Ie,je)}next(Ee){this.isStopped?Ze(function le(De){return he("N",De,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ze(function ue(De){return he("E",void 0,De)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ze(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ke(De,Ee){return $e.call(De,Ee)}class Fe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Ee)}catch(je){ge(je)}}error(Ee){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Ee)}catch(je){ge(je)}else ge(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ie){ge(Ie)}}}class Ue extends ie{constructor(Ee,Ie,je){let ze;if(super(),(0,s.m)(Ee)||!Ee)ze={next:null!=Ee?Ee:void 0,error:null!=Ie?Ie:void 0,complete:null!=je?je:void 0};else{let q;this&&L.v.useDeprecatedNextContext?(q=Object.create(Ee),q.unsubscribe=()=>this.unsubscribe(),ze={next:Ee.next&&ke(Ee.next,q),error:Ee.error&&ke(Ee.error,q),complete:Ee.complete&&ke(Ee.complete,q)}):ze=Ee}this.destination=new Fe(ze)}}function ge(De){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(De):(0,de.h)(De)}function Ze(De,Ee){const{onStoppedNotification:Ie}=L.v;Ie&&G.z.setTimeout(()=>Ie(De,Ee))}const Qe={closed:!0,next:se.Z,error:function Se(De){throw De},complete:se.Z}},727:(et,we,F)=>{F.d(we,{Lc:()=>_e,w0:()=>se,Nn:()=>ue});var s=F(576);const L=(0,F(3888).d)(he=>function(z){he(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ie,$e)=>`${$e+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var de=F(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(ke){G=ke instanceof L?ke.errors:[ke]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const ke of $e)try{le(ke)}catch(Fe){G=null!=G?G:[],Fe instanceof L?G=[...G,...Fe.errors]:G.push(Fe)}}if(G)throw new L(G)}}add(G){var z;if(G&&G!==this)if(this.closed)le(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,de.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,de.P)(z,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const he=new se;return he.closed=!0,he})();const _e=se.EMPTY;function ue(he){return he instanceof se||he&&"closed"in he&&(0,s.m)(he.remove)&&(0,s.m)(he.add)&&(0,s.m)(he.unsubscribe)}function le(he){(0,s.m)(he)?he():he.unsubscribe()}},2416:(et,we,F)=>{F.d(we,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,we,F)=>{F.d(we,{E:()=>ee});const ee=new(F(8306).y)(se=>se.complete())},8996:(et,we,F)=>{F.d(we,{D:()=>Ee});var s=F(8421),ee=F(5363),L=F(9468),_e=F(8306),le=F(2202),he=F(576),G=F(9672);function ie(Ie,je){if(!Ie)throw new Error("Iterable cannot be null");return new _e.y(ze=>{(0,G.f)(ze,je,()=>{const q=Ie[Symbol.asyncIterator]();(0,G.f)(ze,je,()=>{q.next().then(Ce=>{Ce.done?ze.complete():ze.next(Ce.value)})},0,!0)})})}var $e=F(3670),ke=F(8239),Fe=F(1144),Ue=F(6495),ge=F(2206),Se=F(4532),Ze=F(3260);function Ee(Ie,je){return je?function De(Ie,je){if(null!=Ie){if((0,$e.c)(Ie))return function de(Ie,je){return(0,s.Xf)(Ie).pipe((0,L.R)(je),(0,ee.Q)(je))}(Ie,je);if((0,Fe.z)(Ie))return function ue(Ie,je){return new _e.y(ze=>{let q=0;return je.schedule(function(){q===Ie.length?ze.complete():(ze.next(Ie[q++]),ze.closed||this.schedule())})})}(Ie,je);if((0,ke.t)(Ie))return function se(Ie,je){return(0,s.Xf)(Ie).pipe((0,L.R)(je),(0,ee.Q)(je))}(Ie,je);if((0,ge.D)(Ie))return ie(Ie,je);if((0,Ue.T)(Ie))return function z(Ie,je){return new _e.y(ze=>{let q;return(0,G.f)(ze,je,()=>{q=Ie[le.h](),(0,G.f)(ze,je,()=>{let Ce,Y;try{({value:Ce,done:Y}=q.next())}catch(oe){return void ze.error(oe)}Y?ze.complete():ze.next(Ce)},0,!0)}),()=>(0,he.m)(null==q?void 0:q.return)&&q.return()})}(Ie,je);if((0,Ze.L)(Ie))return function Qe(Ie,je){return ie((0,Ze.Q)(Ie),je)}(Ie,je)}throw(0,Se.z)(Ie)}(Ie,je):(0,s.Xf)(Ie)}},8421:(et,we,F)=>{F.d(we,{Xf:()=>$e});var s=F(655),ee=F(1144),L=F(8239),de=F(8306),se=F(3670),_e=F(2206),ue=F(4532),le=F(6495),he=F(3260),G=F(576),z=F(7849),ie=F(8822);function $e(De){if(De instanceof de.y)return De;if(null!=De){if((0,se.c)(De))return function ke(De){return new de.y(Ee=>{const Ie=De[ie.L]();if((0,G.m)(Ie.subscribe))return Ie.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,ee.z)(De))return function Fe(De){return new de.y(Ee=>{for(let Ie=0;Ie<De.length&&!Ee.closed;Ie++)Ee.next(De[Ie]);Ee.complete()})}(De);if((0,L.t)(De))return function Ue(De){return new de.y(Ee=>{De.then(Ie=>{Ee.closed||(Ee.next(Ie),Ee.complete())},Ie=>Ee.error(Ie)).then(null,z.h)})}(De);if((0,_e.D)(De))return Se(De);if((0,le.T)(De))return function ge(De){return new de.y(Ee=>{for(const Ie of De)if(Ee.next(Ie),Ee.closed)return;Ee.complete()})}(De);if((0,he.L)(De))return function Ze(De){return Se((0,he.Q)(De))}(De)}throw(0,ue.z)(De)}function Se(De){return new de.y(Ee=>{(function Qe(De,Ee){var Ie,je,ze,q;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,s.KL)(De);!(je=yield Ie.next()).done;)if(Ee.next(je.value),Ee.closed)return}catch(Ce){ze={error:Ce}}finally{try{je&&!je.done&&(q=Ie.return)&&(yield q.call(Ie))}finally{if(ze)throw ze.error}}Ee.complete()})})(De,Ee).catch(Ie=>Ee.error(Ie))})}},6451:(et,we,F)=>{F.d(we,{T:()=>_e});var s=F(8189),ee=F(8421),L=F(515),de=F(3269),se=F(8996);function _e(...ue){const le=(0,de.yG)(ue),he=(0,de._6)(ue,1/0),G=ue;return G.length?1===G.length?(0,ee.Xf)(G[0]):(0,s.J)(he)((0,se.D)(G,le)):L.E}},5403:(et,we,F)=>{F.d(we,{x:()=>ee});var s=F(930);function ee(de,se,_e,ue,le){return new L(de,se,_e,ue,le)}class L extends s.Lv{constructor(se,_e,ue,le,he,G){super(se),this.onFinalize=he,this.shouldUnsubscribe=G,this._next=_e?function(z){try{_e(z)}catch(ie){se.error(ie)}}:super._next,this._error=le?function(z){try{le(z)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(et,we,F)=>{F.d(we,{U:()=>L});var s=F(4482),ee=F(5403);function L(de,se){return(0,s.e)((_e,ue)=>{let le=0;_e.subscribe((0,ee.x)(ue,he=>{ue.next(de.call(se,he,le++))}))})}},8189:(et,we,F)=>{F.d(we,{J:()=>L});var s=F(5577),ee=F(4671);function L(de=1/0){return(0,s.z)(ee.y,de)}},5577:(et,we,F)=>{F.d(we,{z:()=>le});var s=F(4004),ee=F(8421),L=F(4482),de=F(9672),se=F(5403),ue=F(576);function le(he,G,z=1/0){return(0,ue.m)(G)?le((ie,$e)=>(0,s.U)((ke,Fe)=>G(ie,ke,$e,Fe))((0,ee.Xf)(he(ie,$e))),z):("number"==typeof G&&(z=G),(0,L.e)((ie,$e)=>function _e(he,G,z,ie,$e,ke,Fe,Ue){const ge=[];let Se=0,Ze=0,Qe=!1;const De=()=>{Qe&&!ge.length&&!Se&&G.complete()},Ee=je=>Se<ie?Ie(je):ge.push(je),Ie=je=>{ke&&G.next(je),Se++;let ze=!1;(0,ee.Xf)(z(je,Ze++)).subscribe((0,se.x)(G,q=>{null==$e||$e(q),ke?Ee(q):G.next(q)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Se--;ge.length&&Se<ie;){const q=ge.shift();Fe?(0,de.f)(G,Fe,()=>Ie(q)):Ie(q)}De()}catch(q){G.error(q)}}))};return he.subscribe((0,se.x)(G,Ee,()=>{Qe=!0,De()})),()=>{null==Ue||Ue()}}(ie,$e,he,z)))}},5363:(et,we,F)=>{F.d(we,{Q:()=>de});var s=F(9672),ee=F(4482),L=F(5403);function de(se,_e=0){return(0,ee.e)((ue,le)=>{ue.subscribe((0,L.x)(le,he=>(0,s.f)(le,se,()=>le.next(he),_e),()=>(0,s.f)(le,se,()=>le.complete(),_e),he=>(0,s.f)(le,se,()=>le.error(he),_e)))})}},3099:(et,we,F)=>{F.d(we,{B:()=>_e});var s=F(8996),ee=F(5698),L=F(7579),de=F(930),se=F(4482);function _e(le={}){const{connector:he=(()=>new L.x),resetOnError:G=!0,resetOnComplete:z=!0,resetOnRefCountZero:ie=!0}=le;return $e=>{let ke=null,Fe=null,Ue=null,ge=0,Se=!1,Ze=!1;const Qe=()=>{null==Fe||Fe.unsubscribe(),Fe=null},De=()=>{Qe(),ke=Ue=null,Se=Ze=!1},Ee=()=>{const Ie=ke;De(),null==Ie||Ie.unsubscribe()};return(0,se.e)((Ie,je)=>{ge++,!Ze&&!Se&&Qe();const ze=Ue=null!=Ue?Ue:he();je.add(()=>{ge--,0===ge&&!Ze&&!Se&&(Fe=ue(Ee,ie))}),ze.subscribe(je),ke||(ke=new de.Hp({next:q=>ze.next(q),error:q=>{Ze=!0,Qe(),Fe=ue(De,G,q),ze.error(q)},complete:()=>{Se=!0,Qe(),Fe=ue(De,z),ze.complete()}}),(0,s.D)(Ie).subscribe(ke))})($e)}}function ue(le,he,...G){return!0===he?(le(),null):!1===he?null:he(...G).pipe((0,ee.q)(1)).subscribe(()=>le())}},9468:(et,we,F)=>{F.d(we,{R:()=>ee});var s=F(4482);function ee(L,de=0){return(0,s.e)((se,_e)=>{_e.add(L.schedule(()=>se.subscribe(_e),de))})}},5698:(et,we,F)=>{F.d(we,{q:()=>de});var s=F(515),ee=F(4482),L=F(5403);function de(se){return se<=0?()=>s.E:(0,ee.e)((_e,ue)=>{let le=0;_e.subscribe((0,L.x)(ue,he=>{++le<=se&&(ue.next(he),se<=le&&ue.complete())}))})}},8505:(et,we,F)=>{F.d(we,{b:()=>se});var s=F(576),ee=F(4482),L=F(5403),de=F(4671);function se(_e,ue,le){const he=(0,s.m)(_e)||ue||le?{next:_e,error:ue,complete:le}:_e;return he?(0,ee.e)((G,z)=>{var ie;null===(ie=he.subscribe)||void 0===ie||ie.call(he);let $e=!0;G.subscribe((0,L.x)(z,ke=>{var Fe;null===(Fe=he.next)||void 0===Fe||Fe.call(he,ke),z.next(ke)},()=>{var ke;$e=!1,null===(ke=he.complete)||void 0===ke||ke.call(he),z.complete()},ke=>{var Fe;$e=!1,null===(Fe=he.error)||void 0===Fe||Fe.call(he,ke),z.error(ke)},()=>{var ke,Fe;$e&&(null===(ke=he.unsubscribe)||void 0===ke||ke.call(he)),null===(Fe=he.finalize)||void 0===Fe||Fe.call(he)}))}):de.y}},4408:(et,we,F)=>{F.d(we,{o:()=>se});var s=F(727);class ee extends s.w0{constructor(ue,le){super()}schedule(ue,le=0){return this}}const L={setInterval(_e,ue,...le){const{delegate:he}=L;return(null==he?void 0:he.setInterval)?he.setInterval(_e,ue,...le):setInterval(_e,ue,...le)},clearInterval(_e){const{delegate:ue}=L;return((null==ue?void 0:ue.clearInterval)||clearInterval)(_e)},delegate:void 0};var de=F(8737);class se extends ee{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le,this.pending=!1}schedule(ue,le=0){if(this.closed)return this;this.state=ue;const he=this.id,G=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(G,he,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(G,this.id,le),this}requestAsyncId(ue,le,he=0){return L.setInterval(ue.flush.bind(ue,this),he)}recycleAsyncId(ue,le,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return le;L.clearInterval(le)}execute(ue,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ue,le);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,le){let G,he=!1;try{this.work(ue)}catch(z){he=!0,G=z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ue,scheduler:le}=this,{actions:he}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(he,this),null!=ue&&(this.id=this.recycleAsyncId(le,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,we,F)=>{F.d(we,{v:()=>L});var s=F(6063);class ee{constructor(se,_e=ee.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,ue){return new this.schedulerActionCtor(this,se).schedule(ue,_e)}}ee.now=s.l.now;class L extends ee{constructor(se,_e=ee.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let ue;this._active=!0;do{if(ue=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,ue){for(;se=_e.shift();)se.unsubscribe();throw ue}}}},4986:(et,we,F)=>{F.d(we,{P:()=>de,z:()=>L});var s=F(4408);const L=new(F(7565).v)(s.o),de=L},6063:(et,we,F)=>{F.d(we,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(et,we,F)=>{F.d(we,{z:()=>s});const s={setTimeout(ee,L,...de){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,L,...de):setTimeout(ee,L,...de)},clearTimeout(ee){const{delegate:L}=s;return((null==L?void 0:L.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(et,we,F)=>{F.d(we,{h:()=>ee});const ee=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,we,F)=>{F.d(we,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,we,F)=>{F.d(we,{_6:()=>_e,jO:()=>de,yG:()=>se});var s=F(576),ee=F(3532);function L(ue){return ue[ue.length-1]}function de(ue){return(0,s.m)(L(ue))?ue.pop():void 0}function se(ue){return(0,ee.K)(L(ue))?ue.pop():void 0}function _e(ue,le){return"number"==typeof L(ue)?ue.pop():le}},8737:(et,we,F)=>{function s(ee,L){if(ee){const de=ee.indexOf(L);0<=de&&ee.splice(de,1)}}F.d(we,{P:()=>s})},3888:(et,we,F)=>{function s(ee){const de=ee(se=>{Error.call(se),se.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}F.d(we,{d:()=>s})},2806:(et,we,F)=>{F.d(we,{O:()=>de,x:()=>L});var s=F(2416);let ee=null;function L(se){if(s.v.useDeprecatedSynchronousErrorHandling){const _e=!ee;if(_e&&(ee={errorThrown:!1,error:null}),se(),_e){const{errorThrown:ue,error:le}=ee;if(ee=null,ue)throw le}}else se()}function de(se){s.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(et,we,F)=>{function s(ee,L,de,se=0,_e=!1){const ue=L.schedule(function(){de(),_e?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ue),!_e)return ue}F.d(we,{f:()=>s})},4671:(et,we,F)=>{function s(ee){return ee}F.d(we,{y:()=>s})},1144:(et,we,F)=>{F.d(we,{z:()=>s});const s=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(et,we,F)=>{F.d(we,{D:()=>ee});var s=F(576);function ee(L){return Symbol.asyncIterator&&(0,s.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(et,we,F)=>{function s(ee){return"function"==typeof ee}F.d(we,{m:()=>s})},3670:(et,we,F)=>{F.d(we,{c:()=>L});var s=F(8822),ee=F(576);function L(de){return(0,ee.m)(de[s.L])}},6495:(et,we,F)=>{F.d(we,{T:()=>L});var s=F(2202),ee=F(576);function L(de){return(0,ee.m)(null==de?void 0:de[s.h])}},8239:(et,we,F)=>{F.d(we,{t:()=>ee});var s=F(576);function ee(L){return(0,s.m)(null==L?void 0:L.then)}},3260:(et,we,F)=>{F.d(we,{L:()=>de,Q:()=>L});var s=F(655),ee=F(576);function L(se){return(0,s.FC)(this,arguments,function*(){const ue=se.getReader();try{for(;;){const{value:le,done:he}=yield(0,s.qq)(ue.read());if(he)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(le)}}finally{ue.releaseLock()}})}function de(se){return(0,ee.m)(null==se?void 0:se.getReader)}},3532:(et,we,F)=>{F.d(we,{K:()=>ee});var s=F(576);function ee(L){return L&&(0,s.m)(L.schedule)}},4482:(et,we,F)=>{F.d(we,{A:()=>ee,e:()=>L});var s=F(576);function ee(de){return(0,s.m)(null==de?void 0:de.lift)}function L(de){return se=>{if(ee(se))return se.lift(function(_e){try{return de(_e,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,we,F)=>{function s(){}F.d(we,{Z:()=>s})},7849:(et,we,F)=>{F.d(we,{h:()=>L});var s=F(2416),ee=F(3410);function L(de){ee.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw de;se(de)})}},4532:(et,we,F)=>{function s(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(we,{z:()=>s})},655:(et,we,F)=>{function de(Y,oe){var ne={};for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&oe.indexOf(ve)<0&&(ne[ve]=Y[ve]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ve=Object.getOwnPropertySymbols(Y);ce<ve.length;ce++)oe.indexOf(ve[ce])<0&&Object.prototype.propertyIsEnumerable.call(Y,ve[ce])&&(ne[ve[ce]]=Y[ve[ce]])}return ne}function le(Y,oe,ne,ve){return new(ne||(ne=Promise))(function(Le,ft){function Wt(an){try{Ye(ve.next(an))}catch(kn){ft(kn)}}function Ht(an){try{Ye(ve.throw(an))}catch(kn){ft(kn)}}function Ye(an){an.done?Le(an.value):function ce(Le){return Le instanceof ne?Le:new ne(function(ft){ft(Le)})}(an.value).then(Wt,Ht)}Ye((ve=ve.apply(Y,oe||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function Se(Y,oe,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ve=ne.apply(Y,oe||[]),Le=[];return ce={},ft("next"),ft("throw"),ft("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function ft(un){ve[un]&&(ce[un]=function(rn){return new Promise(function(zi,Xt){Le.push([un,rn,zi,Xt])>1||Wt(un,rn)})})}function Wt(un,rn){try{!function Ht(un){un.value instanceof ge?Promise.resolve(un.value.v).then(Ye,an):kn(Le[0][2],un)}(ve[un](rn))}catch(zi){kn(Le[0][3],zi)}}function Ye(un){Wt("next",un)}function an(un){Wt("throw",un)}function kn(un,rn){un(rn),Le.shift(),Le.length&&Wt(Le[0][0],Le[0][1])}}function Qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function ie(Y){var oe="function"==typeof Symbol&&Symbol.iterator,ne=oe&&Y[oe],ve=0;if(ne)return ne.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ve>=Y.length&&(Y=void 0),{value:Y&&Y[ve++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ne={},ve("next"),ve("throw"),ve("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ve(Le){ne[Le]=Y[Le]&&function(ft){return new Promise(function(Wt,Ht){!function ce(Le,ft,Wt,Ht){Promise.resolve(Ht).then(function(Ye){Le({value:Ye,done:Wt})},ft)}(Wt,Ht,(ft=Y[Le](ft)).done,ft.value)})}}}F.d(we,{FC:()=>Se,KL:()=>Qe,_T:()=>de,mG:()=>le,qq:()=>ge})},5e3:(et,we,F)=>{F.d(we,{$8M:()=>hc,$Z:()=>$1,AFp:()=>fb,AaK:()=>le,Akn:()=>Ys,AsE:()=>bh,BQk:()=>N,CHM:()=>Vo,CRH:()=>fI,CZH:()=>xI,CqO:()=>Vi,DdM:()=>D_,EJc:()=>yA,EpF:()=>ow,F$t:()=>jE,F4k:()=>BE,FYo:()=>T_,FiY:()=>Sr,G48:()=>Tb,Gf:()=>tA,GfV:()=>Ph,GkF:()=>Ws,Gpc:()=>z,HTZ:()=>YT,Hh0:()=>tb,Hsn:()=>zE,JOm:()=>k,LFG:()=>at,LSH:()=>$d,Lbi:()=>mA,MAs:()=>IE,NdJ:()=>Ks,OlP:()=>Dn,Oqu:()=>bw,PXZ:()=>z_,Q6J:()=>FE,QGY:()=>aw,Qsj:()=>qT,R0b:()=>da,RDi:()=>ru,Rgc:()=>Wu,SBq:()=>Rh,Sil:()=>wA,Suo:()=>pI,TTD:()=>ms,TgZ:()=>rw,Tol:()=>mw,Udp:()=>r_,VKq:()=>WT,VLi:()=>pr,W1O:()=>yI,WLB:()=>A_,X6Q:()=>DA,XFs:()=>vt,Xpm:()=>_t,Y36:()=>e_,YKP:()=>BD,YNc:()=>EE,Yjl:()=>Xa,Yz7:()=>rn,ZZ4:()=>Mb,_Bn:()=>kh,_UZ:()=>VE,_Vd:()=>Rf,_c5:()=>GI,_uU:()=>aT,aQg:()=>Nr,c2e:()=>eN,cJS:()=>Xt,cg1:()=>Sf,dDg:()=>OI,deG:()=>Kg,dqk:()=>Gt,eFA:()=>bb,ekj:()=>gw,f3M:()=>Vt,g9A:()=>gA,h0i:()=>Nh,hGG:()=>jA,hij:()=>a_,iGM:()=>hI,ifc:()=>Kt,ip1:()=>pb,kEZ:()=>KT,kL8:()=>u_,l5B:()=>M_,lG2:()=>Hl,n5z:()=>dc,oAB:()=>Gi,oJD:()=>Gd,oxw:()=>uw,q4F:()=>Pf,qLn:()=>Xd,qOj:()=>Zv,qZA:()=>sw,qbA:()=>eb,rFY:()=>nb,sBO:()=>AA,sIi:()=>dh,s_b:()=>Lf,soG:()=>mb,tBr:()=>dr,tb:()=>_A,tp0:()=>Va,uIk:()=>gf,vHH:()=>Fe,vpe:()=>ua,wAp:()=>Ct,xp6:()=>xm,ynx:()=>Io,z2F:()=>Cb,zSh:()=>Hv,zs3:()=>Ua});var s=F(7579),ee=F(727),L=F(8306),de=F(6451),se=F(3099);function _e(a){for(let l in a)if(a[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function ue(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function le(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(le).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function he(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=_e({__forward_ref__:_e});function z(a){return a.__forward_ref__=z,a.toString=function(){return le(this())},a}function ie(a){return $e(a)?a():a}function $e(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===z}class Fe extends Error{constructor(l,u){super(function Ue(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ge(a){return"string"==typeof a?a:null==a?"":String(a)}function Se(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ge(a)}function Ee(a,l){const u=l?` in ${l}`:"";throw new Fe(-201,`No provider for ${Se(a)} found${u}`)}function Ht(a,l){null==a&&function Ye(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function rn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Xt(a){return{providers:a.providers||[],imports:a.imports||[]}}function jt(a){return ls(a,cs)||ls(a,sr)}function ls(a,l){return a.hasOwnProperty(l)?a[l]:null}function qi(a){return a&&(a.hasOwnProperty(so)||a.hasOwnProperty(qr))?a[so]:null}const cs=_e({\u0275prov:_e}),so=_e({\u0275inj:_e}),sr=_e({ngInjectableDef:_e}),qr=_e({ngInjectorDef:_e});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let yr;function On(a){const l=yr;return yr=a,l}function oo(a,l,u){const d=jt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&vt.Optional?null:void 0!==l?l:void Ee(le(a),"Injector")}function di(a){return{toString:a}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),Kt=(()=>{return(a=Kt||(Kt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Kt;var a})();const ct="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ct||"undefined"!=typeof global&&global||Et||xi,Ai={},H=[],Z=_e({\u0275cmp:_e}),W=_e({\u0275dir:_e}),xe=_e({\u0275pipe:_e}),$=_e({\u0275mod:_e}),te=_e({\u0275fac:_e}),Re=_e({__NG_ELEMENT_ID__:_e});let tt=0;function _t(a){return di(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||H,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Kt.Emulated,id:"c",styles:a.styles||H,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,_=a.features,w=a.pipes;return d.id+=tt++,d.inputs=Ja(a.inputs,u),d.outputs=Ja(a.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(yn):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(It):null,d})}function yn(a){return Xn(a)||function $i(a){return a[W]||null}(a)}function It(a){return function Rs(a){return a[xe]||null}(a)}const Jn={};function Gi(a){return di(()=>{const l={type:a.type,bootstrap:a.bootstrap||H,declarations:a.declarations||H,imports:a.imports||H,exports:a.exports||H,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Jn[a.id]=a.type),l})}function Ja(a,l){if(null==a)return Ai;const u={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=d,l&&(l[p]=_)}return u}const Hl=_t;function Xa(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Xn(a){return a[Z]||null}function ei(a,l){const u=a[$]||null;if(!u&&!0===l)throw new Error(`Type ${le(a)} does not have '\u0275mod' property.`);return u}function wn(a){return Array.isArray(a)&&"object"==typeof a[1]}function hs(a){return Array.isArray(a)&&!0===a[1]}function ql(a){return 0!=(8&a.flags)}function ud(a){return 2==(2&a.flags)}function ps(a){return 1==(1&a.flags)}function fs(a){return null!==a.template}function Zi(a){return 0!=(512&a[2])}function ki(a,l){return a.hasOwnProperty(te)?a[te]:null}class Po{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ms(){return wa}function wa(a){return a.type.prototype.ngOnChanges&&(a.setInput=_p),yd}function yd(){const a=No(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Ai)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function _p(a,l,u,d){const p=No(a)||function ba(a,l){return a[jn]=l}(a,{previous:Ai,current:null}),_=p.current||(p.current={}),w=p.previous,C=this.declaredInputs[u],T=w[C];_[C]=new Po(T&&T.currentValue,l,w===Ai),a[d]=l}ms.ngInherit=!0;const jn="__ngSimpleChanges__";function No(a){return a[jn]||null}let Ea;function ru(a){Ea=a}function _s(){return void 0!==Ea?Ea:"undefined"!=typeof document?document:void 0}function hn(a){return!!a.listen}const il={createRenderer:(a,l)=>_s()};function sn(a){for(;Array.isArray(a);)a=a[0];return a}function po(a,l){return sn(l[a])}function _i(a,l){return sn(l[a.index])}function Tn(a,l){return a.data[l]}function yi(a,l){const u=l[a];return wn(u)?u:u[0]}function Lo(a){return 4==(4&a[2])}function Ns(a){return 128==(128&a[2])}function $r(a,l){return null==l?null:a[l]}function vs(a){a[18]=0}function Ta(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const wt={lFrame:xa(null),bindingsEnabled:!0};function Wl(){return wt.bindingsEnabled}function Me(){return wt.lFrame.lView}function zt(){return wt.lFrame.tView}function Vo(a){return wt.lFrame.contextLView=a,a[8]}function En(){let a=Kl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Kl(){return wt.lFrame.currentTNode}function Cr(a,l){const u=wt.lFrame;u.currentTNode=a,u.isParent=l}function cu(){return wt.lFrame.isParent}function uu(){wt.lFrame.isParent=!1}function Ri(){const a=wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function go(){return wt.lFrame.bindingIndex++}function Zr(a){const l=wt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Jl(a,l){const u=wt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Sa(l)}function Sa(a){wt.lFrame.currentDirectiveIndex=a}function ec(){return wt.lFrame.currentQueryIndex}function Cd(a){wt.lFrame.currentQueryIndex=a}function Ed(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function tc(a,l,u){if(u&vt.SkipSelf){let p=l,_=a;for(;!(p=p.parent,null!==p||u&vt.Host||(p=Ed(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;l=p,a=_}const d=wt.lFrame=Td();return d.currentTNode=l,d.lView=a,!0}function Uo(a){const l=Td(),u=a[1];wt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Td(){const a=wt.lFrame,l=null===a?null:a.child;return null===l?xa(a):l}function xa(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Id(){const a=wt.lFrame;return wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const nc=Id;function ur(){const a=Id();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function hi(){return wt.lFrame.selectedIndex}function Ho(a){wt.lFrame.selectedIndex=a}function zn(){const a=wt.lFrame;return Tn(a.tView,a.selectedIndex)}function al(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:O}=_;w&&(a.contentHooks||(a.contentHooks=[])).push(-u,w),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function Ls(a,l,u){xd(a,l,3,u)}function jo(a,l,u,d){(3&a[2])===u&&xd(a,l,u,d)}function ti(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function xd(a,l,u,d){const _=null!=d?d:-1,w=l.length-1;let C=0;for(let T=void 0!==d?65535&a[18]:0;T<w;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=d&&C>=d)break}else l[T]<0&&(a[18]+=65536),(C<_||-1==_)&&(qg(a,u,l,T),a[18]=(4294901760&a[18])+T+2),T++}function qg(a,l,u,d){const p=u[d]<0,_=u[d+1],C=a[p?-u[d]:u[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(C)}finally{}}}else try{_.call(C)}finally{}}class Da{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Tr(a,l,u){const d=hn(a);let p=0;for(;p<u.length;){const _=u[p];if("number"==typeof _){if(0!==_)break;p++;const w=u[p++],C=u[p++],T=u[p++];d?a.setAttribute(l,C,T,w):l.setAttributeNS(w,C,T)}else{const w=_,C=u[++p];Bs(w)?d&&a.setProperty(l,w,C):d?a.setAttribute(l,w,C):l.setAttribute(w,C),p++}}return p}function Ir(a){return 3===a||4===a||6===a}function Bs(a){return 64===a.charCodeAt(0)}function Aa(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?u=p:0===u||Gn(a,u,p,null,-1===u||2===u?l[++d]:null)}}return a}function Gn(a,l,u,d,p){let _=0,w=a.length;if(-1===l)w=-1;else for(;_<a.length;){const C=a[_++];if("number"==typeof C){if(C===l){w=-1;break}if(C>l){w=_-1;break}}}for(;_<a.length;){const C=a[_];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==p&&(a[_+1]=p));if(d===a[_+1])return void(a[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(a.splice(w,0,l),_=w+1),a.splice(_++,0,u),null!==d&&a.splice(_++,0,d),null!==p&&a.splice(_++,0,p)}function qo(a){return-1!==a}function Go(a){return 32767&a}function Us(a,l){let u=function tn(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let Ma=!0;function $o(a){const l=Ma;return Ma=a,l}let ka=0;function ws(a,l){const u=bs(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Rt(d.data,a),Rt(l,null),Rt(d.blueprint,null));const p=vi(a,l),_=a.injectorIndex;if(qo(p)){const w=Go(p),C=Us(p,l),T=C[1].data;for(let A=0;A<8;A++)l[_+A]=C[w+A]|T[w+A]}return l[_+8]=p,_}function Rt(a,l){a.push(0,0,0,0,0,0,0,0,l)}function bs(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function vi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,p=l;for(;null!==p;){const _=p[1],w=_.type;if(d=2===w?_.declTNode:1===w?p[6]:null,null===d)return-1;if(u++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ll(a,l,u){!function sc(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Re)&&(d=u[Re]),null==d&&(d=u[Re]=ka++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function Oa(a,l,u){if(u&vt.Optional)return a;Ee(l,"NodeInjector")}function cl(a,l,u,d){if(u&vt.Optional&&void 0===d&&(d=null),0==(u&(vt.Self|vt.Host))){const p=a[9],_=On(void 0);try{return p?p.get(l,d,u&vt.Optional):oo(l,d,u&vt.Optional)}finally{On(_)}}return Oa(d,l,u)}function mu(a,l,u,d=vt.Default,p){if(null!==a){const _=function ul(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Re)?a[Re]:void 0;return"number"==typeof l?l>=0?255&l:ac:l}(u);if("function"==typeof _){if(!tc(l,a,d))return d&vt.Host?Oa(p,u,d):cl(l,u,d,p);try{const w=_(d);if(null!=w||d&vt.Optional)return w;Ee(u)}finally{nc()}}else if("number"==typeof _){let w=null,C=bs(a,l),T=-1,A=d&vt.Host?l[16][6]:null;for((-1===C||d&vt.SkipSelf)&&(T=-1===C?vi(a,l):l[C+8],-1!==T&&Md(d,!1)?(w=l[1],C=Go(T),l=Us(T,l)):C=-1);-1!==C;){const O=l[1];if(uc(_,C,O.data)){const B=Wg(C,l,u,w,d,A);if(B!==mo)return B}T=l[C+8],-1!==T&&Md(d,l[1].data[C+8]===A)&&uc(_,C,l)?(w=O,C=Go(T),l=Us(T,l)):C=-1}}}return cl(l,u,d,p)}const mo={};function ac(){return new _o(En(),Me())}function Wg(a,l,u,d,p,_){const w=l[1],C=w.data[a+8],O=lc(C,w,u,null==d?ud(C)&&Ma:d!=w&&0!=(3&C.type),p&vt.Host&&_===C);return null!==O?cc(l,w,O,C):mo}function lc(a,l,u,d,p){const _=a.providerIndexes,w=l.data,C=1048575&_,T=a.directiveStart,O=_>>20,j=p?C+O:a.directiveEnd;for(let X=d?C:C+O;X<j;X++){const be=w[X];if(X<T&&u===be||X>=T&&be.type===u)return X}if(p){const X=w[T];if(X&&fs(X)&&X.type===u)return T}return null}function cc(a,l,u,d){let p=a[u];const _=l.data;if(function ic(a){return a instanceof Da}(p)){const w=p;w.resolving&&function Ze(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${a}${u}`)}(Se(_[u]));const C=$o(w.canSeeViewProviders);w.resolving=!0;const T=w.injectImpl?On(w.injectImpl):null;tc(a,d,vt.Default);try{p=a[u]=w.factory(void 0,_,a,d),l.firstCreatePass&&u>=d.directiveStart&&function zy(a,l,u){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=l.type.prototype;if(d){const w=wa(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,w)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==T&&On(T),$o(C),w.resolving=!1,nc()}}return p}function uc(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Md(a,l){return!(a&vt.Self||a&vt.Host&&l)}class _o{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return mu(this._tNode,this._lView,l,d,u)}}function dc(a){return di(()=>{const l=a.prototype.constructor,u=l[te]||dl(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const _=p[te]||dl(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function dl(a){return $e(a)?()=>{const l=dl(ie(a));return l&&l()}:ki(a)}function hc(a){return function oc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let p=0;for(;p<d;){const _=u[p];if(Ir(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof u[p];)p++;else{if(_===l)return u[p+1];p+=2}}}return null}(En(),a)}const Ra="__parameters__";function Pa(a,l,u){return di(()=>{const d=function _u(a){return function(...u){if(a){const d=a(...u);for(const p in d)this[p]=d[p]}}}(l);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return C.annotation=w,C;function C(T,A,O){const B=T.hasOwnProperty(Ra)?T[Ra]:Object.defineProperty(T,Ra,{value:[]})[Ra];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(w),T}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class Dn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kg=new Dn("AnalyzeForEntryComponents");function wi(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),wi(d,l)):l!==a&&l.push(d)}return l}function Pi(a,l){a.forEach(u=>Array.isArray(u)?Pi(u,l):l(u))}function bi(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Wo(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Kr(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function Ni(a,l,u){let d=Na(a,l);return d>=0?a[1|d]=u:(d=~d,function Ko(a,l,u,d){let p=a.length;if(p==l)a.push(u,d);else if(1===p)a.push(d,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function gc(a,l){const u=Na(a,l);if(u>=0)return a[1|u]}function Na(a,l){return function Es(a,l,u){let d=0,p=a.length>>u;for(;p!==d;){const _=d+(p-d>>1),w=a[_<<u];if(l===w)return _<<u;w>l?p=_:d=_+1}return~(p<<u)}(a,l,1)}const Ts={},La="__NG_DI_FLAG__",Qo="ngTempTokenPath",x=/\n/gm,U="__source",J=_e({provide:String,useValue:_e});let ae;function Oe(a){const l=ae;return ae=a,l}function st(a,l=vt.Default){if(void 0===ae)throw new Fe(203,"");return null===ae?oo(a,void 0,l):ae.get(a,l&vt.Optional?null:void 0,l)}function at(a,l=vt.Default){return(function Sn(){return yr}()||st)(ie(a),l)}const Vt=at;function Tt(a){const l=[];for(let u=0;u<a.length;u++){const d=ie(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Fe(900,"");let p,_=vt.Default;for(let w=0;w<d.length;w++){const C=d[w],T=Zn(C);"number"==typeof T?-1===T?p=C.token:_|=T:p=C}l.push(at(p,_))}else l.push(at(d))}return l}function ni(a,l){return a[La]=l,a.prototype[La]=l,a}function Zn(a){return a[La]}const dr=ni(Pa("Inject",a=>({token:a})),-1),Sr=ni(Pa("Optional"),8),Va=ni(Pa("SkipSelf"),4);let Tu,Ec;function Cc(a){var l;return(null===(l=function Bd(){if(void 0===Tu&&(Tu=null,Gt.trustedTypes))try{Tu=Gt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Tu}())||void 0===l?void 0:l.createHTML(a))||a}function im(a){var l;return(null===(l=function Dp(){if(void 0===Ec&&(Ec=null,Gt.trustedTypes))try{Ec=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Ec}())||void 0===l?void 0:l.createHTML(a))||a}class sm{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function bo(a){return a instanceof sm?a.changingThisBreaksApplicationSecurity:a}function Su(a,l){const u=function kp(a){return a instanceof sm&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}class am{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Cc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class lm{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Cc(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Cc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const w=u.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const v0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ic=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hd(a){return(a=String(a)).match(v0)||a.match(Ic)?a:"unsafe:"+a}function Is(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Sc(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const xc=Is("area,br,col,hr,img,wbr"),Rp=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),um=Is("rp,rt"),Du=Sc(xc,Sc(Rp,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sc(um,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sc(um,Rp)),jd=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pp=Is("srcset"),hm=Sc(jd,Pp,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zd=Is("script,style,template");class Np{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Du.hasOwnProperty(u))return this.sanitizedSomething=!0,!zd.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),w=_.name,C=w.toLowerCase();if(!hm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=_.value;jd[C]&&(T=Hd(T)),Pp[C]&&(a=T,T=(a=String(a)).split(",").map(l=>Hd(l.trim())).join(", ")),this.buf.push(" ",w,'="',qd(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Du.hasOwnProperty(u)&&!xc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(qd(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Yy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qy=/([^\#-~ |!])/g;function qd(a){return a.replace(/&/g,"&amp;").replace(Yy,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Qy,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hl;function xr(a){return"content"in a&&function Dc(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function Gd(a){const l=Yi();return l?im(l.sanitize(In.HTML,a)||""):Su(a,"HTML")?im(bo(a)):function Jy(a,l){let u=null;try{hl=hl||function Tc(a){const l=new lm(a);return function Zy(){try{return!!(new window.DOMParser).parseFromString(Cc(""),"text/html")}catch(a){return!1}}()?new am(l):l}(a);let d=l?String(l):"";u=hl.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=u.innerHTML,u=hl.getInertBodyElement(d)}while(d!==_);return Cc((new Np).sanitizeChildren(xr(u)||u))}finally{if(u){const d=xr(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(_s(),ge(a))}function $d(a){const l=Yi();return l?l.sanitize(In.URL,a)||"":Su(a,"URL")?bo(a):Hd(ge(a))}function Yi(){const a=Me();return a&&a[12]}const Mu="__ngContext__";function Ci(a,l){a[Mu]=l}function Ac(a){const l=function pl(a){return a[Mu]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Jd(a){return a.ngOriginalError}function ov(a,...l){a.error(...l)}class Xd{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function gm(a){return a&&a.ngErrorLogger||ov}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Jd(l);for(;u&&Jd(u);)u=Jd(u);return u||null}}const ea=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function v(a){return a instanceof Function?a():a}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function pe(a,l){return undefined(a,l)}function mt(a){const l=a[3];return hs(l)?l[3]:l}function Ar(a){return Co(a[13])}function fl(a){return Co(a[4])}function Co(a){for(;null!==a&&!hs(a);)a=a[4];return a}function gl(a,l,u,d,p){if(null!=d){let _,w=!1;hs(d)?_=d:wn(d)&&(w=!0,d=d[0]);const C=sn(d);0===a&&null!==u?null==p?Qx(l,u,C):th(l,u,C,p||null,!0):1===a&&null!==u?th(l,u,C,p||null,!0):2===a?function Xx(a,l,u){const d=uv(a,l);d&&function $R(a,l,u,d){hn(a)?a.removeChild(l,u,d):l.removeChild(u)}(a,d,l,u)}(l,C,w):3===a&&l.destroyNode(C),null!=_&&function WR(a,l,u,d,p){const _=u[7];_!==sn(u)&&gl(l,a,d,_,p);for(let C=10;C<u.length;C++){const T=u[C];Wp(T[1],T,a,l,d,_)}}(l,a,_,u,p)}}function Pu(a,l,u){if(hn(a))return a.createElement(l,u);{const d=null!==u?function iu(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function lv(a,l){const u=a[9],d=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,Ta(p,-1)),u.splice(d,1)}function Gp(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const p=d[17];null!==p&&p!==a&&lv(p,d),l>0&&(a[u-1][4]=d[4]);const _=Wo(a,10+l);!function zp(a,l){Wp(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const w=_[19];null!==w&&w.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function cv(a,l){if(!(256&l[2])){const u=l[11];hn(u)&&u.destroyNode&&Wp(a,l,u,3,null,null),function Nu(a){let l=a[13];if(!l)return bm(a[1],a);for(;l;){let u=null;if(wn(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)wn(l)&&bm(l[1],l),l=l[3];null===l&&(l=a),wn(l)&&bm(l[1],l),u=l&&l[4]}l=u}}(l)}}function bm(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function Wx(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const p=l[u[d]];if(!(p instanceof Da)){const _=u[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const C=p[_[w]],T=_[w+1];try{T.call(C)}finally{}}else try{_.call(p)}finally{}}}}(a,l),function T0(a,l){const u=a.cleanup,d=l[7];let p=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const w=u[_+1],C="function"==typeof w?w(l):sn(l[w]),T=d[p=u[_+2]],A=u[_+3];"boolean"==typeof A?C.removeEventListener(u[_],T,A):A>=0?d[p=A]():d[p=-A].unsubscribe(),_+=2}else{const w=d[p=u[_+1]];u[_].call(w)}if(null!==d){for(let _=p+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&hn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&hs(l[3])){u!==l[3]&&lv(u,l);const d=l[19];null!==d&&d.detachView(a)}}}function Kx(a,l,u){return function Yx(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===Kt.None||p===Kt.Emulated)return null}return _i(d,u)}(a,l.parent,u)}function th(a,l,u,d,p){hn(a)?a.insertBefore(l,u,d,p):l.insertBefore(u,d,p)}function Qx(a,l,u){hn(a)?a.appendChild(l,u):l.appendChild(u)}function Jx(a,l,u,d,p){null!==d?th(a,l,u,d,p):Qx(a,l,u)}function uv(a,l){return hn(a)?a.parentNode(l):l.parentNode}function I0(a,l,u){return dv(a,l,u)}let dv=function S0(a,l,u){return 40&a.type?_i(a,u):null};function Zp(a,l,u,d){const p=Kx(a,d,l),_=l[11],C=I0(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(u))for(let T=0;T<u.length;T++)Jx(_,p,u[T],C,!1);else Jx(_,p,u,C,!1)}function Em(a,l){if(null!==l){const u=l.type;if(3&u)return _i(l,a);if(4&u)return hv(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return Em(a,d);{const p=a[l.index];return hs(p)?hv(-1,p):sn(p)}}if(32&u)return pe(l,a)()||sn(a[l.index]);{const d=Tm(a,l);return null!==d?Array.isArray(d)?d[0]:Em(mt(a[16]),d):Em(a,l.next)}}return null}function Tm(a,l){return null!==l?a[16][6].projection[l.projection]:null}function hv(a,l){const u=10+a+1;if(u<l.length){const d=l[u],p=d[1].firstChild;if(null!==p)return Em(d,p)}return l[7]}function x0(a,l,u,d,p,_,w){for(;null!=u;){const C=d[u.index],T=u.type;if(w&&0===l&&(C&&Ci(sn(C),d),u.flags|=4),64!=(64&u.flags))if(8&T)x0(a,l,u.child,d,p,_,!1),gl(l,a,p,C,_);else if(32&T){const A=pe(u,d);let O;for(;O=A();)gl(l,a,p,O,_);gl(l,a,p,C,_)}else 16&T?t1(a,l,d,u,p,_):gl(l,a,p,C,_);u=w?u.projectionNext:u.next}}function Wp(a,l,u,d,p,_){x0(u,d,a.firstChild,l,p,_,!1)}function t1(a,l,u,d,p,_){const w=u[16],T=w[6].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)gl(l,a,p,T[A],_);else x0(a,l,T,w[3],p,_,!0)}function $s(a,l,u){hn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function pv(a,l,u){hn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function D0(a,l,u){let d=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const _=l.length;if(p+_===d||a.charCodeAt(p+_)<=32)return p}u=p+1}}const A0="ng-template";function M0(a,l,u){let d=0;for(;d<a.length;){let p=a[d++];if(u&&"class"===p){if(p=a[d],-1!==D0(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function k0(a){return 4===a.type&&a.value!==A0}function nh(a,l,u){return l===(4!==a.type||u?a.value:A0)}function n1(a,l,u){let d=4;const p=a.attrs||[],_=function s1(a){for(let l=0;l<a.length;l++)if(Ir(a[l]))return l;return a.length}(p);let w=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!w)if(4&d){if(d=2|1&d,""!==T&&!nh(a,T,u)||""===T&&1===l.length){if(ta(d))return!1;w=!0}}else{const A=8&d?T:l[++C];if(8&d&&null!==a.attrs){if(!M0(a.attrs,A,u)){if(ta(d))return!1;w=!0}continue}const B=fv(8&d?"class":T,p,k0(a),u);if(-1===B){if(ta(d))return!1;w=!0;continue}if(""!==A){let j;j=B>_?"":p[B+1].toLowerCase();const X=8&d?j:null;if(X&&-1!==D0(X,A,0)||2&d&&A!==j){if(ta(d))return!1;w=!0}}}}else{if(!w&&!ta(d)&&!ta(T))return!1;if(w&&ta(T))continue;w=!1,d=T|1&d}}return ta(d)||w}function ta(a){return 0==(1&a)}function fv(a,l,u,d){if(null===l)return-1;let p=0;if(d||!u){let _=!1;for(;p<l.length;){const w=l[p];if(w===a)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function o1(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function gv(a,l,u=!1){for(let d=0;d<l.length;d++)if(n1(a,l[d],u))return!0;return!1}function O0(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function Kp(a,l){return a?":not("+l.trim()+")":l}function a1(a){let l=a[0],u=1,d=2,p="",_=!1;for(;u<a.length;){let w=a[u];if("string"==typeof w)if(2&d){const C=a[++u];p+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!ta(w)&&(l+=Kp(_,p),p=""),d=w,_=_||!ta(d);u++}return""!==p&&(l+=Kp(_,p)),l}const Nt={};function xm(a){ml(zt(),Me(),hi()+a,!1)}function ml(a,l,u,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Ls(l,_,u)}else{const _=a.preOrderHooks;null!==_&&jo(l,_,0,u)}Ho(u)}function _l(a,l){return a<<17|l<<2}function Ss(a){return a>>17&32767}function Li(a){return 2|a}function na(a){return(131068&a)>>2}function Oc(a,l){return-131069&a|l<<2}function yl(a){return 1|a}function Ev(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d],_=u[d+1];if(-1!==_){const w=a.data[_];Cd(p),w.contentQueries(2,l[_],_)}}}function Xp(a,l,u,d,p,_,w,C,T,A){const O=l.blueprint.slice();return O[0]=p,O[2]=140|d,vs(O),O[3]=O[15]=a,O[8]=u,O[10]=w||a&&a[10],O[11]=C||a&&a[11],O[12]=T||a&&a[12]||null,O[9]=A||a&&a[9]||null,O[6]=_,O[16]=2==l.type?a[16]:O,O}function Lu(a,l,u,d,p){let _=a.data[l];if(null===_)_=function Rm(a,l,u,d,p){const _=Kl(),w=cu(),T=a.data[l]=function Sv(a,l,u,d,p,_){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,u,l,d,p);return null===a.firstChild&&(a.firstChild=T),null!==_&&(w?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(a,l,u,d,p),function hu(){return wt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=d,_.attrs=p;const w=function Bo(){const a=wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Cr(_,!0),_}function bl(a,l,u,d){if(0===u)return-1;const p=l.length;for(let _=0;_<u;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function sa(a,l,u){Uo(l);try{const d=a.viewQuery;null!==d&&Um(1,d,u);const p=a.template;null!==p&&j0(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Ev(a,l),a.staticViewQueries&&Um(2,a.viewQuery,u);const _=a.components;null!==_&&function H0(a,l){for(let u=0;u<l.length;u++)Vm(a,l[u])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,ur()}}function Bt(a,l,u,d){const p=l[2];if(256!=(256&p)){Uo(l);try{vs(l),function Yl(a){return wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&j0(a,l,u,2,d);const w=3==(3&p);if(w){const A=a.preOrderCheckHooks;null!==A&&Ls(l,A,null)}else{const A=a.preOrderHooks;null!==A&&jo(l,A,0,null),ti(l,0)}if(function b1(a){for(let l=Ar(a);null!==l;l=fl(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const p=u[d],_=p[3];0==(1024&p[2])&&Ta(_,1),p[2]|=1024}}}(l),function sf(a){for(let l=Ar(a);null!==l;l=fl(l))for(let u=10;u<l.length;u++){const d=l[u],p=d[1];Ns(d)&&Bt(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&Ev(a,l),w){const A=a.contentCheckHooks;null!==A&&Ls(l,A)}else{const A=a.contentHooks;null!==A&&jo(l,A,1),ti(l,1)}!function U0(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)Ho(~p);else{const _=p,w=u[++d],C=u[++d];Jl(w,_),C(2,l[_])}}}finally{Ho(-1)}}(a,l);const C=a.components;null!==C&&function g1(a,l){for(let u=0;u<l.length;u++)C1(a,l[u])}(l,C);const T=a.viewQuery;if(null!==T&&Um(2,T,d),w){const A=a.viewCheckHooks;null!==A&&Ls(l,A)}else{const A=a.viewHooks;null!==A&&jo(l,A,2),ti(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,Ta(l[3],-1))}finally{ur()}}}function ef(a,l,u,d){const p=l[10],w=Lo(l);try{!w&&p.begin&&p.begin(),w&&sa(a,l,d),Bt(a,l,u,d)}finally{!w&&p.end&&p.end()}}function j0(a,l,u,d,p){const _=hi(),w=2&d;try{Ho(-1),w&&l.length>20&&ml(a,l,20,!1),u(d,p)}finally{Ho(_)}}function Pc(a,l,u){if(ql(l)){const p=l.directiveEnd;for(let _=l.directiveStart;_<p;_++){const w=a.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}}function Tv(a,l,u){!Wl()||(function kv(a,l,u,d){const p=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||ws(u,l),Ci(d,l);const w=u.initialInputs;for(let C=p;C<_;C++){const T=a.data[C],A=fs(T);A&&Lm(l,u,T);const O=cc(l,a,C,u);Ci(O,l),null!==w&&K0(0,C-p,O,T,0,w),A&&(yi(u.index,l)[8]=O)}}(a,l,u,_i(u,l)),128==(128&u.flags)&&function Cl(a,l,u){const d=u.directiveStart,p=u.directiveEnd,w=u.index,C=function pu(){return wt.lFrame.currentDirectiveIndex}();try{Ho(w);for(let T=d;T<p;T++){const A=a.data[T],O=l[T];Sa(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Vu(A,O)}}finally{Ho(-1),Sa(C)}}(a,l,u))}function Pm(a,l,u=_i){const d=l.localNames;if(null!==d){let p=l.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],C=-1===w?u(l,a):a[w];a[p++]=C}}}function Iv(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Nm(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Nm(a,l,u,d,p,_,w,C,T,A){const O=20+d,B=O+p,j=function Fm(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:Nt);return u}(O,B),X="function"==typeof A?A():A;return j[1]={type:a,blueprint:j,template:u,queries:null,viewQuery:C,declTNode:l,data:j.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function z0(a,l,u,d){const p=Hm(l);null===u?p.push(d):(p.push(u),a.firstCreatePass&&eE(a).push(d,p.length-1))}function nf(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,p):u[d]=[l,p]}return u}function Dv(a,l,u,d){let p=!1;if(Wl()){const _=function Z0(a,l,u){const d=a.directiveRegistry;let p=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];gv(u,w.selectors,!1)&&(p||(p=[]),ll(ws(u,l),a,w.type),fs(w)?(Ov(a,u),p.unshift(w)):p.push(w))}return p}(a,l,u),w=null===d?null:{"":-1};if(null!==_){p=!0,Rv(u,a.data.length,_.length);for(let O=0;O<_.length;O++){const B=_[O];B.providersResolver&&B.providersResolver(B)}let C=!1,T=!1,A=bl(a,l,_.length,null);for(let O=0;O<_.length;O++){const B=_[O];u.mergedAttrs=Aa(u.mergedAttrs,B.hostAttrs),W0(a,u,l,A,B),rh(A,B,w),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const j=B.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!T&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),A++}!function q0(a,l){const d=l.directiveEnd,p=a.data,_=l.attrs,w=[];let C=null,T=null;for(let A=l.directiveStart;A<d;A++){const O=p[A],B=O.inputs,j=null===_||k0(l)?null:Pv(B,_);w.push(j),C=nf(B,A,C),T=nf(O.outputs,A,T)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=C,l.outputs=T}(a,u)}w&&function w1(a,l,u){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const _=u[l[p+1]];if(null==_)throw new Fe(-301,!1);d.push(l[p],_)}}}(u,d,w)}return u.mergedAttrs=Aa(u.mergedAttrs,u.attrs),p}function Av(a,l,u,d,p,_){const w=_.hostBindings;if(w){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const T=~l.index;(function Mv(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=T&&C.push(T),C.push(d,p,w)}}function Vu(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Ov(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function rh(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;fs(l)&&(u[""]=a)}}function Rv(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function W0(a,l,u,d,p){a.data[d]=p;const _=p.factory||(p.factory=ki(p.type)),w=new Da(_,fs(p),null);a.blueprint[d]=w,u[d]=w,Av(a,l,0,d,bl(a,u,p.hostVars,Nt),p)}function Lm(a,l,u){const d=_i(l,a),p=Iv(u),_=a[10],w=sh(a,Xp(a,p,null,u.onPush?64:16,d,l,_,_.createRenderer(d,u),null,null));a[l.index]=w}function oa(a,l,u,d,p,_){const w=_i(a,l);!function rf(a,l,u,d,p,_,w){if(null==_)hn(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const C=null==w?ge(_):w(_,d||"",p);hn(a)?a.setAttribute(l,p,C,u):u?l.setAttributeNS(u,p,C):l.setAttribute(p,C)}}(l[11],w,_,a.value,u,d,p)}function K0(a,l,u,d,p,_){const w=_[l];if(null!==w){const C=d.setInput;for(let T=0;T<w.length;){const A=w[T++],O=w[T++],B=w[T++];null!==C?d.setInput(u,B,A,O):u[O]=B}}}function Pv(a,l){let u=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[d+1])),d+=2}else d+=2;else d+=4}return u}function Q0(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function C1(a,l){const u=yi(l,a);if(Ns(u)){const d=u[1];80&u[2]?Bt(d,u,d.template,u[8]):u[5]>0&&Nv(u)}}function Nv(a){for(let d=Ar(a);null!==d;d=fl(d))for(let p=10;p<d.length;p++){const _=d[p];if(1024&_[2]){const w=_[1];Bt(w,_,w.template,_[8])}else _[5]>0&&Nv(_)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const p=yi(u[d],a);Ns(p)&&p[5]>0&&Nv(p)}}function Vm(a,l){const u=yi(l,a),d=u[1];(function of(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),sa(d,u,u[8])}function sh(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Bm(a){for(;a;){a[2]|=64;const l=mt(a);if(Zi(a)&&!l)return a;a=l}return null}function X0(a){!function Fv(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],d=Ac(u),p=d[1];ef(p,d,p.template,u)}}(a[8])}function Um(a,l,u){Cd(0),l(a,u)}const E1=(()=>Promise.resolve(null))();function Hm(a){return a[7]||(a[7]=[])}function eE(a){return a.cleanup||(a.cleanup=[])}function Bv(a,l){const u=a[9],d=u?u.get(Xd,null):null;d&&d.handleError(l)}function tE(a,l,u,d,p){for(let _=0;_<u.length;){const w=u[_++],C=u[_++],T=l[w],A=a.data[w];null!==A.setInput?A.setInput(T,p,d,C):T[C]=p}}function El(a,l,u){const d=po(l,a);!function Ru(a,l,u){hn(a)?a.setValue(l,u):l.textContent=u}(a[11],d,u)}function jm(a,l,u){let d=u?a.styles:null,p=u?a.classes:null,_=0;if(null!==l)for(let w=0;w<l.length;w++){const C=l[w];"number"==typeof C?_=C:1==_?p=he(p,C):2==_&&(d=he(d,C+": "+l[++w]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=p:a.classesWithoutHost=p}const Tl=new Dn("INJECTOR",-1);class nE{get(l,u=Ts){if(u===Ts){const d=new Error(`NullInjectorError: No provider for ${le(l)}!`);throw d.name="NullInjectorError",d}return u}}const Hv=new Dn("Set Injector scope."),lf={},T1={};let Bu;function oh(){return void 0===Bu&&(Bu=new nE),Bu}function iE(a,l=null,u=null,d){const p=ah(a,l,u,d);return p._resolveInjectorDefTypes(),p}function ah(a,l=null,u=null,d){return new zm(a,u,l||oh(),d)}class zm{constructor(l,u,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];u&&Pi(u,C=>this.processProvider(C,l,u)),Pi([l],C=>this.processInjectorType(C,[],_)),this.records.set(Tl,lh(void 0,this));const w=this.records.get(Hv);this.scope=null!=w?w.value:null,this.source=p||("object"==typeof l?null:le(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Ts,d=vt.Default){this.assertNotDestroyed();const p=Oe(this),_=On(void 0);try{if(!(d&vt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function S1(a){return"function"==typeof a||"object"==typeof a&&a instanceof Dn}(l)&&jt(l);C=T&&this.injectableDefInScope(T)?lh(jv(l),lf):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&vt.Self?oh():this.parent).get(l,u=d&vt.Optional&&u===Ts?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[Qo]=w[Qo]||[]).unshift(le(l)),p)throw w;return function Jo(a,l,u,d){const p=a[Qo];throw l[U]&&p.unshift(l[U]),a.message=function qs(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=le(l);if(Array.isArray(l))p=l.map(le).join(" -> ");else if("object"==typeof l){let _=[];for(let w in l)if(l.hasOwnProperty(w)){let C=l[w];_.push(w+":"+("string"==typeof C?JSON.stringify(C):le(C)))}p=`{${_.join(", ")}}`}return`${u}${d?"("+d+")":""}[${p}]: ${a.replace(x,"\n  ")}`}("\n"+a.message,p,u,d),a.ngTokenPath=p,a[Qo]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{On(_),Oe(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,p)=>l.push(le(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(l,u,d){if(!(l=ie(l)))return!1;let p=qi(l);const _=null==p&&l.ngModule||void 0,w=void 0===_?l:_,C=-1!==d.indexOf(w);if(void 0!==_&&(p=qi(_)),null==p)return!1;if(null!=p.imports&&!C){let O;d.push(w);try{Pi(p.imports,B=>{this.processInjectorType(B,u,d)&&(void 0===O&&(O=[]),O.push(B))})}finally{}if(void 0!==O)for(let B=0;B<O.length;B++){const{ngModule:j,providers:X}=O[B];Pi(X,be=>this.processProvider(be,j,X||H))}}this.injectorDefTypes.add(w);const T=ki(w)||(()=>new w);this.records.set(w,lh(T,lf));const A=p.providers;if(null!=A&&!C){const O=l;Pi(A,B=>this.processProvider(B,O,A))}return void 0!==_&&void 0!==l.providers}processProvider(l,u,d){let p=Uu(l=ie(l))?l:ie(l&&l.provide);const _=function sE(a,l,u){return qm(a)?lh(void 0,a.useValue):lh(oE(a),lf)}(l);if(Uu(l)||!0!==l.multi)this.records.get(p);else{let w=this.records.get(p);w||(w=lh(void 0,lf,!0),w.factory=()=>Tt(w.multi),this.records.set(p,w)),p=l,w.multi.push(l)}this.records.set(p,_)}hydrate(l,u){return u.value===lf&&(u.value=T1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function I1(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ie(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function jv(a){const l=jt(a),u=null!==l?l.factory:ki(a);if(null!==u)return u;if(a instanceof Dn)throw new Fe(204,!1);if(a instanceof Function)return function rE(a){const l=a.length;if(l>0)throw Kr(l,"?"),new Fe(204,!1);const u=function _r(a){const l=a&&(a[cs]||a[sr]);if(l){const u=function Si(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Fe(204,!1)}function oE(a,l,u){let d;if(Uu(a)){const p=ie(a);return ki(p)||jv(p)}if(qm(a))d=()=>ie(a.useValue);else if(function aE(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Tt(a.deps||[]));else if(function Eo(a){return!(!a||!a.useExisting)}(a))d=()=>at(ie(a.useExisting));else{const p=ie(a&&(a.useClass||a.provide));if(!function $m(a){return!!a.deps}(a))return ki(p)||jv(p);d=()=>new p(...Tt(a.deps))}return d}function lh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function qm(a){return null!==a&&"object"==typeof a&&J in a}function Uu(a){return"function"==typeof a}let Ua=(()=>{class a{static create(u,d){var p;if(Array.isArray(u))return iE({name:""},d,u,"");{const _=null!==(p=u.name)&&void 0!==p?p:"";return iE({name:_},u.parent,u.providers,_)}}}return a.THROW_IF_NOT_FOUND=Ts,a.NULL=new nE,a.\u0275prov=rn({token:a,providedIn:"any",factory:()=>at(Tl)}),a.__NG_ELEMENT_ID__=-1,a})();function k1(a,l){al(Ac(a)[1],En())}function Zv(a){let l=function gE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let p;if(fs(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Fe(903,"");p=l.\u0275dir}if(p){if(u){d.push(p);const w=a;w.inputs=Wv(a.inputs),w.declaredInputs=Wv(a.declaredInputs),w.outputs=Wv(a.outputs);const C=p.hostBindings;C&&P1(a,C);const T=p.viewQuery,A=p.contentQueries;if(T&&R1(a,T),A&&mE(a,A),ue(a.inputs,p.inputs),ue(a.declaredInputs,p.declaredInputs),ue(a.outputs,p.outputs),fs(p)&&p.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const C=_[w];C&&C.ngInherit&&C(a),C===Zv&&(u=!1)}}l=Object.getPrototypeOf(l)}!function O1(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=Aa(p.hostAttrs,u=Aa(u,p.hostAttrs))}}(d)}function Wv(a){return a===Ai?{}:a===H?[]:a}function R1(a,l){const u=a.viewQuery;a.viewQuery=u?(d,p)=>{l(d,p),u(d,p)}:l}function mE(a,l){const u=a.contentQueries;a.contentQueries=u?(d,p,_)=>{l(d,p,_),u(d,p,_)}:l}function P1(a,l){const u=a.hostBindings;a.hostBindings=u?(d,p)=>{l(d,p),u(d,p)}:l}let Zm=null;function Hu(){if(!Zm){const a=Gt.Symbol;if(a&&a.iterator)Zm=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Zm=d)}}}return Zm}function dh(a){return!!Wm(a)&&(Array.isArray(a)||!(a instanceof Map)&&Hu()in a)}function Wm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ha(a,l,u){return a[l]=u}function pf(a,l){return a[l]}function Mr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function ju(a,l,u,d){const p=Mr(a,l,u);return Mr(a,l+1,d)||p}function ff(a,l,u,d,p){const _=ju(a,l,u,d);return Mr(a,l+2,p)||_}function To(a,l,u,d,p,_){const w=ju(a,l,u,d);return ju(a,l+2,p,_)||w}function gf(a,l,u,d){const p=Me();return Mr(p,go(),l)&&(zt(),oa(zn(),p,a,l,u,d)),gf}function fh(a,l,u,d,p,_){const C=ju(a,function Er(){return wt.lFrame.bindingIndex}(),u,p);return Zr(2),C?l+ge(u)+d+ge(p)+_:Nt}function EE(a,l,u,d,p,_,w,C){const T=Me(),A=zt(),O=a+20,B=A.firstCreatePass?function CE(a,l,u,d,p,_,w,C,T){const A=l.consts,O=Lu(l,a,4,w||null,$r(A,C));Dv(l,u,O,$r(A,T)),al(l,O);const B=O.tViews=Nm(2,O,d,p,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,O),B.queries=l.queries.embeddedTView(O)),O}(O,A,T,l,u,d,p,_,w):A.data[O];Cr(B,!1);const j=T[11].createComment("");Zp(A,T,j,B),Ci(j,T),sh(T,T[O]=Q0(j,T,j,B)),ps(B)&&Tv(A,T,B),null!=w&&Pm(T,B,C)}function IE(a){return function ys(a,l){return a[l]}(function bd(){return wt.lFrame.contextLView}(),20+a)}function e_(a,l=vt.Default){const u=Me();return null===u?at(a,l):mu(En(),u,ie(a),l)}function $1(){throw new Error("invalid")}function FE(a,l,u){const d=Me();return Mr(d,go(),l)&&function Zs(a,l,u,d,p,_,w,C){const T=_i(l,u);let O,A=l.inputs;!C&&null!=A&&(O=A[d])?(tE(a,u,O,d,p),ud(l)&&function _1(a,l){const u=yi(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function G0(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=w?w(p,l.value||"",d):p,hn(_)?_.setProperty(T,d,p):Bs(d)||(T.setProperty?T.setProperty(d,p):T[d]=p))}(zt(),zn(),d,a,l,d[11],u,!1),FE}function LE(a,l,u,d,p){const w=p?"class":"style";tE(a,u,l.inputs[w],w,d)}function rw(a,l,u,d){const p=Me(),_=zt(),w=20+a,C=p[11],T=p[w]=Pu(C,l,function zg(){return wt.lFrame.currentNamespace}()),A=_.firstCreatePass?function EP(a,l,u,d,p,_,w){const C=l.consts,A=Lu(l,a,2,p,$r(C,_));return Dv(l,u,A,$r(C,w)),null!==A.attrs&&jm(A,A.attrs,!1),null!==A.mergedAttrs&&jm(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(w,_,p,0,l,u,d):_.data[w];Cr(A,!0);const O=A.mergedAttrs;null!==O&&Tr(C,T,O);const B=A.classes;null!==B&&pv(C,T,B);const j=A.styles;return null!==j&&$s(C,T,j),64!=(64&A.flags)&&Zp(_,p,T,A),0===function ol(){return wt.lFrame.elementDepthCount}()&&Ci(T,p),function au(){wt.lFrame.elementDepthCount++}(),ps(A)&&(Tv(_,p,A),Pc(_,A,p)),null!==d&&Pm(p,A),rw}function sw(){let a=En();cu()?uu():(a=a.parent,Cr(a,!1));const l=a;!function Zl(){wt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(al(u,a),ql(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function $g(a){return 0!=(16&a.flags)}(l)&&LE(u,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Dd(a){return 0!=(32&a.flags)}(l)&&LE(u,l,Me(),l.stylesWithoutHost,!1),sw}function VE(a,l,u,d){return rw(a,l,u,d),sw(),VE}function Io(a,l,u){const d=Me(),p=zt(),_=a+20,w=p.firstCreatePass?function aa(a,l,u,d,p){const _=l.consts,w=$r(_,d),C=Lu(l,a,8,"ng-container",w);return null!==w&&jm(C,w,!0),Dv(l,u,C,$r(_,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(_,p,d,l,u):p.data[_];Cr(w,!0);const C=d[_]=d[11].createComment("");return Zp(p,d,C,w),Ci(C,d),ps(w)&&(Tv(p,d,w),Pc(p,w,d)),null!=u&&Pm(d,w),Io}function N(){let a=En();const l=zt();return cu()?uu():(a=a.parent,Cr(a,!1)),l.firstCreatePass&&(al(l,a),ql(a)&&l.queries.elementEnd(a)),N}function Ws(a,l,u){return Io(a,l,u),N(),Ws}function ow(){return Me()}function aw(a){return!!a&&"function"==typeof a.then}function BE(a){return!!a&&"function"==typeof a.subscribe}const Vi=BE;function Ks(a,l,u,d){const p=Me(),_=zt(),w=En();return function UE(a,l,u,d,p,_,w,C){const T=ps(d),O=a.firstCreatePass&&eE(a),B=l[8],j=Hm(l);let X=!0;if(3&d.type||C){const qe=_i(d,l),Ge=C?C(qe):qe,Ae=j.length,yt=C?Zt=>C(sn(Zt[d.index])):d.index;if(hn(u)){let Zt=null;if(!C&&T&&(Zt=function lw(a,l,u,d){const p=a.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===u&&p[_+1]===d){const C=l[7],T=p[_+2];return C.length>T?C[T]:null}"string"==typeof w&&(_+=2)}return null}(a,l,p,d.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=_,Zt.__ngLastListenerFn__=_,X=!1;else{_=cw(d,l,B,_,!1);const pn=u.listen(Ge,p,_);j.push(_,pn),O&&O.push(p,yt,Ae,Ae+1)}}else _=cw(d,l,B,_,!0),Ge.addEventListener(p,_,w),j.push(_),O&&O.push(p,yt,Ae,w)}else _=cw(d,l,B,_,!1);const be=d.outputs;let Pe;if(X&&null!==be&&(Pe=be[p])){const qe=Pe.length;if(qe)for(let Ge=0;Ge<qe;Ge+=2){const Ds=l[Pe[Ge]][Pe[Ge+1]].subscribe(_),zc=j.length;j.push(_,Ds),O&&O.push(p,d.index,zc,-(zc+1))}}}(_,p,p[11],w,a,l,!!u,d),Ks}function HE(a,l,u,d){try{return!1!==u(d)}catch(p){return Bv(a,p),!1}}function cw(a,l,u,d,p){return function _(w){if(w===Function)return d;const C=2&a.flags?yi(a.index,l):l;0==(32&l[2])&&Bm(C);let T=HE(l,0,d,w),A=_.__ngNextListenerFn__;for(;A;)T=HE(l,0,A,w)&&T,A=A.__ngNextListenerFn__;return p&&!1===T&&(w.preventDefault(),w.returnValue=!1),T}}function uw(a=1){return function vp(a){return(wt.lFrame.contextLView=function fu(a,l){for(;a>0;)l=l[15],a--;return l}(a,wt.lFrame.contextLView))[8]}(a)}function Z1(a,l){let u=null;const d=function r1(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const _=l[p];if("*"!==_){if(null===d?gv(a,_,!0):O0(d,_))return p}else u=p}return u}function jE(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=Kr(a?a.length:1,null),p=d.slice();let _=l.child;for(;null!==_;){const w=a?Z1(_,a):0;null!==w&&(p[w]?p[w].projectionNext=_:d[w]=_,p[w]=_),_=_.next}}}function zE(a,l=0,u){const d=Me(),p=zt(),_=Lu(p,20+a,16,null,u||null);null===_.projection&&(_.projection=l),uu(),64!=(64&_.flags)&&function e1(a,l,u){t1(l[11],0,l,u,Kx(a,u,l),I0(u.parent||l[6],u,l))}(p,d,_)}function ZE(a,l,u,d,p){const _=a[u+1],w=null===l;let C=d?Ss(_):na(_),T=!1;for(;0!==C&&(!1===T||w);){const O=a[C+1];Cf(a[C],l)&&(T=!0,a[C+1]=d?yl(O):Li(O)),C=d?Ss(O):na(O)}T&&(a[u+1]=d?Li(_):yl(_))}function Cf(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Na(a,l)>=0}const Ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ef(a){return a.substring(Ei.key,Ei.keyEnd)}function WE(a){return a.substring(Ei.value,Ei.valueEnd)}function KE(a,l){const u=Ei.textEnd;return u===l?-1:(l=Ei.keyEnd=function QE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Ei.key=l,u),Lc(a,l,u))}function YE(a,l){const u=Ei.textEnd;let d=Ei.key=Lc(a,l,u);return u===d?-1:(d=Ei.keyEnd=function pw(a,l,u){let d;for(;l<u&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,u),d=fw(a,d,u),d=Ei.value=Lc(a,d,u),d=Ei.valueEnd=function Tf(a,l,u){let d=-1,p=-1,_=-1,w=l,C=w;for(;w<u;){const T=a.charCodeAt(w++);if(59===T)return C;34===T||39===T?C=w=JE(a,T,w,u):l===w-4&&85===_&&82===p&&76===d&&40===T?C=w=JE(a,41,w,u):T>32&&(C=w),_=p,p=d,d=-33&T}return C}(a,d,u),fw(a,d,u))}function hw(a){Ei.key=0,Ei.keyEnd=0,Ei.value=0,Ei.valueEnd=0,Ei.textEnd=a.length}function Lc(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function fw(a,l,u,d){return(l=Lc(a,l,u))<u&&l++,l}function JE(a,l,u,d){let p=-1,_=u;for(;_<d;){const w=a.charCodeAt(_++);if(w==l&&92!==p)return _;p=92==w&&92===p?0:w}throw new Error}function r_(a,l,u){return la(a,l,u,!1),r_}function gw(a,l){return la(a,l,null,!0),gw}function Ys(a){ca(iT,eT,a,!1)}function eT(a,l){for(let u=function Q1(a){return hw(a),YE(a,Lc(a,0,Ei.textEnd))}(l);u>=0;u=YE(l,u))iT(a,Ef(l),WE(l))}function mw(a){ca(Ni,So,a,!0)}function So(a,l){for(let u=function Y1(a){return hw(a),KE(a,Lc(a,0,Ei.textEnd))}(l);u>=0;u=KE(l,u))Ni(a,Ef(l),!0)}function la(a,l,u,d){const p=Me(),_=zt(),w=Zr(2);_.firstUpdatePass&&If(_,a,w,d),l!==Nt&&Mr(p,w,l)&&rT(_,_.data[hi()],p,p[11],a,p[w+1]=function X1(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=le(bo(a)))),a}(l,u),d,w)}function ca(a,l,u,d){const p=zt(),_=Zr(2);p.firstUpdatePass&&If(p,null,_,d);const w=Me();if(u!==Nt&&Mr(w,_,u)){const C=p.data[hi()];if(oT(C,d)&&!tT(p,_)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(u=he(T,u||"")),LE(p,C,w,u,d)}else!function J1(a,l,u,d,p,_,w,C){p===Nt&&(p=H);let T=0,A=0,O=0<p.length?p[0]:null,B=0<_.length?_[0]:null;for(;null!==O||null!==B;){const j=T<p.length?p[T+1]:void 0,X=A<_.length?_[A+1]:void 0;let Pe,be=null;O===B?(T+=2,A+=2,j!==X&&(be=B,Pe=X)):null===B||null!==O&&O<B?(T+=2,be=O):(A+=2,be=B,Pe=X),null!==be&&rT(a,l,u,d,be,Pe,w,C),O=T<p.length?p[T]:null,B=A<_.length?_[A]:null}}(p,C,w,w[11],w[_+1],w[_+1]=function s_(a,l,u){if(null==u||""===u)return H;const d=[],p=bo(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)a(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&a(d,_,p[_]);else"string"==typeof p&&l(d,p);return d}(a,l,u),d,_)}}function tT(a,l){return l>=a.expandoStartIndex}function If(a,l,u,d){const p=a.data;if(null===p[u+1]){const _=p[hi()],w=tT(a,u);oT(_,d)&&null===l&&!w&&(l=!1),l=function _w(a,l,u,d){const p=function Xl(a){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(u=wh(u=ww(null,a,l,u,d),l.attrs,d),_=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==p)if(u=ww(p,a,l,u,d),null===_){let T=function yw(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==na(d))return a[Ss(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=ww(null,a,l,T[1],d),T=wh(T,l.attrs,d),function vw(a,l,u,d){a[Ss(u?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else _=function nT(a,l,u){let d;const p=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<p;_++)d=wh(d,a[_].hostAttrs,u);return wh(d,l.attrs,u)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),u}(p,_,l,d),function W1(a,l,u,d,p,_){let w=_?l.classBindings:l.styleBindings,C=Ss(w),T=na(w);a[d]=u;let O,A=!1;if(Array.isArray(u)){const B=u;O=B[1],(null===O||Na(B,O)>0)&&(A=!0)}else O=u;if(p)if(0!==T){const j=Ss(a[C+1]);a[d+1]=_l(j,C),0!==j&&(a[j+1]=Oc(a[j+1],d)),a[C+1]=function l1(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=_l(C,0),0!==C&&(a[C+1]=Oc(a[C+1],d)),C=d;else a[d+1]=_l(T,0),0===C?C=d:a[T+1]=Oc(a[T+1],d),T=d;A&&(a[d+1]=Li(a[d+1])),ZE(a,O,d,!0),ZE(a,O,d,!1),function K1(a,l,u,d,p){const _=p?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Na(_,l)>=0&&(u[d+1]=yl(u[d+1]))}(l,O,a,d,_),w=_l(C,T),_?l.classBindings=w:l.styleBindings=w}(p,_,l,u,w,d)}}function ww(a,l,u,d,p){let _=null;const w=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<w&&(_=l[C],d=wh(d,_.hostAttrs,p),_!==a);)C++;return null!==a&&(u.directiveStylingLast=C),d}function wh(a,l,u){const d=u?1:2;let p=-1;if(null!==l)for(let _=0;_<l.length;_++){const w=l[_];"number"==typeof w?p=w:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ni(a,w,!!u||l[++_]))}return void 0===a?null:a}function iT(a,l,u){Ni(a,l,bo(u))}function rT(a,l,u,d,p,_,w,C){if(!(3&l.type))return;const T=a.data,A=T[C+1];o_(function R0(a){return 1==(1&a)}(A)?sT(T,l,u,p,na(A),w):void 0)||(o_(_)||function _v(a){return 2==(2&a)}(A)&&(_=sT(T,null,u,p,C,w)),function mn(a,l,u,d,p){const _=hn(a);if(l)p?_?a.addClass(u,d):u.classList.add(d):_?a.removeClass(u,d):u.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:k.DashCase;if(null==p)_?a.removeStyle(u,d,w):u.style.removeProperty(d);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),w|=k.Important),_?a.setStyle(u,d,p,w):u.style.setProperty(d,p,C?"important":"")}}}(d,w,po(hi(),u),p,_))}function sT(a,l,u,d,p,_){const w=null===l;let C;for(;p>0;){const T=a[p],A=Array.isArray(T),O=A?T[1]:T,B=null===O;let j=u[p+1];j===Nt&&(j=B?H:void 0);let X=B?gc(j,d):O===d?j:void 0;if(A&&!o_(X)&&(X=gc(T,d)),o_(X)&&(C=X,w))return C;const be=a[p+1];p=w?Ss(be):na(be)}if(null!==l){let T=_?l.residualClasses:l.residualStyles;null!=T&&(C=gc(T,d))}return C}function o_(a){return void 0!==a}function oT(a,l){return 0!=(a.flags&(l?16:32))}function aT(a,l=""){const u=Me(),d=zt(),p=a+20,_=d.firstCreatePass?Lu(d,p,1,l,null):d.data[p],w=u[p]=function eh(a,l){return hn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);Zp(d,u,w,_),Cr(_,!1)}function bw(a){return a_("",a,""),bw}function a_(a,l,u){const d=Me(),p=function ph(a,l,u,d){return Mr(a,go(),u)?l+ge(u)+d:Nt}(d,a,l,u);return p!==Nt&&El(d,hi(),p),a_}function bh(a,l,u,d,p){const _=Me(),w=fh(_,a,l,u,d,p);return w!==Nt&&El(_,hi(),w),bh}const Ch=void 0;var bT=["en",[["a","p"],["AM","PM"],Ch],[["AM","PM"],Ch,Ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ch,"{1} 'at' {0}",Ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MP(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Eh={};function Sf(a){const l=function h_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=d_(l);if(u)return u;const d=l.split("-")[0];if(u=d_(d),u)return u;if("en"===d)return bT;throw new Error(`Missing locale data for the locale "${a}".`)}function u_(a){return Sf(a)[Ct.PluralCase]}function d_(a){return a in Eh||(Eh[a]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[a]),Eh[a]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const Ji="en-US";let Vc=Ji;function v_(a,l,u,d,p){if(a=ie(a),Array.isArray(a))for(let _=0;_<a.length;_++)v_(a[_],l,u,d,p);else{const _=zt(),w=Me();let C=Uu(a)?a:ie(a.provide),T=oE(a);const A=En(),O=1048575&A.providerIndexes,B=A.directiveStart,j=A.providerIndexes>>20;if(Uu(a)||!a.multi){const X=new Da(T,p,e_),be=HT(C,l,p?O:O+j,B);-1===be?(ll(ws(A,w),_,C),kf(_,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(X),w.push(X)):(u[be]=X,w[be]=X)}else{const X=HT(C,l,O+j,B),be=HT(C,l,O,O+j),Pe=X>=0&&u[X],qe=be>=0&&u[be];if(p&&!qe||!p&&!Pe){ll(ws(A,w),_,C);const Ge=function Mh(a,l,u,d,p){const _=new Da(a,u,e_);return _.multi=[],_.index=l,_.componentProviders=0,w_(_,p,d&&!u),_}(p?Of:$w,u.length,p,d,T);!p&&qe&&(u[be].providerFactory=Ge),kf(_,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),u.push(Ge),w.push(Ge)}else kf(_,a,X>-1?X:be,w_(u[p?be:X],T,!p&&d));!p&&d&&qe&&u[be].componentProviders++}}}function kf(a,l,u,d){const p=Uu(l),_=function Gm(a){return!!a.useClass}(l);if(p||_){const T=(_?ie(l.useClass):l).prototype.ngOnDestroy;if(T){const A=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const O=A.indexOf(u);-1===O?A.push(u,[d,T]):A[O+1].push(d,T)}else A.push(u,T)}}}function w_(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function HT(a,l,u,d){for(let p=u;p<d;p++)if(l[p]===a)return p;return-1}function $w(a,l,u,d){return Ah(this.multi,[])}function Of(a,l,u,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=cc(u,u[1],this.providerFactory.index,d);_=C.slice(0,w),Ah(p,_);for(let T=w;T<C.length;T++)_.push(C[T])}else _=[],Ah(p,_);return _}function Ah(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function kh(a,l=[]){return u=>{u.providersResolver=(d,p)=>function AD(a,l,u){const d=zt();if(d.firstCreatePass){const p=fs(a);v_(u,d.data,d.blueprint,p,!0),v_(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class b_{}class E_{resolveComponentFactory(l){throw function jT(a){const l=Error(`No component factory found for ${le(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Rf=(()=>{class a{}return a.NULL=new E_,a})();function Zw(){return Oh(En(),Me())}function Oh(a,l){return new Rh(_i(a,l))}let Rh=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Zw,a})();function zT(a){return a instanceof Rh?a.nativeElement:a}class T_{}let qT=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function RD(){const a=Me(),u=yi(En().index,a);return function Ww(a){return a[11]}(wn(u)?u:a)}(),a})(),PD=(()=>{class a{}return a.\u0275prov=rn({token:a,providedIn:"root",factory:()=>null}),a})();class Ph{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Pf=new Ph("13.3.10"),I_={};function Kw(a,l,u,d,p=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&d.push(sn(_)),hs(_))for(let C=10;C<_.length;C++){const T=_[C],A=T[1].firstChild;null!==A&&Kw(T[1],T,A,d)}const w=u.type;if(8&w)Kw(a,l,u.child,d);else if(32&w){const C=pe(u,l);let T;for(;T=C();)d.push(T)}else if(16&w){const C=Tm(l,u);if(Array.isArray(C))d.push(...C);else{const T=mt(l[16]);Kw(T[1],T,C,d,!0)}}u=p?u.projectionNext:u.next}return d}class S_{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Kw(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(hs(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(Gp(l,d),Wo(u,d))}this._attachedToViewContainer=!1}cv(this._lView[1],this._lView)}onDestroy(l){z0(this._lView[1],this._lView,null,l)}markForCheck(){Bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function af(a,l,u){const d=l[10];d.begin&&d.begin();try{Bt(a,l,a.template,u)}catch(p){throw Bv(l,p),p}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function si(a,l){Wp(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=l}}class UP extends S_{constructor(l){super(l),this._view=l}detectChanges(){X0(this._view)}checkNoChanges(){}get context(){return null}}class ND extends Rf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Xn(l);return new x_(u,this.ngModule)}}function GT(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class x_ extends b_{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Im(a){return a.map(a1).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return GT(this.componentDef.inputs)}get outputs(){return GT(this.componentDef.outputs)}create(l,u,d,p){const _=(p=p||this.ngModule)?function FD(a,l){return{get:(u,d,p)=>{const _=a.get(u,I_,p);return _!==I_||d===I_?_:l.get(u,d,p)}}}(l,p.injector):l,w=_.get(T_,il),C=_.get(PD,null),T=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=d?function tf(a,l,u){if(hn(a))return a.selectRootElement(l,u===Kt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Pu(w.createRenderer(null,this.componentDef),A,function $T(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(A)),B=this.componentDef.onPush?576:528,j=function fE(a,l){return{components:[],scheduler:a||ea,clean:E1,playerHandler:l||null,flags:0}}(),X=Nm(0,null,null,1,0,null,null,null,null,null),be=Xp(null,X,j,B,null,null,w,T,C,_);let Pe,qe;Uo(be);try{const Ge=function uh(a,l,u,d,p,_){const w=u[1];u[20]=a;const T=Lu(w,20,2,"#host",null),A=T.mergedAttrs=l.hostAttrs;null!==A&&(jm(T,A,!0),null!==a&&(Tr(p,a,A),null!==T.classes&&pv(p,a,T.classes),null!==T.styles&&$s(p,a,T.styles)));const O=d.createRenderer(a,l),B=Xp(u,Iv(l),null,l.onPush?64:16,u[20],T,d,O,_||null,null);return w.firstCreatePass&&(ll(ws(T,u),w,l.type),Ov(w,T),Rv(T,u.length,1)),sh(u,B),u[20]=B}(O,this.componentDef,be,w,T);if(O)if(d)Tr(T,O,["ng-version",Pf.full]);else{const{attrs:Ae,classes:yt}=function Sm(a){const l=[],u=[];let d=1,p=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===p?""!==_&&l.push(_,a[++d]):8===p&&u.push(_);else{if(!ta(p))break;p=_}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ae&&Tr(T,O,Ae),yt&&yt.length>0&&pv(T,O,yt.join(" "))}if(qe=Tn(X,20),void 0!==u){const Ae=qe.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Zt=u[yt];Ae.push(null!=Zt?Array.from(Zt):null)}}Pe=function pE(a,l,u,d,p){const _=u[1],w=function v1(a,l,u){const d=En();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),W0(a,d,l,bl(a,l,1,null),u));const p=cc(l,a,d.directiveStart,d);Ci(p,l);const _=_i(d,l);return _&&Ci(_,l),p}(_,u,l);if(d.components.push(w),a[8]=w,p&&p.forEach(T=>T(w,l)),l.contentQueries){const T=En();l.contentQueries(1,w,T.directiveStart)}const C=En();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ho(C.index),Av(u[1],C,0,C.directiveStart,C.directiveEnd,l),Vu(l,w)),w}(Ge,this.componentDef,be,j,[k1]),sa(X,be,null)}finally{ur()}return new VD(this.componentType,Pe,Oh(qe,be),be,qe)}}class VD extends class MD{}{constructor(l,u,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new UP(p),this.componentType=l}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Nh{}class BD{}const $u=new Map;class Jw extends Nh{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ND(this);const d=ei(l);this._bootstrapComponents=v(d.bootstrap),this._r3Injector=ah(l,u,[{provide:Nh,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],le(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Ua.THROW_IF_NOT_FOUND,d=vt.Default){return l===Ua||l===Nh||l===Tl?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Xw extends BD{constructor(l){super(),this.moduleType=l,null!==ei(l)&&function UD(a){const l=new Set;!function u(d){const p=ei(d,!0),_=p.id;null!==_&&(function Yw(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${le(l)} vs ${le(l.name)}`)}(_,$u.get(_),d),$u.set(_,d));const w=v(p.imports);for(const C of w)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new Jw(this.moduleType,l)}}function D_(a,l,u){const d=Ri()+a,p=Me();return p[d]===Nt?Ha(p,d,u?l.call(u):l()):pf(p,d)}function WT(a,l,u,d){return function k_(a,l,u,d,p,_){const w=l+u;return Mr(a,w,p)?Ha(a,w+1,_?d.call(_,p):d(p)):Nf(a,w+1)}(Me(),Ri(),a,l,u,d)}function A_(a,l,u,d,p){return function QT(a,l,u,d,p,_,w){const C=l+u;return ju(a,C,p,_)?Ha(a,C+2,w?d.call(w,p,_):d(p,_)):Nf(a,C+2)}(Me(),Ri(),a,l,u,d,p)}function KT(a,l,u,d,p,_){return function JT(a,l,u,d,p,_,w,C){const T=l+u;return ff(a,T,p,_,w)?Ha(a,T+3,C?d.call(C,p,_,w):d(p,_,w)):Nf(a,T+3)}(Me(),Ri(),a,l,u,d,p,_)}function M_(a,l,u,d,p,_,w){return function ib(a,l,u,d,p,_,w,C,T){const A=l+u;return To(a,A,p,_,w,C)?Ha(a,A+4,T?d.call(T,p,_,w,C):d(p,_,w,C)):Nf(a,A+4)}(Me(),Ri(),a,l,u,d,p,_,w)}function eb(a,l,u,d,p,_,w,C){const T=Ri()+a,A=Me(),O=To(A,T,u,d,p,_);return Mr(A,T+4,w)||O?Ha(A,T+5,C?l.call(C,u,d,p,_,w):l(u,d,p,_,w)):pf(A,T+5)}function YT(a,l,u,d,p,_,w,C,T){const A=Ri()+a,O=Me(),B=To(O,A,u,d,p,_);return ju(O,A+4,w,C)||B?Ha(O,A+6,T?l.call(T,u,d,p,_,w,C):l(u,d,p,_,w,C)):pf(O,A+6)}function tb(a,l,u,d,p,_,w,C,T,A){const O=Ri()+a,B=Me();let j=To(B,O,u,d,p,_);return ff(B,O+4,w,C,T)||j?Ha(B,O+7,A?l.call(A,u,d,p,_,w,C,T):l(u,d,p,_,w,C,T)):pf(B,O+7)}function nb(a,l,u,d){return function XT(a,l,u,d,p,_){let w=l+u,C=!1;for(let T=0;T<p.length;T++)Mr(a,w++,p[T])&&(C=!0);return C?Ha(a,w,d.apply(_,p)):Nf(a,w)}(Me(),Ri(),a,l,u,d)}function Nf(a,l){const u=a[l];return u===Nt?void 0:u}function sb(a){return l=>{setTimeout(a,void 0,l)}}const ua=class nI extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var p,_,w;let C=l,T=u||(()=>null),A=d;if(l&&"object"==typeof l){const B=l;C=null===(p=B.next)||void 0===p?void 0:p.bind(B),T=null===(_=B.error)||void 0===_?void 0:_.bind(B),A=null===(w=B.complete)||void 0===w?void 0:w.bind(B)}this.__isAsync&&(T=sb(T),C&&(C=sb(C)),A&&(A=sb(A)));const O=super.subscribe({next:C,error:T,complete:A});return l instanceof ee.w0&&l.add(O),O}};function GD(){return this._results[Hu()]()}class ob{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Hu(),d=ob.prototype;d[u]||(d[u]=GD)}get changes(){return this._changes||(this._changes=new ua)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const p=wi(l);(this._changesDetected=!function vu(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],_=l[d];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(d._results,p,u))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wu=(()=>{class a{}return a.__NG_ELEMENT_ID__=rI,a})();const iI=Wu,$D=class extends iI{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=Xp(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(u)),sa(u,d,l),new S_(d)}};function rI(){return O_(En(),Me())}function O_(a,l){return 4&a.type?new $D(l,a,Oh(a,l)):null}let Lf=(()=>{class a{}return a.__NG_ELEMENT_ID__=ZD,a})();function ZD(){return WD(En(),Me())}const sI=Lf,oI=class extends sI{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Oh(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const l=vi(this._hostTNode,this._hostLView);if(qo(l)){const u=Us(l,this._hostLView),d=Go(l);return new _o(u[1].data[d+8],u)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=ab(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const p=l.createEmbeddedView(u||{});return this.insert(p,d),p}createComponent(l,u,d,p,_){const w=l&&!function Wr(a){return"function"==typeof a}(l);let C;if(w)C=u;else{const B=u||{};C=B.index,d=B.injector,p=B.projectableNodes,_=B.ngModuleRef}const T=w?l:new x_(Xn(l)),A=d||this.parentInjector;if(!_&&null==T.ngModule){const j=(w?A:this.parentInjector).get(Nh,null);j&&(_=j)}const O=T.create(A,p,void 0,_);return this.insert(O.hostView,C),O}insert(l,u){const d=l._lView,p=d[1];if(function sl(a){return hs(a[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const B=d[3],j=new oI(B,B[6],B[3]);j.detach(j.indexOf(l))}}const _=this._adjustIndex(u),w=this._lContainer;!function qp(a,l,u,d){const p=10+d,_=u.length;d>0&&(u[p-1][4]=l),d<_-10?(l[4]=u[p],bi(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const w=l[17];null!==w&&u!==w&&function wm(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(w,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(p,d,w,_);const C=hv(_,w),T=d[11],A=uv(T,w[7]);return null!==A&&function kc(a,l,u,d,p,_){d[0]=p,d[6]=l,Wp(a,d,u,1,p,_)}(p,w[6],T,d,A,C),l.attachToViewContainerRef(),bi(aI(w),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=ab(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=Gp(this._lContainer,u);d&&(Wo(aI(this._lContainer),u),cv(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=Gp(this._lContainer,u);return d&&null!=Wo(aI(this._lContainer),u)?new S_(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function ab(a){return a[8]}function aI(a){return a[8]||(a[8]=[])}function WD(a,l){let u;const d=l[a.index];if(hs(d))u=d;else{let p;if(8&a.type)p=sn(d);else{const _=l[11];p=_.createComment("");const w=_i(a,l);th(_,uv(_,w),p,function ZR(a,l){return hn(a)?a.nextSibling(l):l.nextSibling}(_,w),!1)}l[a.index]=u=Q0(d,l,p,a),sh(l,u)}return new oI(u,a,l)}class lI{constructor(l){this.queryList=l,this.matches=null}clone(){return new lI(this.queryList)}setDirty(){this.queryList.setDirty()}}class cI{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let _=0;_<d;_++){const w=u.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new cI(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==_I(l,u).matches&&this.queries[u].setDirty()}}class YD{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class uI{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const p=null!==u?u.length:0,_=this.getByIndex(d).embeddedTView(l,p);_&&(_.indexInDeclarationView=d,null!==u?u.push(_):u=[_])}return null!==u?new uI(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class xs{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new xs(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(l,u,QD(u,_)),this.matchTNodeWithReadOption(l,u,lc(u,l,_,!1,!1))}else d===Wu?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,lc(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Rh||p===Lf||p===Wu&&4&u.type)this.addMatch(u.index,-2);else{const _=lc(u,l,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function QD(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function R_(a,l,u,d){return-1===u?function JD(a,l){return 11&a.type?Oh(a,l):4&a.type?O_(a,l):null}(l,a):-2===u?function XD(a,l,u){return u===Rh?Oh(l,a):u===Wu?O_(l,a):u===Lf?WD(l,a):void 0}(a,l,d):cc(a,a[1],u,l)}function eA(a,l,u,d){const p=l[19].queries[d];if(null===p.matches){const _=a.data,w=u.matches,C=[];for(let T=0;T<w.length;T+=2){const A=w[T];C.push(A<0?null:R_(l,_[A],w[T+1],u.metadata.read))}p.matches=C}return p.matches}function dI(a,l,u,d){const p=a.queries.getByIndex(u),_=p.matches;if(null!==_){const w=eA(a,l,p,u);for(let C=0;C<_.length;C+=2){const T=_[C];if(T>0)d.push(w[C/2]);else{const A=_[C+1],O=l[-T];for(let B=10;B<O.length;B++){const j=O[B];j[17]===j[3]&&dI(j[1],j,A,d)}if(null!==O[9]){const B=O[9];for(let j=0;j<B.length;j++){const X=B[j];dI(X[1],X,A,d)}}}}}return d}function hI(a){const l=Me(),u=zt(),d=ec();Cd(d+1);const p=_I(u,d);if(a.dirty&&Lo(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const _=p.crossesNgTemplate?dI(u,l,d,[]):eA(u,l,p,d);a.reset(_,zT),a.notifyOnChanges()}return!0}return!1}function tA(a,l,u){const d=zt();d.firstCreatePass&&(Vf(d,new YD(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),gI(d,Me(),l)}function pI(a,l,u,d){const p=zt();if(p.firstCreatePass){const _=En();Vf(p,new YD(l,u,d),_.index),function mI(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}gI(p,Me(),u)}function fI(){return function nA(a,l){return a[19].queries[l].queryList}(Me(),ec())}function gI(a,l,u){const d=new ob(4==(4&u));z0(a,l,d,d.destroy),null===l[19]&&(l[19]=new cI),l[19].queries.push(new lI(d))}function Vf(a,l,u){null===a.queries&&(a.queries=new uI),a.queries.track(new xs(l,u))}function _I(a,l){return a.queries.getByIndex(l)}function yI(a,l){return O_(a,l)}function H_(...a){}const pb=new Dn("Application Initializer");let xI=(()=>{class a{constructor(u){this.appInits=u,this.resolve=H_,this.reject=H_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(aw(_))u.push(_);else if(Vi(_)){const w=new Promise((C,T)=>{_.subscribe({complete:C,error:T})});u.push(w)}}Promise.all(u).then(()=>{d()}).catch(p=>{this.reject(p)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(at(pb,8))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const fb=new Dn("AppId",{providedIn:"root",factory:function DI(){return`${gb()}${gb()}${gb()}`}});function gb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gA=new Dn("Platform Initializer"),mA=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_A=new Dn("appBootstrapListener");let eN=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const mb=new Dn("LocaleId",{providedIn:"root",factory:()=>Vt(mb,vt.Optional|vt.SkipSelf)||function AI(){return"undefined"!=typeof $localize&&$localize.locale||Ji}()}),yA=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _b{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let wA=(()=>{class a{compileModuleSync(u){return new Xw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),_=v(ei(u).declarations).reduce((w,C)=>{const T=Xn(C);return T&&w.push(new x_(T)),w},[]);return new _b(d,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const CA=(()=>Promise.resolve(0))();function yb(a){"undefined"==typeof Zone?CA.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class da{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ua(!1),this.onMicrotaskEmpty=new ua(!1),this.onStable=new ua(!1),this.onError=new ua(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&u,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function EA(){let a=Gt.requestAnimationFrame,l=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function kI(a){const l=()=>{!function vb(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Gt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Hc(a),a.isCheckStableRunning=!0,j_(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Hc(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,p,_,w,C)=>{try{return ot(a),u.invokeTask(p,_,w,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),wb(a)}},onInvoke:(u,d,p,_,w,C,T)=>{try{return ot(a),u.invoke(p,_,w,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),wb(a)}},onHasTask:(u,d,p,_)=>{u.hasTask(p,_),d===p&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Hc(a),j_(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,d,p,_)=>(u.handleError(p,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!da.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(da.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,l,Ju,H_,H_);try{return _.runTask(w,u,d)}finally{_.cancelTask(w)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const Ju={};function j_(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Hc(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function ot(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function wb(a){a._nesting--,j_(a)}class Uh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ua,this.onMicrotaskEmpty=new ua,this.onStable=new ua,this.onError=new ua}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,p){return l.apply(u,d)}}let OI=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{da.assertNotInAngularZone(),yb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(at(da))},a.\u0275prov=rn({token:a,factory:a.\u0275fac}),a})(),Bi=(()=>{class a{constructor(){this._applications=new Map,xl.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return xl.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class TA{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function pr(a){xl=a}let xl=new TA,pi=null;const Dl=new Dn("AllowMultipleToken"),ai=new Dn("PlatformOnDestroy");class z_{constructor(l,u){this.name=l,this.token=u}}function bb(a,l,u=[]){const d=`Platform: ${l}`,p=new Dn(d);return(_=[])=>{let w=Qs();if(!w||w.injector.get(Dl,!1)){const C=[...u,..._,{provide:p,useValue:!0}];a?a(C):function iN(a){if(pi&&!pi.get(Dl,!1))throw new Fe(400,"");pi=a;const l=a.get(SA),u=a.get(gA,null);u&&u.forEach(d=>d())}(function IA(a=[],l){return Ua.create({name:l,providers:[{provide:Hv,useValue:"platform"},{provide:ai,useValue:()=>pi=null},...a]})}(C,d))}return function rN(a){const l=Qs();if(!l)throw new Fe(401,"");return l}()}}function Qs(){var a;return null!==(a=null==pi?void 0:pi.get(SA))&&void 0!==a?a:null}let SA=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const C=function re(a,l){let u;return u="noop"===a?new Uh:("zone.js"===a?void 0:a)||new da({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:da,useValue:C}];return C.run(()=>{const A=Ua.create({providers:T,parent:this.injector,name:u.moduleType.name}),O=u.create(A),B=O.injector.get(Xd,null);if(!B)throw new Fe(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:X=>{B.handleError(X)}});O.onDestroy(()=>{Al(this._modules,O),j.unsubscribe()})}),function q_(a,l,u){try{const d=u();return aw(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(B,C,()=>{const j=O.injector.get(xI);return j.runInitializers(),j.donePromise.then(()=>(function Or(a){Ht(a,"Expected localeId to be defined"),"string"==typeof a&&(Vc=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(mb,Ji)||Ji),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,d=[]){const p=PI({},d);return function RI(a,l,u){const d=new Xw(u);return Promise.resolve(d)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const d=u.injector.get(Cb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Fe(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(ai,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(at(Ua))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function PI(a,l){return Array.isArray(l)?l.reduce(PI,a):Object.assign(Object.assign({},a),l)}let Cb=(()=>{class a{constructor(u,d,p,_){this._zone=u,this._injector=d,this._exceptionHandler=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new L.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{da.assertNotInAngularZone(),yb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,de.T)(w,C.pipe((0,se.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Fe(405,"");let p;p=u instanceof b_?u:this._injector.get(Rf).resolveComponentFactory(u),this.componentTypes.push(p.componentType);const _=function Wn(a){return a.isBoundToModule}(p)?void 0:this._injector.get(Nh),C=p.create(Ua.NULL,[],d||p.selector,_),T=C.location.nativeElement,A=C.injector.get(OI,null),O=A&&C.injector.get(Bi);return A&&O&&O.registerApplication(T,A),C.onDestroy(()=>{this.detachView(C.hostView),Al(this.components,C),O&&O.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Al(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(_A,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(at(da),at(Ua),at(Xd),at(xI))},a.\u0275prov=rn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Al(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let NI=!0,Eb=!1;function DA(){return Eb=!0,NI}function Tb(){if(Eb)throw new Error("Cannot enable prod mode after platform setup.");NI=!1}let AA=(()=>{class a{}return a.__NG_ELEMENT_ID__=MA,a})();function MA(a){return function kA(a,l,u){if(ud(a)&&!u){const d=yi(a.index,l);return new S_(d,d)}return 47&a.type?new S_(l[16],l):null}(En(),Me(),16==(16&a))}class VI{constructor(){}supports(l){return dh(l)}create(l){return new LA(l)}}const FA=(a,l)=>l;class LA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||FA}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,p=0,_=null;for(;u||d;){const w=!d||u&&u.currentIndex<UI(d,p,_)?u:d,C=UI(w,p,_),T=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{_||(_=[]);const A=C-p,O=T-p;if(A!=O){for(let j=0;j<A;j++){const X=j<_.length?_[j]:_[j]=0,be=X+j;O<=be&&be<A&&(_[j]=X+1)}_[w.previousIndex]=O-A}}C!==T&&l(w,C,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!dh(l))throw new Fe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,_,w,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)_=l[C],w=this._trackByFn(C,_),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,_,w,C)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,w,C),d=!0),u=u._next}else p=0,function yE(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Hu()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,C=>{w=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,C,w,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,w,p),d=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,p){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,p)):l=this._addAfter(new VA(u,d),_,p),l}_verifyReinsertion(l,u,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,_=l._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new BI),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BI),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class VA{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BA{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class BI{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new BA,this.map.set(u,d)),d.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UI(a,l,u){const d=a.previousIndex;if(null===d)return d;let p=0;return u&&d<u.length&&(p=u[d]),d+l+p}class HI{constructor(){}supports(l){return l instanceof Map||Wm(l)}create(){return new UA}}class UA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Wm(l)))throw new Fe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,d);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new HA(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class HA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jI(){return new Mb([new VI])}let Mb=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||jI()),deps:[[a,new Va,new Sr]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(null!=d)return d;throw new Fe(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:jI}),a})();function zI(){return new Nr([new HI])}let Nr=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||zI()),deps:[[a,new Va,new Sr]]}}find(u){const d=this.factories.find(_=>_.supports(u));if(d)return d;throw new Fe(901,"")}}return a.\u0275prov=rn({token:a,providedIn:"root",factory:zI}),a})();const GI=bb(null,"core",[]);let jA=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(at(Cb))},a.\u0275mod=Gi({type:a}),a.\u0275inj=Xt({}),a})()},3942:(et,we,F)=>{F.d(we,{Z:()=>Fe});var s=F(2090),ee=F(4859),L=F(9681),de=F(1877);class se{constructor(ge,Se){this._delegate=ge,this.firebase=Se,(0,L._addComponent)(ge,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ge,Se=L._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ge);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Ze=Qe.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Se})}_removeServiceInstance(ge,Se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Se)}_addComponent(ge){(0,L._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,L._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function he(){const Ue=function le(Ue){const ge={},Se={__esModule:!0,initializeApp:function De(ze,q={}){const Ce=L.initializeApp(ze,q);if((0,s.r3)(ge,Ce.name))return ge[Ce.name];const Y=new Ue(Ce,Se);return ge[Ce.name]=Y,Y},app:Qe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ie(ze){const q=ze.name,Ce=q.replace("-compat","");if(L._registerComponent(ze)&&"PUBLIC"===ze.type){const Y=(oe=Qe())=>{if("function"!=typeof oe[Ce])throw ue.create("invalid-app-argument",{appName:q});return oe[Ce]()};void 0!==ze.serviceProps&&(0,s.ZB)(Y,ze.serviceProps),Se[Ce]=Y,Ue.prototype[Ce]=function(...oe){return this._getService.bind(this,q).apply(this,ze.multipleInstances?oe:[])}}return"PUBLIC"===ze.type?Se[Ce]:null},removeApp:function Ze(ze){delete ge[ze]},useAsService:function je(ze,q){return"serverAuth"===q?null:q},modularAPIs:L}};function Qe(ze){if(!(0,s.r3)(ge,ze=ze||L._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:ze});return ge[ze]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ee(){return Object.keys(ge).map(ze=>ge[ze])}}),Qe.App=Ue,Se}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function ge(Se){(0,s.ZB)(Ue,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ue}(),z=new de.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=G;!function ke(Ue){(0,L.registerVersion)("@firebase/app-compat","0.1.26",Ue)}()},9681:(et,we,F)=>{F.r(we),F.d(we,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>cs,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>un,_addOrOverwriteComponent:()=>rn,_apps:()=>an,_clearComponents:()=>ls,_components:()=>kn,_getProvider:()=>Xt,_registerComponent:()=>zi,_removeServiceInstance:()=>jt,deleteApp:()=>vt,getApp:()=>sr,getApps:()=>qr,initializeApp:()=>so,onLog:()=>On,registerVersion:()=>Sn,setLogLevel:()=>oo});var s=F(5861),ee=F(4859),L=F(1877),de=F(2090),se=F(8766);class _e{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function ue($){const te=$.getComponent();return"VERSION"===(null==te?void 0:te.type)}(Re)){const tt=Re.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Re=>Re).join(" ")}}const le="@firebase/app",G=new L.Yd("@firebase/app"),Ht="[DEFAULT]",Ye={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,kn=new Map;function un($,te){try{$.container.addComponent(te)}catch(Re){G.debug(`Component ${te.name} failed to register with FirebaseApp ${$.name}`,Re)}}function rn($,te){$.container.addOrOverwriteComponent(te)}function zi($){const te=$.name;if(kn.has(te))return G.debug(`There were multiple attempts to register component ${te}.`),!1;kn.set(te,$);for(const Re of an.values())un(Re,$);return!0}function Xt($,te){const Re=$.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),$.container.getProvider(te)}function jt($,te,Re=Ht){Xt($,te).clearInstance(Re)}function ls(){kn.clear()}const Si=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class qi{constructor(te,Re,tt){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const cs="9.8.2";function so($,te={}){"object"!=typeof te&&(te={name:te});const Re=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},te),tt=Re.name;if("string"!=typeof tt||!tt)throw Si.create("bad-app-name",{appName:String(tt)});const _t=an.get(tt);if(_t){if((0,de.vZ)($,_t.options)&&(0,de.vZ)(Re,_t.config))return _t;throw Si.create("duplicate-app",{appName:tt})}const xt=new ee.H0(tt);for(const It of kn.values())xt.addComponent(It);const yn=new qi($,Re,xt);return an.set(tt,yn),yn}function sr($=Ht){const te=an.get($);if(!te)throw Si.create("no-app",{appName:$});return te}function qr(){return Array.from(an.values())}function vt($){return yr.apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*($){const te=$.name;an.has(te)&&(an.delete(te),yield Promise.all($.container.getProviders().map(Re=>Re.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Sn($,te,Re){var tt;let _t=null!==(tt=Ye[$])&&void 0!==tt?tt:$;Re&&(_t+=`-${Re}`);const xt=_t.match(/\s|\//),yn=te.match(/\s|\//);if(xt||yn){const It=[`Unable to register library "${_t}" with version "${te}":`];return xt&&It.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),xt&&yn&&It.push("and"),yn&&It.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void G.warn(It.join(" "))}zi(new ee.wA(`${_t}-version`,()=>({library:_t,version:te}),"VERSION"))}function On($,te){if(null!==$&&"function"!=typeof $)throw Si.create("invalid-log-argument");(0,L.Am)($,te)}function oo($){(0,L.Ub)($)}const Rn="firebase-heartbeat-store";let vr=null;function Mo(){return vr||(vr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:($,te)=>{0===te&&$.createObjectStore(Rn)}}).catch($=>{throw Si.create("storage-open",{originalErrorMessage:$.message})})),vr}function ct(){return(ct=(0,s.Z)(function*($){try{return(yield Mo()).transaction(Rn).objectStore(Rn).get(wr($))}catch(te){throw Si.create("storage-get",{originalErrorMessage:te.message})}})).apply(this,arguments)}function Et($,te){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*($,te){try{const tt=(yield Mo()).transaction(Rn,"readwrite");return yield tt.objectStore(Rn).put(te,wr($)),tt.done}catch(Re){throw Si.create("storage-set",{originalErrorMessage:Re.message})}})).apply(this,arguments)}function wr($){return`${$.name}!${$.options.appId}`}class Di{constructor(te){this.container=te,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Z(Re),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var te=this;return(0,s.Z)(function*(){const tt=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Ai();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==_t&&!te._heartbeatsCache.heartbeats.some(xt=>xt.date===_t))return te._heartbeatsCache.heartbeats.push({date:_t,agent:tt}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(xt=>{const yn=new Date(xt.date).valueOf();return Date.now()-yn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,s.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Re=Ai(),{heartbeatsToSend:tt,unsentEntries:_t}=function H($,te=1024){const Re=[];let tt=$.slice();for(const _t of $){const xt=Re.find(yn=>yn.agent===_t.agent);if(xt){if(xt.dates.push(_t.date),W(Re)>te){xt.dates.pop();break}}else if(Re.push({agent:_t.agent,dates:[_t.date]}),W(Re)>te){Re.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Re,unsentEntries:tt}}(te._heartbeatsCache.heartbeats),xt=(0,de.L)(JSON.stringify({version:2,heartbeats:tt}));return te._heartbeatsCache.lastSentHeartbeatDate=Re,_t.length>0?(te._heartbeatsCache.heartbeats=_t,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),xt})()}}function Ai(){return(new Date).toISOString().substring(0,10)}class Z{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,s.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Kt($){return ct.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Re=this;return(0,s.Z)(function*(){var tt;if(yield Re._canUseIndexedDBPromise){const xt=yield Re.read();return Et(Re.app,{lastSentHeartbeatDate:null!==(tt=te.lastSentHeartbeatDate)&&void 0!==tt?tt:xt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Re=this;return(0,s.Z)(function*(){var tt;if(yield Re._canUseIndexedDBPromise){const xt=yield Re.read();return Et(Re.app,{lastSentHeartbeatDate:null!==(tt=te.lastSentHeartbeatDate)&&void 0!==tt?tt:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...te.heartbeats]})}})()}}function W($){return(0,de.L)(JSON.stringify({version:2,heartbeats:$})).length}!function xe($){zi(new ee.wA("platform-logger",te=>new _e(te),"PRIVATE")),zi(new ee.wA("heartbeat",te=>new Di(te),"PRIVATE")),Sn(le,"0.7.25",$),Sn(le,"0.7.25","esm2017"),Sn("fire-js","")}("")},4859:(et,we,F)=>{F.d(we,{H0:()=>le,wA:()=>L,zt:()=>se});var s=F(5861),ee=F(2090);class L{constructor(G,z,ie){this.name=G,this.instanceFactory=z,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const de="[DEFAULT]";class se{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const ie=new ee.BH;if(this.instancesDeferred.set(z,ie),this.isInitialized(z)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:z});$e&&ie.resolve($e)}catch($e){}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const ie=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),$e=null!==(z=null==G?void 0:G.optional)&&void 0!==z&&z;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if($e)return null;throw ke}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ue(he){return"EAGER"===he.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:de})}catch(z){}for(const[z,ie]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:$e});ie.resolve(ke)}catch(ke){}}}}clearInstance(G=de){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,s.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...z.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=de){return this.instances.has(G)}getOptions(G=de){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,ie=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ie,options:z});for(const[ke,Fe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&Fe.resolve($e);return $e}onInit(G,z){var ie;const $e=this.normalizeInstanceIdentifier(z),ke=null!==(ie=this.onInitCallbacks.get($e))&&void 0!==ie?ie:new Set;ke.add(G),this.onInitCallbacks.set($e,ke);const Fe=this.instances.get($e);return Fe&&G(Fe,$e),()=>{ke.delete(G)}}invokeOnInitCallbacks(G,z){const ie=this.onInitCallbacks.get(z);if(ie)for(const $e of ie)try{$e(G,z)}catch(ke){}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let ie=this.instances.get(G);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(he=G,he===de?void 0:he),options:z}),this.instances.set(G,ie),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(ie,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ie)}catch($e){}var he;return ie||null}normalizeInstanceIdentifier(G=de){return this.component?this.component.multipleInstances?G:de:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new se(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(et,we,F)=>{F.d(we,{Am:()=>he,Ub:()=>le,Yd:()=>ue,in:()=>ee});const s=[];var ee=(()=>{return(G=ee||(ee={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ee;var G})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},de=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},_e=(G,z,...ie)=>{if(z<G.logLevel)return;const $e=(new Date).toISOString(),ke=se[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${$e}]  ${G.name}:`,...ie)};class ue{constructor(z){this.name=z,this._logLevel=de,this._logHandler=_e,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function le(G){s.forEach(z=>{z.setLogLevel(G)})}function he(G,z){for(const ie of s){let $e=null;z&&z.level&&($e=L[z.level]),ie.userLogHandler=null===G?null:(ke,Fe,...Ue)=>{const ge=Ue.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Ze){return null}}).filter(Se=>Se).join(" ");Fe>=(null!=$e?$e:ke.logLevel)&&G({level:ee[Fe].toLowerCase(),message:ge,args:Ue,type:ke.name})}}}},8766:(et,we,F)=>{F.d(we,{Lj:()=>De,X3:()=>Qe});var s=F(5861);let L,de;const ue=new WeakMap,le=new WeakMap,he=new WeakMap,G=new WeakMap,z=new WeakMap;let ke={get(q,Ce,Y){if(q instanceof IDBTransaction){if("done"===Ce)return le.get(q);if("objectStoreNames"===Ce)return q.objectStoreNames||he.get(q);if("store"===Ce)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Se(q[Ce])},set:(q,Ce,Y)=>(q[Ce]=Y,!0),has:(q,Ce)=>q instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in q};function ge(q){return"function"==typeof q?function Ue(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ce){return q.apply(Ze(this),Ce),Se(ue.get(this))}:function(...Ce){return Se(q.apply(Ze(this),Ce))}:function(Ce,...Y){const oe=q.call(Ze(this),Ce,...Y);return he.set(oe,Ce.sort?Ce.sort():[Ce]),Se(oe)}}(q):(q instanceof IDBTransaction&&function $e(q){if(le.has(q))return;const Ce=new Promise((Y,oe)=>{const ne=()=>{q.removeEventListener("complete",ve),q.removeEventListener("error",ce),q.removeEventListener("abort",ce)},ve=()=>{Y(),ne()},ce=()=>{oe(q.error||new DOMException("AbortError","AbortError")),ne()};q.addEventListener("complete",ve),q.addEventListener("error",ce),q.addEventListener("abort",ce)});le.set(q,Ce)}(q),((q,Ce)=>Ce.some(Y=>q instanceof Y))(q,function se(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,ke):q)}function Se(q){if(q instanceof IDBRequest)return function ie(q){const Ce=new Promise((Y,oe)=>{const ne=()=>{q.removeEventListener("success",ve),q.removeEventListener("error",ce)},ve=()=>{Y(Se(q.result)),ne()},ce=()=>{oe(q.error),ne()};q.addEventListener("success",ve),q.addEventListener("error",ce)});return Ce.then(Y=>{Y instanceof IDBCursor&&ue.set(Y,q)}).catch(()=>{}),z.set(Ce,q),Ce}(q);if(G.has(q))return G.get(q);const Ce=ge(q);return Ce!==q&&(G.set(q,Ce),z.set(Ce,q)),Ce}const Ze=q=>z.get(q);function Qe(q,Ce,{blocked:Y,upgrade:oe,blocking:ne,terminated:ve}={}){const ce=indexedDB.open(q,Ce),Le=Se(ce);return oe&&ce.addEventListener("upgradeneeded",ft=>{oe(Se(ce.result),ft.oldVersion,ft.newVersion,Se(ce.transaction))}),Y&&ce.addEventListener("blocked",()=>Y()),Le.then(ft=>{ve&&ft.addEventListener("close",()=>ve()),ne&&ft.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Le}function De(q,{blocked:Ce}={}){const Y=indexedDB.deleteDatabase(q);return Ce&&Y.addEventListener("blocked",()=>Ce()),Se(Y).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],je=new Map;function ze(q,Ce){if(!(q instanceof IDBDatabase)||Ce in q||"string"!=typeof Ce)return;if(je.get(Ce))return je.get(Ce);const Y=Ce.replace(/FromIndex$/,""),oe=Ce!==Y,ne=Ie.includes(Y);if(!(Y in(oe?IDBIndex:IDBObjectStore).prototype)||!ne&&!Ee.includes(Y))return;const ve=function(){var ce=(0,s.Z)(function*(Le,...ft){const Wt=this.transaction(Le,ne?"readwrite":"readonly");let Ht=Wt.store;return oe&&(Ht=Ht.index(ft.shift())),(yield Promise.all([Ht[Y](...ft),ne&&Wt.done]))[0]});return function(ft){return ce.apply(this,arguments)}}();return je.set(Ce,ve),ve}!function Fe(q){ke=q(ke)}(q=>DU(xU({},q),{get:(Ce,Y,oe)=>ze(Ce,Y)||q.get(Ce,Y,oe),has:(Ce,Y)=>!!ze(Ce,Y)||q.has(Ce,Y)}))},5861:(et,we,F)=>{function s(L,de,se,_e,ue,le,he){try{var G=L[le](he),z=G.value}catch(ie){return void se(ie)}G.done?de(z):Promise.resolve(z).then(_e,ue)}function ee(L){return function(){var de=this,se=arguments;return new Promise(function(_e,ue){var le=L.apply(de,se);function he(z){s(le,_e,ue,he,G,"next",z)}function G(z){s(le,_e,ue,he,G,"throw",z)}he(void 0)})}}F.d(we,{Z:()=>ee})}},et=>{et(et.s=9495)}]);